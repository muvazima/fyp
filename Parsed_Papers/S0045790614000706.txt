@&#MAIN-TITLE@&#Cloud model-based method for range-constrained thresholding

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           A cloud model-based framework for range-constrained thresholding with uncertainty.


                        
                        
                           
                           Improving four traditional methods under the new framework.


                        
                        
                           
                           Representing the image using cloud model.


                        
                        
                           
                           Implementing image transformation to focus on mid-region of the image.


                        
                        
                           
                           Cloud model-based framework is efficient and effective.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

@&#ABSTRACT@&#


               
               
                  Thresholding is a popular image segmentation method that converts a grayscale image into a binary image. In this paper, we propose a cloud model-based framework for range-constrained thresholding with uncertainty, and improve four traditional methods. The method involves four major steps, including representing the image using cloud model, estimating the automatic threshold for gray level ranges of object and background, implementing image transformation to focus on mid-region of the image, and determining the binary threshold within the constrained gray level range. Cloud model can effectively represent various visual properties of the image, such as intensity-based class uncertainty, intra-class homogeneity, and between-class contrast. The approach is validated both quantitatively and qualitatively. Compared with the traditional state-of-art algorithms on a variety of synthetic and real images, with or without noisy, as well as laser cladding images, the experimental results suggest that the presented method is efficient and effective.
               
            

@&#INTRODUCTION@&#

Thresholding is one of the simplest and most important methods for image segmentation, and has served a variety of applications, such as object recognition, image analysis and scene interpretation [1,2]. From a grayscale image, thresholding can be used to create a binary image, corresponding to the background and objects respectively. Over the years, a lot of image thresholding approaches have been proposed, and a number of performance evaluation metrics have been developed. Comprehensive overviews and comparative studies of image thresholding can be found in the literature [3], in which the Otsu method [4], the Kittler method [5] and the Kapur method [6] have been taken as the state-of-art algorithms, and misclassification error (ME) [7] is as the traditional evaluation metric.

The Otsu method [4] assumes that the image to be segmented contains two classes of pixels or bi-modal histogram (objects and background), then calculates the optimum threshold separating those classes so that their combined spread (intra-class variance) is minimized and the between-class variance is maximized. The Kittler method [5] views the histogram as an estimate of the probability density function of a Gaussian mixture population, that is, the pixels in the object and the background come from a normal distribution and the normal distributions may have different means as well as variances. Then the optimum threshold is selected so that the relative entropy-based mismatch between Gaussian mixture model and image histogram is minimized. Recently, Xue presented two median-based extensions on the conditions of skew or heavy-tailed class-conditional distributions [8], and then theoretically analyzed the close relationship between the Otsu method and the Kittler method, and stated that the Otsu method can be viewed as a special case of the Kittler method, in which equal sizes and equal variances are further assumed for the two classes [9]. The Kapur method [6] divides the histogram of the image into two probability distributions, one representing the objects and the other representing the background. Then the optimum threshold is selected so that the sum of the entropies of these probability distributions is maximized. In general, these three methods are widely used in many applications. Regarded as the historic standard, they are highly cited by scientific publications, and also typically compared by other new methods [10,11]. Furthermore, the Otsu method is implemented as the default approach to image thresholding in MATLAB, which is widely used in academic and research institutions as well as industrial enterprises, and the Kittler method is ranked as the best by a comprehensive survey [3].

Nonetheless, each method has its own advantages, disadvantages and applied situations. These four methods are based on histogram analysis, and depend too heavily on the precise histogram of the given image, but not consider the uncertainty contained in the histogram, and neglect properties of human visual perception. In fact, uncertainty is an inherent part of image thresholding in real world applications [11,12], and the automatic selection of optimum threshold with uncertainty is still a challenge. Therefore, we should further extend and discuss the traditional image thresholding approaches from the developmental point of view. We believe that, cloud model can handle such uncertainty in a better way, since it provides us with more design degrees of freedom, at least the second order uncertainty.

In recent years, range-constrained image thresholding has received some attentions. Hu et al. [13] first confined the intensity frequency range of the object in the histogram, and presented a supervised thresholding approach which only analyzes the histogram of a region of interest, where the proportion of the background varies in a range estimated through supervision. Based on the range-constrained approach, Hu et al. [14] produced the transition region with the help of supervision and calculating the threshold from the transition region, and then Li et al. [15] improved this transition region-based method by unsupervised estimation for gray level ranges of object and background. The key issue in the range-constrained methods lies in image transformation, and the image is divided into three portions via the upper and lower bounds for background and object. Li et al. [16] introduced image transformation [15] as a preprocessing step into local entropy-based transition region extraction and proposed a modified thresholding approach. These range-constrained methods have been proved to be useful in some cases. However, all of them have not considered the uncertainty contained in the histogram, and not completely investigated the effect of image transformation. For example, the Li method [15,16] determined the gray level ranges of object and background by 
                        
                           
                              
                                 T
                              
                              
                                 u
                              
                           
                        
                      and 
                        
                           
                              
                                 T
                              
                              
                                 l
                              
                           
                        
                     , which are related with the mean and the standard deviation of the image, and a parameter 
                        
                           β
                        
                      automatically selected by statistical iterations according to the standard deviations of its three portions. Standard deviation is a common statistical measure reflecting degree of deviations between mean and individuals. That is to say, the Li method confined the intensity frequency range by intra-class similarities of the background and foreground, which considers only the intra-class homogeneity [17], but not the histogram contrast or the between-class contrast [10], much less class uncertainty [12].

In this context, we propose a cloud model-based framework for range-constrained thresholding with uncertainty, and improve four traditional methods under the new framework. In this paper, our first major contribution is a cloud model-based framework for image thresholding. Our intentions are two-folds: (1) using cloud model to provide a thresholding framework that can handle the uncertainties in a more robust way, and (2) providing an unsupervised approach (parameter-free) under the framework to study accounting for various visual properties of the image, such as intensity-based class uncertainty, intra-class homogeneity, and between-class contrast, which are reflected by the numerical characters of cloud model. Cloud model is a cognitive model between a qualitative concept and its quantitative instantiations [18,19], and has been used in image thresholding with uncertainty [20,21]. The cloud model-based thresholding consists of four steps, including representing the image using cloud model, estimating the automatic threshold for gray level ranges of object and background, implementing image transformation to focus on mid-region of the image, and determining the binary threshold within the constrained gray level range. Under the framework, the performance of image transformation is compared with Li’s method [15,16] in the first group experiment.

As the second major contribution, we improve four traditional image thresholding approaches under the cloud model-based range-constrained framework, and the selected approaches are based on grayscale-level threshold optimization using histogram statistics, not pixel-level or others, including the Otsu method, the Kittler method, the Kapur method and the median-based extension for the Otsu method (hereafter referred to as the Xue method). The improved methods process the transformed images by applying the criteria of conventional approaches and search the optimal threshold in a more efficient and effective grayscale range. We have done quantitative and qualitative validation of the proposed approach against several images, with or without noise, as well as laser cladding images. Comparison has been made with respect to the Otsu method [4], the Kittler method [5], the Kapur method [6], and the Xue method [8]. The results demonstrate that our approach is efficient and effective. Theoretically, the efficiency comes from the reducing of the grayscale range for the optimizing search, and the effectiveness roots in the strong relevance between the optimal threshold and the grayscale range, inspired by human vision.

The rest of the paper is organized as following: Section 2 provides an introductory explanation of cloud model, and universal principles of human visual perception. Then, Section 3 proposes a cloud model-based framework for threshold selection, and formulates four range-constrained thresholding methods. Section 4 shows the experimental results and discussion. Finally, the conclusion is drawn in Section 5.

Cloud model, proposed by Li et al. [19,18], is the innovation and development of membership function in fuzzy theory, and uses probability and mathematical statistics to analyze the uncertainty [18]. In theory, there are several forms of cloud model, successfully used in various application [19,18,22,20,21]. However, the normal cloud model is commonly used in practice, and its theoretical foundation is the universality of normal distribution and bell membership function [19].

Let U be a universe set described by precise numbers, and C be a qualitative concept related to U. Given a number 
                           
                              x
                              ∈
                              U
                           
                        , which randomly realizes the concept 
                           
                              C
                              ,
                              x
                           
                         satisfies 
                           
                              x
                              ∼
                              N
                              (
                              Ex
                              ,
                              
                                 
                                    En
                                 
                                 
                                    ′
                                    2
                                 
                              
                              )
                           
                        , where 
                           
                              
                                 
                                    En
                                 
                                 
                                    ′
                                 
                              
                              ∼
                              N
                              (
                              En
                              ,
                              
                                 
                                    He
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        , and the certainty degree of x on C is as below:
                           
                              (1)
                              
                                 μ
                                 (
                                 x
                                 )
                                 =
                                 exp
                                 (
                                 -
                                 
                                    
                                       
                                          
                                             (
                                             x
                                             -
                                             Ex
                                             )
                                          
                                          
                                             2
                                          
                                       
                                    
                                    
                                       2
                                       
                                          
                                             En
                                          
                                          
                                             ′
                                             2
                                          
                                       
                                    
                                 
                                 )
                              
                           
                        then the distribution of x on U is defined as a normal cloud, and x is as a cloud drop.

The overall property of a concept 
                           
                              C
                              (
                              Ex
                              ,
                              En
                              ,
                              He
                              )
                           
                         can be represented by three numerical characters of normal cloud model, expected value Ex, entropy En and hyper-entropy He. Ex is the mathematical expectation of the cloud drop distributed in universal set. En is the uncertainty measurement of the qualitative concept, and it is determined by both randomness and fuzziness of the concept. He is the uncertain measurement of entropy, which is determined by randomness and fuzziness of entropy En 
                        [19]. It is worth noting that hyper-entropy He of a cloud model is a deviation measure from a normal distribution, hence, the distribution of cloud drops can be regarded as a generalized normal distribution.

The kernel of normal cloud model is the transform between qualitative concept and quantitative data, and it is realized by normal cloud generators. On one hand, forward normal cloud generator is the mapping from qualitative concept to quantitative values, and it produces the cloud drops to describe a concept when three numerical characters and the number of cloud drops are input. On the other hand, backward normal cloud generator provides the transformation from quantitative numerical values to quality concept, and a normal cloud model with three numerical characters is defined by computing mean, absolute central moment with the first order, and variance of sample data. Essentially, the normal cloud generators are two algorithms based on probability measure space [19], these processes are uncertain, and cannot be expressed by a precise function.

In the normal cloud model, each cloud drop contributes the concept differently. The Gaussian function satisfies three sigma rule, and as a consequence, normal cloud model has 
                           
                              3
                              En
                           
                         
                        rule. The majority of cloud drops lie within the interval 
                           
                              [
                              Ex
                              -
                              3
                              En
                              ,
                              Ex
                              +
                              3
                              En
                              ]
                           
                        , and specifically, cloud drops within the interval 
                           
                              [
                              Ex
                              -
                              0.67
                              En
                              ,
                              Ex
                              +
                              0.67
                              En
                              ]
                           
                        , called the backbone elements, only account for 22.33% of the universe set, but contribute 50% of the cloud model. Then, cloud drops within the interval 
                           
                              [
                              Ex
                              -
                              En
                              ,
                              Ex
                              +
                              En
                              ]
                           
                         make up 33.33% of the universe, and contribute 68.26% of the cloud. Similarly, other cases can be also calculated. More information about normal cloud model can be obtained from Ref. [19].

In this paper, we confine ourselves to the two-class problem of separating objects (foreground) from background. Without losing generality, we assume that the background 
                           
                              
                                 
                                    C
                                 
                                 
                                    b
                                 
                              
                           
                         appears darker than the object 
                           
                              
                                 
                                    C
                                 
                                 
                                    o
                                 
                              
                           
                        . Let 
                           
                              f
                              :
                              x
                              →
                              {
                              0
                              ,
                              1
                              ,
                              …
                              ,
                              L
                              -
                              1
                              }
                           
                         be a grayscale image with L levels, and 
                           
                              f
                              (
                              x
                              )
                           
                         denotes the intensity value of the pixel x. There are several universal principles in human vision, and the following points, reported by the literature [10–12,17], have been considered while designing the proposed algorithm:
                           
                              (1)
                              Generalized normality of histogram [17]: The histograms of images usually have high intensity values for pixels near a certain value (mostly the mean), or the corresponding images have more structures at intensity values near the mean than that farther from mean. A rough estimate of such a histogram is a Gaussian distribution. We believe that most of the histograms do not satisfy a normal distribution strictly, but they may obey a generalized normality. This characteristic suggests cloud model with a weaker constraint condition compared to the normal distribution is more appropriate.

Sensibility of human eye [17]: Human eye is more sensitive to features presenting at the mid-range intensities than both the extreme pixel intensity values. This characteristic means that it should be useful to concentrate about the middle region.

Between-class uncertainty [11,12]: Object boundaries in any acquired images exhibit uncertainty because of the blurring or the ubiquitous partial effect introduced by imaging devices. Then, there should have a high value of class uncertainty in the vicinity of the boundaries. This characteristic reveals that it is very difficult to remove ambiguities without any prior knowledge or uncertainty processing.

Intra-class homogeneity [10,12]: The intra-class homogeneity uses the within-class variance to measure the intensity homogeneity within the object and background, and it is a popular criteria for thresholding. But it might be questioned when the sizes of two classes are sharply different and one of the class distributions is complex. That is to say that the intra-class homogeneity has serious weakness in some cases, some other criteria should be taken into account.

Between-class contrast [10]: Between-class contrast is a key factor of histogram-based thresholding, and it can be set as the mean difference between the object and background. In other words, Between-class contrast captures the intensity difference between the object and background. This characteristic should be combined with intra-class homogeneity in order to overcome the limitation of the latter.

Firstly, the cloud model-based thresholding algorithm describes the image using cloud model. Given an image, the corresponding cloud model can be obtained by backward normal cloud generator when inputting the intensity values, and 
                           
                              
                                 
                                    C
                                 
                                 
                                    f
                                 
                              
                              (
                              
                                 
                                    Ex
                                 
                                 
                                    f
                                 
                              
                              ,
                              
                                 
                                    En
                                 
                                 
                                    f
                                 
                              
                              ,
                              
                                 
                                    He
                                 
                                 
                                    f
                                 
                              
                              )
                           
                         are as its numerical characters.


                        Fig. 1
                         gives an example. The original image, named block, is shown as in Fig. 1(a), and its ground-truth image in Fig. 1(c). Backward normal cloud generator produces the cloud model 
                           
                              
                                 
                                    C
                                 
                                 
                                    f
                                 
                              
                              (
                              53.1
                              ,
                              66.9
                              ,
                              15.94
                              )
                           
                        . In order to verify the validity of cloud model, we input these three numerical characters 
                           
                              Ex
                              =
                              53.1
                              ,
                              En
                              =
                              66.9
                              ,
                              He
                              =
                              15.94
                           
                        , and then generate a series of cloud drops with certainty degree. Fig. 1(b) demonstrates the joint distribution of cloud drops and its certainty degree. In the uncertainty way, cloud model has depicted the gray level distribution of the block image, and it is an approximate normal distribution (or a generalized normal distribution as above) rather than a normal distribution.

As shown in Fig. 1(b), the actual universe of grayscale value is 
                           
                              [
                              0
                              ,
                              255
                              ]
                           
                         (bordered with a blue rectangle), whereas there are many cloud drops outside this interval. The reason is that the background of this image mainly consists of darker pixels (grayscale near 0), and then the gravity of grayscale values lies closer to 0, which can be found from its histogram (see Fig. 1(d)). In fact, this does not affect, but benefit, the performance of the successive operations. According to the 
                           
                              3
                              En
                           
                         
                        rule of normal cloud model, the backbone elements are almost within 
                           
                              [
                              8.277
                              ,
                              97.923
                              ]
                           
                         and contribute 50% to the image. In other words, the pixels within 
                           
                              [
                              0
                              ,
                              8
                              ]
                           
                         or 
                           
                              [
                              98
                              ,
                              255
                              ]
                           
                         can be removed from consideration and directly simplified as background or object respectively. The details will be further analyzed with Fig. 2
                        (a). Therefore, the above expression has already simplified the original image to some extent, and it should be helpful for image thresholding. Thus, cloud model for an image considers the generalized normality of histogram, as well as the sensibility of human eye.

The above analysis shows that, although the distribution of cloud drops, compared with a normal distribution, may be comparatively more complicated, cloud model is still more applicable to represent the intensity values of images, and may be more coincident with the objective world, as well as human vision.

Secondly, the cloud model-based thresholding algorithm estimates the threshold for gray level ranges of object and background, i.e., the upper bound of the background 
                           
                              
                                 
                                    L
                                 
                                 
                                    l
                                 
                              
                           
                         and the lower bound of the object 
                           
                              
                                 
                                    L
                                 
                                 
                                    r
                                 
                              
                           
                        , and certainly 
                           
                              
                                 
                                    L
                                 
                                 
                                    l
                                 
                              
                              ⩽
                              
                                 
                                    L
                                 
                                 
                                    r
                                 
                              
                           
                        . According to the contribution ratio of each cloud drop, the two thresholds can be easily fixed. Supposed 
                           
                              
                                 
                                    L
                                 
                                 
                                    l
                                 
                              
                              =
                              
                                 
                                    Ex
                                 
                                 
                                    f
                                 
                              
                              -
                              0.67
                              
                                 
                                    En
                                 
                                 
                                    f
                                 
                              
                           
                         and 
                           
                              
                                 
                                    L
                                 
                                 
                                    r
                                 
                              
                              =
                              
                                 
                                    Ex
                                 
                                 
                                    f
                                 
                              
                              +
                              0.67
                              
                                 
                                    En
                                 
                                 
                                    f
                                 
                              
                           
                        , the pixels would be divided into three classes, the low grayscale region 
                           
                              
                                 
                                    R
                                 
                                 
                                    l
                                 
                              
                           
                         that certainly belongs to the background, the high grayscale region 
                           
                              
                                 
                                    R
                                 
                                 
                                    r
                                 
                              
                           
                         that certainly belongs to the object, and the middle grayscale region 
                           
                              
                                 
                                    R
                                 
                                 
                                    m
                                 
                              
                           
                         that likely belongs to either the background or the object. The mathematical expressions are as follows:
                           
                              (2)
                              
                                 
                                    
                                       R
                                    
                                    
                                       l
                                    
                                 
                                 =
                                 {
                                 x
                                 |
                                 f
                                 (
                                 x
                                 )
                                 <
                                 
                                    
                                       L
                                    
                                    
                                       l
                                    
                                 
                                 }
                                 ;
                                 
                                 
                                    
                                       R
                                    
                                    
                                       r
                                    
                                 
                                 =
                                 {
                                 x
                                 |
                                 f
                                 (
                                 x
                                 )
                                 >
                                 
                                    
                                       L
                                    
                                    
                                       r
                                    
                                 
                                 }
                                 ;
                                 
                                 
                                    
                                       R
                                    
                                    
                                       m
                                    
                                 
                                 =
                                 {
                                 x
                                 |
                                 
                                    
                                       L
                                    
                                    
                                       l
                                    
                                 
                                 ⩽
                                 f
                                 (
                                 x
                                 )
                                 ⩽
                                 
                                    
                                       L
                                    
                                    
                                       r
                                    
                                 
                                 }
                                 .
                              
                           
                        
                     

In these three regions, the between-class uncertainty mainly exists in the middle grayscale region 
                           
                              
                                 
                                    R
                                 
                                 
                                    m
                                 
                              
                           
                        , called as transition region. Based on the above analysis, the regions are shown in Fig. 2(a), where 
                           
                              
                                 
                                    R
                                 
                                 
                                    l
                                 
                              
                              ,
                              
                                 
                                    R
                                 
                                 
                                    r
                                 
                              
                           
                         and 
                           
                              
                                 
                                    R
                                 
                                 
                                    m
                                 
                              
                           
                         are respectively colored with the green, the blue and the red.

As can be seen from Fig. 2(a), most of the pixels are colored correctly and the related partition is approximately accord with the image. Thus, most of the object pixels are classed into the high grayscale region 
                           
                              
                                 
                                    R
                                 
                                 
                                    r
                                 
                              
                           
                        , and most of the background pixels are allocated to the low grayscale region 
                           
                              
                                 
                                    R
                                 
                                 
                                    l
                                 
                              
                           
                        . However, a lot of pixels that can be easier to determine are unadvisedly misclassified into the transition region 
                           
                              
                                 
                                    R
                                 
                                 
                                    m
                                 
                              
                           
                        , since the gray level range for transition region is too broad. Although the rough process may not cause the wrong segmented result, it will drastically increase the difficulty of the next steps and then significantly reduce the performance of the range-constrained approach. Hence, it is still necessary to study how to select the appropriate thresholds more effectively.

The remainder of this subsection, we analyze the characteristic of cloud model and present a novel method on automatic threshold for gray level range. Let 
                           
                              
                                 
                                    L
                                 
                                 
                                    l
                                 
                              
                              =
                              
                                 
                                    Ex
                                 
                                 
                                    f
                                 
                              
                              -
                              κ
                              
                                 
                                    En
                                 
                                 
                                    f
                                 
                              
                           
                         and 
                           
                              
                                 
                                    L
                                 
                                 
                                    r
                                 
                              
                              =
                              
                                 
                                    Ex
                                 
                                 
                                    f
                                 
                              
                              +
                              κ
                              
                                 
                                    En
                                 
                                 
                                    f
                                 
                              
                           
                        , three regions 
                           
                              
                                 
                                    R
                                 
                                 
                                    l
                                 
                              
                              ,
                              
                                 
                                    R
                                 
                                 
                                    r
                                 
                              
                           
                         and 
                           
                              
                                 
                                    R
                                 
                                 
                                    m
                                 
                              
                           
                         are determined, then, the respective cloud model for each region are generated by backward normal cloud generator, and finally a criterion 
                           
                              J
                              (
                              κ
                              )
                           
                         related with these cloud models is minimized to obtain the optimal 
                           
                              κ
                           
                        . The following algorithm describes the detail about the selection of automatic threshold.
                           Algorithm 1
                           Automatic threshold for gray level range. 
                                 
                                    
                                       
                                       
                                          
                                             
                                                Input: the original image 
                                                   
                                                      f
                                                      (
                                                      x
                                                      )
                                                   
                                                 and its cloud model 
                                                   
                                                      
                                                         
                                                            C
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                      (
                                                      
                                                         
                                                            Ex
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            En
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            He
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                      )
                                                   
                                                .
                                          
                                          
                                             
                                                Output: the upper bound of the background 
                                                   
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            l
                                                         
                                                      
                                                   
                                                 and the lower bound of the object 
                                                   
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                   
                                                .
                                          
                                          
                                             
                                                
                                                Initialization: 
                                                   
                                                      κ
                                                      =
                                                      0
                                                      ,
                                                      
                                                         
                                                            κ
                                                         
                                                         
                                                            m
                                                         
                                                      
                                                      =
                                                      0
                                                   
                                                 and 
                                                   
                                                      
                                                         
                                                            κ
                                                         
                                                         
                                                            t
                                                         
                                                      
                                                      =
                                                      +
                                                      ∞
                                                   
                                                ;
                                          
                                          
                                             
                                                
                                                While 
                                                
                                                   
                                                      κ
                                                      ≤
                                                      0.67
                                                   
                                                
                                             
                                          
                                          
                                             
                                                Obtaining three regions from the original image 
                                                   
                                                      f
                                                      (
                                                      x
                                                      )
                                                   
                                                 and then generating the corresponding cloud models 
                                                   
                                                      
                                                         
                                                            C
                                                         
                                                         
                                                            l
                                                         
                                                      
                                                      (
                                                      
                                                         
                                                            Ex
                                                         
                                                         
                                                            l
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            En
                                                         
                                                         
                                                            l
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            He
                                                         
                                                         
                                                            l
                                                         
                                                      
                                                      )
                                                      ,
                                                      
                                                         
                                                            C
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                      (
                                                      
                                                         
                                                            Ex
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            En
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            He
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                      )
                                                   
                                                 and 
                                                   
                                                      
                                                         
                                                            C
                                                         
                                                         
                                                            m
                                                         
                                                      
                                                      (
                                                      
                                                         
                                                            Ex
                                                         
                                                         
                                                            m
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            En
                                                         
                                                         
                                                            m
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            He
                                                         
                                                         
                                                            m
                                                         
                                                      
                                                      )
                                                   
                                                ;
                                          
                                          
                                             
                                                Calculating the criterion 
                                                   
                                                      J
                                                      (
                                                      κ
                                                      )
                                                   
                                                 according to Eq. (3);
                                          
                                          
                                             
                                                If 
                                                   
                                                      J
                                                      (
                                                      κ
                                                      )
                                                   
                                                 is less than 
                                                   
                                                      
                                                         
                                                            κ
                                                         
                                                         
                                                            t
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                
                                                Update: 
                                                   
                                                      
                                                         
                                                            κ
                                                         
                                                         
                                                            m
                                                         
                                                      
                                                      =
                                                      κ
                                                   
                                                 and 
                                                   
                                                      
                                                         
                                                            κ
                                                         
                                                         
                                                            t
                                                         
                                                      
                                                      =
                                                      J
                                                      (
                                                      κ
                                                      )
                                                   
                                                ;
                                          
                                          
                                             
                                                End If
                                          
                                          
                                             
                                                
                                                
                                                   
                                                      κ
                                                      =
                                                      κ
                                                      +
                                                      0.01
                                                   
                                                ;
                                          
                                          
                                             
                                                
                                                End While
                                             
                                          
                                          
                                             
                                                
                                                Return: 
                                                   
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            l
                                                         
                                                      
                                                      =
                                                      
                                                         
                                                            Ex
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                      -
                                                      
                                                         
                                                            κ
                                                         
                                                         
                                                            m
                                                         
                                                      
                                                      
                                                         
                                                            En
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                   
                                                 and 
                                                   
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                      =
                                                      
                                                         
                                                            Ex
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                      +
                                                      
                                                         
                                                            κ
                                                         
                                                         
                                                            m
                                                         
                                                      
                                                      
                                                         
                                                            En
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

In the Algorithm 1, the criterion 
                           
                              J
                              (
                              κ
                              )
                           
                         is defined as following,
                           
                              (3)
                              
                                 J
                                 (
                                 κ
                                 )
                                 =
                                 exp
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      En
                                                   
                                                   
                                                      l
                                                   
                                                
                                                -
                                                
                                                   
                                                      En
                                                   
                                                   
                                                      m
                                                   
                                                
                                             
                                             
                                                3
                                                
                                                   
                                                      En
                                                   
                                                   
                                                      l
                                                   
                                                
                                                +
                                                3
                                                
                                                   
                                                      En
                                                   
                                                   
                                                      m
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ·
                                 exp
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      En
                                                   
                                                   
                                                      m
                                                   
                                                
                                                -
                                                
                                                   
                                                      En
                                                   
                                                   
                                                      r
                                                   
                                                
                                             
                                             
                                                3
                                                
                                                   
                                                      En
                                                   
                                                   
                                                      m
                                                   
                                                
                                                +
                                                3
                                                
                                                   
                                                      En
                                                   
                                                   
                                                      r
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 +
                                 exp
                                 
                                    
                                       
                                          -
                                          
                                             
                                                
                                                   
                                                      En
                                                   
                                                   
                                                      m
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      He
                                                   
                                                   
                                                      m
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

The criterion 
                           
                              J
                              (
                              κ
                              )
                           
                         combines three properties of the image, including between-class uncertainty, intra-class homogeneity and between-class contrast. The details are:
                           
                              (1)
                              Entropy En of the cloud model represents the uncertainty measurement of a qualitative concept, and it reflects the dispersing extent of the cloud drops and the range of the universe accepted by the concept. Therefore, 
                                    
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             l
                                          
                                       
                                       ,
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             r
                                          
                                       
                                       ,
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                    
                                  are the uncertainty measurement of three regions. The values of 
                                    
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             l
                                          
                                       
                                       ,
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             r
                                          
                                       
                                       ,
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                    
                                  become smaller, when the degrees of the corresponding region homogeneity gain higher. And in another way, the smaller 
                                    
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             l
                                          
                                       
                                       ,
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             r
                                          
                                       
                                       ,
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                    
                                  tend to imply the higher homogeneity. Furthermore, 
                                    
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             l
                                          
                                       
                                       +
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                    
                                  and 
                                    
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             r
                                          
                                       
                                       +
                                       3
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                    
                                  indicate the intra-class homogeneity of the possible object and background.

The intensity contrast by [10] is not an explicit factor in 
                                    
                                       J
                                       (
                                       κ
                                       )
                                    
                                 , but it is still well considered. 
                                    
                                       
                                          
                                             En
                                          
                                          
                                             l
                                          
                                       
                                       -
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                    
                                  represents the degree of difference between intra-class similarities of the low grayscale and transition region, while 
                                    
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                       -
                                       
                                          
                                             En
                                          
                                          
                                             r
                                          
                                       
                                    
                                  depicts the degree of difference between intra-class similarities of the transition and high grayscale region. 
                                    
                                       
                                          
                                             En
                                          
                                          
                                             l
                                          
                                       
                                       -
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                    
                                  and 
                                    
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                       -
                                       
                                          
                                             En
                                          
                                          
                                             r
                                          
                                       
                                    
                                  jointly control the intensity contrast of the image.

With smaller magnitude of 
                                    
                                       
                                          
                                             He
                                          
                                          
                                             m
                                          
                                       
                                       /
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                    
                                 , the grayscale distribution of pixels in transition region is closer to a normal distribution. In this case, the degree of uncertainty in transition region, or as between the object and background, is least. And extremely, when 
                                    
                                       He
                                       =
                                       0
                                    
                                 , the distribution of cloud drops is degenerated into a normal distribution. As the measure of between-class uncertainty, 
                                    
                                       exp
                                       (
                                       -
                                       
                                          
                                             En
                                          
                                          
                                             m
                                          
                                       
                                       /
                                       
                                          
                                             He
                                          
                                          
                                             m
                                          
                                       
                                       )
                                    
                                  is introduced into the criterion as a penalty term.

Consequently, the criterion 
                           
                              J
                              (
                              κ
                              )
                           
                         of Eq. (3) actually tries to keep the balance of between-class uncertainty, intra-class homogeneity and between-class contrast simultaneously. To search the optimal threshold for the constrained grayscale range, the criterion 
                           
                              J
                              (
                              κ
                              )
                           
                         makes the best use of the properties of the image, and it should be benefit to the subsequent process of image transformation and thresholding. For the block image in Fig. 1(a), the 
                           
                              J
                              (
                              κ
                              )
                           
                         evolution curve with varied 
                           
                              κ
                           
                         is shown in Fig. 2(c). As labeled in Fig. 2(c), 
                           
                              J
                              (
                              κ
                              )
                           
                         obtains the optimal value 
                           
                              J
                              =
                              0.6591
                           
                         with 
                           
                              κ
                              =
                              0.27
                           
                        , where the 
                           
                              J
                              (
                              κ
                              )
                           
                         criterion achieves a relative balance of influences on between-class uncertainty, intra-class homogeneity and between-class contrast. Under this condition, three regions 
                           
                              
                                 
                                    R
                                 
                                 
                                    l
                                 
                              
                              ,
                              
                                 
                                    R
                                 
                                 
                                    m
                                 
                              
                              ,
                              
                                 
                                    R
                                 
                                 
                                    r
                                 
                              
                           
                         are also demonstrated in Fig. 2(b), where the color scheme is the same as Fig. 2(a). Moreover, the cloud models for these three regions are illustrated as Fig. 2(d). It is evident that the regions bordered by two ellipses exist uncertainty, that is, it is uncertain whether or not the pixels owned these grayscale values belong to 
                           
                              
                                 
                                    R
                                 
                                 
                                    l
                                 
                              
                              ,
                              
                                 
                                    R
                                 
                                 
                                    m
                                 
                              
                              ,
                              
                                 
                                    R
                                 
                                 
                                    r
                                 
                              
                           
                        .

Thirdly, the cloud model-based thresholding algorithm implements image transformation to confine the image into a narrower grayscale range. Once the bounds for the background and object are obtained, the remaining problem is to determine at which region the image pixels are, that is, 
                           
                              
                                 
                                    R
                                 
                                 
                                    l
                                 
                              
                              ,
                              
                                 
                                    R
                                 
                                 
                                    r
                                 
                              
                           
                         or 
                           
                              
                                 
                                    R
                                 
                                 
                                    m
                                 
                              
                           
                        . The traditional method yields the partition result by compared the grayscale value of each pixel with the bounds 
                           
                              
                                 
                                    L
                                 
                                 
                                    l
                                 
                              
                              ,
                              
                                 
                                    L
                                 
                                 
                                    r
                                 
                              
                           
                        . In the paper, we take three regions 
                           
                              
                                 
                                    R
                                 
                                 
                                    l
                                 
                              
                              ,
                              
                                 
                                    R
                                 
                                 
                                    r
                                 
                              
                              ,
                              
                                 
                                    R
                                 
                                 
                                    m
                                 
                              
                           
                         as cloud concepts, and introduces the maximum determination based on the cloud model.

The improved method for image transformation considers the membership degrees of each pixel to three cloud concepts in the set, and selects the concept corresponding to the maximum value. For this purpose, an additional step is added into Algorithm 1 to save three cloud models corresponding to the optimal 
                           
                              κ
                           
                        , denoted as 
                           
                              
                                 
                                    C
                                 
                                 
                                    l
                                 
                              
                              (
                              
                                 
                                    Ex
                                 
                                 
                                    l
                                 
                              
                              ,
                              
                                 
                                    En
                                 
                                 
                                    l
                                 
                              
                              ,
                              
                                 
                                    He
                                 
                                 
                                    l
                                 
                              
                              )
                              ,
                              
                                 
                                    C
                                 
                                 
                                    r
                                 
                              
                              (
                              
                                 
                                    Ex
                                 
                                 
                                    r
                                 
                              
                              ,
                              
                                 
                                    En
                                 
                                 
                                    r
                                 
                              
                              ,
                              
                                 
                                    He
                                 
                                 
                                    r
                                 
                              
                              )
                           
                         and 
                           
                              
                                 
                                    C
                                 
                                 
                                    m
                                 
                              
                              (
                              
                                 
                                    Ex
                                 
                                 
                                    m
                                 
                              
                              ,
                              
                                 
                                    En
                                 
                                 
                                    m
                                 
                              
                              ,
                              
                                 
                                    He
                                 
                                 
                                    m
                                 
                              
                              )
                           
                        . For the pixel x in a given image, the certainty degrees of x to each cloud models can be calculated by substituting the grayscale 
                           
                              f
                              (
                              x
                              )
                           
                         into Eq. (1), denoted as 
                           
                              
                                 
                                    μ
                                 
                                 
                                    l
                                 
                              
                              (
                              x
                              )
                              ,
                              
                                 
                                    μ
                                 
                                 
                                    r
                                 
                              
                              (
                              x
                              )
                              ,
                              
                                 
                                    μ
                                 
                                 
                                    m
                                 
                              
                              (
                              x
                              )
                           
                        . The pixel x is divided into 
                           
                              
                                 
                                    R
                                 
                                 
                                    l
                                 
                              
                           
                        , the only way is that its certainty degree 
                           
                              
                                 
                                    μ
                                 
                                 
                                    l
                                 
                              
                              (
                              x
                              )
                           
                         is the maximum, and so on. Supposed the transformed image 
                           
                              
                                 
                                    f
                                 
                                 
                                    RC
                                 
                              
                              :
                              x
                              →
                              {
                              
                                 
                                    L
                                 
                                 
                                    l
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    L
                                 
                                 
                                    r
                                 
                              
                              }
                           
                        , the process of image transformation is as follows:
                           
                              (4)
                              
                                 
                                    
                                       f
                                    
                                    
                                       RC
                                    
                                 
                                 (
                                 x
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         L
                                                      
                                                      
                                                         l
                                                      
                                                   
                                                
                                                
                                                   if
                                                   
                                                   
                                                      
                                                         μ
                                                      
                                                      
                                                         l
                                                      
                                                   
                                                   (
                                                   x
                                                   )
                                                   =
                                                   
                                                      max
                                                   
                                                   {
                                                   
                                                      
                                                         μ
                                                      
                                                      
                                                         l
                                                      
                                                   
                                                   (
                                                   x
                                                   )
                                                   ,
                                                   
                                                      
                                                         μ
                                                      
                                                      
                                                         m
                                                      
                                                   
                                                   (
                                                   x
                                                   )
                                                   ,
                                                   
                                                      
                                                         μ
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                   (
                                                   x
                                                   )
                                                   }
                                                   ;
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         L
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                                
                                                   if
                                                   
                                                   
                                                      
                                                         μ
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                   (
                                                   x
                                                   )
                                                   =
                                                   
                                                      max
                                                   
                                                   {
                                                   
                                                      
                                                         μ
                                                      
                                                      
                                                         l
                                                      
                                                   
                                                   (
                                                   x
                                                   )
                                                   ,
                                                   
                                                      
                                                         μ
                                                      
                                                      
                                                         m
                                                      
                                                   
                                                   (
                                                   x
                                                   )
                                                   ,
                                                   
                                                      
                                                         μ
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                   (
                                                   x
                                                   )
                                                   }
                                                   ;
                                                
                                             
                                             
                                                
                                                   f
                                                   (
                                                   x
                                                   )
                                                
                                                
                                                   otherwise
                                                   .
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

For the block image, the transformed result is shown in Fig. 3
                        (a). As shown in Fig. 3(c), the intensity coverage of the histogram is changed from 
                           
                              [
                              0
                              ,
                              L
                              -
                              1
                              ]
                           
                         to 
                           
                              [
                              
                                 
                                    L
                                 
                                 
                                    l
                                 
                              
                              ,
                              
                                 
                                    L
                                 
                                 
                                    r
                                 
                              
                              ]
                           
                        . Compared with the original image in Fig. 2(a), the transformed image is easier to segment because of the range-constrained grayscale. We should note that, in the range-constrained thresholding, image transformation substantially is a rough segmentation, and its result is the only source for the later operation. The transformed image becomes much simpler than the original one, but enough details for final thresholding is well preserved.

For a comparison, we also implement image transformation by the Li method [15,16] and list the transformed result in Fig. 3(b). It is very difficult to completely distinguish the image in Fig. 3(b) by the human eyes, although this transformed result does not directly determine the performance of thresholding the block image. The image transformation has critical efforts on the successive operations, and it is the most important step in the range-constrained thresholding. The Li method for image transformation confines the grayscale range too strictly. And for most of images, this process should lead to the difficulties in the following thresholding. Li’s statistical criterion 
                           
                              
                                 
                                    σ
                                 
                                 
                                    S
                                 
                              
                           
                         partially and simply considers the intra-class similarities of the background and foreground, and tends to obtain the smaller intensity variance for each region.

More specifically, the weight of standard deviation of the transitional class accounts for at least 60% in 
                           
                              
                                 
                                    σ
                                 
                                 
                                    S
                                 
                              
                           
                         according to the section on parameter selection in [15]. Then, minimizing the criterion 
                           
                              
                                 
                                    σ
                                 
                                 
                                    S
                                 
                              
                           
                         means that the transitional class should be more similar. While the criterion 
                           
                              
                                 
                                    σ
                                 
                                 
                                    S
                                 
                              
                           
                         must be the only reason for two disadvantages: on one hand, the grayscale range of the transition region is too narrow, and then the transformed result cannot keep enough details on the original image, which is crucial to image thresholding. As can be seen from Fig. 3(d)the range is almost inseparable from the human visual, even so the Li method is based on human visual perception. On the other hand, the grayscale range of the object and background is too wide, and the transformed result will lost abundant of useful details, then misclassify part of pixels during image transformation. However, we believe that Li’s criterion is radically changed from the original intention on range-constrained thresholding. As shown in Fig. 3, it is clearly demonstrated the superiority of our method. And we will further analyze the transformation process in Section 4.1.

Finally, the cloud model-based thresholding algorithm determines the binary threshold within the constrained gray level range. In the process, the range-constrained scheme focuses on mid-region of the image, and applies to the transformed image using criteria of conventional approaches. Based on traditional methods [4–6,8], we propose four range-constrained thresholding methods.

Based on cloud model, we present a range-constrained Otsu method, denoted as CloudOtsu. Given a threshold 
                              
                                 t
                                 ∈
                                 (
                                 
                                    
                                       L
                                    
                                    
                                       l
                                    
                                 
                                 ,
                                 
                                    
                                       L
                                    
                                    
                                       r
                                    
                                 
                                 )
                              
                           , the transformed image 
                              
                                 
                                    
                                       f
                                    
                                    
                                       RC
                                    
                                 
                              
                            would be divided into two classes 
                              
                                 
                                    
                                       C
                                    
                                    
                                       b
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       o
                                    
                                 
                              
                           , where 
                              
                                 
                                    
                                       C
                                    
                                    
                                       b
                                    
                                 
                                 =
                                 {
                                 x
                                 |
                                 
                                    
                                       L
                                    
                                    
                                       l
                                    
                                 
                                 ⩽
                                 
                                    
                                       f
                                    
                                    
                                       RC
                                    
                                 
                                 (
                                 x
                                 )
                                 ⩽
                                 t
                                 }
                              
                            consists of pixels with gray levels 
                              
                                 [
                                 
                                    
                                       L
                                    
                                    
                                       l
                                    
                                 
                                 ,
                                 t
                                 ]
                              
                           , and 
                              
                                 
                                    
                                       C
                                    
                                    
                                       o
                                    
                                 
                                 =
                                 {
                                 x
                                 |
                                 t
                                 <
                                 
                                    
                                       f
                                    
                                    
                                       RC
                                    
                                 
                                 (
                                 x
                                 )
                                 ⩽
                                 
                                    
                                       L
                                    
                                    
                                       r
                                    
                                 
                                 }
                              
                            with gray levels in 
                              
                                 (
                                 t
                                 ,
                                 
                                    
                                       L
                                    
                                    
                                       r
                                    
                                 
                                 ]
                              
                           .

Supposed the between-class variance 
                              
                                 
                                    
                                       σ
                                    
                                    
                                       2
                                    
                                 
                                 
                                    
                                       (
                                       t
                                       )
                                    
                                    
                                       B
                                    
                                 
                                 =
                                 
                                    
                                       ω
                                    
                                    
                                       0
                                    
                                 
                                 
                                    
                                       ω
                                    
                                    
                                       1
                                    
                                 
                                 
                                    
                                       (
                                       
                                          
                                             μ
                                          
                                          
                                             0
                                          
                                       
                                       -
                                       
                                          
                                             μ
                                          
                                          
                                             1
                                          
                                       
                                       )
                                    
                                    
                                       2
                                    
                                 
                              
                           , CloudOtsu obtains the optimal threshold T by maximizing the between-class variance,
                              
                                 (5)
                                 
                                    T
                                    =
                                    arg
                                    
                                       
                                          max
                                       
                                       
                                          t
                                          ∈
                                          (
                                          
                                             
                                                L
                                             
                                             
                                                l
                                             
                                          
                                          ,
                                          
                                             
                                                L
                                             
                                             
                                                r
                                             
                                          
                                          )
                                       
                                    
                                    {
                                    
                                       
                                          σ
                                       
                                       
                                          2
                                       
                                    
                                    
                                       
                                          (
                                          t
                                          )
                                       
                                       
                                          B
                                       
                                    
                                    }
                                 
                              
                           where 
                              
                                 
                                    
                                       ω
                                    
                                    
                                       0
                                    
                                 
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       [
                                       
                                          
                                             L
                                          
                                          
                                             l
                                          
                                       
                                       ,
                                       t
                                       ]
                                    
                                 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 
                                    
                                       ω
                                    
                                    
                                       1
                                    
                                 
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       (
                                       t
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             r
                                          
                                       
                                       ]
                                    
                                 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                              
                            are the cumulative probability of two classes 
                              
                                 
                                    
                                       C
                                    
                                    
                                       b
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       o
                                    
                                 
                                 ,
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                              
                            represents the frequency of gray level i in 
                              
                                 
                                    
                                       f
                                    
                                    
                                       RC
                                    
                                 
                              
                           , and 
                              
                                 
                                    
                                       μ
                                    
                                    
                                       0
                                    
                                 
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       [
                                       
                                          
                                             L
                                          
                                          
                                             l
                                          
                                       
                                       ,
                                       t
                                       ]
                                    
                                 
                                 
                                    
                                       ip
                                    
                                    
                                       i
                                    
                                 
                                 /
                                 
                                    
                                       ω
                                    
                                    
                                       0
                                    
                                 
                                 ,
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       (
                                       t
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             r
                                          
                                       
                                       ]
                                    
                                 
                                 
                                    
                                       ip
                                    
                                    
                                       i
                                    
                                 
                                 /
                                 
                                    
                                       ω
                                    
                                    
                                       1
                                    
                                 
                              
                            are the means of these classes.

We believe that any posteriori criterions may remain some uncertainties in practice, when the corresponding assumptions are apparently violated. For example, Otsu’s maximization of the between-class variance tends to divide an image into object and background of similar sizes [10]. In other words, for two Gaussian classes with equal variances but distinct sizes or with equal sizes but distinct variances, the Otsu method would perform not as perfectly as for two classes with more equal sizes and more equal variances. One can find that the block image is just so from its histogram.

The segmented results are listed in Fig. 4
                           . The evolution curves of relationship between the values of the Otsu criterion and the threshold t are shown in Fig. 4(a). The search space of the optimal threshold is fixed in 
                              
                                 [
                                 0
                                 ,
                                 L
                                 -
                                 1
                                 ]
                              
                            by the traditional Otsu method (see the red line in Fig. 4(a)), while that of the CloudOtsu method is confined within 
                              
                                 [
                                 
                                    
                                       L
                                    
                                    
                                       l
                                    
                                 
                                 ,
                                 
                                    
                                       L
                                    
                                    
                                       r
                                    
                                 
                                 ]
                              
                            because of the rang-constrained approach, instead of the whole grayscale range (see the blue line in Fig. 4(a)). The CloudOtsu method determines the optimal threshold with more special purpose, and it is more accord with human vision. So naturally, the CloudOtsu method improves the search performance and provides the facility for image thresholding. As shown in Fig. 4(b) and (c), the thresholding performance has some essential improvement.

Based on cloud model, we present a range-constrained Kittler method, denoted as CloudMET. Given a threshold 
                              
                                 t
                                 ∈
                                 (
                                 
                                    
                                       L
                                    
                                    
                                       l
                                    
                                 
                                 ,
                                 
                                    
                                       L
                                    
                                    
                                       r
                                    
                                 
                                 )
                              
                           , the transformed image 
                              
                                 
                                    
                                       f
                                    
                                    
                                       RC
                                    
                                 
                              
                            is also divided into two classes 
                              
                                 
                                    
                                       C
                                    
                                    
                                       b
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       o
                                    
                                 
                              
                           . Supposed the minimum error 
                              
                                 K
                                 (
                                 t
                                 )
                                 =
                                 1
                                 +
                                 2
                                 (
                                 
                                    
                                       ω
                                    
                                    
                                       0
                                    
                                 
                                 ln
                                 
                                    
                                       σ
                                    
                                    
                                       0
                                    
                                 
                                 +
                                 
                                    
                                       ω
                                    
                                    
                                       1
                                    
                                 
                                 ln
                                 
                                    
                                       σ
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 -
                                 2
                                 (
                                 
                                    
                                       ω
                                    
                                    
                                       0
                                    
                                 
                                 ln
                                 
                                    
                                       ω
                                    
                                    
                                       0
                                    
                                 
                                 +
                                 
                                    
                                       ω
                                    
                                    
                                       1
                                    
                                 
                                 ln
                                 
                                    
                                       ω
                                    
                                    
                                       1
                                    
                                 
                                 )
                              
                           , CloudMET obtains the optimal threshold T by minimizing the minimum error,
                              
                                 (6)
                                 
                                    T
                                    =
                                    
                                       
                                          
                                             arg
                                             min
                                          
                                          
                                             t
                                             ∈
                                             (
                                             
                                                
                                                   L
                                                
                                                
                                                   l
                                                
                                             
                                             ,
                                             
                                                
                                                   L
                                                
                                                
                                                   r
                                                
                                             
                                             )
                                          
                                       
                                    
                                    {
                                    K
                                    (
                                    t
                                    )
                                    }
                                 
                              
                           where 
                              
                                 
                                    
                                       σ
                                    
                                    
                                       0
                                    
                                    
                                       2
                                    
                                 
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       [
                                       
                                          
                                             L
                                          
                                          
                                             l
                                          
                                       
                                       ,
                                       t
                                       ]
                                    
                                 
                                 (
                                 i
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       0
                                    
                                 
                                 )
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       σ
                                    
                                    
                                       1
                                    
                                    
                                       2
                                    
                                 
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       (
                                       t
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             r
                                          
                                       
                                       ]
                                    
                                 
                                 (
                                 i
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                              
                            denote the class variance, and other parameters are the same as Eq. (6).

The segmented results are listed in Fig. 5
                           , the evolution curves of relationship between the values of the Kittler criterion and the threshold t reflect the same trend, and there has no substantial change between the Kittler and CloudMET method. Nonetheless, the outlier or the irregularities outside the grayscale range are moved by the CloudMET method. Compared Fig. 5(b) with Fig. 5(c), the thresholding performance is still improved by the CloudMET method, which appropriately specifies the bounds of the object and background and takes the uncertainty into account using cloud model. More details are quantitatively analyzed with some evaluation metrics.

Based on cloud model, we present a range-constrained Kapur method, denoted as CloudKapur. With a threshold 
                              
                                 t
                                 ∈
                                 (
                                 
                                    
                                       L
                                    
                                    
                                       l
                                    
                                 
                                 ,
                                 
                                    
                                       L
                                    
                                    
                                       r
                                    
                                 
                                 )
                              
                           , the transformed image 
                              
                                 
                                    
                                       f
                                    
                                    
                                       RC
                                    
                                 
                              
                            is labeled as the classes of object and background 
                              
                                 
                                    
                                       C
                                    
                                    
                                       o
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       b
                                    
                                 
                              
                           . Let the entropy of object and background pixels be defined as follow,
                              
                                 (7)
                                 
                                    
                                       
                                          H
                                       
                                       
                                          0
                                       
                                    
                                    (
                                    t
                                    )
                                    =
                                    -
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             i
                                             ∈
                                             [
                                             
                                                
                                                   L
                                                
                                                
                                                   l
                                                
                                             
                                             ,
                                             t
                                             ]
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                p
                                             
                                             
                                                i
                                             
                                          
                                       
                                       
                                          
                                             
                                                ω
                                             
                                             
                                                0
                                             
                                          
                                       
                                    
                                    ln
                                    
                                       
                                          
                                             
                                                p
                                             
                                             
                                                i
                                             
                                          
                                       
                                       
                                          
                                             
                                                ω
                                             
                                             
                                                0
                                             
                                          
                                       
                                    
                                    ,
                                    
                                    
                                       
                                          H
                                       
                                       
                                          1
                                       
                                    
                                    (
                                    t
                                    )
                                    =
                                    -
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             i
                                             ∈
                                             [
                                             t
                                             +
                                             1
                                             ,
                                             
                                                
                                                   L
                                                
                                                
                                                   r
                                                
                                             
                                             ]
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                p
                                             
                                             
                                                i
                                             
                                          
                                       
                                       
                                          
                                             
                                                ω
                                             
                                             
                                                1
                                             
                                          
                                       
                                    
                                    ln
                                    
                                       
                                          
                                             
                                                p
                                             
                                             
                                                i
                                             
                                          
                                       
                                       
                                          
                                             
                                                ω
                                             
                                             
                                                1
                                             
                                          
                                       
                                    
                                 
                              
                           then CloudMET obtains the optimal threshold T by maximizing entropy of object and background pixels,
                              
                                 (8)
                                 
                                    T
                                    =
                                    
                                       
                                          
                                             arg
                                             min
                                          
                                          
                                             t
                                             ∈
                                             (
                                             
                                                
                                                   L
                                                
                                                
                                                   l
                                                
                                             
                                             ,
                                             
                                                
                                                   L
                                                
                                                
                                                   r
                                                
                                             
                                             )
                                          
                                       
                                    
                                    {
                                    
                                       
                                          H
                                       
                                       
                                          0
                                       
                                    
                                    (
                                    t
                                    )
                                    +
                                    
                                       
                                          H
                                       
                                       
                                          1
                                       
                                    
                                    (
                                    t
                                    )
                                    }
                                 
                              
                           where 
                              
                                 
                                    
                                       σ
                                    
                                    
                                       0
                                    
                                    
                                       2
                                    
                                 
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       [
                                       
                                          
                                             L
                                          
                                          
                                             l
                                          
                                       
                                       ,
                                       t
                                       ]
                                    
                                 
                                 (
                                 i
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       0
                                    
                                 
                                 )
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       σ
                                    
                                    
                                       1
                                    
                                    
                                       2
                                    
                                 
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       (
                                       t
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             r
                                          
                                       
                                       ]
                                    
                                 
                                 (
                                 i
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                              
                            denote the class variance, and other parameters are the same as Eq. (8). where 
                              
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 
                                    
                                       ω
                                    
                                    
                                       0
                                    
                                 
                                 ,
                                 
                                    
                                       ω
                                    
                                    
                                       1
                                    
                                 
                              
                            are defined as Eq. (5).

The segmented results are listed in Fig. 6
                           . The CloudKapur method not only reduces the search space of the optimal threshold, but also dramatically enhances the search performance, as shown in Fig. 6(a). And then, such improvement of the CloudKapur method also benefits the final thresholding, which can be seen by comparing the results in Fig. 6(b) and (c).

In this subsection, we present a range-constrained Xue method, denoted as CloudXue. Given a threshold 
                              
                                 t
                                 ∈
                                 (
                                 
                                    
                                       L
                                    
                                    
                                       l
                                    
                                 
                                 ,
                                 
                                    
                                       L
                                    
                                    
                                       r
                                    
                                 
                                 )
                              
                           , the transformed image 
                              
                                 
                                    
                                       f
                                    
                                    
                                       RC
                                    
                                 
                              
                            is also divided into two classes 
                              
                                 
                                    
                                       C
                                    
                                    
                                       b
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       o
                                    
                                 
                              
                           . Supposed the median-based rule 
                              
                                 M
                                 (
                                 t
                                 )
                                 =
                                 
                                    
                                       w
                                    
                                    
                                       0
                                    
                                 
                                 
                                    
                                       MAD
                                    
                                    
                                       0
                                    
                                 
                                 (
                                 t
                                 )
                                 +
                                 
                                    
                                       w
                                    
                                    
                                       1
                                    
                                 
                                 
                                    
                                       MAD
                                    
                                    
                                       1
                                    
                                 
                                 (
                                 t
                                 )
                              
                           , CloudXue obtains the optimal threshold T by minimizing the rule,
                              
                                 (9)
                                 
                                    T
                                    =
                                    
                                       
                                          
                                             arg
                                             min
                                          
                                          
                                             t
                                             ∈
                                             (
                                             
                                                
                                                   L
                                                
                                                
                                                   l
                                                
                                             
                                             ,
                                             
                                                
                                                   L
                                                
                                                
                                                   r
                                                
                                             
                                             )
                                          
                                       
                                    
                                    {
                                    M
                                    (
                                    t
                                    )
                                    }
                                 
                              
                           where 
                              
                                 
                                    
                                       MAD
                                    
                                    
                                       0
                                    
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       (
                                       
                                          
                                             L
                                          
                                          
                                             l
                                          
                                       
                                       ,
                                       t
                                       ]
                                    
                                 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                                 |
                                 i
                                 -
                                 
                                    
                                       m
                                    
                                    
                                       0
                                    
                                 
                                 (
                                 t
                                 )
                                 |
                                 /
                                 
                                    
                                       ω
                                    
                                    
                                       0
                                    
                                 
                                 ,
                                 
                                    
                                       MAD
                                    
                                    
                                       1
                                    
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       [
                                       t
                                       +
                                       1
                                       ,
                                       
                                          
                                             L
                                          
                                          
                                             r
                                          
                                       
                                       )
                                    
                                 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                                 |
                                 i
                                 -
                                 
                                    
                                       m
                                    
                                    
                                       1
                                    
                                 
                                 (
                                 t
                                 )
                                 |
                                 /
                                 
                                    
                                       ω
                                    
                                    
                                       1
                                    
                                 
                              
                            denote the mean absolute deviations from the median for the classes 
                              
                                 
                                    
                                       C
                                    
                                    
                                       b
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       o
                                    
                                 
                              
                           , and 
                              
                                 
                                    
                                       m
                                    
                                    
                                       0
                                    
                                 
                                 (
                                 t
                                 )
                                 ,
                                 
                                    
                                       m
                                    
                                    
                                       1
                                    
                                 
                                 (
                                 t
                                 )
                              
                            are the sample medians.

Although Xue’s extension for the Otsu method was aimed to improve the robustness to the presence of skew or heavy-tailed class-conditional distributions, it would severely degrade the performance of the Otsu method without the presence. The block image reveals the different performance under this condition before and after the improvement.

The segmented results are listed in Fig. 7
                           . Xue’s method is specifically provided for the presence of skew or heavy-tailed distributions, and its resulting image is completely dark because of unsuitable conditions, as shown in Fig. 7(b). Fig. 7(a) demonstrates the optimization process of minimization Xue’s criterion. Through comparison, Xue’s method cannot find the best solution distracted by the outlier or the irregularity outside the grayscale range, while the CloudXue method keeps the possible threshold within the range limit, and then are more likely to obtain a perfect result. The binary image in Fig. 7(c) appears to confirm this.

To sum up, the proposed framework for image thresholding is as following:
                           Algorithm 2
                           The cloud model-based framework for range-constrained image thresholding. 
                                 
                                    
                                       
                                       
                                          
                                             
                                                Input: the original image 
                                                   
                                                      f
                                                      (
                                                      x
                                                      )
                                                   
                                                .
                                          
                                          
                                             
                                                Output: the optimal threshold T and the segmented result 
                                                   
                                                      
                                                         
                                                            f
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                      (
                                                      x
                                                      )
                                                   
                                                .
                                          
                                          
                                             
                                                Step 1: Given an original image 
                                                   
                                                      f
                                                      (
                                                      x
                                                      )
                                                   
                                                , calculate the corresponding cloud model 
                                                   
                                                      
                                                         
                                                            C
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                      (
                                                      
                                                         
                                                            Ex
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                      ;
                                                      
                                                         
                                                            En
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                      ;
                                                      
                                                         
                                                            He
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                      )
                                                   
                                                 by backward normal cloud generator;
                                          
                                          
                                             
                                                Step 2: Using Algorithm 1, obtain the automatic threshold 
                                                   
                                                      
                                                         
                                                            κ
                                                         
                                                         
                                                            m
                                                         
                                                      
                                                   
                                                 for gray level range, and the upper bound of the background 
                                                   
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            l
                                                         
                                                      
                                                   
                                                 and the lower bound of the object 
                                                   
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                   
                                                .
                                          
                                          
                                             
                                                Step 3: According to Eq. (2), transform the image from 
                                                   
                                                      f
                                                      (
                                                      x
                                                      )
                                                   
                                                 to 
                                                   
                                                      
                                                         
                                                            f
                                                         
                                                         
                                                            RC
                                                         
                                                      
                                                      (
                                                      x
                                                      )
                                                   
                                                 by confining the image into a more narrow grayscale range 
                                                   
                                                      [
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            l
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                      ]
                                                   
                                                .
                                          
                                          
                                             
                                                Step 4: For the transformed image 
                                                   
                                                      
                                                         
                                                            f
                                                         
                                                         
                                                            RC
                                                         
                                                      
                                                      (
                                                      x
                                                      )
                                                   
                                                , search the optimal threshold 
                                                   
                                                      T
                                                      ∈
                                                      (
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            l
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                      )
                                                   
                                                 by applying the criteria of conventional approaches, Eqs. 5,6,8, and 9, respectively.
                                          
                                          
                                             
                                                Step 5: Segment the image with the above threshold T and output the result 
                                                   
                                                      
                                                         
                                                            f
                                                         
                                                         
                                                            r
                                                         
                                                      
                                                      (
                                                      x
                                                      )
                                                   
                                                .
                                          
                                       
                                    
                                 
                              
                           

@&#RESULTS AND DISCUSSION@&#

To demonstrate the efficiency of the proposed method, both synthetic and real images, with or without contamination with noise, as well as laser cladding images, are used in the experiments, whose gray level L are all 256. And we conduct three groups of experiments. In the first group, the performance of image transformation is investigated, compared with the Li method [15,16], which have also been implemented under MATLAB 2007b environment. While in the last two groups, the performance of image thresholding and its application is verified, and three state-of-art algorithms, including the Otsu method [4], the Kittler method [5], and the Kapur method [6], as well as the Xue method [8], are involved into comparison.

To ensure the highest possible accuracy, the ground truth was created entirely by hand using the GNU image manipulation program (GIMP), and no semi-automatic technique was used. But it should be noted that creating a 100% pixel accurate ground truth is, in general, impossible, due to the ambiguity in the true positions of the border pixels.

To evaluate the performance of image transformation, the images with 
                           
                              256
                              ×
                              256
                           
                         pixels, named synthetic and gearwheel, is chosen for this group experiment. As shown in Fig. 8
                        , the original images and the ground-truth images are listed in the first two columns, and the transformed images by our method and the Li method are also in the rest columns respectively. For a fair comparison, both are auto-parameters, but not from a guess, where 
                           
                              α
                              =
                              0.4
                           
                         is fixed in the Li method because of the turning point.

The synthetic image only contains three gray levels 
                           
                              {
                              34
                              ,
                              105
                              ,
                              98
                              }
                           
                        , the cloud model-based method shows its good performance of the image transformation, as can be seen from Fig. 8(c). The gray level range is appropriate, and thresholding based on this result should be very easy. While the Li method imperfectly considers human visual perceptual and cannot minimize the between-class uncertainty, then it has misclassified a group of object pixels (with gray level 105) into transition region, which should lead the poor result by thresholding. The gearwheel image contains more gray levels than the synthetic image. As shown in Fig. 8(g), the result by our method includes necessary details and keeps enough contrast for thresholding. For the Li method, the lopsided stress on the intra-class similarity to the neglect of the between-class contrast and uncertainty results in a smaller gray level range for image transformation and a shortage of image information for thresholding. In certain conditions, the Li method should made difficulties for thresholding.

By visual comparison, the above examples highlight the advantage of our method. Therefore, image transformation by our method is more conducive to the latter operation than that of Li’s method. Quantitative comparisons of the transformed results yielded by these two methods are listed in Table 1
                        . For the Li method, the width of the grayscale range generally is 1. In other words, the final thresholds searched by the criterion have to be 
                           
                              
                                 
                                    T
                                 
                                 
                                    u
                                 
                              
                           
                         or 
                           
                              
                                 
                                    T
                                 
                                 
                                    l
                                 
                              
                           
                        . Then, the segmented results have been directly determined by image transformation, and the improved criterion never actually work. While our method produces a more flexible range and remains uncertainties, where the improved criterion should play a powerful role in thresholding.

To view the details over a wider range, the transformed results for other four images in Section 4.2 are listed in Fig. 9
                        . One can find that Li’s results are indiscernible only by human eyes, while our results are more acceptable. And then these examples further indicate that the above analysis should be true.

To evaluate the performance of the proposed range-constrained thresholding methods, we have investigated six images. The results yielded by our methods are compared with those obtained by their counterparts, the Otsu method [4], the Kittler method [5], the Kapur method [6], and the Xue method [8]. We quantify the performance of the methods by means of Misclassification Error (ME) [7] and Mean Structural SIMilarity (MSSIM) [23]. ME reflects the percentage of background pixels wrongly assigned to foreground, and conversely, foreground pixels incorrectly assigned to background. MSSIM also varies from 0 to 1, and the maximum MSSIM value 1 is achieved if and only if the test image and its ground-truth are identical. A MATLAB implementation of this index is available online [23].

Thresholding results of the synthetic and gearwheel image are shown in Fig. 10
                           . Generally, the improved methods have a potential performance increase. For the synthetic image, the Kapur method in Fig. 10(c) almost completely misclassifies the object pixels, and the Kittler method in Fig. 10(b) also misclassifies half of the background pixels. For the gearwheel image, result by the Xue method in Fig. 10(d) is again completely dark, result by the Kittler method basically illustrates the object, but the edge is discontinuity and too rough, and result by the Kapur method is more unacceptable. While for these two images, the results by our methods are acceptable, and the Otsu method also obtains a moderate result. The difference in Fig. 10(a) cannot be seen only with the naked eyes. The quantitative analysis is presented in Table 2
                           .

Another two real images in Fig. 11
                           (a), named moon and tree, are used to further test the performance under non-uniform conditions, and the ground-truth images are also in Fig. 11(a). The results by four pairs of methods are displayed in Fig. 11(b). From these figures, one can observe that our results are closest to the ground truth images. For these two images, the Kapur and Xue method cannot obtain the satisfying segmentation result because of the influence of the non-uniform grayscale, while their counterparts greatly improve the performance. The proposed methods provide the reasonable results, as well as the Otsu and Kittler methods, but only the proposed method obtains better performance, which can be justified by comparing the segmentation results perceptually. The Otsu method for the moon image and the Kittler method for the tree image misclassify partial pixels, and fail to extract the whole object compared with results by our method.

For a quantitative comparison, Table 2 lists the segmentation results yielded by various methods, including thresholds, ME values, the number of misclassified pixels and MSSIM values. Table 2 shows that the proposed method outperforms other methods. Majority of our results correspond to lower ME values and higher MSSIM values, and obtain less misclassified pixels. In other words, the proposed method yields better segmentation, and the cloud model is significant for range-constrained method.

Two complex images have been chosen as testing samples, named 296007 and airplane. We cannot obtain the ground-truth images because of object complexity. Thus, the ME and MSSIM values are unavailable. Quality of the results is just compared by visual perception. Fig. 12
                           (b) and (c) indicate that our method achieves better visual effect, especially for 296007 as it depicts the details of objects more distinctly. The thresholds are listed in Table 2, and we may evaluate the results by observation comparing the histogram. Therefore, our methods produce the better results than the traditional ones.

To investigate the performance for the complex images, a small dataset is involved in this group experiment. The test data consisted of 25 Non-Destructive Testing (NDT) images with ground-truth images [3]. The overall evaluation result of NDT images is given in Fig. 12(a). According to ME and MSSIM, our technique offers performance improvement. Through comparing the performance increment of each group, CloudXue ranks first, followed by CloudOtsu, CloudMET, and CloudKapur.

The rest of this subsection explains the anti-noise ability of the cloud model-based scheme. According to Table 2, four pairs of methods gain the closest performance for the clean gearwheel image. Hence, the gearwheel image is used in this subsection. The original image is added Gaussian noise with zeros mean, and Salt and pepper noise respectively. Each noise tests 20 images, that is, Gaussian noise is with variances in 
                              
                                 {
                                 0.01
                                 ,
                                 0.02
                                 ,
                                 …
                                 ,
                                 0.20
                                 }
                              
                           , and Salt and pepper noise is with intensities in 
                              
                                 {
                                 0.01
                                 ,
                                 0.02
                                 ,
                                 …
                                 ,
                                 0.20
                                 }
                              
                           . Since the noise contamination is a random process, we repeat the process of each variance or intensity 10 times, and average the results. The results are respectively denoted by ‘with Gaussian noise’ and ‘with S&P noise’.

We use 
                              
                                 
                                    
                                       p
                                    
                                    
                                       k
                                    
                                 
                              
                            to represent the ME or MSSIM value obtained by the proposed method for the kth noise image, and 
                              
                                 
                                    
                                       t
                                    
                                    
                                       k
                                    
                                 
                              
                            yielded by the traditional method. Lower value of ME means the segmented image is more similar to the ground-truth image. Then 
                              
                                 ME
                                 (
                                 k
                                 )
                                 =
                                 
                                    
                                       t
                                    
                                    
                                       k
                                    
                                 
                                 -
                                 
                                    
                                       p
                                    
                                    
                                       k
                                    
                                 
                              
                            is considered the ME difference. If 
                              
                                 ME
                                 (
                                 k
                                 )
                                 >
                                 0
                              
                           , the traditional method produces a greater ME value than the proposed method for the kth image. Therefore, the proposed method performs better than the traditional method, and the improvement is available. For purposes of visual clarity, we use the notation ‘vsMethod’ for ME values to indicate that the traditional method is compared to the cloud model-based method and curve 
                              
                                 ME
                                 (
                                 k
                                 )
                                 ,
                                 k
                                 ∈
                                 {
                                 1
                                 ,
                                 2
                                 ,
                                 …
                                 ,
                                 20
                                 }
                              
                            is presented. A positive curve value 
                              
                                 ME
                                 (
                                 k
                                 )
                              
                            therefore indicates that cloud based-method performs better than the traditional method for the kth noise image. In contrast, higher value of MSSIM indicates the segmented result is closer to the ground-truth image. Thus, 
                              
                                 MSSIM
                                 (
                                 k
                                 )
                                 =
                                 
                                    
                                       p
                                    
                                    
                                       k
                                    
                                 
                                 -
                                 
                                    
                                       t
                                    
                                    
                                       k
                                    
                                 
                              
                            for MSSIM value is considered, and ‘vsMethod’ for MSSIM values is denoted that the cloud model-based method is compared to the traditional method. Therefore, a positive curve value 
                              
                                 MSSIM
                                 (
                                 k
                                 )
                              
                            indicates the same result as 
                              
                                 ME
                                 (
                                 k
                                 )
                              
                           .

The overall results are shown in Fig. 13
                           (a) and (b). For example, the curve labeled as ‘–
                              
                                 ▴
                              
                           – vsKapur with S&P noise’ in Fig. 13(a) shows the ME difference curve between the traditional Kapur method and CloudKapur method, which are used to segment images contaminate by S&P noise with various intensities. To view the details in greater depth, the same curves only included ‘vsOtsu’ are also shown in Fig. 13.

From the ‘vsMET with Gaussian noise’ curves in Fig. 13(a), the CloudMET method performs lower ME values than the Kittler method for all the Gaussian noise images, whereas Fig. 13(b) shows how the CloudMET method performs higher MSSIM values than the Kittler method in all cases. The similar results are presented by ‘vsMET with S&P noise’ curves in Fig. 13. Nonetheless, Fig. 13 means that the CloudMET method always performs better regardless of the type and intensity of noise. For the CloudKapur method, the similar results by ‘vsKapur’ curves are shown in Fig. 13.

It is noted that the ‘vsOtsu’ curves are very close to the horizontal axis for any value (see Fig. 13(a) and (b)), thus the same curves restricted to ‘vsOtsu’ are separately listed in Fig. 13(c) and (d). Fig. 13(a) and (b) indicate that the CloudOtsu and Otsu methods perform in a similar manner, whereas Fig. 13(c) and (d) shows how the difference in performance as the noise intensity increases.

As shown in Fig. 13(a) and (b), each curve is always above the horizontal axis. The results suggest that the proposed methods obtain the lower ME values, the higher MSSIM values and have better performance than the traditional methods. In addition, there exists a common tendency in the performance of each curve, that is, the dominant position of the proposed method gently decreases with the incremental variances or intensities. The reason is that a high variance or intensity means more uncertainty and more inaccuracy in the grayscale distribution, which should lead to more difficulties and more effect on image thresholding. As a result, the decline of the relative performance is inevitable. In summary, CloudXue achieves the dominant improvement. In addition, for images with Gaussian noise, the performance improvement of the CloudMET method is the most remarkable, the CloudKapur method the second, and the CloudOtsu method the most delicate. While for images with Salt and pepper noise, the improvement of CloudKapur is the best, followed by the CloudMET and CloudOtsu methods. In another way, the results in Fig. 13 indicate that our range-constrained mechanism is effective compared with the four classical algorithms.

In this section, four laser cladding images are involved in the experiments, namely Laser 1 to Laser 4. Laser cladding by powder injection is an advanced material processing with several industrial applications [11]. For a laser cladding process, the measurement accuracy of laser height (h, as shown in Fig. 14
                        (a) and (b)), plays here a pivotal role, in which image thresholding of the captured images is an essential part. Thus, we conduct this group experiment, the original images and the ground truth images are shown in Fig. 14(a) and (b), respectively.

Based on subjective determination of the optimal height 
                           
                              
                                 
                                    h
                                 
                                 
                                    g
                                 
                              
                           
                         from the ground-truth image, the Error Rate (ER) from the optimal height is calculated for every algorithm, which can be expressed as 
                           
                              
                                 
                                    |
                                    h
                                    -
                                    
                                       
                                          h
                                       
                                       
                                          g
                                       
                                    
                                    |
                                 
                                 
                                    
                                       
                                          h
                                       
                                       
                                          g
                                       
                                    
                                 
                              
                              100
                              %
                           
                        , and h is the height detected by various methods, as shown in Fig. 14(a) and (b).

Quantitative comparisons of segmentation results yielded by various methods are listed in Table 3
                        . The proposed methods can effectively increase the segmentation performance. Our results correspond to lower ME values and higher MSSIM values, produce less ER values, and obtain less misclassified pixels. For the laser cladding application, ER is a more important measurement than ME and MSSIM widely used in the common image thresholding. CloudMET’s best difference from the optimal height is 2.72%, lower by 5 percentage points compared to that (7.41%) of the Kittler method. Generally, our average difference from the optimal height is 26.92%, lower by 10 percentage points compared to that (37.55%) of the original methods. The measurement of laser height by the proposed method is more accurate. In other words, the proposed method yields better segmentation in this application.

For visualization, Fig. 14 also demonstrates the segmented images. Just for simplification, we only select the best results by the traditional methods and the proposed methods, not all the results for four laser cladding images. The Kittler method is relatively suitable for laser cladding images, which obtains better results (Fig. 14(c)) than those of the traditional methods, including the Otsu method, the Kapur method and the Xue method. Even so, the resulting images by the Kittler method are clearly different from the ground truth images, which mainly appears in the edge pixels with uncertainty, lie in the outlier or the irregularity outside the grayscale range. While the CloudMET still keeps improving, and eliminate the interference from these edge pixels. From Fig. 14(d), one can observe that our results are closest to the ground truth images. Additionally, the Xue method yields invalid results, even though the required condition is satisfied from the histogram in Fig. 14(e). Since the Xue method only uses the accurate statistics, without uncertainty, and there are several similarities among these laser cladding images, the final thresholds are unexpectedly same for the different images. The CloudXue method produces the more optimal thresholds from Fig. 14(e) and the acceptable results from Table 3. This subsection indicates that our technique is able to enhance the efficiency of the laser cladding process.

@&#DISCUSSIONS@&#

Although the proposed approach has been proven to be successful in some cases, none of methods are generally applicable to all images, and different algorithms are usually not equally suitable for a particular application. We confirm that any posteriori criterion may remain some uncertainties besides the proposed method. In some special applications, introducing more information to improve the segmentation quality is regarded as an effective way. For example, high spatial resolution remotely sensed image has several features according to our experience, such as spectral, texture and shape, where exist some segmentation rules that can be referenced from human visual interpretation. The sampling values of ground objects in different features also lie in a certain range. Theoretically, cloud model-based method will still play an important role in land cover classification or object extraction. However, how to combine these features by cloud model and then construct the range-constrained approach is still an open problem.

@&#CONCLUSION@&#

In this paper, we have addressed the problem of detecting low-level features in images. We begin by presenting an analysis on the properties of human vision. Specifically, our analysis reveals that there are five universal principles, which are critical or beneficial to the performance of image thresholding, including generalized normality of histogram, sensibility of human eye, between-class uncertainty, intra-class homogeneity and between-class contrast. Then, we introduce cloud model to adequately describe a given image, and completely consider these factors. Based on the statistical properties of the cloud drops, the constrained bounds of grayscale range are obtained without supervision. With image transformation, the transformed result can be conveniently processed by optimizing some traditional criteria, and the final threshold is estimated from the transitional region. For further illustration, four range-constrained thresholding methods are formulated. In summary, we find that cloud model can handle the inherent uncertainties on image thresholding in a better way, which provide us with more design degrees of freedom, and the cloud model-based method is parameter-free, and self-adaptively represents the uncertain grayscale distribution of the given image according to the histogram, therefore it is more robust than the parametric algorithm. Experiments through synthetic and real images have verified the findings and illustrated that the proposed technique obtains better quality for image transformation than the Li method, the improved methods perform quite better than their counterparts, and all the four range-constrained methods have comparable performance. Additionally, the proposed methods are more robust with noise than the original methods. The extensions of the technique to special applications, such as land cover classification and object extraction from high spatial resolution remotely sensed images, are currently under investigation and will be reported later.

@&#ACKNOWLEDGEMENTS@&#

This work was partially supported by Foundation for Distinguished Young Talents in Higher Education of Guangdong, China (No. 2012LYM0092), by Doctoral Initiative Foundation in Zhanjiang Normal University, China (No. ZL1301), by National Key Basic Research and Development Program (No. 2012CB719903), and by Guangdong Natural Science Foundation (Nos. S2013040014926 and S2012010009759).

@&#REFERENCES@&#

