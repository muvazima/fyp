@&#MAIN-TITLE@&#Terrestrial laser scanning and continuous wavelet transform for controlling surface flatness in construction – A first investigation

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We propose a novel approach to surface flatness control in construction.


                        
                        
                           
                           It combines terrestrial laser scanning with the continuous wavelet transform.


                        
                        
                           
                           Experiments conducted on real-life data highlight the potential of the approach.


                        
                        
                           
                           It outperforms the Waviness Index method (current state of the art).


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Laser scanning

Quality control

Tolerance

Flatness

Wavelet transform

@&#ABSTRACT@&#


               
               
                  We propose a novel approach to surface flatness characterization in construction that relies on the combination of Terrestrial Laser Scanning (TLS) and the Continuous Wavelet Transform (CWT). The former has the advantage over existing measurement technologies of providing both accurate and extremely dense measurements over surfaces. The latter provides the means to conduct frequency analysis with high resolution in both the spatial and frequency domains. This novel approach is tested using two real concrete floors and the results compared with those obtained with the Waviness Index method. The results show a high level of correlation. In fact, the proposed approach delivers a higher level of precision in the frequency and spatial domains. We also show what seems to be a weakness of the Waviness Index method in the detection of undulations with short periods. Finally, although not experimentally demonstrated here, the proposed method has the interesting additional advantage of being applicable in 2D, that is over an entire surface instead of sampled survey lines (1D).
               
            

@&#INTRODUCTION@&#

In construction, errors in the geometry of built components can have detrimental effects on the subsequent construction stages and/or the operation of completed facilities [1]. As a result, geometric tolerance control must be frequently conducted during construction projects.

Surface flatness, or surface regularity, is “the deviation in height of the surface […] over short distances in a local area” 
                        [2]. The level of flatness may be specified for surfaces that are horizontal, vertical or slopped, and/or that are made of different materials. But, surface flatness is most commonly considered for concrete slabs/floors or screeds. Three main methods are generally considered for the control of surface regularity: the Straightedge method, the F-Numbers method, and the Waviness Index method. They are reviewed in the following paragraphs.


                        Straightedge method 
                        
                           [2–5]
                        . This is the oldest and least accurate method, but it is still commonly used due to its ease of application. In the Straightedge method, the surveyor lays a straightedge at different locations on the surface and measures the maximum deviation under it, preferably using a stainless steel slip gauge [2]. The deviation is then compared to a specified tolerance to accept or reject the level of flatness of the surface (e.g. see specifications BS EN 13670 [3], BS 8204 [2,4] in the UK; ACI 117 [6] in the USA). A long straightedge (2m in Europe, 3m in the USA) is used to control global flatness (i.e. larger deformations, like bending), while a smaller ruler (0.2m in Europe, 0.3m in the USA) can be used to control local flatness (little gaps or bumps).

The Straightedge method is simple to understand and inexpensive, and thus still used for controlling surfaces with low-level flatness specifications. However, it presents important deficiencies including: the difficulty of testing large areas of floors in reasonable times; the poor precision of the measurements; and the inability to reproduce results. For these reasons, alternative approaches for floor profiling have emerged that make use of modern measurement technologies and are somewhat simpler to implement, such as: the F-Numbers method and the Waviness Index method.


                        F-Numbers method 
                        
                           [5–7]
                        . The F-numbers method may be seen as a modern extension of the Straightedge method, making use of modern and more precise measurement technology, such as optical levels, total stations, inclinometers or longitudinal differential floor profilometers [6,7].

The F-Numbers measurement method is described in detail in ASTM E 1155-96 [7]. It consists in: defining a grid of floor profile survey lines (separated by at least 4ft) on the surface of each floor section; measuring point elevation at regular 1ft (
                           
                              ∼
                           
                        0.3m) intervals along each line; and finally calculating the 
                           
                              
                                 
                                    F
                                 
                                 
                                    F
                                 
                              
                           
                         and 
                           
                              
                                 
                                    F
                                 
                                 
                                    L
                                 
                              
                           
                         values that summarize the floor profile:
                           
                              •
                              
                                 
                                    
                                       
                                          
                                             F
                                          
                                          
                                             F
                                          
                                       
                                    
                                  is a statistically calculated number that takes into account the mean and standard deviations of sample measurements of 12 in (
                                    
                                       ∼
                                    
                                 0.3m) incremental curvatures. 
                                    
                                       
                                          
                                             F
                                          
                                          
                                             F
                                          
                                       
                                    
                                  is used to estimate the floor’s flatness; and


                                 
                                    
                                       
                                          
                                             F
                                          
                                          
                                             L
                                          
                                       
                                    
                                  is a statistically calculated number that takes into account the mean and standard deviations of sample measurements of 120 in (
                                    
                                       ∼
                                    
                                 3m) elevation differences. 
                                    
                                       
                                          
                                             F
                                          
                                          
                                             L
                                          
                                       
                                    
                                  is used to estimate the floor’s levelness.

While the F-Numbers method is a clear improvement over the Straightedge method, its downside is that it is mathematically more complex, and the reported F-Numbers are unitless and are therefore difficult to comprehend. Additionally, the F-Numbers method does not readily provide information on the location of defects on the floor. Last, but not least, it has been shown to react to floor undulations (i.e. defects) with period 1.5–4ft (
                           
                              
                                 
                                    F
                                 
                                 
                                    F
                                 
                              
                           
                        ) and 15–80ft (
                           
                              
                                 
                                    F
                                 
                                 
                                    L
                                 
                              
                           
                        ), which constitutes a fairly incomplete analysis of the surface waviness. This is particularly problematic when forklifts are to be operated on the floor (a very common case). Indeed, it has been theorised that surface undulations that can affect the operation of forklifts range between 50% and 100% of their wheelbase length [8,9], which typically translates into the 2–10ft range.


                        Waviness Index (WI) method 
                        
                           [10]
                        . This method was conceived as a result of the lack of responsiveness of the F-Numbers method to floor undulations of periods between 2ft and 10ft [8,9]. The WI method follows essentially the same measuring procedure as the F-Numbers method. Measurements are conducted at regular 1ft intervals along floor survey lines, and deviations are calculated from the midpoints of imaginary chords defined by pairs of measured points along the survey line. In its standard form, the method considers chords of lengths 
                           
                              2
                              k
                           
                         ft where 
                           
                              k
                              ∈
                              
                                 
                                    
                                       1
                                       ,
                                       2
                                       ,
                                       3
                                       ,
                                       4
                                       ,
                                       5
                                    
                                 
                              
                           
                        , that is lengths of 2, 4, 6, 8 and 10ft (60, 120, 180, 240 and 300cm) [9]. Another advantage of the WI method is that its results express the deviation from flatness in inch (or centimetre), and are thus much simpler to comprehend than the F numbers.

The three methods above show an evolution over time that aimed to address the limitations of previous methods and make use of new measuring technologies. The Waviness Index method can be seen as the current state-of-the-art method, particularly for its consideration for a range of undulation periods, as opposed to just one or two [9]. Yet, the Waviness Index method still presents three main limitations:
                           
                              1.
                              Like all its predecessors, the WI method is still based on sparse measurements conducted along survey lines that are themselves sparsely spaced. As a result, the overall flatness assessment results may be inaccurate, with defective floors/slabs not being detected. The use of sparse measurements was motivated by (1) the lack of measuring device that could deliver both dense and accurate measurements across slabs in a timely manner, and (2) the significant human input required for measuring and later calculating the flatness characterization values.

The WI method considers five different waviness periods in its analysis. Although these are homogeneously spread from 2ft to 10ft, one could argue that this presents an additional level of sparsity in the analysis that can further impact the reliability of the flatness characterization. In fact, we will show later through experimental results that the WI method is actually quite imprecise in detecting undulations with short periods, in particular 2ft.

The WI method, like the F-Numbers method, does not readily report the locations of the defects along the survey lines. Information is available about the elevation profile and undulations of different periods, but their relative impact on the overall floor flatness value cannot be easily identified.

Terrestrial Laser Scanning (TLS) is a modern measurement technology that is revolutionizing dimensional surveying in the Architectural, Engineering, Construction and Facilities Management industry (AEC&FM). As highlighted in numerous previous research works (e.g. 
                        [11,1,12,13]), TLS provides surveyors with the means to conduct accurate and extremely dense 3D measurements in relatively short times, which should in turn lead to more reliable dimensional control results. Focusing on flatness control, dense measurements over an entire surface should enable the assessment of flatness more comprehensively and reliably. This would be a significant advantage over the traditional methods discussed earlier that are based on sparse measurements.

Many researchers have developed approaches to compute and display the deviations of laser scanned points from reference surfaces for visual inspection of surfaces [1,12,14,15]. However, these works focused on visualization and did not consider the issue of detecting and characterizing surface flatness defects.

Tang et al. [13,16] then developed three algorithms to detect and characterize flatness deviations in TLS data. Their main algorithm works in three stages: (1) Apply Gaussian noise filtering to the point cloud; (2) fit a plane against the overall point cloud; and (3) calculate the distance between each point and the overall plane. Two other variant algorithms are also considered. Although analyzed with a certain level of detail, the methods presented by Tang et al. focus on detecting picks in the deviations, i.e. undulation amplitudes, as opposed to characterizing surface waviness, i.e. frequencies. As discussed earlier, waviness assessment is central to surface flatness characterization. Therefore, while the work of Tang et al. certainly contributes to demonstrating the potential of TLS for conducting surface flatness assessment, their proposed methods would provide insufficient results to draw full conclusions on surface flatness.

Bosché and Guenet [17] digitally encoded the Straightedge and F-Numbers methods so that they can be automatically applied to TLS point clouds of floors. A comparison of the results obtained by the encoded Straightedge method with those obtained by manually applying the Straightedge method on the slab also confirmed that TLS data appears to provide point clouds that are sufficiently accurate and precise for detecting and characterizing subtle defects like small floor flatness undulations. The advantage of the work of Bosché and Guenet is that it employs existing survey methods (applied digitally) so that practitioners can better assess the value of TLS for such measurements. But, the limitations inherent to those methods remain, that is:
                           
                              1.
                              They are designed to be conducted with only sparse measurements and therefore provide incomplete analysis. Although Bosché and Guenet show that this limitation can be overcome in their method by increasing the number of ‘virtual’ straightedge measurements or F-Numbers survey lines around the floor.

They characterize surface waviness by considering only one or two surface undulation periods (1.5–4ft and/or 15–80ft).

All existing methods characterize surface waviness by analysing waviness along lines, i.e. in 1D. While this may be justified in the case of floors with defined wheel-track traffic (narrow aisles), floors with random traffic should preferably be assessed in 2D.

The F-Numbers method enables the detection of flatness defects, but does not naturally report their location on the surface.

As we show later, applying the Waviness Index method to TLS point cloud data would partially address the second limitation, because that method considers a set of five undulation periods. However, the third and fourth limitations remain for all methods.

We propose a new method for conducting surface flatness control using TLS data. The method aims to address all the limitations of existing methods identified above. The idea is to conduct a frequency analysis of the TLS points associated to a surface, using Wavelet Transforms, more specifically the Continuous Wavelet Transform.

As discussed earlier, all existing methods (Straightedge, F-Numbers, Waviness Index, etc.) are in some way based upon frequency analysis, but are significantly simplified due to the limits of the sensing technologies available at the time when they were designed, in particular the impossibility to conduct very dense accurate measurements. TLS has now changed this situation entirely, so that new ways of conducting flatness control can be devised that take advantage of the density and quality of measurements provided by TLS to deliver more precise results in terms of flatness defect detection, characterization and localization.

The rest of this paper is organized as follows. Section 2 first reviews different frequency analysis methods leading to the selection of the Wavelet Transforms, and more particularly the Continuous Wavelet Transform. The proposed approach and implemented system are then presented in Section 3. Results of the experiments conducted to test and validate the proposed approach are reported and discussed in Section 4. Conclusions are finally drawn and recommendations for future research suggested in Section 5.

In the case of surface flatness control, one can assimilate the measured elevation profile along a survey line as a discrete 1D surface waviness ‘signal’. More generally, the elevation profile over the entire surface can be assimilated to a discrete 2D ‘signal’. In both cases (1D and 2D) frequency analysis techniques can be considered to detect the presence of undulations with certain frequencies (i.e. periods), and thereby detect construction defects.

It is well-known that any continuous signal can be re-written, or decomposed, as the sum of sinusoidal functions with varying amplitudes and frequencies, altogether known as the frequency spectrum. This process, when applied to continuous signals, is known as the Fourier Transform (FT). In engineering practice, signals are not continuous but discrete, in which case the corresponding Discrete Fourier Transform is applied.

The FT gives information on frequency components over the entire length of the signal. Thus, while it permits to estimate in which ‘quantities’ different frequencies exist, it is unable to provide the location along the signal where they are present. FT is thus suitable for stationary signals where frequency content does not change in time, but is not suitable for non-stationary signals where frequency content changes over time (in our case, over space). Since surface waviness is a non-stationary signal, applying the FT to elevation profiles could enable the detection of defects (i.e. undulations of certain periods and amplitudes) but would not enable their localization along the signal; the latter being critical information to correct the defects.

The idea of the Short Time Fourier Transform (STFT) is to process non-stationary signals in segments that are themselves assumed to be stationary. To isolate individual segments of the input signal, the signal is multiplied by a square function that is incrementally translated along the signal – a process called windowing; note that the STFT uses a window of fixed width. The FT is then computed for each windowed signal segment. The output of the STFT is a 3D diagram representing amplitude responses for different frequencies at different locations along the signal.

In our context, the multiplication of the original signal by a translated square function should a priori support the localization of the different frequencies. However, signal windowing using a fixed square function with fixed width has some significant downsides. First, the process results in some loss of accuracy in the frequency domain. Then, it prevents it from achieving good resolution in time and frequency simultaneously. As discussed in Section 1.1, surface flatness assessment requires a fairly wide range of frequencies to be analysed – periods between 2ft and 10ft. With a 10ft window, the STFT would achieve the detection and localization of a signal with period 10ft with the best accuracy possible. However, it would be fairly poor for the localization of undulations of period of 2ft – i.e. if such a 2ft period is detected, the user will only know that it is somewhere within this 10ft window. In contrast, a 2ft wide window would enable the detection and localization of undulations with period 2ft with great accuracy, but would not support the detection of undulations with period 10ft. This illustrates the difficulty, in fact the impossibility, to simultaneously achieve good precision in space/time and frequency; a problem known as the Heisenberg uncertainty principle.

Nonetheless, this impossibility is not necessarily critical in practice. Indeed, it has been observed that for many real-life problems, including that of surface flatness control, the precision required for localizing low frequency signals is generally lower than that required for high frequency signals. This important observation has motivated the development of new methods, in particular the Wavelet Transform.

The Wavelet Transform (WT) is presented in detail in countless publications, including [18,19]. While we provide a summary of it in the following, we invite the reader to explore such publications for more detail.

The WT analyses a signal by convolving it with a function, called the wavelet, at incremental locations along the signal and at incrementally increased scales. The wavelet is designed/selected to detect a certain type of pattern/frequency (see Fig. 2). The incremental increase in scale can be seen as a simultaneous increase in the ‘window’ of signal considered and decrease of frequency examined. In other words, low frequencies are only examined at large scales (i.e. with large windows) and high frequencies are only examined at small scales (i.e. with narrow windows), thereby optimally dealing with the Heisenberg uncertainty principle. This is commonly illustrated with the diagrams reproduced in Fig. 1
                        ,

The output of the WT when applied to a 1D signal is a 3D representation of the response of the convolution of the signal with the wavelet for different values of translation τ and scale a. The scale a in WT bears some equivalence with some characteristic frequency f (
                           
                              a
                              ∼
                              1
                              /
                              f
                           
                        ). This is discussed further later.

The wavelets used at the different scales are all obtained by dilating a mother wavelet. To ensure a strong response of the convolution, the mother wavelet should present a shape similar to that searched in the signal. As a result, many mother wavelet functions have been proposed for different applications. Some commonly used ones include: the Mexican Hat, the Morlet, the Daubechies or the Bior functions (see Fig. 2
                           ).

For surface flatness control, the type of ‘defect’ to be examined typically has a shape of a ‘smooth bump’ or, from a signal viewpoint, one period of a sinusoidal signal. In this context, the Mexican Hat wavelet (Fig. 2a) appears quite well suited.

In parallel to the selection of mother wavelets, various WT methods can be distinguished, in particular: the Continuous Wavelet Transform (CWT), Stationary Wavelet Transform (SWT), and Discrete Wavelet Transform (DWT).

As illustrated in Fig. 3
                           , the CWT aims to analyse the input signal with full resolutions in both translation and scale. On the other end, the DWT applies a two-dimensional dyadic decomposition that results in ‘skipping’ levels of precision in translation and scale. In-between lies SWT that ‘skips’ levels of precision in scale using the same dyadic decomposition approach as the DWT, but retains the same precision in localization (translation) as the CWT.

The difference between these three WT approaches actually goes beyond their resolution in localization and frequency; they actually employ different types of wavelets. The reason is that they have actually been developed for totally different purposes. The CWT is aimed at detecting a (wavelet) pattern/frequency accurately in both location (translation) and scale. In contrast, the DWT aims to capture as much as possible of the information contained in a signal at the least cost possible; it is mainly used for signal compression (e.g. the JPEG2000 format in image compression). The SWT provides a trade-off that has a practical value in some engineering problems where the detection and localization of a pattern in a signal needs to be known with sufficient accuracy, but the scale of the searched pattern (frequency) may not be known with great precision. Focusing on the context of floor flatness assessment, it can be concluded that the CWT appears to be the most appropriate approach — although the SWT may still apply. In contrast, the DWT does not suit this kind of problem at all.

Note that, of the wavelets shown in Fig. 2, the Mexican Hat or Morlet wavelets are used for the CWT, while the Daubechies or Bior wavelets are used for DWT and SWT.

As pointed earlier, there is a relation between the scale a at which a wavelet is applied and a characteristic frequency f that it reacts to. This relation depends on the mother wavelet and is given by the formula [19]:
                              
                                 (1)
                                 
                                    f
                                    =
                                    
                                       
                                          
                                             
                                                f
                                             
                                             
                                                c
                                             
                                          
                                       
                                       
                                          
                                             
                                                δ
                                             
                                             
                                                p
                                             
                                          
                                          a
                                       
                                    
                                 
                              
                           where 
                              
                                 
                                    
                                       f
                                    
                                    
                                       c
                                    
                                 
                              
                            is the center frequency of the mother wavelet (i.e. the main frequency component of the FT of the mother wavelet) and 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       p
                                    
                                 
                              
                            is the point sampling period along the signal. A strong response of the convolution of the wavelet at scale a thus indicates the presence of an undulation with frequency f.

The characteristic period 
                           T of the signal is easily derived from Eq. (1) as:
                              
                                 (2)
                                 
                                    T
                                    =
                                    
                                       
                                          1
                                       
                                       
                                          f
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                δ
                                             
                                             
                                                p
                                             
                                          
                                          a
                                       
                                       
                                          
                                             
                                                f
                                             
                                             
                                                c
                                             
                                          
                                       
                                    
                                 
                              
                           
                        


                           Table 1
                            provides the center frequency and the resulting characteristic frequency and period for different wavelets, for a
                           =1 and 
                              
                                 
                                    
                                       δ
                                    
                                    
                                       p
                                    
                                 
                                 =
                                 1
                                 
                                 cm
                              
                           .

The WT, like the FT and STFT, can be applied to multi-dimensional signals, not just one-dimensional ones. In the context of floor flatness assessment, this means that the WT could be applied not just to elevation profile data along survey lines (1D signals), but also to 2D elevation profile data for an entire surface at once [20].

@&#CONCLUSION@&#

The discussion above suggests the potential of the CWT for the detection and localization of flatness defects. In this paper, we present results of the application of the 1D CWT to elevation profiles obtained along survey lines virtually generated with the TLS point cloud data of construction slabs. Applying the CWT in 1D is particularly valuable to compare its results with those obtained with existing methods, in particular the Waviness Index method. If the results are positive, then, as suggested in Section 2.3.4, future work should certainly pursue applying the CWT approach directly to 2D TLS point clouds of floors.

We have implemented a 1D CWT-based algorithm to process TLS point cloud data of planar surfaces with the aim to assess its suitability for flatness control in construction. The algorithm has actually been implemented on top of an existing Scan-vs-BIM platform [17] – i.e. a system enabling the segmentation of as-built (TLS) point clouds by aligning them with the as-designed 3D (BIM) model of the facility and segmenting the point cloud based on spatial proximity and local normal similarity. Within the context of this paper, the system particularly enables the segmentation of the subset of points corresponding to a given floor. The same platform was used in [17] where we reported previous results on the application of the Straightedge and F-Numbers method to TLS data.

The 1D CWT algorithm applies the CWT to surface elevation profiles obtained along survey lines ‘virtually surveyed’ in the TLS data of the surface. In order to assess the performance of the method, we have also uniquely developed another algorithm that automatically applies the Waviness Index (WI) method to the same survey lines. This enables the comparison of their respective results, and thereby the validation of the use of the CWT for surface flatness control.

Both algorithms apply the same automated pre-processing to the data, described in Section 3.1 below. The implementation of the WI method is detailed in Section 3.2 and that of the 1D CWT method in Section 3.3.

The procedures described below for the WI (Section 3.2) and the CWT (Section 3.3) include different stages requiring nearest-neighbor searches within the floor’s TLS point cloud. Because a laser scan of a floor surface can easily contain millions of points, an exhaustive search would be extremely inefficient. As a result, a 2D square array structure is implemented where each cloud point is associated to one of the array cells. Nearest-neighbors are then searched only among the points contained in the cells neighboring the given input location. As illustrated in Fig. 4
                           , the orientation and extent of the array are determined using the two main directions of the floor and a pre-defined array cell size, 
                              
                                 
                                    
                                       d
                                    
                                    
                                       array
                                    
                                 
                              
                            (we use 
                              
                                 
                                    
                                       d
                                    
                                    
                                       array
                                    
                                 
                                 =
                                 50
                                 
                                 mm
                              
                           ). For more detail, we refer the reader to [17], where the same structure was used in the implementations of the Straightedge and F-Numbers methods.

All surface flatness assessment methods are based on the measurement of the deviation of points from the reference surface. To reduce the effect of laser scanning measurement imprecision on the estimation of each point’s deviation, a mean filter is applied across the point cloud, where each point’s deviation is re-calculated as the average of the deviations of its neighbors within a radius ρ. We use 
                              
                                 ρ
                                 =
                                 25
                                 
                                 mm
                              
                           .

ASTM-E1486 [10] specifies a standard procedure for the application of the WI method, that is summarized here.

First, survey lines are defined parallel to the principal axes of the surface, spaced by no more than 
                           
                              
                                 
                                    δ
                                 
                                 
                                    ℓ
                                 
                              
                              =
                              30
                              
                              ft
                           
                         – in the experiment reported later we use 
                           
                              
                                 
                                    δ
                                 
                                 
                                    ℓ
                                 
                              
                              =
                              1
                              
                              ft
                           
                         (
                           
                              ∼
                              0.3
                              
                              m
                           
                        ). In contrast with the F-Numbers method, the Waviness Index method does not prohibit survey lines from crossing control and construction joints. However, survey lines should similarly not extend too close to other building elements like columns and walls. In our implementation, we assume that the boundary of the test surface is known, and we prevent survey lines from extending closer to the surface boundary than 
                           
                              
                                 
                                    d
                                 
                                 
                                    boundary
                                 
                              
                           
                        . In the experiments reported below, we use 
                           
                              
                                 
                                    d
                                 
                                 
                                    boundary
                                 
                              
                              =
                              0.3
                              
                              m
                           
                        .

Then, survey points, i.e. elevations, are measured at intervals of 
                           
                              
                                 
                                    δ
                                 
                                 
                                    p
                                 
                              
                              =
                              1
                              
                              ft
                           
                         along each survey line, using the approach described in Section 3.1.2.

Each survey line should contain at least 15 measurements, and the minimum total number of survey points in a test section should be 
                           
                              A
                              /
                              16
                           
                        , where A is the section surface area in ft2. If these requirements are fulfilled (which is easily checked algorithmically), then various Waviness Index results can be calculated using the formulas provided in ASTM-E1486 [10]. First, it is possible to calculate the WI response for each level k for each the survey line 
                           
                              ℓ
                           
                        , using the equation:
                           
                              (3)
                              
                                 
                                    
                                       LAD
                                    
                                    
                                       ℓ
                                       ,
                                       k
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                
                                                   
                                                      
                                                         imax
                                                      
                                                      
                                                         ℓ
                                                         ,
                                                         k
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               LAD
                                                            
                                                            
                                                               ℓ
                                                               ,
                                                               k
                                                               ,
                                                               i
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   2
                                                
                                             
                                          
                                          
                                             
                                                
                                                   imax
                                                
                                                
                                                   ℓ
                                                   ,
                                                   k
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              
                                 
                                    LAD
                                 
                                 
                                    ℓ
                                    ,
                                    k
                                    ,
                                    i
                                 
                              
                           
                         is the WI response at the level k at the 
                           
                              i
                              th
                           
                         sampled location along the line 
                           
                              ℓ
                           
                        ; 
                           
                              
                                 
                                    imax
                                 
                                 
                                    ℓ
                                    ,
                                    k
                                 
                              
                           
                         is the number of incremental locations where the WI response is calculated along the line 
                           
                              ℓ
                           
                         at level k; 
                           
                              k
                              ∈
                              
                                 
                                    
                                       1
                                       ,
                                       2
                                       ,
                                       3
                                       ,
                                       4
                                       ,
                                       5
                                    
                                 
                              
                           
                        .

Then, 
                           
                              
                                 
                                    LAD
                                 
                                 
                                    ℓ
                                    ,
                                    k
                                 
                              
                           
                         values obtained for the five k levels (i.e. five undulation periods) can be aggregated to calculate the overall WI response for each line, using the equation:
                           
                              (4)
                              
                                 
                                    
                                       WI
                                    
                                    
                                       ℓ
                                    
                                 
                                 =
                                 
                                    
                                       WI
                                    
                                    
                                       ℓ
                                       ,
                                       2
                                       -
                                       10
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   k
                                                   =
                                                   1
                                                
                                                
                                                   kmax
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            imax
                                                         
                                                         
                                                            ℓ
                                                            ,
                                                            k
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        LAD
                                                                     
                                                                     
                                                                        ℓ
                                                                        ,
                                                                        k
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            2
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   n
                                                
                                                
                                                   ℓ
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              kmax
                              =
                              5
                           
                         and 
                           
                              
                                 
                                    n
                                 
                                 
                                    ℓ
                                 
                              
                              =
                              
                                 
                                    ∑
                                 
                                 
                                    k
                                    =
                                    1
                                 
                                 
                                    kmax
                                 
                              
                              
                                 
                                    imax
                                 
                                 
                                    ℓ
                                    ,
                                    k
                                 
                              
                           
                        .

Finally, the 
                           
                              
                                 
                                    WI
                                 
                                 
                                    ℓ
                                 
                              
                           
                         values obtained for all lines can be aggregated to calculate an overall WI response for the entire floor, using the equation:
                           
                              (5)
                              
                                 WI
                                 =
                                 
                                    
                                       WI
                                    
                                    
                                       2
                                       -
                                       10
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   ℓ
                                                   =
                                                   1
                                                
                                                
                                                   ℓ
                                                   max
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            n
                                                         
                                                         
                                                            ℓ
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        WI
                                                                     
                                                                     
                                                                        ℓ
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            2
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   ℓ
                                                   =
                                                   1
                                                
                                                
                                                   ℓ
                                                   max
                                                
                                             
                                             
                                                
                                                   n
                                                
                                                
                                                   ℓ
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              ℓ
                              max
                           
                         is the number of measured survey lines.

Note that if fewer than 15 measurements are available for a line, it is still possible to apply the formulas above. But, in such case, 
                           
                              kmax
                           
                         will have to be set lower than 5, and consequently 
                           
                              
                                 
                                    WI
                                 
                                 
                                    ℓ
                                 
                              
                           
                         (and WI) will have to be calculated as 
                           
                              
                                 
                                    WI
                                 
                                 
                                    ℓ
                                    ,
                                    2
                                    -
                                    8
                                 
                              
                           
                         or 
                           
                              
                                 
                                    WI
                                 
                                 
                                    ℓ
                                    ,
                                    2
                                    -
                                    6
                                 
                              
                           
                        .

The proposed algorithm for conducting a 1D CWT-based flatness control applies the CWT to elevation profile measurements acquired along survey lines. The algorithm uses the same survey line generation and survey point measurement methods as the Waviness Index method, which enables a fair comparison of the approaches. However, instead of 
                           
                              
                                 
                                    δ
                                 
                                 
                                    p
                                 
                              
                              =
                              1
                              
                              ft
                           
                         (as specified for the Waviness Index method), we make use of the density of measurements provided by the laser scanner and measure survey points with intervals 
                           
                              
                                 
                                    δ
                                 
                                 
                                    p
                                 
                              
                              =
                              1
                              
                              cm
                           
                        .

The mother wavelet should be selected so that it enables a good detection of the searched pattern in the signal. As discussed in Section 2.3.1, we have selected the Mexican Hat (MH) as a suitable wavelet for applying the CWT to assess waviness.

The scale at which the wavelet is applied enables the detection of patterns of similar scale. In our context, we are looking for signal undulations (i.e. defects) of different periods, that is at different scales. Given the selected wavelets, Table 2
                         summarizes at which scales/levels the CWT and WI methods should provide approximately comparable results, i.e. respond to the same characteristic period. This is an interesting table that highlights an important advantage of the CWT method that is the resolution (i.e. precision) that it provides in the frequency domain. This is in addition to its high resolution in the spatial domain and its efficient visual representation of the results enabling fast localization of defects (as demonstrated later).

Note that our systems employs the cwtlib C++ code library [21] for the application of the CWT.

We have conducted preliminary experiments using two existing concrete slabs of university laboratories. The slabs are the same as those used in [17]. The Drainage Lab (DL) slab is 
                           
                              4.8
                              
                              m
                              ×
                              8.1
                              
                              m
                           
                         and the Acoustic Lab (AC) slab is 
                           
                              6.4
                              
                              m
                              ×
                              6.7
                              
                              m
                           
                        . The two slabs have been laser scanned using the Faro Focus 3D scanner [22] with standard resolution, and medium–high data acquisition quality. The AL slab required two scans that were merged using standard registration methods. After segmenting the two scans, the DL slab’s cloud contains 0.50million points, while the AL slab’s point cloud contains 1.3million points. Fig. 5
                         shows the two slabs and the point clouds associated to them.

@&#RESULTS@&#


                        Fig. 6
                         shows the survey lines automatically generated and surveyed for the DL ans AL floors. The figure also shows the elevation profiles measured from six of the lines.


                        Figs. 7 and 8
                        
                         show the results obtained with the CWT and WI methods for three survey lines of the DL slab and three survey lines of the AL slab respectively (the locations of these lines on the slabs are indicated in Fig. 6). The selected survey lines have different lengths as well as different profiles (Figs. 7a and 8a) presenting potential defects with various undulation periods. The WI results in Fig. 7c confirm that the first reported survey line of the DL slab presents minor deviations with respect to the investigated periods, i.e. 60cm and 120cm. In contrast, the WI results for the second reported survey line of the DL slab suggest the presence of more significant undulations with these periods; and this can indeed be visually confirmed in the profile data. The second reported survey line of the AL slab appears to have significant undulations with periods of 240cm and 300cm; again, this can be confirmed in the profile data (mid-length). These results illustrate the value of the WI method for floor flatness control.

More importantly here is the comparison of the CWT results with those obtained with the WI method. The CWT results are presented in 2D colormaps that are commonly called scalograms. Some parts of the CWT scalograms shown in Figs. 7b and 8b are purposely shaded because the corresponding locations along the survey lines are where, at the given scale, the most important parts of the wavelet would fall outside the profile; the corresponding results are thus not meaningful and should be discarded.

Focusing on the meaningful part of the scalograms, it can first be noted that the CWT results can be both negative or positive. A negative value indicates a negative correlation when convolving the signal with the wavelet (i.e. concave undulation), and a positive value indicates a positive correlation (i.e. convex undulation). Then, the vertical alignments of the profiles Fig. 7a with the scalograms Fig. 7b indicate that the CWT seems to successfully detect surface undulations with the correct periods, and with higher strengths when the undulations present higher amplitudes. For example, the third reported profile line of the DL slab clearly shows an undulation of period 300–400cm that is well detected and located by the CWT method. The 50cm undulation on the right side within that large undulation is also clearly detected. For the third reported line of the AL slab, the CWT nicely detects and locates the numerous undulations of short period (
                           
                              ∼
                           
                        50cm) along the line, but also correctly does not detect any meaningful undulation with period longer than 100cm.

An overall and more scientific comparison between the CWT and WI results can be conducted by looking at the correlation between the responses of the two methods for similar periods for the same elevation profiles. To perform the comparison, we propose to calculate CWT responses 
                           
                              
                                 
                                    CWT
                                 
                                 
                                    ℓ
                                    ,
                                    a
                                 
                              
                           
                         corresponding to the WI 
                           
                              
                                 
                                    LAD
                                 
                                 
                                    ℓ
                                    ,
                                    k
                                 
                              
                           
                         values using the same root mean square formula (Eq. (3)), that is:
                           
                              (6)
                              
                                 
                                    
                                       CWT
                                    
                                    
                                       ℓ
                                       ,
                                       a
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                
                                                   
                                                      
                                                         imax
                                                      
                                                      
                                                         ℓ
                                                         ,
                                                         a
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               CWT
                                                            
                                                            
                                                               ℓ
                                                               ,
                                                               a
                                                               ,
                                                               i
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   2
                                                
                                             
                                          
                                          
                                             
                                                
                                                   imax
                                                
                                                
                                                   ℓ
                                                   ,
                                                   a
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              
                                 
                                    CWT
                                 
                                 
                                    ℓ
                                    ,
                                    a
                                    ,
                                    i
                                 
                              
                           
                         is the CWT response at scale a at the 
                           
                              i
                              th
                           
                         sampled location along the line 
                           
                              ℓ
                           
                        ; 
                           
                              
                                 
                                    imax
                                 
                                 
                                    ℓ
                                    ,
                                    a
                                 
                              
                           
                         is the number of sampled locations where the CWT response is calculated along the line 
                           
                              ℓ
                           
                         at scale a.

We also calculate the CWT response for each line 
                           
                              ℓ
                           
                        , 
                           
                              
                                 
                                    CWT
                                 
                                 
                                    ℓ
                                 
                              
                           
                        , using the same formula as the one used to calculate 
                           
                              
                                 
                                    WI
                                 
                                 
                                    ℓ
                                 
                              
                           
                         (Eq. (4)), that is:
                           
                              (7)
                              
                                 
                                    
                                       CWT
                                    
                                    
                                       ℓ
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   a
                                                   =
                                                   1
                                                
                                                
                                                   amax
                                                
                                             
                                             
                                                
                                                   imax
                                                
                                                
                                                   ℓ
                                                   ,
                                                   a
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               CWT
                                                            
                                                            
                                                               ℓ
                                                               ,
                                                               a
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   2
                                                
                                             
                                          
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   a
                                                   =
                                                   1
                                                
                                                
                                                   amax
                                                
                                             
                                             
                                                
                                                   imax
                                                
                                                
                                                   ℓ
                                                   ,
                                                   a
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              amax
                           
                         is the number of scales considered. In the context of the comparison conducted here, this is the set of five scales 
                           
                              a
                              ∈
                              
                                 
                                    
                                       15
                                       ,
                                       30
                                       ,
                                       45
                                       ,
                                       60
                                       ,
                                       75
                                    
                                 
                              
                           
                         that give the same undulation characteristic periods as those considered by the WI method with 
                           
                              k
                              ∈
                              
                                 
                                    
                                       1
                                       ,
                                       2
                                       ,
                                       3
                                       ,
                                       4
                                       ,
                                       5
                                    
                                 
                              
                           
                        . These characteristic periods are 
                           
                              T
                              (
                              cm
                              )
                              ∈
                              
                                 
                                    
                                       60
                                       ,
                                       120
                                       ,
                                       180
                                       ,
                                       240
                                       ,
                                       300
                                       
                                       cm
                                    
                                 
                              
                           
                         (see Table 2).


                        Fig. 9
                         reports the correlation results. Fig. 9a shows a scatter plot of the 295 pairs of WI 
                           
                              
                                 
                                    LAD
                                 
                                 
                                    ℓ
                                    ,
                                    k
                                 
                              
                           
                         and 
                           
                              
                                 
                                    CWT
                                 
                                 
                                    ℓ
                                    ,
                                    a
                                 
                              
                           
                         values obtained (for 75 survey lines, and the five k values and corresponding a values). Fig. 9b then shows a scatter plot of the pairs of 
                           
                              
                                 
                                    WI
                                 
                                 
                                    ℓ
                                 
                              
                           
                         and 
                           
                              
                                 
                                    CWT
                                 
                                 
                                    ℓ
                                 
                              
                           
                         values obtained for all 75 lines.

The results in Fig. 9a show that there is some positive correlation between the WI and CWT results. In fact, the correlation 
                           
                              
                                 
                                    R
                                 
                                 
                                    2
                                 
                              
                           
                         value is 
                           
                              0.67
                           
                        . The results in Fig. 9b indicate an even stronger correlation when combining all five undulation periods. The correlation 
                           
                              
                                 
                                    R
                                 
                                 
                                    2
                                 
                              
                           
                         value is 
                           
                              0.84
                           
                        .

Altogether, these results show a good positive correlation between the WI and CWT responses, thereby confirming the value of the proposed approach. Yet, it is interesting to note the apparent lower level of correlation at the level of the undulation periods (0.67). A more detailed analysis of the results offers a likely explanation for this. It is observed that, when looking at the correlation for the various undulation periods independently from one another, the correlation is poorer for shorter undulation periods, especially T
                        =60cm (
                           
                              k
                              =
                              1
                           
                        ), for which 
                           
                              
                                 
                                    R
                                 
                                 
                                    2
                                 
                              
                              =
                              0.60
                           
                        . Looking at the measurement profiles considered by both approaches, it is observed that the measurement sampling of the WI method (
                           
                              
                                 
                                    δ
                                 
                                 
                                    p
                                 
                              
                              =
                              30
                           
                        
                        cm) can easily lead to inaccurate and even failed detections of undulations of period 60cm. Fig. 10
                         shows examples of elevation profiles for four survey lines as measured using the WI method and the CWT method (
                           
                              
                                 
                                    δ
                                 
                                 
                                    p
                                 
                              
                              =
                              1
                           
                        
                        cm). The analysis of the profiles clearly shows that while both methods capture with similar accuracy undulations with longer periods, the WI method leads to weaker detections of undulations with period 60cm. This highlights that the measurement sampling of 30cm employed by the WI method is too sparse to enable an accurate detection of undulations with period 60cm. In contrast, the dense measurement employed in the proposed approach leads to more accurate detections of undulations with periods of 60cm, and shorter. This most likely explains the weaker correlation observed in Fig. 9a.

Terrestrial Laser Scanning (TLS) constitutes a significant evolution, if not a revolution, to construction dimensional surveying. Its capacity to provide dense and accurate point clouds of its surrounding environment very fast leads to the possibility to rethink how dimensional surveying (e.g. for construction control) should be conducted. More specifically, where conventional dimensional surveying is based on (sparse) point measurements, the density of points provided by TLS offers the opportunity to refocus dimensional surveying on surface measurements.

An area where the potential value of the dense measurement provided by TLS can be easily understood is that of surface flatness. While conventional, state-of-the-art methods for surface flatness assessment are based on sparse point measurements along themselves sparse survey lines, a new approach has been proposed that aims to take advantage of the density of points TLS delivers. The novel approach applies the 1D CWT to the dense point measurements along densely packed survey lines, with the following several significant advantages over current practice:
                        
                           •
                           The process is fully automated, with manual intervention only required for conducting the scanning (a fairly simple process).

The data processing being fully automated, the density of survey lines can be increased significantly compared to current manual methods, thereby addressing the issue of the sparsity of survey lines faced by those methods.

In that regard, we note that the increased point measurement density provided by laser scanning could already be used to effectively extend the WI method to consider many more frequencies and locations, so its results are more reliable. The formulas used by the WI method support this naturally.

The CWT analysis is a frequency-based analysis, providing results with high resolution in the frequency domain. In contrast, the state-of-the-art Waviness Index method only considers five frequencies. In fact, we have also shown what seems to be the poor precision of the Waviness Index method for detecting undulations of period 60cm (and shorter), which constitutes a valuable additional contribution.

The CWT analysis not only offers a high resolution in the frequency domain, but also offers a similarly high resolution in the spatial domain, enabling the precise localization of frequency detections along the survey lines. Taking spatial and frequency resolution into account, the proposed method has a resolution 450 (
                                 
                                    30
                                    ×
                                    15
                                 
                              ) times higher than that of the Waviness Index method.

The scalograms outputted by the CWT constitute a very effective way of visually communicating results, enabling easy identification of the amplitude and frequency of detected undulations, and differentiating between concave or convex undulations.

Preliminary experimental results using two concrete slabs have demonstrated these advantages.

While the proposed approach appears extremely promising, further work remains to be conducted to confirm its strength (superiority). First of all, additional experiments clearly need to be conducted with many more, also larger, concrete floors with varying types of finishing. Then, the correlation between CWT response and various types of standard flatness levels also needs to be established. Finally, it is acknowledged that the results reported here are still based on a 1D analysis (along survey lines). Yet, as discussed earlier, it is theoretically possible to remove the need to generate survey lines and instead directly apply the CWT to complete 2D elevation profiles.

@&#ACKNOWLEDGEMENTS@&#

The authors would like to acknowledge the Erasmus Programme and the Région des Pays de La Loire (France) for their support towards Baptiste Biotteau’s research visit to Heriot-Watt University.

@&#REFERENCES@&#

