@&#MAIN-TITLE@&#Optimal barrel cutter selection for the CNC machining of blisk

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Geometric properties and location of four types of barrel cutters are introduced.


                        
                        
                           
                           Optimal tool flute size selection of barrel cutter to avoid the local gouges.


                        
                        
                           
                           Optimization of tool shaft diameter to avoid the global interferences.


                        
                        
                           
                           Numerical examples for proving the validity of the proposed method.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Barrel cutter

Tool selection

Flank milling

Freeform surface

Blisk

@&#ABSTRACT@&#


               
               
                  Barrel cutters have been widely used in the flank milling of blisk. In this paper, a new method is proposed to select an optimal barrel cutter in the interest of the high productivity in the CNC machining of blisk. The geometric properties and location of four types of barrel cutters are firstly introduced. Then the optimal size of the tool flute with a greater barrel radius is determined. Meanwhile, the local gouges and kinematic constraints of the CNC machine tool are also taken into account. Furthermore, in order to avoid the global interferences between the tool shaft and the blade in process, the center point of circular arc generatrix is adjusted. Finally, the tool shaft diameter is optimized to improve tool rigidity and avoid the global interferences between the tool shaft and the adjacent blades. The numerical examples prove that a feasible barrel cutter with the higher productivity can be obtained by the proposed method in this paper. Therefore, this method can be directly applied in the CNC machining of blisk or centrifugal impeller.
               
            

@&#INTRODUCTION@&#

The Barrel cutter, also called drum cutter, is important in the flank milling of freeform surfaces. And the various barrel cutters have been widely used in the CNC machining of aviation components such as blisks and centrifugal impellers in order to meet the increasing requirements on the productivity and quality.

In the interest of reducing the machining costs and improving the machining quality, tool selection has attracted much attention in recent years  [1]. Compared to the researches  [1–23] on the optimal selection of cylindrical cutter, conical cutter and toric cutter, the publications  [24–30] on the optimal barrel cutter selection are not enough.

The current investigations about the optimal barrel cutter selection generally focus on the size selection of tool flute, which includes the barrel radius and the maximum gyration radius of tool flute. But the center point of circular arc generatrix and the tool shaft diameter are not taken into account. It means that only the avoidance of local gouges is considered while the global interferences probably occur in the CNC machining of blisk. Furthermore, the tool flute size is selected according to the maximum of the maximum principal curvature on the freeform surface in the traditional method, which is too conservative to fully exploit the capability of barrel cutter and not applicable to a ruled surface.

The mathematical descriptions and curvature properties of four types of barrel cutters are studied as the preparation in this paper. A new method of the optimal barrel cutter selection is presented for the flank milling of blisk. Firstly, the barrel radius is selected according to the maximum of the minimum principal curvature, which is useful for selecting a barrel cutter with the greater strip-width. And the kinematic constraints of the CNC machine tool must be taken into account in this method. Secondly, the center point of circular arc generatrix is adjusted for avoiding the interferences between the tool shaft and the blade in process. Finally, the tool shaft diameter can be optimized to improve the tool rigidity while there is no interference between the tool shaft and the adjacent blades.

The remainder of this paper is organized as follows. Firstly, the overview of tool selection is introduced in Section  2. Then the geometric properties and location of four types of barrel cutters are described in Section  3. In particular, the optimal selection method of the barrel cutter is proposed for the CNC machining of blisk in Section  4. Next, numerical examples are implemented in Section  5 for proving the validity of the concept in this paper. Finally, conclusions are provided in Section  6.

@&#LITERATURE REVIEW@&#

The optimal size selection of the cylindrical or ball-end cutter is important for the machining of 2D-profiles or 3D-cavities, which could be machined using a single cutter or multiple cutters  [2–13]. With the development of rapid tool change mechanism, the optimal set of multiple tools and the tool sequence selection have been investigated by many scholars  [8–13].

Hatna et al.  [2] conducted a literature review on pocket machining papers published prior to 1998. Chen et al.  [10] introduced the methods for reducing the machining time of pockets in recent ten years. An overview of tool sequence selection for the machining of pockets was presented by Churchill  [11]. And four algorithms were tested in Ref.  [11]. Edalew  [12] and Wang  [13] all introduced the development of intelligent tool selection system.

The tool selection in the end milling has been a topic of industrial and academic interest in the CNC machining of freeform surfaces. Lasemi et al.  [1] proposed a brief overview of tool geometry selection in the roughing stage, semi-finish stage, finishing stage and clean-up stage.

Redonnet et al.  [14] introduced the previous works of effective cutting radius and presented an original analytical approach for calculating the effective cutting radius of toric tool. Jensen et al.  [15] described a tool selection method based on curvature matched machining. The radius, corner radius and length of toric tool were investigated in terms of machining errors and material removal rate. Lin et al.  [16] reviewed many methods based on curvature matching, and then developed a new accurate curvature matching algorithm for the optimal cutter by calculating the maximum tool size and optimizing tool orientations.

Zhang et al.  [17,18] developed an algorithm for calculating the accessible posture range of a toric tool. Accessibility information of all tools in a tool library was calculated and the feasible tools were subsequently identified. A tool with the optimal size was selected when one single cutter could finish the whole surface. A set of tools with the minimum machining time was selected if multiple tools were used for machining the different regions of freeform surface. Reddy and Rao  [19] established a surface roughness prediction model according to experimental results for the optimal tool geometry including radial rake angle and nose radius.

The tool selection in the flank milling has attracted more attention in recent years because of the advantages of flank milling which can improve the machining quality, reduce the machining time, etc. Harik and Gong  [20] introduced the previous works in the 5-axis flank milling, which included the works about tool geometry.

Elber et al.  [21] presented an automatic piecewise ruled surface approximation method in the flank milling with a cylindrical cutter. The ruled direction was set as the direction which was closest to the minimum principal direction in the tangent plane of freeform surface. Then the greatest tool radius was selected according to the maximum principal curvature. Monies et al.  [22] proposed a method for optimizing the size of conical cutter in the flank milling of a ruled surface. The bottom radius and half taper angle were determined by calculating the machining errors between tool surface and the designed surface. Zheng et al.  [23]offered a new method for tool size optimization with interference-free tool paths by considering the generic rotary tool as a set of spheres. But only the bottom radius of a conical tool was optimized with a fixed half taper angle.

Liu  [24] firstly presented the geometric relationship between the general barrel cutter and the designed surface. And the calculation method of error distribution at one cutter contact (CC) point was also given. Wang et al.  [25] suggested a tool positioning method in the flank milling of freeform surfaces using a general barrel cutter. To obtain the maximum strip-width without local gouges was the primary target of this method. But the size selection method for a general barrel cutter was ignored in their research.

Cai et al.  [26] presented a new drum-taper cutter which was different from the general barrel cutter for the flank milling of integrated impellers. Some principles were given for the dimension determination. The length of tool flute must be less than the barrel radius. And the reciprocal of barrel radius was less than the maximum curvature of the designed surface to avoid the local gouges. But the further discussion about the optimal size selection was not proposed. Li et al.  [27] proposed a new barrel-ball milling (BBM) cutter for the 5-axis machining of blisk. The BBM cutter could be considered as a drum-taper cutter with a ball end. The size of the BBM cutter was determined by the maximum of the maximum principal curvature on the freeform surface, which was similar with the selection principle in Ref.  [26]. This method was practicable but too conservative in the CNC machining of blisk.

A new method, named Computation of Adapted Tool Shape (CATS), was suggested by Chaves-Jacob  [28] for optimizing the tool shape in the flank milling of a ruled surface. The problem of local gouges could be solved by the CATS method, which modified the tool shape instead of tool paths. The profile of distances between tool axis and the ruled surface was firstly calculated at each tool position point on the tool paths. Then the tool shape could be adjusted following four different criteria. A half-barrel cutter with the lower values of overcut and undercut was finally selected. But only the radius of circular arc generatrix was optimized in Ref.  [28]. Bedi  [29] carried out a similar work but in the opposite direction. The freeform surface was designed considering the envelope surface of a barrel cutter in order to ensure that the designed surface was flank millable. The designed surface could be machined by the given barrel cutter with fine precision.

Zhu et al.  [30] optimized the maximum diameter of tool flute and the radius of circular arc generatrix for the lower machining errors using the envelope theory of sphere congruence, which was the same with that used in Ref.  [23]. The work in Ref.  [30] was exciting, but only the avoidance of local gouges was considered while the tool shaft diameter was not taken into account in the optimization algorithm.

The flute portion of barrel cutter is a revolving body of the circular arc generatrix. Barrel cutters referred in the previous works are shown in Fig. 1
                        . The general shape of barrel cutter is shown in Fig. 1(a). There are also three other barrel cutters. The one in Fig. 1(b) is drum-taper cutter proposed by Cai  [26]. And the BBM cutter  [27] is shown as Fig. 1(c). The last one shown in Fig. 1(d) is called half-barrel cutter which is referred in Ref.  [28]. The bottom shape of half-barrel cutter is similar with that of a toric tool.

The partial notations used in Section  3 are listed in Table 1
                        .

As shown in Fig. 2
                        , the surface of a general barrel cutter in the tool coordinate basis (
                           
                              
                                 X
                              
                              
                                 T
                              
                           
                           –
                           
                              
                                 Y
                              
                              
                                 T
                              
                           
                           –
                           
                              
                                 Z
                              
                              
                                 T
                              
                           
                        ) can be described by 
                           
                              
                                 Ψ
                              
                              
                                 
                                    Barrel
                                 
                              
                           
                         as Eq. (1), where 
                           ϕ
                           ∈
                           
                              [
                              −
                              arcsin
                              
                                 (
                                 
                                    
                                       L
                                    
                                    
                                       e
                                    
                                 
                                 /
                                 2
                                 
                                    
                                       R
                                    
                                    
                                       e
                                    
                                 
                                 )
                              
                              ,
                              arcsin
                              
                                 (
                                 
                                    
                                       L
                                    
                                    
                                       e
                                    
                                 
                                 /
                                 2
                                 
                                    
                                       R
                                    
                                    
                                       e
                                    
                                 
                                 )
                              
                              ]
                           
                         and 
                           c
                           =
                           
                              
                                 L
                              
                              
                                 e
                              
                           
                           /
                           2
                        . 
                           
                              (1)
                              
                                 
                                    
                                       ψ
                                    
                                    
                                       
                                          Barrel
                                       
                                    
                                 
                                 
                                    (
                                    θ
                                    ,
                                    ϕ
                                    )
                                 
                                 =
                                 
                                    
                                       
                                          (
                                          
                                             
                                                
                                                   
                                                      [
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            t
                                                         
                                                      
                                                      −
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                      
                                                         (
                                                         1
                                                         −
                                                         cos
                                                         ϕ
                                                         )
                                                      
                                                      ]
                                                   
                                                   cos
                                                   θ
                                                
                                             
                                             
                                                
                                                   
                                                      [
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            t
                                                         
                                                      
                                                      −
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                      
                                                         (
                                                         1
                                                         −
                                                         cos
                                                         ϕ
                                                         )
                                                      
                                                      ]
                                                   
                                                   sin
                                                   θ
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         L
                                                      
                                                      
                                                         e
                                                      
                                                   
                                                   /
                                                   2
                                                   +
                                                   
                                                      
                                                         R
                                                      
                                                      
                                                         e
                                                      
                                                   
                                                   sin
                                                   ϕ
                                                
                                             
                                          
                                          )
                                       
                                    
                                    
                                       T
                                    
                                 
                                 .
                              
                           
                        
                     

As shown in Fig. 3
                        , the surface of a typical drum-taper cutter in the tool coordinate basis (
                           
                              
                                 X
                              
                              
                                 T
                              
                           
                           –
                           
                              
                                 Y
                              
                              
                                 T
                              
                           
                           –
                           
                              
                                 Z
                              
                              
                                 T
                              
                           
                        ) can be described by 
                           
                              
                                 Ψ
                              
                              
                                 
                                    Drum
                                 
                                 _
                                 
                                    taper
                                 
                              
                           
                         as Eq. (2), where 
                           ϕ
                           ∈
                           
                              [
                              −
                              arcsin
                              
                                 (
                                 
                                    
                                       L
                                    
                                    
                                       e
                                    
                                 
                                 /
                                 
                                    
                                       R
                                    
                                    
                                       e
                                    
                                 
                                 )
                              
                              ,
                              0
                              ]
                           
                           ,
                           
                              
                                 D
                              
                              
                                 t
                              
                           
                           =
                           d
                         and 
                           c
                           =
                           
                              
                                 L
                              
                              
                                 e
                              
                           
                        . 
                           
                              (2)
                              
                                 
                                    
                                       ψ
                                    
                                    
                                       
                                          Drum
                                       
                                       _
                                       
                                          taper
                                       
                                    
                                 
                                 
                                    (
                                    θ
                                    ,
                                    ϕ
                                    )
                                 
                                 =
                                 
                                    
                                       
                                          (
                                          
                                             
                                                
                                                   
                                                      [
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            t
                                                         
                                                      
                                                      −
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                      
                                                         (
                                                         1
                                                         −
                                                         cos
                                                         ϕ
                                                         )
                                                      
                                                      ]
                                                   
                                                   cos
                                                   θ
                                                
                                             
                                             
                                                
                                                   
                                                      [
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            t
                                                         
                                                      
                                                      −
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                      
                                                         (
                                                         1
                                                         −
                                                         cos
                                                         ϕ
                                                         )
                                                      
                                                      ]
                                                   
                                                   sin
                                                   θ
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         L
                                                      
                                                      
                                                         e
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         R
                                                      
                                                      
                                                         e
                                                      
                                                   
                                                   sin
                                                   ϕ
                                                
                                             
                                          
                                          )
                                       
                                    
                                    
                                       T
                                    
                                 
                                 .
                              
                           
                        
                     

As shown in Fig. 4
                        , the surface of a barrel-ball milling cutter in the tool coordinate basis (
                           
                              
                                 X
                              
                              
                                 T
                              
                           
                           –
                           
                              
                                 Y
                              
                              
                                 T
                              
                           
                           –
                           
                              
                                 Z
                              
                              
                                 T
                              
                           
                        ) can be described by 
                           
                              
                                 Ψ
                              
                              
                                 
                                    BBM
                                 
                              
                           
                         as Eq. (3), where 
                           ϕ
                           ∈
                           
                              [
                              −
                              arctan
                              
                                 (
                                 
                                    
                                       L
                                    
                                    
                                       e
                                    
                                 
                                 /
                                 
                                    |
                                    a
                                    |
                                 
                                 )
                              
                              ,
                              0
                              ]
                           
                           ,
                           
                              
                                 D
                              
                              
                                 t
                              
                           
                           =
                           d
                         and 
                           c
                           =
                           
                              
                                 L
                              
                              
                                 e
                              
                           
                        . The 
                           
                              
                                 ϕ
                              
                              
                                 ′
                              
                           
                         satisfies Eq. (4). 
                           
                              
                                 (3)
                                 
                                    
                                       
                                          ψ
                                       
                                       
                                          
                                             BBM
                                          
                                       
                                    
                                    
                                       (
                                       θ
                                       ,
                                       ϕ
                                       )
                                    
                                    =
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         (
                                                         
                                                            
                                                               
                                                                  
                                                                     [
                                                                     
                                                                        
                                                                           R
                                                                        
                                                                        
                                                                           t
                                                                        
                                                                     
                                                                     −
                                                                     
                                                                        
                                                                           R
                                                                        
                                                                        
                                                                           e
                                                                        
                                                                     
                                                                     
                                                                        (
                                                                        1
                                                                        −
                                                                        cos
                                                                        ϕ
                                                                        )
                                                                     
                                                                     ]
                                                                  
                                                                  cos
                                                                  θ
                                                               
                                                            
                                                            
                                                               
                                                                  
                                                                     [
                                                                     
                                                                        
                                                                           R
                                                                        
                                                                        
                                                                           t
                                                                        
                                                                     
                                                                     −
                                                                     
                                                                        
                                                                           R
                                                                        
                                                                        
                                                                           e
                                                                        
                                                                     
                                                                     
                                                                        (
                                                                        1
                                                                        −
                                                                        cos
                                                                        ϕ
                                                                        )
                                                                     
                                                                     ]
                                                                  
                                                                  sin
                                                                  θ
                                                               
                                                            
                                                            
                                                               
                                                                  
                                                                     
                                                                        L
                                                                     
                                                                     
                                                                        e
                                                                     
                                                                  
                                                                  +
                                                                  
                                                                     
                                                                        R
                                                                     
                                                                     
                                                                        e
                                                                     
                                                                  
                                                                  sin
                                                                  ϕ
                                                               
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      T
                                                   
                                                
                                                −
                                                
                                                   
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                      −
                                                      r
                                                   
                                                   
                                                      
                                                         |
                                                         a
                                                         |
                                                      
                                                   
                                                
                                                <
                                                tan
                                                ϕ
                                                ≤
                                                0
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         (
                                                         
                                                            
                                                               
                                                                  r
                                                                  cos
                                                                  
                                                                     (
                                                                     ϕ
                                                                     +
                                                                     
                                                                        
                                                                           ϕ
                                                                        
                                                                        
                                                                           ′
                                                                        
                                                                     
                                                                     )
                                                                  
                                                                  cos
                                                                  θ
                                                               
                                                            
                                                            
                                                               
                                                                  r
                                                                  cos
                                                                  
                                                                     (
                                                                     ϕ
                                                                     +
                                                                     
                                                                        
                                                                           ϕ
                                                                        
                                                                        
                                                                           ′
                                                                        
                                                                     
                                                                     )
                                                                  
                                                                  sin
                                                                  θ
                                                               
                                                            
                                                            
                                                               
                                                                  r
                                                                  
                                                                     [
                                                                     1
                                                                     +
                                                                     sin
                                                                     
                                                                        (
                                                                        ϕ
                                                                        +
                                                                        
                                                                           
                                                                              ϕ
                                                                           
                                                                           
                                                                              ′
                                                                           
                                                                        
                                                                        )
                                                                     
                                                                     ]
                                                                  
                                                               
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      T
                                                   
                                                
                                                −
                                                
                                                   
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         |
                                                         a
                                                         |
                                                      
                                                   
                                                
                                                <
                                                tan
                                                ϕ
                                                ≤
                                                −
                                                
                                                   
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                      −
                                                      r
                                                   
                                                   
                                                      
                                                         |
                                                         a
                                                         |
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              
                                 (4)
                                 
                                    
                                       
                                          ϕ
                                       
                                       
                                          ′
                                       
                                    
                                    =
                                    −
                                    arcsin
                                    
                                       
                                          
                                             [
                                             
                                                |
                                                a
                                                |
                                             
                                             tan
                                             ϕ
                                             −
                                             
                                                (
                                                
                                                   
                                                      L
                                                   
                                                   
                                                      e
                                                   
                                                
                                                −
                                                r
                                                )
                                             
                                             ]
                                          
                                          cos
                                          ϕ
                                       
                                       
                                          r
                                       
                                    
                                    −
                                    
                                       
                                          
                                             
                                                L
                                             
                                             
                                                e
                                             
                                          
                                       
                                       
                                          
                                             |
                                             a
                                             |
                                          
                                       
                                    
                                    <
                                    tan
                                    ϕ
                                    ≤
                                    −
                                    
                                       
                                          
                                             
                                                L
                                             
                                             
                                                e
                                             
                                          
                                          −
                                          r
                                       
                                       
                                          
                                             |
                                             a
                                             |
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        
                     

As shown in Fig. 5
                        , the surface of a half-barrel cutter in the tool coordinate basis (
                           
                              
                                 X
                              
                              
                                 T
                              
                           
                           –
                           
                              
                                 Y
                              
                              
                                 T
                              
                           
                           –
                           
                              
                                 Z
                              
                              
                                 T
                              
                           
                        ) can be described by 
                           
                              
                                 Ψ
                              
                              
                                 
                                    Half
                                 
                                 _
                                 
                                    barrel
                                 
                              
                           
                         as Eq. (5), where 
                           ϕ
                           ∈
                           
                              [
                              −
                              arctan
                              
                                 [
                                 r
                                 /
                                 
                                    (
                                    
                                       |
                                       a
                                       |
                                    
                                    +
                                    
                                       
                                          R
                                       
                                       
                                          t
                                       
                                    
                                    −
                                    r
                                    )
                                 
                                 ]
                              
                              ,
                              arcsin
                              
                                 [
                                 
                                    (
                                    
                                       (
                                       
                                          
                                             L
                                          
                                          
                                             e
                                          
                                       
                                       −
                                       r
                                       )
                                    
                                    /
                                    
                                       
                                          R
                                       
                                       
                                          e
                                       
                                    
                                    )
                                 
                                 ]
                              
                              ]
                           
                         and 
                           c
                           =
                           r
                        . The 
                           
                              
                                 ϕ
                              
                              
                                 ″
                              
                           
                         satisfies Eq. (6). 
                           
                              
                                 (5)
                                 
                                    
                                       
                                          ψ
                                       
                                       
                                          
                                             Half
                                          
                                          _
                                          
                                             barrel
                                          
                                       
                                    
                                    
                                       (
                                       θ
                                       ,
                                       ϕ
                                       )
                                    
                                    =
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         (
                                                         
                                                            
                                                               
                                                                  
                                                                     [
                                                                     
                                                                        
                                                                           R
                                                                        
                                                                        
                                                                           t
                                                                        
                                                                     
                                                                     −
                                                                     
                                                                        
                                                                           R
                                                                        
                                                                        
                                                                           e
                                                                        
                                                                     
                                                                     
                                                                        (
                                                                        1
                                                                        −
                                                                        cos
                                                                        ϕ
                                                                        )
                                                                     
                                                                     ]
                                                                  
                                                                  cos
                                                                  θ
                                                               
                                                            
                                                            
                                                               
                                                                  
                                                                     [
                                                                     
                                                                        
                                                                           R
                                                                        
                                                                        
                                                                           t
                                                                        
                                                                     
                                                                     −
                                                                     
                                                                        
                                                                           R
                                                                        
                                                                        
                                                                           e
                                                                        
                                                                     
                                                                     
                                                                        (
                                                                        1
                                                                        −
                                                                        cos
                                                                        ϕ
                                                                        )
                                                                     
                                                                     ]
                                                                  
                                                                  sin
                                                                  θ
                                                               
                                                            
                                                            
                                                               
                                                                  r
                                                                  +
                                                                  
                                                                     
                                                                        R
                                                                     
                                                                     
                                                                        e
                                                                     
                                                                  
                                                                  sin
                                                                  ϕ
                                                               
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      T
                                                   
                                                
                                                0
                                                <
                                                sin
                                                ϕ
                                                ≤
                                                
                                                   
                                                      
                                                         
                                                            L
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                      −
                                                      r
                                                   
                                                   
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         (
                                                         
                                                            
                                                               
                                                                  r
                                                                  cos
                                                                  
                                                                     (
                                                                     ϕ
                                                                     +
                                                                     
                                                                        
                                                                           ϕ
                                                                        
                                                                        
                                                                           ″
                                                                        
                                                                     
                                                                     )
                                                                  
                                                                  cos
                                                                  θ
                                                               
                                                            
                                                            
                                                               
                                                                  r
                                                                  cos
                                                                  
                                                                     (
                                                                     ϕ
                                                                     +
                                                                     
                                                                        
                                                                           ϕ
                                                                        
                                                                        
                                                                           ″
                                                                        
                                                                     
                                                                     )
                                                                  
                                                                  sin
                                                                  θ
                                                               
                                                            
                                                            
                                                               
                                                                  r
                                                                  
                                                                     [
                                                                     1
                                                                     +
                                                                     sin
                                                                     
                                                                        (
                                                                        ϕ
                                                                        +
                                                                        
                                                                           
                                                                              ϕ
                                                                           
                                                                           
                                                                              ″
                                                                           
                                                                        
                                                                        )
                                                                     
                                                                     ]
                                                                  
                                                               
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      T
                                                   
                                                
                                                −
                                                
                                                   
                                                      r
                                                   
                                                   
                                                      
                                                         |
                                                         a
                                                         |
                                                      
                                                      +
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            t
                                                         
                                                      
                                                      −
                                                      r
                                                   
                                                
                                                <
                                                tan
                                                ϕ
                                                ≤
                                                0
                                             
                                          
                                       
                                    
                                 
                              
                              
                                 (6)
                                 
                                    
                                       
                                          ϕ
                                       
                                       
                                          ″
                                       
                                    
                                    =
                                    −
                                    arcsin
                                    
                                       
                                          
                                             (
                                             
                                                |
                                                a
                                                |
                                             
                                             +
                                             
                                                
                                                   R
                                                
                                                
                                                   t
                                                
                                             
                                             −
                                             r
                                             )
                                          
                                          sin
                                          ϕ
                                       
                                       
                                          r
                                       
                                    
                                    −
                                    
                                       
                                          r
                                       
                                       
                                          
                                             |
                                             a
                                             |
                                          
                                          +
                                          
                                             
                                                R
                                             
                                             
                                                t
                                             
                                          
                                          −
                                          r
                                       
                                    
                                    ≤
                                    tan
                                    ϕ
                                    ≤
                                    0
                                    .
                                 
                              
                           
                        
                     

As shown in Fig. 6
                        , the center point 
                           C
                           
                              (
                              a
                              ,
                              c
                              )
                           
                         can be adjusted for different shapes of barrel cutter. When the point 
                           C
                           
                              (
                              a
                              ,
                              c
                              )
                           
                         is at the position 
                           
                              
                                 C
                              
                              
                                 0
                              
                           
                         where 
                           c
                           =
                           
                              
                                 L
                              
                              
                                 e
                              
                           
                         in the tool coordinate basis, this tool is a typical drum-taper cutter and the generatrix 
                           
                              
                                 G
                              
                              
                                 0
                              
                           
                         could be regarded as the down half of a general barrel cutter. If the point 
                           C
                           
                              (
                              a
                              ,
                              c
                              )
                           
                         is adjusted to the position 
                           
                              
                                 C
                              
                              
                                 2
                              
                           
                         where 
                           c
                           =
                           0
                          in the tool coordinate basis, this tool could be regarded as a typical half-barrel cutter without the toric portion. If the point 
                           C
                           
                              (
                              a
                              ,
                              c
                              )
                           
                         is adjusted to the position 
                           
                              
                                 C
                              
                              
                                 1
                              
                           
                         where 
                           c
                           >
                           
                              
                                 L
                              
                              
                                 e
                              
                           
                         in the tool coordinate basis, this tool is a non-typical drum-taper cutter, which could be regarded as a portion of the typical drum-taper cutter. But the bottom size of non-typical drum-taper cutter is less than that of other three barrel cutters when 
                           d
                         and 
                           
                              
                                 L
                              
                              
                                 e
                              
                           
                         are same.

The surface of a non-typical drum-taper cutter in the tool coordinate basis (
                           
                              
                                 X
                              
                              
                                 T
                              
                           
                           –
                           
                              
                                 Y
                              
                              
                                 T
                              
                           
                           –
                           
                              
                                 Z
                              
                              
                                 T
                              
                           
                        ) can be described by 
                           
                              
                                 ψ
                              
                              
                                 
                                    Drum
                                 
                                 _
                                 
                                    taper
                                 
                              
                              
                                 ′
                              
                           
                         as Eq. (7), where 
                           ϕ
                           ∈
                           
                              [
                              −
                              arcsin
                              
                                 (
                                 c
                                 /
                                 
                                    
                                       R
                                    
                                    
                                       e
                                    
                                 
                                 )
                              
                              ,
                              −
                              arcsin
                              
                                 [
                                 
                                    (
                                    c
                                    −
                                    
                                       
                                          L
                                       
                                       
                                          e
                                       
                                    
                                    )
                                 
                                 /
                                 
                                    
                                       R
                                    
                                    
                                       e
                                    
                                 
                                 ]
                              
                              ]
                           
                         and 
                           c
                           >
                           
                              
                                 L
                              
                              
                                 e
                              
                           
                        . And the 
                           
                              
                                 R
                              
                              
                                 t
                              
                              
                                 ′
                              
                           
                         is equal to 
                           
                              (
                              
                                 
                                    R
                                 
                                 
                                    e
                                 
                              
                              −
                              
                                 |
                                 a
                                 |
                              
                              )
                           
                        .
                           
                              (7)
                              
                                 
                                    
                                       ψ
                                    
                                    
                                       
                                          Drum
                                       
                                       _
                                       
                                          taper
                                       
                                    
                                    
                                       ′
                                    
                                 
                                 
                                    (
                                    θ
                                    ,
                                    ϕ
                                    )
                                 
                                 =
                                 
                                    
                                       
                                          (
                                          
                                             
                                                
                                                   
                                                      [
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            t
                                                         
                                                         
                                                            ′
                                                         
                                                      
                                                      −
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                      
                                                         (
                                                         1
                                                         −
                                                         cos
                                                         ϕ
                                                         )
                                                      
                                                      ]
                                                   
                                                   cos
                                                   θ
                                                
                                             
                                             
                                                
                                                   
                                                      [
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            t
                                                         
                                                         
                                                            ′
                                                         
                                                      
                                                      −
                                                      
                                                         
                                                            R
                                                         
                                                         
                                                            e
                                                         
                                                      
                                                      
                                                         (
                                                         1
                                                         −
                                                         cos
                                                         ϕ
                                                         )
                                                      
                                                      ]
                                                   
                                                   sin
                                                   θ
                                                
                                             
                                             
                                                
                                                   c
                                                   +
                                                   
                                                      
                                                         R
                                                      
                                                      
                                                         e
                                                      
                                                   
                                                   sin
                                                   ϕ
                                                
                                             
                                          
                                          )
                                       
                                    
                                    
                                       T
                                    
                                 
                                 .
                              
                           
                        
                     

The positive normal vector of tool surface is defined as the direction that points to the interior of the barrel cutter. So the both principal curvatures, 
                           
                              
                                 k
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 k
                              
                              
                                 2
                              
                           
                        , shown as Eq. (8) are positive. The signs of 
                           
                              
                                 k
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 k
                              
                              
                                 2
                              
                           
                         would be changed if the direction of normal vector is changed. As shown in Fig. 7
                        , the direction of principal curvature 
                           
                              
                                 k
                              
                              
                                 1
                              
                           
                         is tangent to the circular arc generatrix and the direction of principal curvature 
                           
                              
                                 k
                              
                              
                                 2
                              
                           
                         is tangent to the revolution circle. Then a tool local coordinate basis (
                           
                              
                                 X
                              
                              
                                 T
                                 L
                              
                           
                           –
                           
                              
                                 Y
                              
                              
                                 T
                                 L
                              
                           
                           –
                           
                              
                                 Z
                              
                              
                                 T
                                 L
                              
                           
                        ) is established at point 
                           P
                         along the principal directions. The 
                           
                              
                                 Y
                              
                              
                                 T
                                 L
                              
                           
                        -axis is along the direction of principal curvature 
                           
                              
                                 k
                              
                              
                                 1
                              
                           
                         while the 
                           
                              
                                 X
                              
                              
                                 T
                                 L
                              
                           
                        -axis is along the direction of principal curvature 
                           
                              
                                 k
                              
                              
                                 2
                              
                           
                        . Then the 
                           
                              
                                 Z
                              
                              
                                 T
                                 L
                              
                           
                        -axis is obtained by the right hand rule. 
                           
                              (8)
                              
                                 
                                    {
                                    
                                       
                                          
                                             
                                                
                                                   k
                                                
                                                
                                                   1
                                                
                                             
                                             =
                                             
                                                
                                                   1
                                                
                                                
                                                   
                                                      
                                                         R
                                                      
                                                      
                                                         e
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   k
                                                
                                                
                                                   2
                                                
                                             
                                             =
                                             
                                                
                                                   cos
                                                   ϕ
                                                
                                                
                                                   
                                                      
                                                         R
                                                      
                                                      
                                                         t
                                                      
                                                   
                                                   −
                                                   
                                                      
                                                         R
                                                      
                                                      
                                                         e
                                                      
                                                   
                                                   
                                                      (
                                                      1
                                                      −
                                                      cos
                                                      ϕ
                                                      )
                                                   
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     


                        
                           
                              
                                 R
                              
                              
                                 t
                              
                           
                         is generally less than 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                        . When the 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                         tends to be positive infinity, the tool could be regarded as a cylindrical cutter, where 
                           
                              
                                 k
                              
                              
                                 1
                              
                           
                           =
                           0
                         and 
                           
                              
                                 k
                              
                              
                                 2
                              
                           
                           =
                           1
                           /
                           
                              
                                 R
                              
                              
                                 t
                              
                           
                        .

As shown in Fig. 8
                        , the barrel cutter is rotated with the inclination angle 
                           
                              
                                 λ
                              
                              
                                 L
                              
                           
                         and the yaw angle 
                           
                              
                                 ω
                              
                              
                                 L
                              
                           
                         in the multi-axis machining of freeform surface.

When a barrel cutter is tangent to the designed surface at the CC point, the normal vector of the designed surface is the same with that of the tool surface. As shown in Fig. 8, a local coordinate basis (
                           
                              
                                 X
                              
                              
                                 S
                                 L
                              
                           
                           –
                           
                              
                                 Y
                              
                              
                                 S
                                 L
                              
                           
                           –
                           
                              
                                 Z
                              
                              
                                 S
                                 L
                              
                           
                        ) on the designed surface is defined. The angle between the 
                           
                              
                                 Z
                              
                              
                                 S
                                 L
                              
                           
                        -axis and the plane 
                           
                              
                                 Z
                              
                              
                                 T
                              
                           
                           =
                           0
                         is the inclination angle 
                           
                              
                                 λ
                              
                              
                                 L
                              
                           
                         and 
                           
                              
                                 λ
                              
                              
                                 L
                              
                           
                           =
                           −
                           ϕ
                        . 
                           
                              
                                 ω
                              
                              
                                 L
                              
                           
                         is the rotation angle of the tool local coordinate basis (
                           
                              
                                 X
                              
                              
                                 T
                                 L
                              
                           
                           –
                           
                              
                                 Y
                              
                              
                                 T
                                 L
                              
                           
                           –
                           
                              
                                 Z
                              
                              
                                 T
                                 L
                              
                           
                        ) along the 
                           
                              
                                 Z
                              
                              
                                 S
                                 L
                              
                           
                        -axis. So the orientation of barrel cutter can be adjusted by the variations of 
                           
                              
                                 λ
                              
                              
                                 L
                              
                           
                         and 
                           
                              
                                 ω
                              
                              
                                 L
                              
                           
                        .

As shown in Fig. 9
                        , the tool orientations of a general barrel cutter and a drum-taper cutter are different when the barrel radius is same and the middle point of circular arc generatrix is used as the cutter contact point. The global interferences between the tool shaft of general barrel cutter and the blade in process are easier to occur than that between the tool shaft of drum-taper cutter and the blade in process. It is because that the top of drum-taper cutter is further away from the machined blade at the moment. But the global interferences between the tool shaft of drum-taper cutter and the adjacent blades may be easier to occur.

The tool shaft diameter 
                           d
                         of drum-taper cutter or BBM cutter is greater in the four types of barrel cutters when the maximum diameter 
                           
                              
                                 D
                              
                              
                                 t
                              
                           
                         is same. So the tool shaft rigidity of drum-taper cutter or BBM cutter is better, which is more helpful for the machining precision. And the position of point 
                           C
                           
                              (
                              a
                              ,
                              c
                              )
                           
                         could affect the selection of tool shaft diameter 
                           d
                         when the barrel radius 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                         is fixed.

In the previous works, the four types of barrel cutters have been applied in the different fields. The drum-taper cutter and BBM cutter are often selected when the accessible space is limited. The general barrel cutter is generally selected in the machining of freeform surfaces with the sufficient machining space. The half-barrel cutter is not popular and just used for the non-developable ruled surface at the moment. So the drum-taper cutter and BBM cutter are considered as the more available barrel cutters for the CNC machining of blisk, which can fully exploit the limited space between the adjacent blades of blisk.

The size of tool flute portion is related to the local gouges while the size of tool shaft is related to the global interferences in the CNC machining of blisk. The 
                        
                           
                              k
                           
                           
                              
                                 max
                              
                           
                        
                      and 
                        
                           
                              k
                           
                           
                              
                                 min
                              
                           
                        
                      are defined as the maximum principal curvature and the minimum principal curvature, respectively at one CC point on the designed surface. The maximum of 
                        
                           
                              k
                           
                           
                              
                                 max
                              
                           
                        
                      on the designed surface is generally used to select the 
                        
                           
                              R
                           
                           
                              e
                           
                        
                      and 
                        
                           
                              R
                           
                           
                              t
                           
                        
                      according to Eq. (9) in the traditional method.
                        
                           (9)
                           
                              
                                 {
                                 
                                    
                                       
                                          
                                             
                                                k
                                             
                                             
                                                1
                                             
                                          
                                          >
                                          max
                                          
                                             (
                                             
                                                
                                                   k
                                                
                                                
                                                   
                                                      max
                                                   
                                                
                                             
                                             )
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                k
                                             
                                             
                                                2
                                             
                                          
                                          >
                                          max
                                          
                                             (
                                             
                                                
                                                   k
                                                
                                                
                                                   
                                                      max
                                                   
                                                
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

The tool flute size selected by the traditional method is feasible but terribly conservative, which is not helpful for fully exploiting the productivity of barrel cutters in the flank milling. And the tool shaft diameter is ignored in the previous works. Therefore, this paper presents a new method in order to select an optimal barrel cutter for the high efficient machining of blisk.

As shown in Fig. 10
                           , the maximum principal curvature direction and the minimum principal curvature direction are denoted by 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          
                                             max
                                          
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            and 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          
                                             min
                                          
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                           , respectively. The 
                              
                                 
                                    k
                                 
                                 
                                    e
                                 
                              
                            is the curvature at the CC point while the curvature direction 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            is the common tangent vector of the designed surface and the circular arc generatrix. The 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                              ,
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          
                                             max
                                          
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            and 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          
                                             min
                                          
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            are on the same tangent plane of the designed surface. And 
                              α
                            is also the angle between the vector 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            and 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          
                                             max
                                          
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                           .

In this paper, the 
                              max
                              
                                 (
                                 
                                    
                                       k
                                    
                                    
                                       
                                          min
                                       
                                    
                                 
                                 )
                              
                            and 
                              max
                              
                                 (
                                 
                                    
                                       k
                                    
                                    
                                       
                                          max
                                       
                                    
                                 
                                 )
                              
                            on the designed surface are analyzed for selecting the optimal 
                              
                                 
                                    R
                                 
                                 
                                    e
                                 
                              
                            and 
                              
                                 
                                    R
                                 
                                 
                                    t
                                 
                              
                           , respectively if the kinematic constraints of CNC machine tool are not considered. The curvatures 
                              
                                 
                                    k
                                 
                                 
                                    1
                                 
                              
                            and 
                              
                                 
                                    k
                                 
                                 
                                    2
                                 
                              
                            should satisfy Eq. (10), which is different from that in the traditional methods. 
                              
                                 (10)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      1
                                                   
                                                
                                                >
                                                max
                                                
                                                   (
                                                   
                                                      
                                                         k
                                                      
                                                      
                                                         
                                                            min
                                                         
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      2
                                                   
                                                
                                                >
                                                max
                                                
                                                   (
                                                   
                                                      
                                                         k
                                                      
                                                      
                                                         
                                                            max
                                                         
                                                      
                                                   
                                                   )
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Besides the constraint of 
                              
                                 
                                    k
                                 
                                 
                                    2
                                 
                              
                              >
                              max
                              
                                 (
                                 
                                    
                                       k
                                    
                                    
                                       
                                          min
                                       
                                    
                                 
                                 )
                              
                              ,
                              
                                 
                                    R
                                 
                                 
                                    t
                                 
                              
                            is also restricted by the shortest distance 
                              
                                 
                                    D
                                 
                                 
                                    
                                       min
                                    
                                 
                              
                            between the adjacent blades of blisk. If the 
                              max
                              
                                 (
                                 
                                    
                                       k
                                    
                                    
                                       
                                          max
                                       
                                    
                                 
                                 )
                              
                              ≤
                              0
                           , then a cylindrical or conical cutter should be selected, i.e.  
                              
                                 
                                    k
                                 
                                 
                                    1
                                 
                              
                              =
                              0
                           . So this method is also applicable to a ruled surface.

As the selection principle 
                              
                                 
                                    k
                                 
                                 
                                    1
                                 
                              
                              >
                              max
                              
                                 (
                                 
                                    
                                       k
                                    
                                    
                                       
                                          min
                                       
                                    
                                 
                                 )
                              
                            proposed in this paper, the variation range of vector 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            is narrowed though the 
                              
                                 
                                    R
                                 
                                 
                                    e
                                 
                              
                            is greater. The vector 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            of a feasible tool orientation at the CC point nearly coincides with the vector 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          
                                             min
                                          
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                           . And the closer the 
                              
                                 
                                    k
                                 
                                 
                                    1
                                 
                              
                            and 
                              
                                 
                                    k
                                 
                                 
                                    
                                       min
                                    
                                 
                              
                            are, the narrower the feasible motion range of barrel cutter is. In particular, if the 
                              
                                 
                                    k
                                 
                                 
                                    1
                                 
                              
                              =
                              
                                 
                                    k
                                 
                                 
                                    
                                       min
                                    
                                 
                              
                           , then the vector 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            of the only feasible tool orientation and the vector 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          
                                             min
                                          
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            are in the same direction.

But the angle of rotation axis may exceed the motion range if the kinematic constraints of a 5-axis machine tool are not taken into account. In order to avoid this problem, kinematic constraints should be defined as another constraint condition and the motion range of every rotation axis should be checked in the 
                              G
                           -codes.

The kinematic constraints of CNC machine tool are considered for the practical application of this method in this section. Two cases with kinematic constraints are discussed as follows.

As shown in Fig. 11
                           , the tool axis of barrel cutter at each CC point must be on a series of parallel planes 
                              
                                 {
                                 
                                    
                                       P
                                    
                                    
                                       i
                                    
                                 
                                 |
                                 i
                                 =
                                 1
                                 ,
                                 2
                                 ,
                                 …
                                 ,
                                 n
                                 }
                              
                            in the 4-axis machining. And the normal vector of plane 
                              
                                 
                                    P
                                 
                                 
                                    i
                                 
                              
                            is denoted by 
                              
                                 
                                    
                                       
                                          n
                                       
                                       
                                          i
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            which satisfies the condition 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                              ⋅
                              
                                 
                                    
                                       
                                          n
                                       
                                       
                                          i
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                              =
                              0
                           . The curvature direction of 
                              
                                 
                                    k
                                 
                                 
                                    t
                                 
                              
                              ,
                              
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          t
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                           , is perpendicular to the vector 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                           .

The values of curvature 
                              
                                 
                                    k
                                 
                                 
                                    e
                                 
                              
                            and 
                              
                                 
                                    k
                                 
                                 
                                    t
                                 
                              
                            could be obtained by Eq. (11). 
                              
                                 (11)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      e
                                                   
                                                
                                                =
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      
                                                         max
                                                      
                                                   
                                                
                                                
                                                   
                                                      cos
                                                   
                                                   
                                                      2
                                                   
                                                
                                                α
                                                +
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      
                                                         min
                                                      
                                                   
                                                
                                                
                                                   
                                                      sin
                                                   
                                                   
                                                      2
                                                   
                                                
                                                α
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      t
                                                   
                                                
                                                =
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      
                                                         max
                                                      
                                                   
                                                
                                                
                                                   
                                                      sin
                                                   
                                                   
                                                      2
                                                   
                                                
                                                α
                                                +
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      
                                                         min
                                                      
                                                   
                                                
                                                
                                                   
                                                      cos
                                                   
                                                   
                                                      2
                                                   
                                                
                                                α
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

So the tool flute size of barrel cutter should satisfy Eq. (12) in the 4-axis machining of blisk. Similarly, if the 
                              max
                              
                                 (
                                 
                                    
                                       k
                                    
                                    
                                       e
                                    
                                 
                                 )
                              
                              ≤
                              0
                           , a cylindrical or conical cutter could be selected. And the 
                              
                                 
                                    k
                                 
                                 
                                    2
                                 
                              
                            also could be simply selected according to the 
                              max
                              
                                 (
                                 
                                    
                                       k
                                    
                                    
                                       
                                          max
                                       
                                    
                                 
                                 )
                              
                           . 
                              
                                 (12)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      1
                                                   
                                                
                                                >
                                                max
                                                
                                                   (
                                                   
                                                      
                                                         k
                                                      
                                                      
                                                         e
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      2
                                                   
                                                
                                                >
                                                max
                                                
                                                   (
                                                   
                                                      
                                                         k
                                                      
                                                      
                                                         t
                                                      
                                                   
                                                   )
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

As shown in Fig. 12
                           , the space is divided into eight quadrants at the CC point by the plane 
                              
                                 
                                    P
                                 
                                 
                                    A
                                 
                              
                              ,
                              
                                 
                                    P
                                 
                                 
                                    B
                                 
                              
                            and the designed surface. When only the tool axis vectors in the quadrant 
                              I
                            are allowable due to the kinematic constraints of CNC machine tool, the 
                              max
                              
                                 (
                                 
                                    
                                       k
                                    
                                    
                                       
                                          min
                                       
                                    
                                 
                                 )
                              
                            may be not appropriate for the selection of 
                              
                                 
                                    k
                                 
                                 
                                    1
                                 
                              
                           .

The vectors 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                       
                                          ′
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            and 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                       
                                          ″
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            are on the plane 
                              
                                 
                                    P
                                 
                                 
                                    A
                                 
                              
                            and 
                              
                                 
                                    P
                                 
                                 
                                    B
                                 
                              
                           , respectively while 
                              
                                 
                                    α
                                 
                                 
                                    ′
                                 
                              
                            is the angle between the vector 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                       
                                          ′
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            to 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                       
                                          ″
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                           . The minimum curvature 
                              
                                 
                                    k
                                 
                                 
                                    
                                       min
                                    
                                 
                                 
                                    ′
                                 
                              
                            should be calculated in the range of the vector 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                       
                                          ″
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            to 
                              
                                 
                                    
                                       
                                          k
                                       
                                       
                                          e
                                       
                                       
                                          ′
                                       
                                    
                                 
                                 
                                    ⃗
                                 
                              
                            along the normal vector of the designed surface. Then the 
                              max
                              
                                 (
                                 
                                    
                                       k
                                    
                                    
                                       
                                          min
                                       
                                    
                                    
                                       ′
                                    
                                 
                                 )
                              
                            is used for the selection of 
                              
                                 
                                    k
                                 
                                 
                                    1
                                 
                              
                            as Eq. (13). 
                              
                                 (13)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      1
                                                   
                                                
                                                >
                                                max
                                                
                                                   (
                                                   
                                                      
                                                         k
                                                      
                                                      
                                                         
                                                            min
                                                         
                                                      
                                                      
                                                         ′
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      k
                                                   
                                                   
                                                      2
                                                   
                                                
                                                >
                                                max
                                                
                                                   (
                                                   
                                                      
                                                         k
                                                      
                                                      
                                                         
                                                            max
                                                         
                                                      
                                                   
                                                   )
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Because the kinematic constraints are related to the machine tool configuration, more detailed explanation and application are provided by the numerical examples in Section  5.

The center point 
                              C
                              
                                 (
                                 a
                                 ,
                                 c
                                 )
                              
                            of circular arc generatrix can affect the shape of tool flute and the tool orientation. In order to avoid the interferences between the tool shaft and the blade in process, the position of point 
                              C
                              
                                 (
                                 a
                                 ,
                                 c
                                 )
                              
                            in the tool coordinate basis (
                              
                                 
                                    X
                                 
                                 
                                    T
                                 
                              
                              –
                              
                                 
                                    Y
                                 
                                 
                                    T
                                 
                              
                              –
                              
                                 
                                    Z
                                 
                                 
                                    T
                                 
                              
                           ) is adjusted as the process described in Figs. 13 and 14
                           
                           .

The initial position of point 
                              C
                              
                                 (
                                 a
                                 ,
                                 c
                                 )
                              
                            is determined as 
                              c
                              =
                              
                                 
                                    L
                                 
                                 
                                    e
                                 
                              
                           . This means that a typical drum-taper cutter is selected as the initial cutter for the next optimization. The initial value of 
                              
                                 
                                    D
                                 
                                 
                                    t
                                 
                              
                            is generally defined as the shortest distance 
                              
                                 
                                    D
                                 
                                 
                                    
                                       min
                                    
                                 
                              
                            between the adjacent blades of blisk in this paper. As shown in Fig. 13, the adjustment of point 
                              C
                              
                                 (
                                 a
                                 ,
                                 c
                                 )
                              
                            is carried out according to the following steps. 
                              
                                 
                                    Step  1:
                                 Input the initial tool parameters;

Generate tool paths using the initial cutter within the tolerance of 0.01 mm and scallop height of 0.01 mm in Unigraphics (UG);

Calculate the distances between the tool axis and the blade in process for checking the global interferences;

If there is no interference, record the tool parameters and go to Step  6. Otherwise, record the CC point with the worst interference and go to the next step;

As shown in Fig. 14, calculate the angle 
                                       δ
                                    . Then the tool axis and the straight line generatrix are rotated 
                                       
                                          Δ
                                       
                                       ε
                                     around the point 
                                       A
                                    , and go to Step  3;

Calculate the position of point 
                                       C
                                       
                                          (
                                          a
                                          ,
                                          c
                                          )
                                       
                                     on the plane (
                                       
                                          
                                             X
                                          
                                          
                                             T
                                          
                                       
                                       –
                                       
                                          
                                             Z
                                          
                                          
                                             T
                                          
                                       
                                    );

Output the feasible point 
                                       C
                                       
                                          (
                                          a
                                          ,
                                          c
                                          )
                                       
                                    .

As shown in Fig. 14, the global interference at this CC point is the worst. The drum-taper cutter in the solid line is the initial cutter with the tool axis 
                              
                                 
                                    T
                                 
                                 
                                    
                                       axis
                                    
                                 
                              
                            while the drum-taper cutter in the dotted line is the new cutter with the tool axis 
                              
                                 
                                    T
                                 
                                 
                                    
                                       axis
                                    
                                 
                                 
                                    ′
                                 
                              
                            after the adjustment of point 
                              C
                              
                                 (
                                 a
                                 ,
                                 c
                                 )
                              
                           . 
                              D
                            is the top point of the blade in process on the plane (
                              
                                 
                                    X
                                 
                                 
                                    T
                                 
                              
                              –
                              
                                 
                                    Z
                                 
                                 
                                    T
                                 
                              
                           ). The circular arc AB is the generatrix of tool flute and 
                              M
                            is the CC point on the tool surface. 
                              δ
                            is the angle between the line AD and the straight-line generatrix. And 
                              
                                 Δ
                              
                              ε
                            is the angle between the initial tool axis 
                              
                                 
                                    T
                                 
                                 
                                    
                                       axis
                                    
                                 
                              
                            and the new tool axis 
                              
                                 
                                    T
                                 
                                 
                                    
                                       axis
                                    
                                 
                                 
                                    ′
                                 
                              
                           . 
                              
                                 Δ
                              
                              ε
                            and 
                              δ
                            satisfy Eq. (14) in this paper. 
                              
                                 (14)
                                 
                                    
                                       Δ
                                    
                                    ε
                                    =
                                    δ
                                    +
                                    
                                       
                                          1
                                       
                                       
                                          h
                                       
                                    
                                    ×
                                    
                                       
                                          180
                                       
                                       
                                          π
                                       
                                    
                                    .
                                 
                              
                           
                        

In the optimization process, the circular arc AB is fixed while the tool axis and the straight line generatrix of tool shaft portion would be rotated 
                              
                                 Δ
                              
                              ε
                            around the point 
                              A
                            to get away from the blade in process. 
                              
                                 Δ
                              
                              ε
                            is slightly greater than 
                              δ
                            to ensure that there is no interference between the new cutter and the blade in process. In general, the feasible point 
                              C
                              
                                 (
                                 a
                                 ,
                                 c
                                 )
                              
                            could be obtained after one adjustment.

The selection of tool shaft diameter is ignored in the traditional method. And a feasible tool shaft diameter is generally determined by engineers according to experiences. The optimization of tool shaft diameter is implemented for improving the tool rigidity, which is beneficial to the machining quality. The tool shaft diameter is selected in a set of 
                           d
                           
                              [
                              
                                 i
                              
                              ]
                           
                           =
                           
                              {
                              
                                 
                                    D
                                 
                                 
                                    
                                       min
                                    
                                 
                              
                              ,
                              …
                              ,
                              8
                              ,
                              6
                              ,
                              4
                              }
                           
                        . The tool shaft diameters except 
                           
                              
                                 D
                              
                              
                                 
                                    min
                                 
                              
                           
                         in this set are the values that are usually used in the practical machining. As shown in Fig. 15
                        , the optimization process is implemented according to the following steps. 
                           
                              
                                 Step  1:
                              Input tool parameters obtained in Section  4.1 and the initial i = 1. The tool shaft diameter is defined as 
                                    d
                                    
                                       [
                                       
                                          i
                                       
                                       ]
                                    
                                 ;

Generate tool paths using this cutter within the tolerance of 0.01 mm and scallop height of 0.01 mm in UG;

Calculate the distances between the tool axis and the adjacent blades for checking the global interferences;

If there is no interference, record the tool parameters and go to Step  6. Otherwise, record the CC point with the worst interference and go to the next step;

As shown in Fig. 16
                                 , optimize the position of tool axis by considering the value of 
                                    d
                                    
                                       [
                                       
                                          i
                                       
                                       +
                                       1
                                       ]
                                    
                                  and the distances between the tool axis 
                                    
                                       
                                          T
                                       
                                       
                                          
                                             axis
                                          
                                       
                                    
                                  and the adjacent blades. Then i ++ and go to Step  3;

Output the feasible 
                                    d
                                    
                                       [
                                       
                                          i
                                       
                                       ]
                                    
                                 .

As shown in Fig. 16, the generatrix segments of the cutter including the straight line AF and the circular arc AB are fixed after the tool path generation. The CC point with the worst interference is obtained in Step 4. Then the position of tool axis is optimized according to the distances between the tool axis 
                           
                              
                                 T
                              
                              
                                 
                                    axis
                                 
                              
                           
                         and the adjacent blades. And the choices of tool shaft diameter are limited in the set of 
                           d
                           
                              [
                              
                                 i
                              
                              ]
                           
                        . Furthermore, the distances between the tool axis 
                           
                              
                                 T
                              
                              
                                 
                                    axis
                                 
                              
                              
                                 ′
                              
                           
                         and the adjacent blades are calculated in the next iteration to check the interferences. This selection process of 
                           d
                           
                              [
                              
                                 i
                              
                              ]
                           
                         can be speeded up by the bisection method.

As shown in Fig. 17
                     , a blisk with 13 blades is machined in order to demonstrate the validity of the proposed method. The shortest distance between the adjacent blades is 11.8 mm. The 5-axis CNC machine tool with single spindle head (
                        B
                     -axis) and single turntable (
                        A
                     -axis) is used for the machining of the proposed blisk. The (
                        
                           
                              X
                           
                           
                              W
                           
                        
                        –
                        
                           
                              Y
                           
                           
                              W
                           
                        
                        –
                        
                           
                              Z
                           
                           
                              W
                           
                        
                     ) is the workpiece coordinate basis.

The optimization algorithm is implemented by the C ++ language on the platform of UG Open/API in this paper. And all tool paths are generated in UG. The selection process of the optimal barrel cutter is presented on a tilt-rotary table type 5-axis machine tool, which is also applicable on the other two types of 5-axis machine tools, i.e. the wrist type and the rotary table type.

As shown in Fig. 18
                        , the blade surface is constructed by ten cross-sectional curves, which is trimmed by the hub surface. The barrel cutter feeds along the 
                           u
                         direction while the strip-width is calculated along the 
                           v
                         direction. But the area of leading/trailing edge is not taken into account in the flank milling of the blade.

The points on the blade surface are sampled for the curvature analysis in this paper. And the results are shown in Table 2
                        . There are 82 sample points along the 
                           u
                         direction for the chord error 0.01 mm while 9 cross-sectional curves are selected along the 
                           v
                         direction, which have enough accuracy for the curvature analysis in the optimal barrel cutter selection. The new method with a higher number of sample points would take more time in the optimization process while the values of barrel radius 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                         could not be obviously improved.

When the kinematic constraints are not considered, 
                           max
                           
                              (
                              
                                 
                                    k
                                 
                                 
                                    
                                       max
                                    
                                 
                              
                              )
                           
                         and 
                           max
                           
                              (
                              
                                 
                                    k
                                 
                                 
                                    
                                       min
                                    
                                 
                              
                              )
                           
                         are obtained for the selection of 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                        , which are respectively required in the traditional method and the new method. Two cases with kinematic constraints are taken into account. The 
                           B
                        -axis is fixed with 
                           B
                           =
                           0
                           °
                         in the 4-axis machining. Similarly, the constraint 
                           B
                           ∈
                           
                              [
                              −
                              10
                              °
                              ,
                              +
                              10
                              °
                              ]
                           
                         is defined as the motion range of 
                           B
                        -axis in the 5-axis machining. Obviously, according to the calculation times, the curvature analysis of the blade surface generally takes a little time.

According to the analysis results in Table 2, the initial parameters of four barrel cutters are shown in Table 3
                        . The value of 
                           
                              
                                 L
                              
                              
                                 e
                              
                           
                         is calculated by other tool parameters. The barrel cutter No. 1 is determined by the traditional method. And the barrel cutter No. 2 is selected by the new method without consideration of the kinematic constraints. Similarly, the cutters No. 3 and No. 4 are selected by the new method in the two cases with kinematic constraints. The size of 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                         selected by the new method is greater than that selected by the traditional method. The greater 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                         is beneficial to the strip-width, especially when the kinematic constraints are not taken into account in the new method.

The point 
                           C
                           
                              (
                              a
                              ,
                              c
                              )
                           
                         should be adjusted in the next step of the new method. Compared to the traditional method, the adjustment of point 
                           C
                           
                              (
                              a
                              ,
                              c
                              )
                           
                         in the new method takes more time. And the calculation time is related to the size of 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                        . The greater the 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                         is, the shorter the time an iteration takes in the adjustment process.

Though the tool shaft diameter is not considered in the traditional method, a tool shaft diameter is generally tested by engineers for its feasibility. The calculation for the tool shaft diameter optimization in the traditional method may take more time because of the less size of 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                        . The calculation time for the tool shaft diameter optimization in the new method is not uncertain, which is related to the initial value of tool shaft diameter and the size of 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                        .

As shown in Table 4
                        , four types of barrel cutters are selected by the new method with the kinematic constraint 
                           B
                           ∈
                           
                              [
                              −
                              10
                              °
                              ,
                              +
                              10
                              °
                              ]
                           
                        . There is no great difference between the calculation times for the four types of barrel cutters in the new method. But the barrel cutters No. 4 and No. 5 have the greater tool shaft diameter, which is beneficial to the tool rigidity and also can prove the conclusion in Section  3.3. So the drum-taper cutter and BBM cutter are more applicable to the CNC machining of blisks.

Summarily, the traditional method has the advantage of calculation time on the tool flute size selection. But a greater 
                           
                              
                                 R
                              
                              
                                 e
                              
                           
                         can be obtained by the new method, which is beneficial to the productivity.

The tool paths using the selected barrel cutters are all generated in UG. The calculation results for the tolerance of 0.01 mm and scallop height of 0.01 mm are shown in Table 5
                        . Then the machining simulations are implemented in the VERICUT for the maximum gouge and the maximum excess shown in Table 5.

According to Table 5, the number of tool paths using barrel cutters selected by the new method is less than that using the barrel cutter selected by the traditional method. The gouge and excess of the tool paths using cutters No. 1, 3, 4 and 5 meet the demand for the machining accuracy. There are 18 tool paths using the cutter No. 2, which is only 34% of that using the cutter No. 1. The productivity can be greatly improved, but the maximum gouge of −0.01047 mm is harmful to the machining quality. Furthermore, 
                           B
                        -axis may be over stroke due to the motion range of 
                           B
                           ∈
                           
                              [
                              −
                              58.6
                              °
                              ,
                              +
                              44.4
                              °
                              ]
                           
                        .

The cutters No. 4 and No. 5 are preferred among the selected cutters when the machining productivity and the machining accuracy are both considered. The machining time is 45.3% of that using the cutter No. 1. And 
                           B
                        -axis moves in the range of 
                           B
                           ∈
                           
                              [
                              −
                              9.1
                              °
                              ,
                              +
                              7.5
                              °
                              ]
                           
                        , which satisfies the constraint 
                           B
                           ∈
                           
                              [
                              −
                              10
                              °
                              ,
                              +
                              10
                              °
                              ]
                           
                        . Compared to the saving time in the CNC machining of blisk, the time taken by the optimal barrel cutter selection is sufferable.

Then the 
                           G
                        -codes are implemented by the Siemens 840D system on the 5-axis tilt-rotary table type machine tool. The selected cutter No. 4 and three blades of this blisk are shown in Fig. 19
                        . So the method in this paper is available for the optimal barrel cutter selection in the CNC machining of blisk.

@&#CONCLUSIONS AND FUTURE WORK@&#

(1) The mathematical descriptions of four types of barrel cutters and the curvature properties of tool surface are presented as the preparation for the optimal barrel cutter selection.

(2) The 
                        max
                        
                           (
                           
                              
                                 k
                              
                              
                                 
                                    min
                                 
                              
                           
                           )
                        
                      on the blade surface is used to select a greater 
                        
                           
                              R
                           
                           
                              e
                           
                        
                      while kinematic constraints of the CNC machine tool are considered, which are different from that in the traditional method. And the center point 
                        C
                        
                           (
                           a
                           ,
                           c
                           )
                        
                      of circular arc generatrix is adjusted to avoid the global interferences between the tool shaft and the blade in process. So the feasible tool flute size with a high productivity can be obtained by the proposed method, which is beneficial to reduce the machining costs of blisk.

(3) The tool shaft diameter is optimized to improve the tool rigidity while there is no global interference between the tool shaft and the adjacent blades. A barrel cutter with the better tool rigidity selected by the new method is helpful to the machining precision of blades.

In the future work, the size of barrel radius could be further optimized for the better strip-width by calculating the 
                        max
                        
                           (
                           
                              
                                 k
                              
                              
                                 
                                    min
                                 
                              
                              
                                 ′
                              
                           
                           )
                        
                      in the different motion ranges of 
                        B
                     -axis. However, it would take more time due to a large quantity of data.

@&#ACKNOWLEDGMENTS@&#

This work was supported by the National Science and Technology Major Project (under Grant No. 2013ZX04001061), National Natural Science Foundation of China (under Grant No. 51105026) and Specialized Research Fund for the Doctoral Program of Higher Education (under Grant No. 20111102110021).

@&#REFERENCES@&#

