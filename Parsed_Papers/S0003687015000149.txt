@&#MAIN-TITLE@&#The validity of the first and second generation Microsoft Kinect™ for identifying joint center locations during static postures

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           This study proposed a method to align Kinect sensor with a motion tracking system.


                        
                        
                           
                           The accuracy of Kinect sensor-identified coordinates of joint locations was examined.


                        
                        
                           
                           The accuracy level is posture-dependent and joint-dependent.


                        
                        
                           
                           Standing postures can be identified with better accuracy than sitting postures.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Reference frame alignment

Daily activities

Kinect v2

@&#ABSTRACT@&#


               
               
                  The Kinect™ sensor released by Microsoft is a low-cost, portable, and marker-less motion tracking system for the video game industry. Since the first generation Kinect sensor was released in 2010, many studies have been conducted to examine the validity of this sensor when used to measure body movement in different research areas. In 2014, Microsoft released the computer-used second generation Kinect sensor with a better resolution for the depth sensor. However, very few studies have performed a direct comparison between all the Kinect sensor-identified joint center locations and their corresponding motion tracking system-identified counterparts, the result of which may provide some insight into the error of the Kinect-identified segment length, joint angles, as well as the feasibility of adapting inverse dynamics to Kinect-identified joint centers. The purpose of the current study is to first propose a method to align the coordinate system of the Kinect sensor with respect to the global coordinate system of a motion tracking system, and then to examine the accuracy of the Kinect sensor-identified coordinates of joint locations during 8 standing and 8 sitting postures of daily activities. The results indicate the proposed alignment method can effectively align the Kinect sensor with respect to the motion tracking system. The accuracy level of the Kinect-identified joint center location is posture-dependent and joint-dependent. For upright standing posture, the average error across all the participants and all Kinect-identified joint centers is 76 mm and 87 mm for the first and second generation Kinect sensor, respectively. In general, standing postures can be identified with better accuracy than sitting postures, and the identification accuracy of the joints of the upper extremities is better than for the lower extremities. This result may provide some information regarding the feasibility of using the Kinect sensor in future studies.
               
            

@&#INTRODUCTION@&#

In 2010, Microsoft released the first generation Kinect sensor (Kinect v1) for their Xbox 360 video game platform. This sensor is composed of one traditional digital camera, one infrared emitter, and one depth sensor. The depth sensor is able to detect the depth information of the objects placed in front of the Kinect unit. When a person stands directly in front of a Kinect sensor (Fig. 1
                     a), the Kinect sensor will first detect the surface of body with the depth sensor (Fig. 1b) and then uses an algorithm to automatically identify the location of 20 joint centers of the body in the 3-D space from the surface of the human body (Fig. 1c). In mid-2014, Microsoft released the computer-used second generation Kinect (Kinect v2) with improved resolution for the traditional camera and the depth sensor. The number of the identified joint centers for Kinect v2 also increased to 25.

Compared with traditional opto-electronic or electromagnetic-based motion tracking systems, the Kinect sensor is very low-cost, portable, and without skin markers. Several studies have compared the Kinect-based and motion tracking system-based posture and movement, in various fields of biomechanics including; anthropometry measurement (Bonnechère et al., 2014), spinal loading assessment (Ning and Guo, 2013), clinical foot posture assessment (Mentiplay et al., 2013), body movement during postural control (Clark et al., 2012), gait training (Clark et al., 2013b), gait analysis (Clark et al., 2013a), and rehabilitation tool development (Pastor et al., 2012). In general, the results of these studies indicated that, although the Kinect sensor is not as accurate as more traditional laboratory-based measurement technologies, it does provide good agreement with a motion tracking system in terms of body segment lengths, the major joint angles, and the displacement of the key body joints for those specific body postures being tested.

While the body segment length, the joint angles, and the joint displacements can be derived from the Kinect sensor-identified joints coordinates, very few studies have performed a direct comparison between the locations of the Kinect sensor-identified joint centers and their corresponding motion tracking system-identified counterparts. This is probably because the Kinect sensor-identified joints location are, with respect to a coordinate system, fixed with the Kinect sensor, whose orientation is normally unknown within the global coordinate system (GCS) of a motion tracking system. However, the error of Kinect sensor-identified joint center locations can provide more insight to the composition of the error in segment length, joint angles, and joint displacement. In addition, the joint center positions can be important when calculating the joint net moments using the inverse dynamic methods (Faber et al., 2009; Hashish et al., 2014). The goal of the current study is to examine the accuracy of the Kinect sensor-based joint center coordinates during various static postures of daily activities for Kinect v1 and v2. To achieve this goal, a method to align the coordinate system of the Kinect sensor with respect to the GCS of a motion tracking system is also proposed.

@&#METHOD@&#

The Kinect sensor and the motion tracking system record the coordinates of the joint centers each relative to their own GCS. Therefore, it is first necessary to identify the vector coordinates (x, y, and z) of the origin of the GCS of the Kinect (K) sensor with respect to the GCS of the motion tracking system (MT) in 3-D space, 
                           
                              
                                 
                                    
                                       O
                                       
                                       
                                       
                                          MT
                                       
                                    
                                 
                                 K
                              
                              (
                              x
                              ,
                              y
                              ,
                              z
                              )
                           
                        , and the 3-by-3 rotation matrix with the Euler angle 
                           
                              (
                              α
                              ,
                              β
                              ,
                              
                              and
                              
                              γ
                              )
                           
                         from the GCS of the Kinect sensor to the GCS of the motion tracking system, 
                           
                              
                                 
                                    
                                       R
                                       
                                       
                                       
                                          MT
                                       
                                    
                                    (
                                    α
                                    ,
                                    β
                                    ,
                                    γ
                                    )
                                 
                                 K
                              
                           
                        , before a direct comparison can be made between the joint locations identified by the two systems.

To achieve this, a wooden wheel was built with spokes eight 2.5 cm wide and 70 cm long (Fig. 2
                        a). Each spoke had a cross near the tip. Customized software using Kinect for Windows SDK 1.5 (for Kinect v1) or SDK 2.0 preview (for Kinect v2) was used to acquire the depth information of the scanner surface of the wooden wheel (Fig. 2b). This wheel was placed 2.0 m and 2.5 m, correspondingly, in front of a Kinect sensor (Model 1517 for Kinect v1, Model 1656 for Kinect v2, Microsoft Corporation, Redmond, WA, U.S.A). The scanned surface consisted of numerous points, and an experimenter was required to select the center point of the cross of each spoke. At the same time, the marked surface center of each cross was also digitized with respect to a motion tracking system (Optotrak Certus System, Northern Digital, Canada). There were a total of 16 sampling points (8 crosses × 2 location of the wheel) on the wooden wheel digitized with respect to the GCS of the Kinect sensor and the GCS of the motion tracking system.

The origin vector 
                           
                              
                                 
                                    
                                       O
                                       
                                       
                                       
                                          MT
                                       
                                    
                                 
                                 K
                              
                              (
                              x
                              ,
                              y
                              ,
                              z
                              )
                           
                         and the rotation matrix 
                           
                              
                                 
                                    
                                       R
                                       
                                       
                                       
                                          MT
                                       
                                    
                                    (
                                    α
                                    ,
                                    β
                                    ,
                                    γ
                                    )
                                 
                                 K
                              
                           
                         of the GCS of the Kinect sensor were then derived by minimizing the average distance between the motion tracking system-based location of the 16 points and the Kinect sensor-based location after the transformation using the origin vector and rotation matrix. Mathematically that distance is given by minimizing the objective function (L):
                           
                              (1)
                              
                                 
                                    L
                                    
                                       (
                                       
                                          α
                                          ,
                                          β
                                          ,
                                          γ
                                          ,
                                          x
                                          ,
                                          y
                                          ,
                                          z
                                       
                                       )
                                    
                                    =
                                    
                                       1
                                       
                                          16
                                       
                                    
                                    ·
                                    
                                       ∑
                                       
                                          i
                                          =
                                          1
                                       
                                       
                                          16
                                       
                                    
                                    
                                       
                                          ‖
                                          
                                             
                                                
                                                   
                                                      p
                                                      
                                                      
                                                      
                                                         MT
                                                      
                                                   
                                                
                                                i
                                             
                                             −
                                             
                                                
                                                   
                                                      R
                                                      
                                                      
                                                      
                                                         MT
                                                      
                                                   
                                                   (
                                                   α
                                                   ,
                                                   β
                                                   ,
                                                   γ
                                                   )
                                                
                                                K
                                             
                                             ·
                                             
                                                
                                                   
                                                      p
                                                      
                                                      
                                                      K
                                                   
                                                
                                                i
                                             
                                             +
                                             
                                                
                                                   
                                                      O
                                                      
                                                      
                                                      
                                                         MT
                                                      
                                                   
                                                
                                                K
                                             
                                             (
                                             x
                                             ,
                                             y
                                             ,
                                             z
                                             )
                                          
                                          ‖
                                       
                                    
                                 
                              
                           
                        where 
                           
                              
                                 
                                    
                                       p
                                       
                                       
                                       
                                          MT
                                       
                                    
                                 
                                 i
                              
                           
                         is the coordinate of the ith point with respect to the motion tracking system, 
                           
                              
                                 
                                    
                                       p
                                       
                                       
                                       K
                                    
                                 
                                 i
                              
                           
                         is the coordinate of the ith point with respect to the Kinect sensor, and the double vertical bars represent Euclidean distance. A previous study (Dutta, 2012) showed that the accuracy level of the depth sensor of the Kinect sensor varies in different locations and directions. Therefore, 16 points covering the working range of a Kinect sensor was used for the optimization to reduce the error due to biased measurement of the depth sensor.

@&#EXPERIMENTAL DESIGN@&#

For the validation of Kinect v1, twenty participants (10 females and 10 males, age: 27.9 (8.3) years old, height: 1.71 (0.09) m, weight: 70.1 (11.0) kg) were recruited from local communities. For the validation of Kinect v2, twenty participants (10 females and 10 males, age: 26.0 (7.5) years old, height: 1.72 (0.10) m, weight: 69.1 (12.1) kg) were recruited. All the participants had no acute or chronic musculoskeletal disorders or surgical history, and gave written informed consent to participate in a protocol approved by the local Institutional Review Board.

The experiment protocols were same for the validation of Kinect v1 and v2, as follows: before data collection for each participant, a Kinect sensor was aligned with respect to the motion tracking system by the abovementioned method. Each participant was then asked to hold various static postures that are commonly observed during daily activities (Kiani et al., 1998; Zhang et al., 2003). Those postures included a set of standing postures (upright standing, left lateral bending, right lateral bending, trunk flexion approximately 30°, left foot raise, right foot raise, stoop, and squat – Fig. 3
                        ) and a set of sitting postures (normal sitting, left foot under seat, right foot under seat, both feet under seat, elbows on knees, left leg over right, right leg over left – Fig. 4
                        ). For all the sitting postures except elbows on knees, the arms were naturally placed alongside the body. Each static posture needed to be held for 1 s and was held approximately within the volume in which the alignment process was performed.

The Kinect sensor was placed directly in front of the participants to minimize the visual occlusion of body segments covered by another part of the body. All these postures were performed in front of a Kinect sensor, and the Kinect sensor-identified joint center locations were recorded by customized software integrating Kinect for Windows SDK 1.5 (for Kinect v1) or SDK 2.0 preview (for Kinect v2). At the same time, the full body posture was also recorded by the motion tracking system with a full body marker set (Cappozzo et al., 1995). The Kinect sensor was synchronized with the motion tracking system at 60 Hz.

The alignment of GCS of the Kinect sensor with respect to GCS of the motion tracking system (viz. 
                           
                              
                                 
                                    
                                       O
                                       
                                       
                                       
                                          MT
                                       
                                    
                                 
                                 K
                              
                              (
                              x
                              ,
                              y
                              ,
                              z
                              )
                           
                         and 
                           
                              
                                 
                                    
                                       R
                                       
                                       
                                       
                                          MT
                                       
                                    
                                    (
                                    α
                                    ,
                                    β
                                    ,
                                    γ
                                    )
                                 
                                 K
                              
                           
                        ) was determined by minimizing the objective function (Eq. (1)). For each static posture, the Kinect sensor-identified joint center locations were transformed to the global coordinate system of the motion tracking system. The greatest distance between the Kinect sensor-identified joint locations, and their counterpart identified by the motion tracking system over a 1-s period of time, was used to measure the accuracy of the Kinect sensor-identified joint locations. It should be noted, however, that some of the “joints” identified by a Kinect sensor, such as “Spine” and “Hip Center” in Kinect v1, and “Spine base” and “Neck” in Kinect v2, do not have a clear anatomical meaning. Therefore, for those joints, their counterparts measured by the motion tracking system were those closest bony landmarks during upright standing (Table 1
                        ). In addition, because finger tips were difficult to track with the setup of the motion tracking system for full body tracking, the accuracy of “Hand tip” and “Thumb” in Kinect v2 were not investigated in this study.

@&#RESULTS@&#

For the alignment of the coordinate system of the Kinect sensor with respect to the GCS of the motion tracking system, the average distance (standard deviation) between the motion tracking system-based location of the 16 sampling points on the wooden wheel and the Kinect sensor-based location after the transformation, L, was 21 (2) mm across the 20 alignments, one for each participant, for Kinect v1. For Kinect v2, this value was 5 (1) mm across the 20 alignments. Compared with the Kinect v1, the magnitude of L for Kinect v2 was significantly smaller (p < 0.0001). The distance between the Kinect sensor-identified joint locations and their counterpart identified by the motion tracking system during standing and sitting postures are listed in Tables 2 and 3
                     
                      for Kinect v1, and Tables 4 and 5
                     
                      for Kinect v2, correspondingly.

Within all the standing postures, upright standing had a minimum average distance of 76 (19) mm for Kinect v1 and 87 (15) mm for Kinect v2 between the Kinect sensor-identified joint locations and their references across all the joints. The stoop had a maximum value of 179 (90) mm for Kinect v1 and 161 (64) mm for Kinect v2. For all the sitting postures, normal sitting had a minimum value of 107 (13) mm for Kinect v1 and 84 (21) mm for Kinect v2. The elbows on knees had a maximum value of 179 (57) mm for Kinect v1, right over left had a maximum value of 156 (34) mm.

@&#DISCUSSION@&#

The goal of this study is first to propose a method to align the GCS of a Kinect sensor with respect to the GCS of a motion tracking system, then use the method to evaluate the accuracy level of the Kinect sensor-identified joint center locations. A previous study (Dutta, 2012) showed that the depth sensor of Kinect v1 had an accuracy level with an average error of 14.1–34.8 mm in various locations and directions. The magnitude of L for Kinect v1 in the current study was within this range. While this alignment can be performed with fewer points using the optimization method, it would be better to place these points in various locations within the covered volume of the Kinect sensor to reduce the systematic error. The reason that the magnitude of L for Kinect v2 is significant smaller is probably because, with a better resolution of the depth sensor (Fig. 2), the experimenter can select a point from the scanned surface that is closer to the true center point of the cross of each spoke.

The accuracy level of the Kinect-identified joint locations had a very large range. For Kinect v1, the average distance across all the participants between the Kinect-identified “Shoulder center” and the motion tracking system-based C7 was only 26 mm during the upright standing posture, while the distance can reach 452 mm for “Foot right” during the sitting posture of the right leg over left posture. For Kinect v2, “Elbow left” had the minimum distance of 26 mm during right foot raise posture, and “Foot right” had the maximum distance of 418 mm during right leg over left posture. A further analysis indicated that during the sitting posture with one leg over the other, the Kinect-identified joints of the top leg were still approximately parallel to the bottom leg, which results in a very large error of the identified joints. In general, the identification accuracy of the joints of the upper extremities was better than those of the lower extremities. Most joints of upper extremities, except for hand, had an accuracy level within 100 mm, while most of the joints except for hip had an accuracy level over 100 mm. Statistical significances for both Kinect v1 and v2 were found (p < 0.0001) after performing a paired t-test with the pooled error of the joint centers of the upper extremities and that of the lower extremities.

It should be noted that both the Kinect v1 and v2 were originally designed for the game industry, with a player standing in front of the sensor interacting with the video game. Therefore, the joint identification algorithm of the Kinect sensor may not work well for many daily activities, such as those sitting postures tested in the current study, which are not commonly observed during game playing. Using the inverse dynamics method to calculate the joint moment through the lower extremities for those postures is unlikely to be feasible. On the other hand, the upper extremities were mainly posed alongside the body for the postures examined in this study, and the joint center on the upper extremities can be identified with less error. Although a few centimeters of error may still be unacceptable for some clinical studies, it might satisfy the expectations for posture observation studies (Diego-Mas and Alcaide-Marzal, 2014). However, how the upper extremity joint center errors change when the posture of the upper extremities differs from those commonly observed during game playing needs to be further investigated. In addition, while the Kinect v2 has better resolution for the traditional camera and the depth sensor than Kinect v1, the accuracy of joint center location identification is not substantially improved. Therefore, caution should be exercised when using both the Kinect v1 and v2 for joint center location measurement.

There were a few limitations that need to be addressed. First, in this study, only one experimenter manually selected the most central point of the cross of each spoke from the Kinect-scanned surface only once. Therefore, inter- and intra-experimenter variability could introduce errors to the origin and the orientation of the GCS of the Kinect sensor. During the pilot test, the discrepancy between two experimenters or between two replications of the center point selection by the same experimenter was normally found to be within 3 mm. In that case, the accuracy level of the proposed alignment method is unlikely to be significantly affected by error introduced by the experimenter. Second, in order to attach marker clusters on the body segments, the participants wore only a tank top, shorts, and shoes during the experiment. Since the algorithm of Kinect for identifying the joint locations is based on the scanned surface of the body, wearing different types of clothing can influence the identified joints. The current results may be altered when loose clothing is worn. Third, the current results may not hold for obese people. In the current study, the participants had an average body mass index of 23.8 (2.0). Whether obesity could influence the joint identification algorithm in the Kinect and increase the error of the joint center location remains unknown. Fourth, all the postures were measured within a limited volume that is only part of the working range of a Kinect sensor. Since the accuracy of a Kinect sensor varies slightly across the entire working range (Dutta, 2012), the errors for postures occurring outside of the tested volume might vary. Fifth, for many occupational tasks, joint angles, rather than joint location, may be of greater interest. The amount of error in joint location, however, does not necessarily indicate the amount of error in joint angle. Therefore, future studies should also focus on the accuracy of joint angles of specific tasks of interest. Sixth, the current experiment protocol was unable to make a direct comparison between Kinect v1 and v2 in terms of the accuracy of the identified joint locations. This is because the differences are confounded with the variability of the two groups of participants. However, from Tables 2 to 5, the errors of the identified joint locations for Kinect v1 and v2 do not look practically significant from each other.

@&#ACKNOWLEDGMENT@&#

The authors are grateful to Jacob Banks, Niall O'Brien, and Amanda Rivard for assistance in data collection.

All authors declare that there is no proprietary, financial, professional or other personal interest of any nature or kind in any product, service or company that could be construed as influencing the position presented in this manuscript.

@&#REFERENCES@&#

