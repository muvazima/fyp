@&#MAIN-TITLE@&#Intelligent fuzzy energy management research for a uniaxial parallel hybrid electric vehicle

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           An intelligent fuzzy control strategy is proposed for parallel hybrid electric vehicle.


                        
                        
                           
                           The membership functions of fuzzy controller are optimized by genetic algorithm.


                        
                        
                           
                           Electric vehicle co-simulation technology is a good application.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Uniaxial parallel

Hybrid electric vehicle

Energy management

Intelligent fuzzy control

Genetic algorithm

@&#ABSTRACT@&#


               Graphical abstract
               
                  
                     
                        
                           Image, graphical abstract
                           
                        
                     
                  
               
            

@&#INTRODUCTION@&#

Environmental pollution and energy crisis are two important problems that cannot be avoided, and the automobile industry must address the development of new energy vehicles for energy conservation and environmental protection. A hybrid electric vehicle (HEV) is an effective product to help with the energy crisis and with environment pollution [1–3]. In many other countries, the research on HEV has become an important technology for saving energy and reducing emissions in the new generation of automobile development.

At present, there are two main energy management methods for HEV at home and abroad. One is the method of reducing the vehicle energy utilization ratio, but this method will accelerate the aging of the battery; the other, improving battery efficiency, is usually chosen as the threshold control method. Though the method is simple and robust, it is short on flexibility and cannot optimally allocate power. Currently, analyzing battery and high voltage component structures determines the energy management power flow relationship based on an in-depth analysis of the existing energy management control method. The management methods are mathematical abstractions, and a power allocation coefficient is introduced. Therefore, the two methods can achieve unity in the mathematical model. Moreover, by proposing the optimized control objectives, a process to achieve the purpose of optimizing fuzzy control can be established [4–6].

Domestic research centers are still investigating the structure and energy management strategy. Tsinghua University studied fuel cell electric vehicles and the regenerative braking system. The Beijing Institute of Technology mainly studied the pure electric vehicle battery and hybrid vehicle powertrain technology. Chongqing University researched the hybrid vehicle braking system. The Wuhan University of Technology mainly modeled and simulated hybrid vehicles used for the city bus system [7]. Jilin University also conducted simulations of hybrid vehicles and researched the parameter selection and optimization [8]. At present, the following four methods have been proposed to solve the energy management strategy: the electrical auxiliary energy management strategy; the instantaneous optimal management strategy; the global optimization management strategy; and various intelligent management strategies based on fuzzy logic control [9,10]. In an electrical auxiliary energy management strategy, the maximum and minimum values need to be set in advance. The SOC (state of charge) of the battery remains at the average value. Banvait has proposed a determinacy rule-based energy management strategy for parallel hybrid electric vehicles, but this energy management strategy is for static torque distribution; it cannot obtain optimal performance [11]. On the basis of Banvait, Wu Jian used PSO (particle swarm optimization) algorithm to optimize the threshold parameter. This algorithm improves the performance of the static logical threshold energy management strategy [12]. However, this method is not very flexible, and the ability to adapt to uncertain conditions and match the parameters of the various components of a hybrid vehicle is poor [13]. The instantaneous optimal management strategy is based on the electric auxiliary control strategy, and its starting point and control target are the energy loss being minimized at any one time during the flow of energy. Lei Wang proposed the instantaneous optimal strategy, and the method used global positioning system (GPS), and car remote sensing to obtain traffic information. Online real-time control can then improve the overall performance of the vehicle. The instantaneous optimal control strategy is easy to implement, but this method relies too closely on unknown traffic information [14]. The global optimization control strategy is a hybrid vehicle energy management strategy in which the dynamic distribution of the engine and the electric motor is based on optimal control theory. The purpose is to allow the fuel economy and other indicators to reach their optimum levels on the basis of the Pontryagin minimum principle, and according to the global optimization strategy proposed by parallel hybrid electric vehicle (PHEV), S. Stockar was able to obtain the global optimal solution of the control variables. However, because the global optimization strategy requires accurate information about the whole cycle, it has many practical limitations, and the results can only be used as an energy management strategy quality reference [15–17].

The fuzzy control strategy is an intelligent control method that is based on human experience, and it does not require a precise mathematical model of the controlled object. Thus, there are few mathematical operations. The vehicle in operation is a very complex nonlinear system, and it is difficult to express precise formulas. Fuzzy control can effectively solve some nonlinear problems because of its strong ability to adapt to complex and changing road conditions. Therefore, fuzzy logic control is particularly suitable for a PHEV energy management. Pu Jinhuan in Shanghai Jiaotong University established the fuzzy controller. The first input of the controller is the ratio between the optimum engine torque and the total requested torque, and the second input is the battery SOC. There are 22 fuzzy rules to determine the optimal torque distribution between the engine and the motor to achieve a high overall energy conversion efficiency of the system [18]. Zhou Yan designed a fuzzy control strategy for PHEVs. The inputs of the fuzzy controller are the battery SOC and the driver required power, and the output is actual engine output torque. The method has realized the rational distribution of the driving energy and has ultimately reduced the engine fuel consumption and balanced the battery state of charge (SOC) [19]. However, designing fuzzy rules mainly rely on experience, which will inevitably fall into the local optimum. In recent years, the rapid development of the PSO algorithm has introduced the advantage of global search, combined with the fuzzy control algorithm, can effectively overcome the fuzzy control algorithm's deficiency of easily falling into the local optimum. Therefore, subsequent fuzzy energy management methods of the new dual-energy source of an electric vehicle are proposed based on PSO optimization [20].

In this paper, the working mode and control objectives for uniaxial PHEV are analyzed in Section 2. The drive system is modeled, based on experiments in MATLAB/ADVISOR in Section 3, and the fuzzy logic control strategy optimization based on genetic algorithm (GA) is designed in Section 4, the experimental results in the proposed strategy are analyzed and compared with the electric auxiliary strategy in Section 5. Finally, the conclusion of our work is presented.

According to the degree of mixing, HEVs can be classified into mild hybrid vehicles (mild hybrid) and strong hybrid cars (full hybrid). A uniaxial PHEV is a mild parallel hybrid vehicle. The system structure is shown in Fig. 1
                     , the characteristic of its structure is that the engine and the motor are mixed in one shaft, and the motor can simultaneously help power generation.

Because the engine and the electric motor have the different efficient working spaces, electric vehicles, in different driving conditions, should have a variety of different operating modes to take full advantage of the parallel hybrid drive system. Parallel hybrid cars’ work modes can be divided into the following four types:

                        
                           1)
                           When the vehicle is started and at a low speed, to prevent the engine from working in a higher fuel consumption area, the vehicle is driven by the electric motor alone.

When the vehicle is running at a constant speed, the engine alone drives the vehicle and determines whether to charge the battery or not based on the SOC of the battery pack.

Under condition of acceleration or hill climbing and other large loads, the engine and motor drive the hybrid vehicle at the same time.

When decelerating or braking, the engine does not work, the motor recover regenerative braking energy as much as possible, and the mechanical brake consumes the remaining portion.

The three former modes of operation have the following torque equation:

                        
                           (1)
                           
                              
                                 
                                    T
                                    
                                       r
                                       e
                                       q
                                    
                                 
                                 =
                                 
                                    T
                                    
                                       e
                                       n
                                       g
                                    
                                 
                                 +
                                 
                                    T
                                    
                                       m
                                       o
                                       t
                                    
                                 
                              
                           
                        
                     
                  

In the equation, Treq
                      is the required torque determined by the vehicle accelerator pedal signal, the current vehicle speed and the transmission gears. Teng
                      and Tmot
                      are respectively the engine and the motor torque. Positive or negative torque offered by motors can adjust the operating points of the engine based on the efficiency curve of the engine. Energy management strategy should be designed based on the needed torque of the hybrid drive system and the SOC of the battery, the output torque of the engine and the motor is allocated reasonably based on the engine efficiency curve to improve the fuel economy of the vehicle.

In the construction and analysis of the strategy, the construction of the vehicle model is vital. It allows us to observe the main dynamic processes within the system in a controlled process. From the perspective of energy management, this paper structures the model of the driving system from the perspective of the torque based on the data of the test and ignores the impact of the clutch, the dynamic process of the gearbox and the temperature effect that the components suffered.

The total torque of the vehicle,T
                        ve-req, can be worked out by the following equations:

                           
                              (2)
                              
                                 
                                    
                                       T
                                       
                                          ve
                                          −
                                          req
                                       
                                    
                                    
                                       (
                                       t
                                       )
                                    
                                    =
                                    η
                                    ×
                                    R
                                    
                                       (
                                       g
                                       
                                          (
                                          t
                                          )
                                       
                                       )
                                    
                                    ×
                                    
                                       (
                                       
                                          T
                                          e
                                       
                                       
                                          (
                                          t
                                          )
                                       
                                       +
                                       
                                          T
                                          m
                                       
                                       
                                          (
                                          t
                                          )
                                       
                                       )
                                    
                                 
                              
                           
                        
                        
                           
                              (3)
                              
                                 
                                    
                                       ω
                                       W
                                    
                                    
                                       (
                                       t
                                       )
                                    
                                    =
                                    
                                       
                                          
                                             ω
                                             m
                                          
                                          
                                          
                                             (
                                             t
                                             )
                                          
                                          
                                       
                                       
                                          R
                                          (
                                          g
                                          (
                                          t
                                          )
                                          )
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (4)
                              
                                 
                                    
                                       ω
                                       W
                                    
                                    
                                       (
                                       t
                                       +
                                       1
                                       )
                                    
                                    =
                                    
                                       ω
                                       W
                                    
                                    
                                       (
                                       t
                                       )
                                    
                                    +
                                    
                                       
                                          (
                                          
                                             T
                                             W
                                          
                                          
                                             (
                                             t
                                             )
                                          
                                          −
                                          
                                             B
                                             W
                                          
                                          
                                             ω
                                             W
                                          
                                          
                                             (
                                             t
                                             )
                                          
                                          −
                                          
                                             r
                                             W
                                          
                                          
                                             (
                                             
                                                F
                                                
                                                   a
                                                   i
                                                   r
                                                
                                             
                                             +
                                             
                                                F
                                                
                                                   r
                                                   o
                                                   l
                                                   l
                                                
                                             
                                             )
                                          
                                          )
                                       
                                       
                                          m
                                          
                                             
                                                
                                                   r
                                                   W
                                                
                                             
                                             2
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (5)
                              
                                 
                                    
                                       F
                                       air
                                    
                                    =
                                    
                                       
                                          
                                             C
                                             D
                                          
                                          A
                                          
                                             u
                                             a
                                             2
                                          
                                       
                                       
                                          21.15
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (6)
                              
                                 
                                    
                                       F
                                       
                                          r
                                          o
                                          l
                                          l
                                       
                                    
                                    =
                                    G
                                    f
                                    cos
                                    α
                                    =
                                    m
                                    g
                                    f
                                    cos
                                    α
                                 
                              
                           
                        
                     


                        η is the transmission efficiency of the gear box. Te
                        (t) is the output torque of the engine. Tm
                        (t) is the output torque of the electric motor. F
                        air is the air friction. Froll
                         is the rolling resistance. η is the transmission efficiency. R(g(t)) is the gearbox ratio ω
                        W(t) is the wheel's angular velocity. rw
                         is the radius of the wheel. ωm
                         (t) is the motor angular velocity. m is the automotive quality.

A permanent magnet synchronous motor is a permanent magnet motor system with a back EMF waveform that is a sine wave. It has a large power/mass ratio, a large torque/inertia ratio; it has good performance of the stability of the torque and is satisfied by the demand of the electric motor control system. When the total demand power of the vehicle is determined, the higher the electric motor power ratio it has and the better the economy is, but number of battery packs will be larger. In this paper, the rated voltage of the permanent magnet synchronous motor is 168V, the rated power is 27kW and the maximum torque is 175Nm. The model of the motor can be established by the method of combining the dynamics characteristic and the laboratory data. In the simulation, the output torque of the motor can be expressed as follows:

                           
                              (7)
                              
                                 
                                    
                                       T
                                       m
                                    
                                    =
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      min
                                                      (
                                                   
                                                   
                                                      T
                                                      
                                                         m
                                                         r
                                                         e
                                                         q
                                                      
                                                   
                                                   ,
                                                   
                                                      T
                                                      mdrdis
                                                   
                                                   
                                                      (
                                                      ω
                                                      )
                                                   
                                                   ,
                                                   
                                                      T
                                                      
                                                         b
                                                         a
                                                         t
                                                         d
                                                         i
                                                         s
                                                      
                                                   
                                                   
                                                      
                                                         (
                                                         S
                                                         O
                                                         C
                                                         ,
                                                         ω
                                                         )
                                                      
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   max
                                                   (
                                                   
                                                      T
                                                      
                                                         m
                                                         r
                                                         e
                                                         q
                                                      
                                                   
                                                   ,
                                                   
                                                      T
                                                      mch
                                                   
                                                   
                                                      (
                                                      ω
                                                      )
                                                   
                                                   ,
                                                   
                                                      T
                                                      
                                                         b
                                                         a
                                                         t
                                                         c
                                                         h
                                                      
                                                   
                                                   
                                                      (
                                                      S
                                                      O
                                                      C
                                                      ,
                                                      ω
                                                      )
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     


                        Tmreq
                         is the motor demand torque, Tmdrdis
                         is the maximum output torque in the electric state, Tbatadis
                         is the maximum output torque at the lower limit of the discharge current of the battery, Tmch
                         is the maximum torque at the charged state, and Tbatch
                         is the maximum torque when the battery is charged. The electric drive system experiment platform and motor steady/dynamic state characteristic curves are shown in Figs. 2
                         and 3
                        . The corresponding relation between the motor torque and speed, as well as the equal efficiency of the distribution points is shown in Fig. 3.
                     

Because the engine and the electric motor are connected in uniaxial and the two together provide the vehicle demand torque, according to previous formulas, the engine torque can be obtained. The fuel converter FC-DA468QA–emis is selected in the simulation experiments, as is an inline four-cylinder/water/DOHC/multi-point electronic fuel injection (EFI). The minimum fuel consumption rate is 270g/(kW•h), the displacement of which is 1.075L, the rated power is 50kW, the rated speed is 6000 r/min, and the maximum torque is 87Nm. The relevant data of the load characteristics of the engine, the fuel consumption characteristics, the power characteristics to build the model, and the load characteristics of the engine are shown in Tables 1–3
                        
                        
                        . Te
                         is the engine output torque, α is the throttle opening angle, and n
                        e is the speed. The fuel consumption characteristics and power characteristics are shown in Figs. 4
                         and 5.
                        
                     

In addition, this paper establishes a discrete time dynamic system for the migration transmission gear, and each migration time is set as one second.

                           
                              (8)
                              
                                 
                                    g
                                    
                                       (
                                       k
                                       +
                                       1
                                       )
                                    
                                    =
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   5
                                                   ,
                                                   
                                                   g
                                                   (
                                                   k
                                                   )
                                                   +
                                                   s
                                                   h
                                                   i
                                                   f
                                                   t
                                                   (
                                                   k
                                                   )
                                                   >
                                                   5
                                                
                                             
                                          
                                          
                                             
                                                
                                                   1
                                                   ,
                                                   
                                                   g
                                                   (
                                                   k
                                                   )
                                                   +
                                                   shift
                                                   (
                                                   k
                                                   )
                                                   <
                                                   1
                                                
                                             
                                          
                                          
                                             
                                                
                                                   g
                                                   (
                                                   k
                                                   )
                                                   +
                                                   s
                                                   h
                                                   i
                                                   f
                                                   t
                                                   (
                                                   k
                                                   )
                                                   ,
                                                   
                                                   o
                                                   t
                                                   h
                                                   e
                                                   r
                                                   w
                                                   i
                                                   s
                                                   e
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

In Eq. (8), g denotes the state of the gear. There are three ways for action using 0, −1, and 1. In other words, 1 denotes upward migration, 0 denotes remaining at the position, and −1 denotes downward migration, shift(k)is gear migration command.

Because of the road conditions and the nonlinearity of the control object, controlling the distribution of the engine and the motor torque at any time is particularly complex. The fuzzy logic control strategy can solve these nonlinear problems. For the working process of a hybrid vehicle, the basic principle of the controller design is to keep the battery charged and discharged under equilibrium conditions and keeping the engine and the motor working in the highest efficient range to reduce vehicle fuel consumption and emissions.

Select the first input

                              
                                 
                                    
                                       Inpu
                                       
                                          t
                                          1
                                       
                                       =
                                       D
                                       =
                                       
                                          
                                             
                                                T
                                                
                                                   Re
                                                   q
                                                
                                             
                                             −
                                             
                                                T
                                                Eng
                                             
                                          
                                          
                                             T
                                             
                                                Re
                                                q
                                             
                                          
                                       
                                    
                                 
                              
                           
                        


                           TReq
                            is the vehicle's required torque, and TEng
                            is the engine's target torque.

The second input:
                              
                                 Inpu
                                 
                                    t
                                    2
                                 
                                 =
                                 S
                                 O
                                 
                                    C
                                    
                                       b
                                       a
                                       t
                                       t
                                       e
                                       r
                                       y
                                    
                                 
                              
                           , where SOCbattery
                            is the battery's SOC value.

The output α is the torque control coefficient. By controllingα, we can achieve the realization of the engine and motor torque distribution and the corresponding actual output torque.

The torque control coefficient α does not continuously vary but has a specific value. Therefore, we choose theTakagi-Sugenofuzzy controller.

The fuzzy subset of the input value D is {NB1, NS1, O1, PS1, PB1}. The fuzzy domain is (0, 1). The fuzzy subset of the SOC is {NB2, NS2, O2, PS2, PB2}, and the fuzzy domain is (0, 1). The output torque control coefficient α adopts the exact values {0, 0.75, 0.80, 0.85, 0.9, 1.00, 1.05, 1.1, 1.15, 1.2, and 1.25}. NB1 represents a big negative, NS1 represents a small negative small, O1 represents zero, PS1 denotes a small positive small, PB1 represents a big positive big, NB1 indicates a big negative, NS2 represents a small negative, O2 represents zero, PS2 represents a small positive, and PB2 represents a big positive. To stabilize the car driving in traffic, the fuzzy rules need to cover all operating modes. This article summarizes 25 rules. The control rule chooses the mode. “If condition 1 and condition 2, then conclusion”. For example:

                              
                                 (1) If (D is NB1 and SOCbattery
                                     is NB2), then (α is 1.05).

In this case, the sentence rule means that the vehicle's demand torque is less than the target output torque of the engine, and the SOC value is very low. Therefore, in this case, the engine is working in the target torque area, and the extra torque will be used to charge the battery.

                              
                                 (2) If (D is PB1 and SOCbattery
                                     is NB2), then (α is 1.25).

The rule phrase indicates that the vehicle's current torque demand is greater than the output torque of the engine, and the SOC value is very low; the output of the engine is at its maximum torque value.

                              
                                 (3) If (D is NB1 and SOCbattery
                                     is NS2), then (α is 1.00).

This phrase indicates that the vehicle's demand torque is less than the output of the engine torque, and the SOC value is low. In this case, the engine is working in the target torque area, and the extra torque will be used to charge the battery. The difference between the rules and the rules of sentence (A) is that the latter will produce more torque to recharge the battery.

                              
                                 (4) If (D is O1 and SOCbattery
                                     is O2), then (α is 1.00).

This phrase indicates that the vehicle's demand torque is equal to the output torque of the engine, and the SOC value is moderate. Therefore, in this case, the engine and the motor output torque is just the optimal allocation of the torque, and it does not need to be adjusted.

                              
                                 (5) If (D is NB1 and SOCbattery
                                     is PB2), then (α is 0).

This phrase indicates that the vehicle's demand torque is less than the engine output torque, and the SOC value is high. The vehicle torque distribution will be adjusted, and ultimately, all of the torque demand will be fully provided by the motor. The engine does not output any torque.

The total fuzzy logic rule base is shown in Table 4
                           , and the fuzzy control system block diagram is shown in Fig. 6
                           . The engine target torque T
                           Eng
                           is acquired from wheel angular speed wW
                           (t) through “interpolation using prelookup”, the distribution ratio D andSOCbattery
                            are calculated into the fuzzy controller, engine and motor actual output torque are acquired on the basis of the output torque distribution coefficient α.

As the controller of the membership functions and control rules are made by designer expertise or obtained by experimental analysis, it is not possible to obtain the optimal results of fuzzy control. The characteristics of the controller can be optimized by both the rule base and the membership function. As the rule base is normally provided by expertise or analysis of experimental data. The results can be optimized if it takes a longer time, and the optimized result is likely to breach the initial wishes. The membership function is normally provided by designers of the fuzzy logic controller directly, and the possibility of defects will be greater. Therefore, it is very important to further optimize the significance, and we use genetic algorithm optimization.


                           Coding design: Figs. 7
                            and 8
                            show the fuzzy partition of D and SOCbattery
                            respectively,x
                           11
                           x
                           12
                           x
                           13
                           x
                           14
                           x
                           15
                           x
                           16
                           x
                           17
                           x
                           18 and x
                           21
                           x
                           22
                           x
                           23
                           x
                           24
                           x
                           25
                           x
                           26
                           x
                           27
                           x
                           28 represent each division point of the membership functions. Being encoded and in view of the practicability of the method, the intermediate variable select triangle membership function, and the edge select trapezoid membership functions, the triangular membership functions can be seen as a trapezoidal membership function vertex coincidence; for the triangular membership function distance, its shape can be determined by the lengths of the left and right end points to the basic point and the horizontal of the determined vertices to the base point. Using prior knowledge limits the freedom of the parameters from achieving a reasonable division of the fuzzy area and reducing the search space.

Each division point of the membership function can be seen as the chromosomes of the initial population. Assume that the entire initial population is made up of n chromosomes, where binary 1 or 0 represent the chromosomes. Considering the accuracy, we encode each variable to the nearest 0.01. However, the domain of the SOC is [0, 1], that is, in the range of 1–0=1, divided into at least 102 zones, that is to say:

                              
                                 (9)
                                 
                                    
                                       
                                          2
                                          6
                                       
                                       <
                                       1
                                       ×
                                       
                                          10
                                          2
                                       
                                       <
                                       
                                          2
                                          7
                                       
                                    
                                 
                              
                           
                        

We use a seven-bit binary number to represent each division point.

The three membership functions can be mainly represented as triple function (S1, S2, S3), and

                              
                                 (10)
                                 
                                    
                                       0
                                       ≤
                                       
                                          x
                                          min
                                       
                                       ≤
                                       
                                          x
                                          1
                                       
                                       <
                                       
                                          x
                                          2
                                       
                                       <
                                       
                                          x
                                          3
                                       
                                       <
                                       
                                          x
                                          4
                                       
                                       <
                                       
                                          x
                                          5
                                       
                                       ≤
                                       
                                          x
                                          max
                                       
                                       ≤
                                       …
                                       
                                          x
                                          n
                                       
                                       ≤
                                       1
                                       ,
                                    
                                 
                              
                           
                           
                              
                                 (11)
                                 
                                    
                                       
                                          x
                                          i
                                       
                                       =
                                       
                                          x
                                          min
                                       
                                       +
                                       
                                          
                                             s
                                             i
                                          
                                          100
                                       
                                       
                                          (
                                          
                                             x
                                             max
                                          
                                          −
                                          
                                             x
                                             min
                                          
                                          )
                                       
                                       ,
                                       i
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       3
                                       ,
                                       4
                                       ,
                                       5
                                       ,
                                       …
                                       n
                                    
                                 
                              
                           
                           
                              
                                 (12)
                                 
                                    
                                       0
                                       ≤
                                       
                                          s
                                          i
                                       
                                       ≤
                                       100
                                    
                                 
                              
                           
                        

Adopting this encoding method can achieve an ascending order of chromosomes after the crossover and mutation operations, thus avoiding the generation of invalid coding. x
                           min  is the minimum value, x
                           max  is the maximum value, si
                            is the distribution coefficient of membership function.


                           Fitness function construction: select the integral objective function; integrate the product of the system deviation and time. This paper regards the fuel consumption and emissions of the vehicle energy cycle as the basics and multiplies them with a weighting factor to establish the objective function.

Considering the dynamic performance requirements of the system, the objective function is defined as follows:

                              
                                 (13)
                                 
                                    
                                       J
                                       
                                          (
                                          f
                                          
                                             (
                                             i
                                             )
                                          
                                          )
                                       
                                       =
                                       
                                          ∫
                                          0
                                          ∞
                                       
                                       
                                          t
                                          ×
                                          
                                             |
                                             
                                                e
                                                (
                                                t
                                                )
                                             
                                             |
                                          
                                          d
                                          t
                                       
                                    
                                 
                              
                           
                        

e(t) is the system error, and t is the time. Based on the expression, the smaller J is, the better the result is. Because genetic algorithms usually attain the maximum, the fitness function will finally be defined as follows:

                              
                                 (14)
                                 
                                    
                                       F
                                       =
                                       
                                          1
                                          
                                             1
                                             +
                                             J
                                             (
                                             f
                                             (
                                             i
                                             )
                                             )
                                          
                                       
                                    
                                 
                              
                           
                        

J(i) is the ITAE of the ith individual.

                              
                                 (15)
                                 
                                    
                                       J
                                       
                                          (
                                          i
                                          )
                                       
                                       =
                                       
                                          1
                                          
                                             
                                                w
                                                1
                                             
                                             +
                                             
                                                w
                                                2
                                             
                                             +
                                             
                                                w
                                                3
                                             
                                             +
                                             
                                                w
                                                4
                                             
                                          
                                       
                                       ×
                                       
                                          (
                                          
                                             
                                                w
                                                1
                                             
                                             
                                                ∫
                                                0
                                                
                                                   T
                                                   
                                                      L
                                                      K
                                                   
                                                
                                             
                                             
                                                
                                                   F
                                                   C
                                                
                                                
                                                   
                                                      F
                                                      C
                                                   
                                                   ¯
                                                
                                             
                                             +
                                             
                                                w
                                                2
                                             
                                             
                                                ∫
                                                0
                                                
                                                   T
                                                   
                                                      L
                                                      K
                                                   
                                                
                                             
                                             
                                                
                                                   H
                                                   C
                                                
                                                
                                                   
                                                      H
                                                      C
                                                   
                                                   ¯
                                                
                                             
                                             +
                                             
                                                w
                                                3
                                             
                                             
                                                ∫
                                                0
                                                
                                                   T
                                                   
                                                      L
                                                      K
                                                   
                                                
                                             
                                             
                                                
                                                   N
                                                   
                                                      O
                                                      x
                                                   
                                                
                                                
                                                   
                                                      N
                                                      
                                                         O
                                                         x
                                                      
                                                   
                                                   ¯
                                                
                                             
                                             +
                                             
                                                w
                                                4
                                             
                                             
                                                ∫
                                                0
                                                
                                                   T
                                                   
                                                      L
                                                      K
                                                   
                                                
                                             
                                             
                                                
                                                   C
                                                   O
                                                
                                                
                                                   
                                                      C
                                                      O
                                                   
                                                   ¯
                                                
                                             
                                          
                                          )
                                       
                                    
                                 
                              
                           
                           i is the order of the chromosomes; w
                           1, w
                           2, w
                           3, w
                           4 represent the values of the optimization target; FC, HC, NOx, CO represent the fuel consumption and exhaust emission values; 
                              
                                 
                                    
                                       F
                                       C
                                    
                                    ¯
                                 
                                 ,
                                 
                                    
                                       H
                                       C
                                    
                                    ¯
                                 
                                 ,
                                 
                                    
                                       N
                                       
                                          O
                                          x
                                       
                                    
                                    ¯
                                 
                                 ,
                                 
                                    
                                       C
                                       O
                                    
                                    ¯
                                 
                              
                            represent the optimization target of the fuel consumption and exhaust emission values; and TLK
                            is the total road travel time.

The genetic algorithm comprises three basic operations, selection, crossover and mutation. The roulette selection method is used in the selection operation. Assuming that the population size is n, the fitness of the i individual is fi
                           , so the probability (P) of choosing i is

                              
                                 (16)
                                 
                                    
                                       
                                          P
                                          i
                                       
                                       =
                                       
                                          
                                             f
                                             i
                                          
                                          
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   i
                                                
                                                n
                                             
                                             
                                                f
                                                i
                                             
                                          
                                       
                                    
                                 
                              
                           
                        


                           Cross operand determination: the cross is a combination of the parent mating population information to generate a new individual. The crossover probability Pc
                            is the main search operator, generally speaking, its value is usually much greater. However, a very large value of Pc
                            can easily destroy an excellent mode that groups have formed and make a search much more random, whereas a smaller value of Pc
                            makes the discovery of new individuals (especially fine new individual) too slow. In this paper, Pc
                            is defined as 0.9.


                           Variation operands determination: Mutation is making some changes in some individuals.

For the mutation probability, it is generally believed that a large probability Pm
                            of the variation in the genetic algorithm makes a big jump in the entire search space, and a small mutation probability makes the genetic algorithm focus on special areas for a local search. In this paper, the mutation probability 
                              
                                 
                                    P
                                    m
                                 
                                 =
                                 0.04
                              
                           . Determining the overall parameters means that the operating parameters need to be selected in the GA.

The individual code string length is L, the population size is M, the crossover probability is Pc
                           , and the terminated generation is N. Table 5
                            shows the specific operating parameters in the GA.


                           Figs. 9
                            and 10
                            are two membership functions of the fuzzy controller before and after they are improved by the GA, where the solid line is the improved membership function and the dotted line is the unimproved membership function.

The whole vehicle model is shown in Fig. 11
                           , the proposed strategy is embedded and connected.

To verify the superiority of the fuzzy control strategy (Strategy A), the Hafei Saibao PHEV is experimented on, and the test specific parameters are shown in Table 6
                     . The corresponding testing results are compared and analyzed in strategy A and electric auxiliary control strategy (Strategy B). The main idea of Strategy B is that in the process of vehicle driving, the engine is mainly used to drive, and when the output power is not enough, the motor is used as an auxiliary. The features of the approach are good use of the engine working zone and easy to be controlled. However, the efficiency of the motor is relatively low, and the gas emissions are high. The control model is shown in Fig. 12.
                     
                  

The battery charging and discharging efficiency, real-time operating points of the engine and the motor are compared in Strategy A and Strategy B on the CYC-UDDS road cycle, so as on the CYC_NEDC road cycle. The typical road cycle indicators are shown in Table 7.
                     
                  

From the performance of the battery, SOCBattery
                      has an initial value of 0.7 for both strategies in Fig. 13
                     . In Strategy A, the battery SOC is steady. During the whole CYC-UDDS road cycle, the maximum value of the SOC is 0.7, the minimum is 0.65926, and the change is 5.82%. The mode avoids the impact of the peak current to the battery and effectively protects the battery. In Strategy B, SOCBattery
                      ranges from 0.7 to 0.62957, and the entire cycle of change is 10.06%. Compared to Strategy B, the rate has increased by 42.15% in Strategy A.

Shown from Fig. 14
                     , the battery charging efficiency is high, the distribution points are relatively intent, and the charging efficiency ranges from 85% to 90% in Strategy A, so as the battery discharging efficiency with above 90% in Fig. 16. The charging and discharging of the battery smoothly guarantee to extend battery life, which will also help to enhance vehicle performance. However, in Strategy B, charging points are dispersed, and the efficiency is relatively low in Fig. 15
                     
                     . In Fig. 17
                     , there is suddenly a low efficiency point in the discharging efficiency distribution. In Strategy B the damage to the battery is more serious.

The motor operating point distributions in Strategy A and Strategy B are shown in Figs. 18
                      and 19
                     . The operating points of the permanent magnet synchronous motor gradually extend to the maximum torque curve, and the motor efficiency is higher in Strategy A than Strategy B. Besides, shown from the motor actual generate operating points, Strategy A can recover more energy.

As seen in Figs. 20
                      and 21
                     , the engine operating points are more concentrated, and the engine output is steadier, not bigger zone change, effectively avoiding the production of the engine peak torque in Strategy A. In addition, the engine operating points are concentrated while the speed is more than 2000r/min, so the fuel consumption can be reduced in Strategy A.

As seen in Fig. 22
                     , which compares the exhaust emission, the gas emissions have greatly improved on the CYC-UDDS and CYC-NEDC road cycle in Strategy A from the Y-axis emission value (g/km), the emission gas such as CO, HC and NO has decreased obviously on the NEDC road cycle, as well as on the UDDS road cycle, the engine's fuel economy has effectively been improved in Strategy A.

To verify the convergence of Strategy A, in the experiments, a trip builder is used 5 times with CYC-UDDS and 5 times with CYC-NEDC in Fig. 23
                     . SOCBattery
                     (ess_SOC_hist in Fig. 23) is maintained at 0.64 while the initial value is 0.7, which shows that the battery can keep charging and discharging in a balanced manner in Fig. 24
                     . Strategy A can protect the battery better in longer driving distance, extend the battery life, and ultimately reduce the vehicle cost.

@&#CONCLUSION@&#

Hybrid electric vehicle (HEV) integration has the advantages of an electric vehicle and a traditional vehicle. Based on the special structure and operation principle of PHEV, the control method and strategy of the research is particularly important. The intelligent fuzzy control is used on the torque distribution between the motor and the engine, the membership functions of the fuzzy controller are optimized on GA. We have lastly compared the experimental results with the electric auxiliary strategy in battery SOC state, charge-discharge efficiency, the working point distribution of the driving elements. During the whole CYC-UDDS road cycle, the initial SOC is both set 0.7, in fuzzy strategy, the minimum is 0.65926, and the change is 5.82%; in electric auxiliary control strategy, the minimum is 0.62957, and the change is 10.06%, the results show that the method can maintain the battery in the process of charging and discharging more smoothly in the proposed fuzzy strategy with decreasing by 42.15%. The motor actual operating points are relatively concentrate, distribute around the high efficiency zone, effectively prevent the motor from producing peak torque in intelligent fuzzy control strategy; and the engine work mostly in the higher speed area, so the strategy can optimize the performance of the car, low the fuel consumption, reduce the exhaust emissions such as CO, HC and NO. In addition, HEV co-simulation technology in MATLAB-ADVISOR has also been a good application.

This paper provides the theoretical basis and methods for HEV technology research, which has good potential application in vehicle design, improving the growing environmental and energy problems.

The authors declare that there is no conflict of interest regarding the publication of this paper.

Supplementary material associated with this article can be found, in the online version, at doi:10.1016/j.compeleceng.2016.03.014.


                     
                        
                           1
                           Application 1
                           
                        
                     
                     
                        
                           2
                           Application 2
                           
                        
                     
                  

@&#REFERENCES@&#

