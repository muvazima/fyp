@&#MAIN-TITLE@&#An approach for machining allowance optimization of complex parts with integrated structure

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           An approach for machining allowance optimization of complex parts based on CMM inspection is developed.


                        
                        
                           
                           An alignment process to ensure sufficient stock allowance for the whole integrated parts is concerned.


                        
                        
                           
                           The symmetric block solution strategy is proposed to solve the constrained alignment model.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Adaptive machining

CMM

Complex parts

Machining allowance optimization

Workpiece localization

@&#ABSTRACT@&#


               
               
                  Currently composite manufacturing process, such as linear friction welding plus NC machining, is the main method for the manufacturing and repairing of complex parts with integrated structure. Due to different datum position and inevitable distortion from different processes, it is important to ensure sufficient machining allowance for complex parts during the NC machining process. In this paper, a workpiece localization approach for machining allowance optimization of complex parts based on CMM inspection is developed. This technique concerns an alignment process to ensure sufficient stock allowance for the single parts as well as the whole integrated parts. The mathematical model of the constrained alignment is firstly established, and then the symmetric block solution strategy is proposed to solve the optimization model. Experiment result shows that the approach is appropriate and feasible to distribute the machining allowance for the single and whole parts for adaptive machining of complex parts.
               
            

@&#INTRODUCTION@&#

Complex integrated parts with high precision and large production, such as impeller and blisk, are widely used in the major equipment of military and civil aerospace fields. And an increasingly high demand from industry is to conduct efficient and precision machining of these parts [1]. At present, composite manufacturing process is the main method for the manufacturing of complex parts, which includes precision forging plus NC machining, precision casting plus NC machining and precision welding plus NC machining [1–4]. In addition, especially compared with the conventional structure parts, the repairing technology is the critical issue for the complex parts with integrated structure, which will affect the service life and restrict the application level [3]. Nowadays, linear friction welding is developed to be an ideal solution for the manufacturing and repairing of complex integrated parts. Because it can save large amount of noble metal, reduce machining time and with high comprehensive performance.

However, different from the traditional machining method, machining region, localization datum, allowance distribution and tool path generation of NC machining of complex integrated parts all depend on the actual processing result of the previous process. So the design model will be no longer suitable for multi-axis NC programming, and it must be constructed process geometric model adaptively to describe the actual position and shape of complex parts. And it is known as adaptive machining or adaptive repairing, and many researchers have addressed the related topic for complex parts [3–6]. Gao et al. [5,6] presented an integrated adaptive repair solution for complex aerospace components through geometry reconstruction, but it is only focused on the curved blade. Since the variations of aerospace components geometry, it is difficult to reconstruct geometric model to best fit the actual geometry. Zhang et al. [3] proposed an adaptive machining approach based on adaptive process model for precision machining of blisk, which is reconstructed to describe workpiece localization, allowance distribution and error compensation for NC machining of blisk accurately. But it has not given any specific model and solving method.

In practically, apart from geometric modeling, workpiece localization and allowance optimization is the significant technology for adaptive machining or repairing of complex parts [3,7–10]. By measuring feature points of sculpture surface and by executing localization algorithm, the exact workpiece position is determined and the machining allowance distribution can be optimized as well. ICP (Iterative Closest Point) method is the common method, which have been improved by some scholars in model alignment, image processing and pattern recognition [7]. Zhu et al. [8] presents a unified framework for best-fitting of complex rigid surface to measured 3D coordinate data by adjusting its location (position/orientation). Sun et al. [9] developed a unified localization technique for sculptured surface machining. And the technique concerns an alignment process to satisfy a user-defined set of constraints for some specific surfaces where the machining allowance is preferentially guaranteed. Unfortunately, the above researches have not paid much attention to NC machining with composite manufacturing process; and the effective method for machining allowance optimization of complex parts with integrated structure has not been created [3].

Therefore, to significantly improve the NC machining precision of complex integrated parts, in this work, a unified model for machining allowance optimization is presented. Taking the blisk as the research object, first the machining allowance optimization model is introduced in Section 2. Symmetric block solution strategy of integrated blisk is discussed in Section 3. In Section 4, experiment is rendered to demonstrate the advantages of this innovative optimization method over the conventional method.

It is well known that an adaptive machining approach is the key point for highly precision manufacturing and repairing of blisk. In the composite manufacturing process of aerospace industry, a common problem encountered is that the nominal CAD model from designers is different from its corresponding “machining” one and thus cannot be directly used for tool path generation for final NC machining. And different datum position from different processes may cause inaccurate clamping position.

For composite manufacturing process of complex parts, the purpose of machining allowance optimization is to meet the processing requirements, which is to achieve uniform or non-uniform allowance distribution and to improve the inevitable distortion from the previous process. And its essence is to determine the complex parts position, which is described by rigid body rotation and translation transformation between the workpiece coordinate system and the measuring coordinate system (see 
                     Fig. 1).

Assuming measured points set in the measuring coordinate system is 
                        P
                        =
                        {
                        
                           
                              p
                           
                           
                              i
                           
                        
                        |
                        i
                        =
                        1
                        ,
                        ⋯
                        ,
                        N
                        }
                     , while measured points set in the workpiece coordinate system is 
                        
                           P
                           ′
                        
                        =
                        {
                        
                           
                              
                                 p
                                 ′
                              
                           
                           
                              i
                           
                        
                        |
                        i
                        =
                        1
                        ,
                        ⋯
                        ,
                        N
                        }
                     . As shown in 
                     Fig. 2, point 
                        q
                     
                     
                        i
                      is the one with shortest distance from point 
                        
                           
                              p
                              ′
                           
                           
                              i
                           
                        
                      on the workpiece surface. With the points set 
                        P
                        ′
                     , the corresponding points set 
                        Q
                        =
                        {
                        
                           
                              q
                           
                           
                              i
                           
                        
                        |
                        i
                        =
                        1
                        ,
                        ⋯
                        ,
                        N
                        }
                      can be defined. Let 
                        n
                     
                     
                        i
                      be the unit face normal vector at point 
                        q
                     
                     
                        i
                     , and δ be the machining allowance, points with equal distance form points set 
                        Q
                      can be get by employing the following transformation and all the points formed machining points set 
                        
                           Q
                           ′
                        
                        =
                        {
                        
                           
                              
                                 q
                                 ′
                              
                           
                           
                              i
                           
                        
                        |
                        i
                        =
                        1
                        ,
                        ⋯
                        ,
                        N
                        }
                     :

According to the corresponding point 
                        
                           
                              p
                              ′
                           
                           
                              i
                           
                        
                      and 
                        
                           
                              
                                 q
                                 ′
                              
                           
                           
                              i
                           
                        
                     , the normal direction distance function can be defined as
                        
                           (1)
                           
                              
                                 
                                    d
                                 
                                 
                                    i
                                 
                              
                              
                                 (
                                 x
                                 )
                              
                              =
                              
                                 (
                                 
                                    
                                       
                                          
                                             p
                                             ′
                                          
                                       
                                       
                                          i
                                       
                                    
                                    −
                                    
                                       
                                          
                                             q
                                             ′
                                          
                                       
                                       
                                          i
                                       
                                    
                                 
                                 )
                              
                              ⋅
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                              
                              =
                              
                                 (
                                 
                                    
                                       (
                                       
                                          R
                                          
                                             (
                                             x
                                             )
                                          
                                          ⋅
                                          
                                             
                                                p
                                             
                                             
                                                i
                                             
                                          
                                          +
                                          t
                                          
                                             (
                                             x
                                             )
                                          
                                       
                                       )
                                    
                                    −
                                    
                                       
                                          q
                                       
                                       
                                          i
                                       
                                    
                                 
                                 )
                              
                              ⋅
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                              
                              −
                              δ
                           
                        
                     where 
                        R
                      is the rotation transformation, 
                        t
                      is the translation transformation, 
                        x
                     =(α, β, γ, Δx, Δy, Δz)T is the transformation parameters; α, β and γ represent the rotation component about x
                     w, y
                     w and z
                     w, meanwhile Δx, Δy and Δz represent translation components along x
                     w, y
                     w and z
                     w.

So, based on measured feature points of complex parts, the unified optimization model of machining allowance can be developed and expressed as follows:
                        
                           (2)
                           
                              {
                              
                                 
                                    
                                       
                                          
                                             min
                                             
                                             f
                                             
                                                (
                                                x
                                                )
                                             
                                             =
                                             
                                                ∑
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                N
                                             
                                             
                                                
                                                   
                                                      d
                                                   
                                                   
                                                      i
                                                   
                                                   
                                                      2
                                                   
                                                
                                                
                                                   (
                                                   x
                                                   )
                                                
                                                =
                                             
                                             
                                                ∑
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                N
                                             
                                             
                                                
                                                   
                                                      (
                                                      
                                                         
                                                            (
                                                            
                                                               
                                                                  (
                                                                  
                                                                     R
                                                                     
                                                                        (
                                                                        x
                                                                        )
                                                                     
                                                                     ⋅
                                                                     
                                                                        
                                                                           p
                                                                        
                                                                        
                                                                           i
                                                                        
                                                                     
                                                                     +
                                                                     t
                                                                     
                                                                        (
                                                                        x
                                                                        )
                                                                     
                                                                  
                                                                  )
                                                               
                                                               −
                                                               
                                                                  
                                                                     q
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                            
                                                            )
                                                         
                                                         
                                                            
                                                               n
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         −
                                                         δ
                                                      
                                                      )
                                                   
                                                   2
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             s
                                             .
                                             t
                                             .
                                             
                                             
                                             
                                             
                                             
                                             x
                                             ∈
                                             D
                                             =
                                             
                                                {
                                                
                                                   x
                                                   |
                                                   −
                                                   μ
                                                   ≤
                                                   g
                                                   
                                                      (
                                                      
                                                         
                                                            
                                                               d
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                         
                                                            (
                                                            x
                                                            )
                                                         
                                                      
                                                      )
                                                   
                                                   ≤
                                                   ε
                                                   ,
                                                   
                                                   
                                                   
                                                   
                                                   
                                                   
                                                   
                                                   i
                                                   =
                                                   1
                                                   ,
                                                   2
                                                   ,
                                                   ..
                                                   .
                                                   ,
                                                   N
                                                
                                                }
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     
                  

In this model, D is the feasible domain of 
                        x
                      which defined by distance distribution control function 
                        g
                        
                           (
                           
                              
                                 
                                    d
                                 
                                 
                                    i
                                 
                              
                              
                                 (
                                 x
                                 )
                              
                           
                           )
                        
                      and its upper deviation and lower deviation are ε and μ respectively. When the objective function reaches its minimum value, the localization transformation 
                        (
                        
                           
                              R
                           
                           ⁎
                        
                        ,
                        
                        
                        
                        
                        
                        
                        
                           
                              t
                           
                           ⁎
                        
                        )
                      is named as the Optimum Localization Transformation (OLT) and the corresponding 
                        
                           
                              x
                           
                           ⁎
                        
                      is the Optimum Transformation Parameter (OTP). The constraint condition for machining allowance optimization can be classified into four types:

Regional tolerance constraint condition G
                     1(
                        x
                     ):
                        
                           (3)
                           
                              x
                              ∈
                              
                                 
                                    D
                                 
                                 
                                    1
                                 
                              
                              =
                              
                                 {
                                 
                                    x
                                    |
                                    −
                                    μ
                                    ≤
                                    
                                       
                                          d
                                       
                                       
                                          i
                                       
                                    
                                    
                                       (
                                       x
                                       )
                                    
                                    ≤
                                    ε
                                    ,
                                    i
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    ..
                                    .
                                    ,
                                    N
                                 
                                 }
                              
                           
                        
                     while δ=0, the region is the design surface, and the region is the equidistance surface for δ>0.

Existence of machining allowance G
                     2(
                        x
                     ):
                        
                           (4)
                           
                              x
                              ∈
                              
                                 
                                    D
                                 
                                 
                                    2
                                 
                              
                              =
                              
                                 {
                                 
                                    x
                                    |
                                    
                                       
                                          d
                                       
                                       
                                          i
                                       
                                    
                                    
                                       (
                                       x
                                       )
                                    
                                    ≥
                                    0
                                    ,
                                    i
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    ..
                                    .
                                    ,
                                    N
                                 
                                 }
                              
                           
                        
                     where δ=δ
                     min is the minimum machining allowance, it is the particular case of G
                     1(
                        x
                     ).

Non-uniform machining allowance G
                     3(
                        x
                     ):
                        
                           (5)
                           
                              x
                              ∈
                              
                                 
                                    D
                                 
                                 
                                    3
                                 
                              
                              =
                              
                                 {
                                 
                                    x
                                    |
                                    
                                       
                                          d
                                       
                                       
                                          i
                                       
                                    
                                    
                                       (
                                       x
                                       )
                                    
                                    ≥
                                    0
                                    ,
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    −
                                    μ
                                    ≤
                                    h
                                    
                                       (
                                       
                                          
                                             
                                                d
                                             
                                             
                                                i
                                             
                                          
                                          
                                             (
                                             x
                                             )
                                          
                                       
                                       )
                                    
                                    ≤
                                    ε
                                    ,
                                    i
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    ..
                                    .
                                    ,
                                    N
                                 
                                 }
                              
                           
                        
                     Where h(d
                     
                        i
                     ) represents the non-uniform machining allowance.

Machining allowance uniform distribution constraint G
                     4(
                        x
                     ):
                        
                           (6)
                           
                              x
                              ∈
                              
                                 
                                    D
                                 
                                 
                                    4
                                 
                              
                              =
                              
                                 {
                                 
                                    x
                                    |
                                    
                                       
                                          d
                                       
                                       
                                          i
                                       
                                    
                                    
                                       (
                                       x
                                       )
                                    
                                    ≥
                                    0
                                    ,
                                    
                                    
                                    
                                    
                                    
                                    −
                                    μ
                                    ≤
                                    
                                       
                                          d
                                       
                                       
                                          i
                                       
                                    
                                    
                                       (
                                       x
                                       )
                                    
                                    −
                                    
                                       1
                                       N
                                    
                                    
                                       ∑
                                       
                                          i
                                          =
                                          1
                                       
                                       N
                                    
                                    
                                       
                                          
                                             d
                                          
                                          
                                             i
                                          
                                       
                                       
                                          (
                                          x
                                          )
                                       
                                       ≤
                                       ε
                                    
                                    ,
                                    
                                    
                                    i
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    ..
                                    .
                                    ,
                                    N
                                 
                                 }
                              
                           
                        
                     
                  

The advantage of machining allowance optimization is that the localization accuracy and efficiency are improved without any specific fixtures.

The optimization model of machining allowance can be used not only for complex single blade, but also for complex integrated blisk. However, due to the characteristics of composite manufacturing technology, a symmetric block solution strategy is proposed to fit the part-to-part variation of complex integrated blisk [3].

The optimization model of machining allowance unifies various optimization objectives and constraints. In practical applications, because of the differences of allowance distribution and measurement results from each blisk stock, it may lead to conflicting constraints, and the feasible region may be empty, and then the optimal solution cannot be obtained.

Therefore, according to the level changes from low to high, conventional localization – regional tolerances – existence of allowance – uniform allowance (or non-uniform allowance), localization strategy is established to select the objective function and the constraints condition adaptively (see 
                        Fig. 3). And then the optimization model can be solved by Rockefeller Multiplier Method in correct way [11].

Different from conventional single parts, complex parts with integrated structure should have enough machining allowance for the whole integrated parts [3]. Blisk is an axial symmetry part and allowance optimization of each blade will destroy the symmetry. Multi-level grouping optimization method is suitable.

So, based on the CMM inspection result of linear friction welding stock, the first thing is to determine whether or not to machine with uniform localization datum. If not, according to symmetric block principle, relative localization datum for blade is confirmed and then the machining consistency of the whole blisk is guaranteed to satisfy machining error requirement (see 
                        Fig. 4).

Taking the linear friction welding blisk as an object, the result of machining allowance optimization using the presented model is shown in 
                     
                     
                     Figs. 5–7.

The simulation model has 20 blades, and each blade is constructed by offsetting 6mm for the transition region of blade and offsetting 3mm for the root region of blade at first. Then to simulate welding distortion, every welding blade of blisk is rotated with a random angle by z-axis in relative coordinate system (see Fig. 5). The measured points is obtained from the initial points set, which are achieved by iso-parametric discretization in four regions, added with random noise (see Fig. 6).


                     Fig. 7 is the comparison of machining allowance optimization of blisk. It is shown that the relative localization datum are changed and the distance errors are reduced in different regions. And it will improve the machining precision from the influence of welding distortion.


                     
                     
                     
                     Figs. 8–10 show the practical experiment of machining allowance optimization of complex parts blisk. Fig. 8 gives CMM inspection of blisk.


                     Fig. 9 is the error comparsion of machining allowance optimization of blisk. It shows that the mean square errors are reduced obviously for every blade of blisk.


                     Fig. 10 is the final machining result of blisk. After final inspection, the machining location and accuracy are all satisfy the design requirements. The position of each blade is precise and the connection quality is fine. Also it shows that our approach is feasible to distribute the machining allowance for adaptive machining of complex parts.

@&#CONCLUSIONS@&#

Currently composite manufacturing process, such as linear friction welding plus NC machining, is the main method for the manufacturing of complex parts with integrated structure. Due to different datum position and inevitable distortion from different processes, it is important to ensure sufficient machining allowance for complex parts during the machining process. In this paper, an optimization model of machining allowance of complex parts machining based on CMM inspection is developed. This technique concerns an alignment process to ensure sufficient stock allowance not only for the single parts, but also for the whole integrated parts. The mathematical model of the constrained alignment is firstly established, and then the symmetric block solution strategy is proposed to solve the optimization model. Experiment result shows that the approach is appropriate and feasible to distribute the machining allowance for the single and whole parts for complex parts repairing.

The authors have no conflict of interest.

@&#ACKNOWLEDGMENTS@&#

This project is supported by National Natural Science Foundation of China (Grant No. 51305353), Aeronautical Science Foundation of China (Grant No. 20141653024), and Fundamental Research Funds for The Central Universities (Grant No. 3102014JCS05011).

@&#REFERENCES@&#

