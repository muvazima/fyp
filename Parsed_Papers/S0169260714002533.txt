@&#MAIN-TITLE@&#A smart medication recommendation model for the electronic prescription

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           This model is to introduce a new concept called Mean Prescription Rank of prescriptions.


                        
                        
                           
                           The physicians will able to select relevant medications even in the case of inappropriate (unintentional) selection.


                        
                        
                           
                           To enhance efficiency of the e-prescribing system.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

NHI database

Medications

Inappropriate prescription

Diagnosis-Medication association

Smart medication recommendation model

@&#ABSTRACT@&#


               
               
                  Background
                  The report from the Institute of Medicine, To Err Is Human: Building a Safer Health System in 1999 drew a special attention towards preventable medical errors and patient safety. The American Reinvestment and Recovery Act of 2009 and federal criteria of ‘Meaningful use’ stage 1 mandated e-prescribing to be used by eligible providers in order to access Medicaid and Medicare incentive payments. Inappropriate prescribing has been identified as a preventable cause of at least 20% of drug-related adverse events. A few studies reported system-related errors and have offered targeted recommendations on improving and enhancing e-prescribing system.
               
               
                  Objective
                  This study aims to enhance efficiency of the e-prescribing system by shortening the medication list, reducing the risk of inappropriate selection of medication, as well as in reducing the prescribing time of physicians.
               
               
                  Method
                  103.48 million prescriptions from Taiwan's national health insurance claim data were used to compute Diagnosis-Medication association. Furthermore, 100,000 prescriptions were randomly selected to develop a smart medication recommendation model by using association rules of data mining.
               
               
                  Results and conclusion
                  The important contribution of this model is to introduce a new concept called Mean Prescription Rank (MPR) of prescriptions and Coverage Rate (CR) of prescriptions. A proactive medication list (PML) was computed using MPR and CR. With this model the medication drop-down menu is significantly shortened, thereby reducing medication selection errors and prescription times. The physicians will still select relevant medications even in the case of inappropriate (unintentional) selection.
               
            

@&#INTRODUCTION@&#

Electronic Prescription (ePrescription, eRx) is one of the functionality/module of the computer-based order entry (CPOE) or electronic health record system (EHR) used by health providers for prescribing, transferring, dispensing and monitoring of the medications [1]. Barach et al., reports that nearly 100,000 individuals die per year in the U.S. due to preventable medical errors [2], and medication errors were found to be a major type of medical error [3]. The release of the Institute of Medicine report, To Err Is Human: Building a Safer Health System in 1999 drew a special attention towards preventable medical errors and patient safety [4]. The advancement in the information technologies, particularly health information exchange within and among hospitals has been proven to significantly reduce medical errors and improve patient safety [5]. A decade later, under the American Reinvestment and Recovery Act of 2009 and federal criteria of ‘Meaningful use’ stage 1, e-prescribing was mandated to be used by eligible providers in order to access Medicaid and Medicare incentive payments [6,7].

Reduced medication errors and improved patient safety have become the important indicators used for evaluating hospital performance and for approval of ‘meaningful use’ accreditations. Studies have reported more than an 80% of decrease in the medication errors in the in-patient settings with the use of ePrescription system [5,8,9]. Therefore, e-prescribing has been promoted as a potential information system in order to reduce medication errors and increase patient safety [8,10].

Although on the one hand there are studies published that have evaluated the ePrescription system and reported the positive results [5,11,12], on the other hand there are studies revealing CPOE systems possess potential risk for 22 types of medication error [13] Up to 35% of prescribing errors were system-related (selection of an inappropriate (unintentional) drug from the drop-down menu next to a likely drug)[14]. Inappropriate prescribing has been identified as a preventable cause of at least 20% of drug-related adverse events [15,16]. A few studies reported system-related errors and have offered targeted recommendations on improving and enhancing e-prescribing system [17,18].

Therefore, this study is aimed to enhance efficiency of the e-prescribing system by reducing the risk of inappropriate selection of the medication and also to reduce the prescribing time of the physicians. In order to do so we proposes a smart model that recommends most commonly prescribed medications in the drop-down menu for a given diseases.

@&#METHOD@&#

Taiwan's national health insurance claim data was used to compute the Disease-Medication association for all prescriptions from 1st January to 31st December 2002. Out of a total of 263.57 million prescriptions from out-patient clinics 160.09 million were excluded for the following reasons: (a) missing/invalid disease code or medication code; (b) medication written in the Mandarin; and (c) prescription of traditional Chinese medications. About 103.48 million prescriptions with the diagnosis in a valid (International Classification of Disease v.9 – Clinical Modification) ICD9-CM code and medications in the national health insurance (NHI) codes were analysed. Taiwan's NHI medication codes were mapped into ATC (Anatomical Therapeutic Chemical) Classification System in order to quantify disease-medication association. Fig. 1
                      shows the study design. The NHI permits up to three diagnoses, therefore usually a prescription consists of 1–3 diagnoses, and 1–15 medications.

A smart medication recommendation model was developed by the following steps:
                        
                           1.
                           To quantify the disease-medication (DM) association frequencies from the 103.48 million prescriptions.

To calculate the DM ‘interestingness’ (lift) value and then ranked value for each of the 14,734 diseases.

To compute the Mean Prescription Rank (MPR) and Coverage Rate (CR) of the medications from randomly selected 100,000 prescriptions.

To decide Coverage Rate of medications by alphabetical order for the proactive medication list (PML).

To demonstrate the user interface of the model.

All the 103.4 million valid prescriptions were selected in order to compute frequencies of the associations for every diagnosis with all the medications prescribed. Each prescription consists of 1–3 ICD9-CM codes and 1–15 medications. The 103.4 million prescriptions had 14,734 unique ICD9-CM codes for diseases with 3657 ATC codes for medications resulting in 53.8 million unique associations and a total of 798.5 million associations.

Association rule mining was performed on structured claim database of the NHI. The popular association measure of interestingness of a rule ‘lift’ was used [19,20]. A lift value greater than 1.0 indicated that a prescription with diagnosis A tended to contain medication B more often than prescriptions that did not contain A. The lift values for all the DM association were calculated and sorted in descending order for each disease, thus the most commonly used medications for every disease were obtained. Then, all the lift values were ranked (DM value by descending order) for each disease.

100,000 prescriptions were randomly selected for further analysis. In this step analysis was done on each prescription with all of the DM associations present in it. We have introduced a new term called Mean Prescription Rank (MPR). MPR is the average value of the lowest DM rank of lift value of each prescription (See Table 1
                        ). Since prescription could include up to three different diagnoses, it is necessary to computed lift value of each medication used for various combinations of diseases. In order to know the most frequently prescribed medications for a given combination of diagnosis. MPR was calculated for all of the 100,000 prescriptions. Next, Coverage Rate of prescriptions was computed from 100,000 MPRs computed.
                           
                              
                                 
                                    MeanPrescription
                                       
                                    Rank
                                    =
                                    AVG
                                       
                                    (
                                    MIN
                                     
                                    
                                       
                                          (
                                          Lift-rank
                                           
                                          (
                                          
                                             ATC
                                             i
                                          
                                          ,
                                          ICD9CM1
                                          )
                                          ,
                                             
                                          Lift-rank
                                          (
                                          
                                             ATC
                                             i
                                          
                                          ,
                                          ICD9CM2
                                          )
                                          ,
                                             
                                          Lift-rank
                                           
                                          (
                                          
                                             ATC
                                             i
                                          
                                          ,
                                          ICD9CM3
                                          )
                                          )
                                       
                                       i
                                    
                                    )
                                 
                              
                           
                        where Lift-rank is the function to get rank of Lift-value and i the number of ATC codes.


                        Coverage Rate (CR): When each of the 100,000 prescriptions was computed using MPR, it was found that the top 100 MPR prescriptions covered up to 81% the total 100,000 prescriptions, and the top 200 MPR covered up to 96% of the total prescriptions. This suggests all the medications prescribed in top 100 MPR will be included when we compute proactive medication list. Table 2
                         shows the CR of prescriptions in relation to the MPR.


                        Fig. 2
                         shows the graphical representation of Table 2. It shows that the top 50 MPR are covered by 45% of prescriptions, the top 100 MPR are covered by 81% of prescriptions and the top 200 by 96% of prescriptions.

The complete medication list contains the names of all the medications prescribed in the 100,000 prescriptions and sorted by alphabetical order. However, proactive medication list is computed from the medication present in the prescriptions of top 100 or 200 MPR. For an example, if the hospital management decided to have the medications prescribed in top 100 MPR prescriptions for their ePrescription system, then medication prescribed in these top 100 MPR will be sorted in alphabetical order and presented in the drop-down menu of the ePrescription system. The hospital management will know that if they choose the top 100 MPR, medication prescribed in 81% of prescriptions will be covered; however, if management choose the 200 MPR medication prescribed in 96% of prescriptions will be covered. Table 3
                         shows the number of medications by alphabetical order presented in the complete medication list (CML) and the pro-active medication list (PML) for the top 100 and 200 MPR prescriptions and the percentage of medication list shrinkage by each letter, respectively.

As shown in Table 3, the total number of medications starting with the letter ‘A/a’ are 268; however, with the use of PML, on an average there will be 12 medications in the top 100 MPR and 21 medications for top 200 MPR prescriptions.

The user interface with the complete and proactive medication list (PML) is shown in Fig. 3
                        . With the use of PML, the physician can select medications from a list of 21 medications that are commonly prescribed and not from a drop-menu with a complete list of 268 medications. Even in cases of inappropriate (unintentional) selection, the physician will still select the relevant medication. Thus, this model will reduce medication error and the prescription time by significantly shortening the medication drop-down menu.

@&#DISCUSSION@&#

This study proposes a smart medication recommendation model for electronic prescriptions. This model organizes the drop-down menu of the ePrescription system. It lists only relevant medication for a given diseases and also displays a lift value to show the relation of the medication to a given disease. This model is smart because it not only reduces physicians time for prescribing medications by significantly shortening the drop-down menu but also eliminates the risk of medication errors even if Physicians unintentionally select the wrong medication. This is because only most relevant medications will be listed in the menu. This model is developed to be a solution for the inefficiency of the present ePrescription systems, such as providing possibility of inappropriate selection of medications [14–18].

The associations rule mining technique we used is not a novel by itself. It has been developed for over a decade and has been used in a various fields and purposes [20–22]. It was used to infer patient problems from clinical and billing data, to estimating co-occurrence of the disease and findings from discharge summaries, to discovering potentially unknown adverse effects of medications as well as for public health surveillance [23–26]. However, none of the studies have reported the use of association rule mining technique for finding co-occurrence of diseases and medications as we used in order to develop a model to recommend medication list relevant to the diagnoses.

The important contribution of this model is to introduce a new concept called Mean Prescription Rank of prescriptions. It could have been a simple solution to compute most frequently used medication for each diagnosis; however in practice the prescription may have up to three or more different diagnoses. Therefore, Mean Prescription Rank was computed in order to overcome the medication errors for the prescriptions with a multiple diagnoses. MPR provides hospital management a calculated risk of exclusion or inclusion percentage of the total medications used by the hospital or clinic. To the best of our knowledge none of the available studies to date have proposed any model to deal with medication errors in a prescription with a multiple diagnosis.

In case a physician is willing to prescribe a new or the medication that is not listed in the PML, the system will automatically switch to the CML. This happens once the physician starts typing the letters not matching with medications recommended in PML.

@&#LIMITATIONS@&#

This model is based on analysis of only one year data from national health insurance claim data in Taiwan. With the advancement in the drug innovation, inclusion of new drugs into prescriptions is a common clinical practice. Therefore, it is recommended to re-compute the DM lift values annually. In this study MPR and PML was computed from 100,000 randomly selected prescriptions. It would be interesting to know if 100 million prescriptions are taken for analysis would have prolonged the PML. Generalizing the DM lift values for prescriptions done out of Taiwanese hospitals is also a matter of concern. However, this model can be useful to analyse DM lift values and compute MPR in order to organize PML. As a part of our future work, we want to enhance this model by stratifying medications prescribed according to sex and age. This model could be more robust and comprehensive once medications are integrated with the appropriate dose and frequency according to sex and age of the patient.

All authors have completed the Unified Competing Interest form at www.icmje.org/coi_disclosure.pdf and declare: no support from any organization for the submitted work; no financial relationships with any organizations that might have an interest in the submitted work in the previous three years, no other relationships or activities that could appear to have influenced the submitted work.

Not required.

None.

Supplementary data associated with this article can be found, in the online version, at http://dx.doi.org/10.1016/j.cmpb.2014.06.019.

The following are the supplementary data to this article:
                        
                           
                        
                     
                  

@&#REFERENCES@&#

