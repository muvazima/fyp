@&#MAIN-TITLE@&#Serial batching scheduling of deteriorating jobs in a two-stage supply chain to minimize the makespan

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           For the scheduling problem with a buffer, an optimal algorithm is developed for solving it.


                        
                        
                           
                           For the scheduling problem without buffer, some useful properties are derived.


                        
                        
                           
                           A heuristic is designed for solving it, and a novel lower bound is also derived.


                        
                        
                           
                           Two special cases are well analyzed, and two optimal algorithms are developed for solving them, respectively.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Batch scheduling

Supply chain

Deterioration

Transportation

Heuristic

@&#ABSTRACT@&#


               
               
                  This paper investigates the coordinated scheduling problem of production and transportation in a two-stage supply chain, where the actual job processing time is a linear function of its starting time. During the production stage the jobs are first processed in serial batches on a bounded serial batching machine at the manufacturer's site. Then, the batches are delivered to a customer by a single vehicle with limited capacity during the transportation stage, and the vehicle can only deliver one batch at one time. The objective of this proposed scheduling problem is to make decisions on job batching and batch sequencing so as to minimize the makespan. Moreover, we consider two different models. With regards to the scheduling model with a buffer for storing the processed batches before transportation, we develop an optimal algorithm to solve it. For the scheduling model without buffer, we present some useful properties and develop a heuristic H for solving it. Then a novel lower bound is derived and two optimal algorithms are designed for solving two special cases. Furthermore, computational experiments with random instances of different sizes are conducted to evaluate the proposed heuristic H, and the results show that our proposed algorithm is superior to other four approaches in the literature. Besides, heuristic H in our experiments can effectively and efficiently solve both small-size and large-size problems in a reasonable time.
               
            

@&#INTRODUCTION@&#

In the current competitive global market, cooperation with the partners in supply chains becomes of increasing importance for decreasing product costs and enhancing competitiveness. The coordination of production and transportation is one of the most significant issues for the supply chain participants. However, how to realize effective and efficient coordination is complicated due to its combinatorial nature, and it has attracted much attention from researchers. Hall and Potts (2003) studied such a complex problem and put forward the concept of supply chain scheduling for the first time. In their work, a variety of scheduling, batching, and delivery problems arising in an arborescent supply chain were considered, where a supplier makes deliveries to several manufacturers and a manufacturer also makes deliveries to customers. Afterwards, increasing studies focused on different scheduling problems in a supply chain. Despite all these studies, some particular features were still ignored in previous related work, such as deteriorating jobs, particular production modes, etc. These features are often inevitable and should be taken into account in a supply chain.

The supply chain considered in this paper concerns a typical industrial aluminum profile, where a customer first places orders with an extrusion factory, and then the cylindrical aluminum ingots are processed in this factory, followed by the delivery to the customer. Based on the technology of Internet of Things (IoT), the real-time information of production and transportation can be shared by the members of the supply chain. Therefore, the main operation processes can be considered as a two-stage scheduling model in a supply chain that integrates production and transportation, which are described as follows:

(a) In the upstream of the supply chain, a manufacturer (i.e., extrusion factory) processes cylindrical aluminum ingots of the orders sent from a customer on an extrusion machine, which is a batching processing machine that processes cylindrical aluminum ingots for the extrusion process in the pattern of serial batches. Cylindrical aluminum ingots are first preheated in a heating furnace, and then they wait for the extrusion process. During the extrusion process, a mold is required to assemble with the extrusion machine. The extrusion processing times of aluminum ingots depend on their types and the mold's performance at the beginning of the process. The longer the mold processes the aluminum ingots, the worse the performance of the mold is. Therefore, if an aluminum ingot waits for a longer time before the extrusion process starting, then it will take more time to complete the extrusion process. Based on the real production situation, the extrusion processing times of aluminum ingots could be modeled as an increasing linear function of their starting times. The deteriorating rates of all jobs may vary based on their types according to different customers’ requirements. (b) In the downstream, these batches are delivered by a single vehicle from the manufacturer to the customer. In this situation, there are two different scenarios in the manufacturer. We consider the first scenario when there is a buffer for storing the processed batches to be delivered, while there is no buffer in the second scenario. The objective is to minimize the arrival time of the last batch at the customer. The details of the problem are further described in Section 2.

In general, the considered problems are related to three scheduling problems, namely the scheduling with transportation in a supply chain, the scheduling with deteriorating jobs, and the batch scheduling with deteriorating jobs. In the following, a brief review is presented on the above three scheduling problems.

Much research focuses on the scheduling problems with transportation consideration in a supply chain (Hall & Potts, 2003; Geunes & Pardalos, 2003). Wang and Cheng (2007b) considered the scheduling problem of coordinated production and transportation with machine availability, and the objective was to minimize the arrival time of the last delivery batch. They studied three scenarios of this problem, and a polynomial algorithm and two heuristic algorithms were proposed to solve them, respectively. Zegordi and Nia (2009) studied an integrated scheduling problem of production and transportation in a two-stage supply chain, where the suppliers are distributed in various geographic zones and the vehicles are assumed to have different speeds and transportation capacities. The objective was to minimize the makespan, and a dynamic genetic algorithm was developed to solve it. Steinrücke (2011) studied an integrated scheduling problem of production and transportation in a global aluminum supply chain network. Their objective was to minimize the sum of production and transportation costs, and some relax-and-fix heuristics were developed to solve it. Wang, Grunder, and Moudni (2013) considered a production-delivery scheduling problem for a make-to-order supply chain, which consists of the supplier, the transporter, and the customer. The objective was to minimize the total cost induced by set-up, delivery, and inventory. A precise instance was derived from the general model, and then a heuristic algorithm was presented to deal with it. Ma, Felix, Chan, and Chung (2013) investigated an integrated scheduling problem with shipping information, where the vehicle transport is limited and not available all the time. Their objective was to minimize the earliness and tardiness, which is represented by the sum of storage, shipment and tardiness costs. A two-level genetic algorithm was designed for solving the problem.

For the second related scheduling problem considering the deteriorating jobs, there has been much research from a variety of perspectives (Wang, 2007; Wang & Cheng, 2007a). Lai, Wu, and Lee (2012) addressed the scheduling problem under the deterioration function of the logarithm of the job processing times already processed, and the optimal solutions were provided for some single machine problems. Wang, Wang, and Ji (2012) studied a single machine scheduling problem with the effects of deterioration and learning at the same time, and the objective was to minimize the total completion time. An optimal schedule was proved to be V-shaped with respect to the job normal processing times, and three heuristic algorithms were proposed based on the V-shaped property. Wang and Wang (2012) investigated the single scheduling problems with the effect of nonlinear deterioration. They showed that the makespan minimization problem is polynomially solvable under nonlinear deterioration, and the total completion time minimization problem is V-shaped regarding job normal processing times.

A few similar scheduling problems with deteriorating jobs and batch scheduling considerations have been studied. Li, Ng, Cheng, and Yuan (2011) investigated a single parallel batching machine scheduling problem with simple linear deterioration of processing times. The objective was to minimize the makespan, and several algorithms were proposed for both unbounded and bounded models. Qi, Zhou, and Yuan (2009) considered several single parallel batching machine scheduling problems. Three different algorithms were designed for minimizing the maximum cost, the number of tardy jobs, and the total weighted completion time, respectively. Miao, Zhang, and Cao (2011) studied the parallel batching scheduling problems with deteriorating jobs. For the case that the jobs have identical release dates, an optimal algorithm and a fully polynomial-time approximation scheme were given for single machine and multiple machines problems, respectively. The serial batching scheduling problem is similar to the group scheduling problem, in which the jobs are previously classified into groups based on the similar production requirements. Recently, many papers are published on group scheduling with deteriorating jobs, including Wu, Shiau, and Lee (2008), Wu and Lee (2008), Wang, Lin, and Shan (2008), Wang, Gao, Wang, and Wang (2009), Zhang and Yan (2010), Yang and Yang (2010), Wang and Sun (2010), Wei and Wang (2010), Huang, Wang, and Wang (2011), Yang (2011), and Lee and Lu (2012), which are compared in Table 1. The major similarity of these two scheduling problems is that the jobs in the same batch or group are processed one after another. However, there are two key differences of them: (1) the machine capacity, i.e., the maximum number of jobs in a batch, should be considered in serial batching scheduling problems, while it does not exist in group scheduling problems; (2) the group scheduling problems have an important assumption that all jobs are pre-classified into certain groups according to the similar production requirements. However, in serial batching scheduling problems, both job batching and batch sequencing should be considered simultaneously.

In summary, scheduling problems with serial batching, transportation, or deterioration have been extensively studied separately in recent literature. However, to the best of our knowledge, there is no research result on scheduling models considering these significant features together, which exist in some real production situations. Moreover, most studied scheduling models in a supply chain just assumed a single case when either there is a buffer for storing jobs or there exists no buffer. In addition, a majority of the existing approaches cannot be directly applied for solving large-size scheduling problems in a supply chain, while it is a common phenomenon in practice. Thus, it is worthwhile for us to develop more effective and efficient approaches for all such problems above. The main contributions of this paper can be summarized as follows:

                        
                           (1)
                           New research is pursued by taking into account the features of serial batching, different job deteriorating rates, and transportation simultaneously on a two-stage scheduling problem in a supply chain.

For the scheduling problem with a buffer, an optimal algorithm is developed for solving it.

For the scheduling problem without buffer, some useful properties are derived, based on which a heuristic is designed for solving it. The proposed heuristic is capable of solving large-size problems in a reasonable time. A novel lower bound is also derived. Two special cases are well analyzed, and two optimal algorithms are developed for solving them, respectively.

The reminder of this paper is organized as follows. In Section 2, the proposed problems are described in detail and formalized. In Sections 3 and 4, the first and second problems are studied, respectively. We conclude the paper and suggest some topics for future research in Section 5.

The concerned scheduling problems in a supply chain consist of two stages, i.e., the production and transportation stages. During the production stage, a set { J
                        1, J
                        2, …, Jn
                        } of n jobs is to be first partitioned into batches and then processed on a manufacturer's serial batching machine in the pattern of serial batches, where serial batches require that a number of jobs within the same batch are processed one after another in a serial fashion (Xuan & Tang, 2007). The batch completion time is defined as the completion time of the last job in the batch. The capacity of the batching machine is denoted as c, and the number of jobs of each batch cannot exceed c. All jobs and the machine are available at time t
                        0 in the manufacturer, t
                        0 > 0. The actual job processing time of job Ji
                         is modeled as a linear function of its starting time t, and it is defined as

                           
                              (1)
                              
                                 
                                    
                                       p
                                       i
                                    
                                    =
                                    
                                       a
                                       i
                                    
                                    t
                                    ,
                                    
                                    i
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    …
                                    ,
                                    n
                                 
                              
                           
                        where ai
                         is the deteriorating rate of Ji
                        .

Moreover, the actual batch processing time Pk
                         of batch bk
                         can be also derived as a function of its starting time t as follows:

                           
                              (2)
                              
                                 
                                    
                                       P
                                       k
                                    
                                    =
                                    t
                                    
                                       ∏
                                       
                                          
                                             J
                                             i
                                          
                                          ∈
                                          
                                             b
                                             k
                                          
                                       
                                    
                                    
                                       (
                                       
                                          1
                                          +
                                          
                                             a
                                             i
                                          
                                       
                                       )
                                    
                                    −
                                    t
                                 
                              
                           
                        
                     

During the transportation stage, there is a single vehicle carrying the processed batches back and forth between the manufacturer and the customer. The vehicle's capacity is assumed to be equal to the machine's capacity, and it can transport one batch in each shipment. The round trip time between the manufacturer and the customer is defined as a constant T, and each one-way time is 
                           
                              T
                              2
                           
                        .

Two different types of the two-stage scheduling problems in this supply chain are studied. The first one refers to the situation when there exists a buffer in the manufacturer, i.e., the manufacturer can place the finished batch from the machine into the buffer and continue to process the next batch on the machine immediately no matter whether the vehicle returns to the manufacturer or not. The second one is the situation when there is no buffer in the manufacturer, and then the machine must wait to process the next batch until the vehicle returns to the manufacturer to take the finished batch from the machine.


                        Fig. 1 shows the structure of the studied scheduling problems. We need to make decisions on the job batching and batch sequencing simultaneously to minimize the makespan. Using the conventional notation of Graham, Lawler, Lenstra, and Rinnooy Kan (1979), these two types of scheduling problems are denoted as M → C|pi
                         = ait, s − batch, T, buffer|Cmax
                         and M → C|pi
                         = ait, s − batch, T|Cmax
                        , respectively.

The assumptions for the problems are as follows:

                           
                              •
                              All preheated aluminum ingots, the batching machine, and the vehicle are available at the manufacturer at time t
                                 0.

In the first scenario with a buffer, the space of the buffer is unlimited.

Pre-emption is prohibited, i.e., once a batch is initiated, no job can be released from the batch until the whole batch is completely processed.

The notations and definitions used for both scheduling problems are as follows:

                           
                              
                                 
                                 
                                 
                                    
                                       Notation
                                       Definition
                                    
                                 
                                 
                                    
                                       
                                          n
                                       
                                       the number of jobs
                                    
                                    
                                       
                                          m
                                       
                                       the number of batches
                                    
                                    
                                       
                                          
                                             
                                                J
                                                i
                                             
                                          
                                       
                                       the ith job, i = 1, 2
                                             
                                                ,
                                                …
                                                ,
                                             
                                          
                                          n
                                       
                                    
                                    
                                       
                                          
                                             
                                                a
                                                i
                                             
                                          
                                       
                                       the deteriorating rate of 
                                             
                                                J
                                                i
                                             
                                          , i = 1, 2
                                             
                                                ,
                                                …
                                                ,
                                             
                                          
                                          n
                                       
                                    
                                    
                                       
                                          
                                             
                                                p
                                                i
                                             
                                          
                                       
                                       the actual processing time of 
                                             
                                                J
                                                i
                                             
                                          , i = 1, 2
                                             
                                                ,
                                                …
                                                ,
                                             
                                          
                                          n
                                       
                                    
                                    
                                       
                                          
                                             
                                                b
                                                k
                                             
                                          
                                       
                                       the kth batch, k = 1, 2
                                             
                                                ,
                                                …
                                                ,
                                             
                                          
                                          m
                                       
                                    
                                    
                                       
                                          
                                             
                                                n
                                                k
                                             
                                          
                                       
                                       the number of jobs in 
                                             
                                                b
                                                k
                                             
                                          , k = 1, 2
                                             
                                                ,
                                                …
                                                ,
                                             
                                          
                                          m
                                       
                                    
                                    
                                       
                                          
                                             
                                                P
                                                k
                                             
                                          
                                       
                                       the actual processing time of 
                                             
                                                b
                                                k
                                             
                                          , k = 1, 2
                                             
                                                ,
                                                …
                                                ,
                                             
                                          
                                          m
                                       
                                    
                                    
                                       
                                          c
                                       
                                       the capacity of the batching machine and the vehicle
                                    
                                    
                                       
                                          T
                                       
                                       the round trip time between the manufacturer and the customer
                                    
                                    
                                       
                                          
                                             
                                                t
                                                0
                                             
                                          
                                       
                                       the starting time of processing jobs during the production stage
                                    
                                    
                                       
                                          
                                             
                                                
                                                   S
                                                   
                                                      1
                                                      k
                                                   
                                                
                                                
                                                   (
                                                   
                                                      S
                                                      
                                                         2
                                                         k
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       the starting time of 
                                             
                                                b
                                                k
                                             
                                           during the production stage (transportation stage), k = 1, 2
                                             
                                                ,
                                                …
                                                ,
                                             
                                          
                                          m
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   C
                                                   
                                                      1
                                                      k
                                                   
                                                
                                                
                                                   (
                                                   
                                                      C
                                                      
                                                         2
                                                         k
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       the completion time of 
                                             
                                                b
                                                k
                                             
                                           during the production stage (transportation stage), k = 1, 2, …, m
                                       
                                    
                                    
                                       
                                          
                                             
                                                C
                                                
                                                   m
                                                   a
                                                   x
                                                
                                             
                                          
                                       
                                       the makespan or maximum completion time of all jobs
                                    
                                    
                                       
                                          
                                             
                                                x
                                                
                                                   i
                                                   k
                                                
                                             
                                          
                                       
                                       1, if 
                                             
                                                J
                                                i
                                             
                                           is assigned to 
                                             
                                                b
                                                k
                                             
                                          ; otherwise, 
                                             
                                                x
                                                
                                                   i
                                                   k
                                                
                                             
                                           = 0
                                    
                                    
                                       
                                          
                                             
                                                y
                                                
                                                   k
                                                   w
                                                
                                             
                                          
                                       
                                       1, if 
                                             
                                                b
                                                k
                                             
                                           precedes 
                                             
                                                b
                                                w
                                             
                                           during the production stage; otherwise, 
                                             
                                                y
                                                
                                                   k
                                                   w
                                                
                                             
                                           = 0, k, w = 1, 2
                                             
                                                ,
                                                …
                                                ,
                                             
                                          
                                          m
                                       
                                    
                                    
                                       
                                          
                                             
                                                z
                                                
                                                   k
                                                   w
                                                
                                             
                                          
                                       
                                       1, if 
                                             
                                                b
                                                k
                                             
                                           precedes 
                                             
                                                b
                                                w
                                             
                                           during the transportation stage; otherwise, 
                                             
                                                y
                                                
                                                   k
                                                   w
                                                
                                             
                                          =0, k, w = 1, 2
                                             
                                                ,
                                                …
                                                ,
                                             
                                          
                                          m
                                       
                                    
                                    
                                       
                                          M
                                       
                                       a large enough positive constant
                                    
                                 
                              
                           
                        
                     


                           
                              
                                 (3)
                                 
                                    
                                       Minimize
                                       
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                    
                                 
                              
                           Subject to:

                              
                                 (4)
                                 
                                    
                                       
                                          ∑
                                          
                                             k
                                             =
                                             1
                                          
                                          m
                                       
                                       
                                          x
                                          
                                             i
                                             k
                                          
                                       
                                       =
                                       1
                                       ,
                                       
                                       i
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       n
                                    
                                 
                              
                           
                           
                              
                                 (5)
                                 
                                    
                                       
                                          ∑
                                          
                                             i
                                             =
                                             1
                                          
                                          n
                                       
                                       
                                          x
                                          
                                             i
                                             k
                                          
                                       
                                       ≤
                                       c
                                       ,
                                       
                                       k
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       m
                                    
                                 
                              
                           
                           
                              
                                 (6)
                                 
                                    
                                       
                                          C
                                          
                                             1
                                             k
                                          
                                       
                                       =
                                       
                                          S
                                          
                                             1
                                             k
                                          
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                             +
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                
                                                   k
                                                   −
                                                   1
                                                
                                             
                                             
                                                n
                                                j
                                             
                                          
                                          
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                k
                                             
                                             
                                                n
                                                j
                                             
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       ,
                                       
                                       k
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       m
                                    
                                 
                              
                           
                           
                              
                                 (7)
                                 
                                    
                                       
                                          S
                                          
                                             1
                                             (
                                             
                                                k
                                                +
                                                1
                                             
                                             )
                                          
                                       
                                       =
                                       
                                          C
                                          
                                             1
                                             k
                                          
                                       
                                       ,
                                       
                                       k
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       m
                                       −
                                       1
                                    
                                 
                              
                           
                           
                              
                                 (8)
                                 
                                    
                                       
                                          S
                                          
                                             2
                                             (
                                             
                                                k
                                                +
                                                1
                                             
                                             )
                                          
                                       
                                       ≥
                                       
                                          C
                                          
                                             1
                                             k
                                          
                                       
                                       +
                                       T
                                       ,
                                       
                                       k
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       m
                                       −
                                       1
                                    
                                 
                              
                           
                           
                              
                                 (9)
                                 
                                    
                                       
                                          C
                                          
                                             2
                                             k
                                          
                                       
                                       =
                                       
                                          S
                                          
                                             2
                                             k
                                          
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       ,
                                       
                                       k
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       m
                                    
                                 
                              
                           
                           
                              
                                 (10)
                                 
                                    
                                       
                                          C
                                          
                                             1
                                             k
                                          
                                       
                                       −
                                       
                                          C
                                          
                                             1
                                             w
                                          
                                       
                                       +
                                       M
                                       
                                          y
                                          
                                             k
                                             w
                                          
                                       
                                       −
                                       
                                          P
                                          k
                                       
                                       ≥
                                       0
                                       ,
                                       
                                       k
                                       ,
                                       w
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       m
                                    
                                 
                              
                           
                           
                              
                                 (11)
                                 
                                    
                                       
                                          C
                                          
                                             2
                                             k
                                          
                                       
                                       −
                                       
                                          C
                                          
                                             2
                                             w
                                          
                                       
                                       +
                                       M
                                       
                                          y
                                          
                                             k
                                             w
                                          
                                       
                                       −
                                       T
                                       ≥
                                       0
                                       ,
                                       
                                       k
                                       ,
                                       w
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       m
                                    
                                 
                              
                           
                           
                              
                                 (12)
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                       ≥
                                       
                                          C
                                          
                                             2
                                             k
                                          
                                       
                                       ,
                                       
                                       k
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       m
                                    
                                 
                              
                           
                           
                              
                                 (13)
                                 
                                    
                                       
                                          x
                                          
                                             i
                                             k
                                          
                                       
                                       ,
                                       
                                          y
                                          
                                             k
                                             w
                                          
                                       
                                       ,
                                       
                                          z
                                          
                                             k
                                             w
                                          
                                       
                                       =
                                       0
                                       
                                       or
                                       
                                       1
                                       ,
                                       
                                       i
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       n
                                       ,
                                       k
                                       ,
                                       w
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       m
                                    
                                 
                              
                           
                        

The objective function (3) minimizes the makespan. Constraint set (4) assures that each job should be only assigned to one batch. Constraint set (5) guarantees that the number of the jobs in a batch cannot exceed the machine capacity. Batch completion time at the manufacturer's side is defined by constraint set (6). Constraint set (7) makes sure that a new batch can be immediately processed on the manufacture's machine after the previous batch is completed. Constraint set (8) indicates that the starting time to process a batch in the manufacturer should be no less than the previous batch's completion time on the machine plus the round trip time. Based on constraint set (9), the batch completion time can be calculated. Constraint sets (10) and (11) ensure that there is no overlapping situation between any two different batches during the production or transportation stage. The property of the makespan is specified by constraint set (12). Constraint set (13) defines the ranges of the variables.


                           
                              
                                 (14)
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                Minimize
                                                
                                                (
                                                2
                                                )
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                   Subject
                                                   
                                                   to
                                                
                                                
                                                (
                                                2
                                                )
                                                --
                                                (
                                                6
                                                )
                                                ,
                                                (
                                                (
                                                8
                                                )
                                                --
                                                (
                                                13
                                                )
                                                )
                                                ,
                                                
                                                and
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                   S
                                                   
                                                      1
                                                      (
                                                      
                                                         k
                                                         +
                                                         1
                                                      
                                                      )
                                                   
                                                
                                                =
                                                max
                                                
                                                   {
                                                   
                                                      
                                                         C
                                                         
                                                            1
                                                            k
                                                         
                                                      
                                                      ,
                                                      
                                                         S
                                                         
                                                            1
                                                            k
                                                         
                                                      
                                                      +
                                                      T
                                                   
                                                   }
                                                
                                                ,
                                                
                                                k
                                                =
                                                1
                                                ,
                                                2
                                                ,
                                                …
                                                ,
                                                m
                                                −
                                                1
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Constraint set (14) restricts that a new batch cannot start to be processed in the manufacturer before the previous batch has been completed on the manufacturer's machine and the vehicle has returned to the manufacturer. Based on constraint set (14), since there is no buffer in the manufacturer, a new batch cannot be immediately processed on the manufacture's machine after the previous batch is completed. Thus, constraint set (7) is not considered in this model.

In this section, the problem M → C|pi
                      = ait, s − batch, T, buffer|Cmax
                      is studied. Some properties are proved and then an algorithm is proposed to solve this problem.

                        Lemma 1
                        
                           For the problem M → C|pi
                            = ait, s − batch, T|Cmax, the optimal schedule satisfies the property that
                           
                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                          *
                                       
                                       ≥
                                       
                                          {
                                          
                                             
                                                
                                                   
                                                      
                                                         m
                                                         a
                                                         x
                                                         
                                                            {
                                                            
                                                               
                                                                  
                                                                     ∏
                                                                     
                                                                        i
                                                                        =
                                                                        1
                                                                     
                                                                     n
                                                                  
                                                               
                                                            
                                                            
                                                               s
                                                               0
                                                            
                                                            +
                                                            
                                                               P
                                                               1
                                                            
                                                            +
                                                            
                                                               (
                                                               ⌈
                                                               
                                                                  
                                                                     n
                                                                     c
                                                                  
                                                                  ⌉
                                                                  −
                                                                  
                                                                     1
                                                                     2
                                                                  
                                                               
                                                               )
                                                            
                                                            T
                                                            ,
                                                         
                                                      
                                                   
                                                
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                         
                                                         
                                                         
                                                         
                                                            
                                                               s
                                                               0
                                                            
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                               
                                                               n
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            +
                                                            
                                                               T
                                                               2
                                                            
                                                            }
                                                         
                                                         ,
                                                      
                                                   
                                                
                                                
                                                   
                                                      i
                                                      f
                                                      
                                                      
                                                      n
                                                      >
                                                      c
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            s
                                                            0
                                                         
                                                         
                                                            ∏
                                                            
                                                               i
                                                               =
                                                               1
                                                            
                                                            n
                                                         
                                                         
                                                            (
                                                            
                                                               1
                                                               +
                                                               
                                                                  a
                                                                  i
                                                               
                                                            
                                                            )
                                                         
                                                         +
                                                         
                                                            T
                                                            2
                                                         
                                                         ,
                                                      
                                                   
                                                
                                                
                                                   
                                                      o
                                                      t
                                                      h
                                                      e
                                                      r
                                                      w
                                                      i
                                                      s
                                                      e
                                                      .
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

(1) if n > c, then one lower bound of makespan can be obtained by assuming that there is no idle time during the transportation stage after the first batch is completed on the manufacturer's machine, thus we have 
                              
                                 
                                    C
                                    
                                       m
                                       a
                                       x
                                    
                                    *
                                 
                                 ≥
                                 
                                    s
                                    0
                                 
                                 +
                                 
                                    P
                                    1
                                 
                                 +
                                 
                                    (
                                    
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                       
                                       −
                                       
                                          1
                                          2
                                       
                                    
                                    )
                                 
                                 T
                              
                           . Meanwhile, the other lower bound can be obtained by assuming that there is no idle time during the production stage, then 
                              
                                 
                                    C
                                    
                                       m
                                       a
                                       x
                                    
                                    *
                                 
                                 ≥
                                 
                                    s
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                                 +
                                 
                                    T
                                    2
                                 
                              
                           . Thus, 
                              
                                 
                                    C
                                    
                                       m
                                       a
                                       x
                                    
                                    *
                                 
                                 ≥
                                 m
                                 a
                                 x
                                 
                                    {
                                    
                                       
                                          s
                                          0
                                       
                                       +
                                       
                                          P
                                          1
                                       
                                       +
                                       
                                          (
                                          
                                             
                                                ⌈
                                                
                                                   n
                                                   c
                                                
                                                ⌉
                                             
                                             −
                                             
                                                1
                                                2
                                             
                                          
                                          )
                                       
                                       T
                                       ,
                                       
                                          s
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          n
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                    
                                    }
                                 
                              
                           . It is easy to infer that 
                              
                                 
                                    C
                                    
                                       m
                                       a
                                       x
                                    
                                    *
                                 
                                 ≥
                                 
                                    s
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                                 +
                                 
                                    T
                                    2
                                 
                              
                            when n ≤ c. The proof is completed. □


                           For the problem M → C|pi
                            = ait, s − batch, T, buffer|Cmax, if n ≤ c, then the optimal schedule can be obtained after placing all jobs into a single batch in an arbitrary order.
                        

The result can be easily obtained from Lemma 1, so here it is omitted. □

Then, an algorithm is proposed to solve this problem.

                        
                           
                              Algorithm 1
                           
                           
                              
                              
                                 
                                    
                                       Algorithm 1
                                    
                                 
                              
                              
                                 
                                    
                                       Step 1. Index the jobs in the non-decreasing order of 
                                          
                                             a
                                             i
                                          
                                        such that 
                                          
                                             
                                                a
                                                1
                                             
                                             ≤
                                             
                                                a
                                                2
                                             
                                             ≤
                                             ⋯
                                             ≤
                                             
                                                a
                                                n
                                             
                                          
                                        and obtain a job list.
                                 
                                 
                                    
                                       Step 2. If 
                                          
                                             n
                                             ≤
                                             c
                                          
                                       , then place all jobs in a batch and go to step 4. Otherwise, place the first 
                                          
                                             [
                                             
                                                n
                                                −
                                                c
                                                (
                                                
                                                   ⌈
                                                   
                                                      n
                                                      c
                                                   
                                                   ⌉
                                                   −
                                                   1
                                                
                                                )
                                             
                                             ]
                                          
                                        jobs in a batch.
                                 
                                 
                                    
                                       Step 3. If there are still unscheduled jobs in the job list, then place the first 
                                          c
                                        jobs in a batch and iterate. Otherwise, go to step 4.
                                 
                                 
                                    
                                       Step 4. Schedule the batch(es) in their generation order at time 
                                          
                                             t
                                             0
                                          
                                       .
                                 
                              
                           
                        
                     
                     
                        Lemma 3
                        
                           If n > c, then the batches generated by 
                           
                              Algorithm 1
                            
                           satisfy the property that P
                           
                              k + 1 ≥ Pk
                           (k = 1, 2, …, m − 1).

When k ≥ 2, the completion time of bk
                            on the manufacturer's machine is

                              
                                 
                                    
                                       
                                          C
                                          
                                             1
                                             k
                                          
                                       
                                       =
                                       
                                          S
                                          
                                             1
                                             k
                                          
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                             +
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                
                                                   k
                                                   −
                                                   1
                                                
                                             
                                             
                                                n
                                                j
                                             
                                          
                                          
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                k
                                             
                                             
                                                n
                                                j
                                             
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                
                                                   k
                                                   −
                                                   1
                                                
                                             
                                             
                                                n
                                                j
                                             
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                             +
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                
                                                   k
                                                   −
                                                   1
                                                
                                             
                                             
                                                n
                                                j
                                             
                                          
                                          
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                k
                                             
                                             
                                                n
                                                j
                                             
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       .
                                    
                                 
                              
                           
                        

Then,

                              
                                 
                                    
                                       
                                          P
                                          k
                                       
                                       =
                                       
                                          C
                                          
                                             1
                                             k
                                          
                                       
                                       −
                                       
                                          S
                                          
                                             1
                                             k
                                          
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                
                                                   k
                                                   −
                                                   1
                                                
                                             
                                             
                                                n
                                                j
                                             
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       
                                          [
                                          
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   1
                                                   +
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      
                                                         k
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      n
                                                      j
                                                   
                                                
                                                
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      k
                                                   
                                                   
                                                      n
                                                      j
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             −
                                             1
                                          
                                          ]
                                       
                                       .
                                    
                                 
                              
                           
                        

Also,

                              
                                 
                                    
                                       
                                          P
                                          
                                             k
                                             +
                                             1
                                          
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                k
                                             
                                             
                                                n
                                                j
                                             
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       
                                          [
                                          
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   1
                                                   +
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      k
                                                   
                                                   
                                                      n
                                                      j
                                                   
                                                
                                                
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      
                                                         k
                                                         +
                                                         1
                                                      
                                                   
                                                   
                                                      n
                                                      j
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             −
                                             1
                                          
                                          ]
                                       
                                       .
                                    
                                 
                              
                           
                        

According to Algorithm 1, we have

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∏
                                                   
                                                      i
                                                      =
                                                      1
                                                   
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         k
                                                      
                                                      
                                                         n
                                                         j
                                                      
                                                   
                                                
                                                
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                          
                                             ≥
                                          
                                          
                                             
                                                
                                                   ∏
                                                   
                                                      i
                                                      =
                                                      1
                                                   
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         
                                                            k
                                                            −
                                                            1
                                                         
                                                      
                                                      
                                                         n
                                                         j
                                                      
                                                   
                                                
                                                
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                                
                                                and
                                                
                                                
                                                   ∏
                                                   
                                                      i
                                                      =
                                                      1
                                                      +
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         k
                                                      
                                                      
                                                         n
                                                         j
                                                      
                                                   
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                      
                                                      
                                                         n
                                                         j
                                                      
                                                   
                                                
                                                
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             ≥
                                          
                                          
                                             
                                                
                                                   ∏
                                                   
                                                      i
                                                      =
                                                      1
                                                      +
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         
                                                            k
                                                            −
                                                            1
                                                         
                                                      
                                                      
                                                         n
                                                         j
                                                      
                                                   
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         k
                                                      
                                                      
                                                         n
                                                         j
                                                      
                                                   
                                                
                                                
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Thus, P
                           
                              k + 1 ≥ Pk
                           .

When k = 1, it can be also inferred that P
                           2 ≥ P
                           1. The proof is similar to that of the situation when k ≥ 2, so here it is omitted.

The proof is completed. □


                           For 
                           
                              Algorithm 1
                           
                           , if T ≤ P
                           2
                           , then the makespan generated by 
                           
                              Algorithm 1
                            
                           is equal to
                           
                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          n
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       .
                                    
                                 
                              
                           
                        

If T ≤ P
                           2, then we have T ≤ P
                           2 ≤ P
                           3 ≤ ⋅⋅⋅ ≤ Pm
                            based on Lemma 3. The completion time of bk
                            during the transportation stage can be obtained as

                              
                                 
                                    
                                       
                                          C
                                          
                                             2
                                             k
                                          
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                k
                                             
                                             
                                                n
                                                j
                                             
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       .
                                    
                                 
                              
                           
                        

Thus, we have

                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                       =
                                       
                                          C
                                          
                                             2
                                             m
                                          
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                m
                                             
                                             
                                                n
                                                j
                                             
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          n
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       .
                                       
                                       □
                                    
                                 
                              
                           
                        

Since 
                        
                           
                              t
                              0
                           
                           
                              ∏
                              
                                 i
                                 =
                                 1
                              
                              n
                           
                           
                              (
                              
                                 1
                                 +
                                 
                                    a
                                    i
                                 
                              
                              )
                           
                           +
                           
                              T
                              2
                           
                           ≤
                           
                              C
                              
                                 m
                                 a
                                 x
                              
                              *
                           
                        
                     , we have the following corollary.

                        Corollary 1
                        
                           For the M → C|pi
                            = ait, s − batch, T, buffer|Cmax problem, if n > c and T ≤ P
                           2
                           , then 
                           
                              Algorithm 1
                            
                           generates an optimal schedule.
                        


                           For 
                           
                              Algorithm 1
                           , if T ≥ P
                           2 
                           and
                           
                              
                                 T
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                                 ≤
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       n
                                       −
                                       c
                                       (
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                          −
                                          1
                                       
                                       )
                                    
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                              
                           
                           , then the makespan generated by 
                           
                              Algorithm 1
                            
                           is
                           
                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          n
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       .
                                    
                                 
                              
                           
                        

If T ≥ P
                           2 and 
                              
                                 T
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                                 ≤
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       n
                                       −
                                       c
                                       (
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                          −
                                          1
                                       
                                       )
                                    
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                              
                           , there should be two batches bp
                            and bq
                            satisfying that S
                           2p
                            + T ≥ C
                           1(p + 1), S
                           2q
                            + T ≤ C
                           1(q + 1), and 
                              
                                 1
                                 ≤
                                 p
                                 <
                                 q
                                 ≤
                                 ⌈
                                 
                                    n
                                    c
                                 
                                 ⌉
                                 −
                                 1
                                 .
                              
                            The completion time of b
                           
                              q + 1 during the transportation stage is

                              
                                 
                                    
                                       
                                          
                                             
                                                C
                                                
                                                   2
                                                   (
                                                   
                                                      q
                                                      +
                                                      1
                                                   
                                                   )
                                                
                                             
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   S
                                                   
                                                      2
                                                      (
                                                      
                                                         q
                                                         +
                                                         1
                                                      
                                                      )
                                                   
                                                
                                                +
                                                
                                                   T
                                                   2
                                                
                                                =
                                                m
                                                a
                                                x
                                                
                                                   {
                                                   
                                                      
                                                         C
                                                         
                                                            1
                                                            (
                                                            
                                                               q
                                                               +
                                                               1
                                                            
                                                            )
                                                         
                                                      
                                                      ,
                                                      
                                                         S
                                                         
                                                            2
                                                            q
                                                         
                                                      
                                                      +
                                                      T
                                                   
                                                   }
                                                
                                                +
                                                
                                                   T
                                                   2
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   C
                                                   
                                                      1
                                                      (
                                                      
                                                         q
                                                         +
                                                         1
                                                      
                                                      )
                                                   
                                                
                                                +
                                                
                                                   T
                                                   2
                                                
                                                =
                                                
                                                   t
                                                   0
                                                
                                                
                                                   ∏
                                                   
                                                      i
                                                      =
                                                      1
                                                   
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         
                                                            q
                                                            +
                                                            1
                                                         
                                                      
                                                      
                                                         n
                                                         j
                                                      
                                                   
                                                
                                                
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                                +
                                                
                                                   T
                                                   2
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Thus,

                              
                                 
                                    
                                       
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                       =
                                       
                                          C
                                          
                                             2
                                             m
                                          
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             
                                                ∑
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                m
                                             
                                             
                                                n
                                                j
                                             
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          n
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       .
                                       
                                       □
                                    
                                 
                              
                           
                        

Similar to Corollary 1, we can also have the following corollary.

                        Corollary 2
                        
                           For the M → C|pi
                            = ait, s − batch, T, buffer|Cmax problem, if n > c, T ≥ P
                           2, and
                           
                              
                                 T
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                                 ≤
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       n
                                       −
                                       c
                                       (
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                          −
                                          1
                                       
                                       )
                                    
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                              
                           
                           , then 
                           
                              Algorithm 1
                            
                           generates an optimal schedule.
                        


                           For 
                           
                              Algorithm 1
                           
                           , if T ≥ P
                           2 
                           and
                           
                              
                                 T
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                                 ≥
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       n
                                       −
                                       c
                                       (
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                          −
                                          1
                                       
                                       )
                                    
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                              
                           
                           , then the makespan generated by 
                           
                              Algorithm 1
                            
                           is
                           
                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             n
                                             −
                                             c
                                             (
                                             
                                                ⌈
                                                
                                                   n
                                                   c
                                                
                                                ⌉
                                                −
                                                1
                                             
                                             )
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          (
                                          
                                             
                                                ⌈
                                                
                                                   n
                                                   c
                                                
                                                ⌉
                                             
                                             −
                                             
                                                1
                                                2
                                             
                                          
                                          )
                                       
                                       T
                                       .
                                    
                                 
                              
                           
                        

If T ≥ P
                           2 and 
                              
                                 T
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                                 ≥
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       n
                                       −
                                       c
                                       (
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                          −
                                          1
                                       
                                       )
                                    
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                              
                           , then the makespan generated by Algorithm 1 should be

                              
                                 
                                    
                                       
                                          
                                             
                                                C
                                                
                                                   m
                                                   a
                                                   x
                                                
                                             
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   C
                                                   
                                                      2
                                                      m
                                                   
                                                
                                                =
                                                
                                                   C
                                                   
                                                      2
                                                      ⌈
                                                      
                                                         n
                                                         c
                                                      
                                                      ⌉
                                                   
                                                
                                                =
                                                
                                                   S
                                                   
                                                      2
                                                      ⌈
                                                      
                                                         n
                                                         c
                                                      
                                                      ⌉
                                                   
                                                
                                                +
                                                
                                                   T
                                                   2
                                                
                                                =
                                                m
                                                a
                                                x
                                                
                                                   {
                                                   
                                                      
                                                         S
                                                         
                                                            2
                                                            (
                                                            
                                                               ⌈
                                                               
                                                                  n
                                                                  c
                                                               
                                                               ⌉
                                                               −
                                                               1
                                                            
                                                            )
                                                         
                                                      
                                                      +
                                                      T
                                                      ,
                                                      
                                                         C
                                                         
                                                            1
                                                            ⌈
                                                            
                                                               n
                                                               c
                                                            
                                                            ⌉
                                                         
                                                      
                                                   
                                                   }
                                                
                                                +
                                                
                                                   T
                                                   2
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   C
                                                   11
                                                
                                                +
                                                T
                                                
                                                   (
                                                   
                                                      
                                                         ⌈
                                                         
                                                            n
                                                            c
                                                         
                                                         ⌉
                                                      
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                +
                                                
                                                   T
                                                   2
                                                
                                                =
                                                
                                                   t
                                                   0
                                                
                                                
                                                   ∏
                                                   
                                                      i
                                                      =
                                                      1
                                                   
                                                   
                                                      n
                                                      −
                                                      c
                                                      
                                                         (
                                                         
                                                            
                                                               ⌈
                                                               
                                                                  n
                                                                  c
                                                               
                                                               ⌉
                                                            
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                
                                                
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                   (
                                                   
                                                      
                                                         ⌈
                                                         
                                                            n
                                                            c
                                                         
                                                         ⌉
                                                      
                                                      −
                                                      
                                                         1
                                                         2
                                                      
                                                   
                                                   )
                                                
                                                T
                                                .
                                                
                                                □
                                             
                                          
                                       
                                    
                                 
                              
                           
                        


                           For the problem M → C|pi
                            = ait, s − batch, T, buffer|Cmax, if n > c, T ≥ P
                           2, and
                           
                              
                                 T
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                                 ≥
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       n
                                       −
                                       c
                                       (
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                          −
                                          1
                                       
                                       )
                                    
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                              
                           
                           , then the optimal schedule satisfies the properties that
                           
                              
                                 (1)
                                 
                                    
                                       
                                          m
                                          =
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                       
                                    ;


                                    
                                       
                                          
                                             n
                                             1
                                          
                                          =
                                          n
                                          −
                                          c
                                          
                                             (
                                             
                                                ⌈
                                                
                                                   n
                                                   c
                                                
                                                ⌉
                                                −
                                                1
                                             
                                             )
                                          
                                       
                                    ;


                                    ax
                                     ≤ ay
                                     for two arbitrary jobs ax
                                     ∈ b
                                    1 and ay
                                     ∈ bk
                                    (k ≥ 2).

(1). Since the possible smallest number of batches is 
                              
                                 ⌈
                                 
                                    n
                                    c
                                 
                                 ⌉
                              
                           , we have 
                              
                                 m
                                 ≥
                                 ⌈
                                 
                                    n
                                    c
                                 
                                 ⌉
                              
                           . Assuming there exists an optimal schedule satisfying that 
                              
                                 m
                                 >
                                 ⌈
                                 
                                    n
                                    c
                                 
                                 ⌉
                              
                           , it can be obtained that

                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                          *
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             n
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          (
                                          
                                             m
                                             −
                                             
                                                1
                                                2
                                             
                                          
                                          )
                                       
                                       T
                                       .
                                    
                                 
                              
                           
                        

Based on Lemma 5,

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   C
                                                   
                                                      m
                                                      a
                                                      x
                                                   
                                                   *
                                                
                                                −
                                                
                                                   C
                                                   
                                                      m
                                                      a
                                                      x
                                                   
                                                
                                             
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   t
                                                   0
                                                
                                                
                                                   ∏
                                                   
                                                      i
                                                      =
                                                      1
                                                   
                                                   
                                                      n
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                                +
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      
                                                         1
                                                         2
                                                      
                                                   
                                                   )
                                                
                                                T
                                                −
                                                
                                                   t
                                                   0
                                                
                                                
                                                   ∏
                                                   
                                                      i
                                                      =
                                                      1
                                                   
                                                   
                                                      n
                                                      −
                                                      c
                                                      (
                                                      
                                                         ⌈
                                                         
                                                            n
                                                            c
                                                         
                                                         ⌉
                                                         −
                                                         1
                                                      
                                                      )
                                                   
                                                
                                                
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                   (
                                                   
                                                      
                                                         ⌈
                                                         
                                                            n
                                                            c
                                                         
                                                         ⌉
                                                      
                                                      −
                                                      
                                                         1
                                                         2
                                                      
                                                   
                                                   )
                                                
                                                T
                                                
                                                >
                                                
                                                
                                                   t
                                                   0
                                                
                                                −
                                                
                                                   t
                                                   0
                                                
                                                
                                                   ∏
                                                   
                                                      i
                                                      =
                                                      1
                                                   
                                                   
                                                      n
                                                      −
                                                      c
                                                      (
                                                      
                                                         ⌈
                                                         
                                                            n
                                                            c
                                                         
                                                         ⌉
                                                         −
                                                         1
                                                      
                                                      )
                                                   
                                                
                                                
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      
                                                         ⌈
                                                         
                                                            n
                                                            c
                                                         
                                                         ⌉
                                                      
                                                   
                                                   )
                                                
                                                T
                                                ≥
                                                T
                                                −
                                                
                                                   P
                                                   1
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Since T ≥ P
                           2 ≥ P
                           1, we have 
                              
                                 
                                    C
                                    
                                       m
                                       a
                                       x
                                    
                                    *
                                 
                                 >
                                 
                                    C
                                    
                                       m
                                       a
                                       x
                                    
                                 
                              
                           , which contradicts with the optimal schedule. Thus, it should be that 
                              
                                 m
                                 =
                                 ⌈
                                 
                                    n
                                    c
                                 
                                 ⌉
                              
                           .

(2). Based on (1), it can be obtained that 
                              
                                 
                                    n
                                    1
                                 
                                 ≥
                                 n
                                 −
                                 c
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                              
                           . Assuming there exists an optimal schedule satisfying that 
                              
                                 m
                                 =
                                 ⌈
                                 
                                    n
                                    c
                                 
                                 ⌉
                              
                            and 
                              
                                 
                                    n
                                    1
                                 
                                 >
                                 n
                                 −
                                 c
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                              
                           , then after an arbitrary job Jx
                            in b
                           1 is transferred into another arbitrary batch bk
                            with nk
                            < c, the completion time of all jobs is updated to

                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                          ′
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       ·
                                       
                                          1
                                          
                                             1
                                             +
                                             
                                                a
                                                x
                                             
                                          
                                       
                                       ·
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             n
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          (
                                          
                                             
                                                ⌈
                                                
                                                   n
                                                   c
                                                
                                                ⌉
                                             
                                             −
                                             
                                                1
                                                2
                                             
                                          
                                          )
                                       
                                       T
                                       .
                                    
                                 
                              
                           
                        

Then,

                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                          ′
                                       
                                       −
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                          *
                                       
                                       =
                                       −
                                       
                                          a
                                          x
                                       
                                       
                                          t
                                          0
                                       
                                       ·
                                       
                                          1
                                          
                                             1
                                             +
                                             
                                                a
                                                x
                                             
                                          
                                       
                                       ·
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             n
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       <
                                       0
                                       ,
                                    
                                 
                              
                           which contradicts with the optimal schedule. Therefore, we have 
                              
                                 
                                    n
                                    1
                                 
                                 =
                                 n
                                 −
                                 c
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                              
                           .

(3). Assuming there exists an optimal schedule satisfying that ax
                            > ay
                            for two arbitrary jobs ax
                            ∈ b
                           1 and ay
                            ∈ bk
                           (k ≥ 2), based on (1) and (2), the makespan after swapping Jx
                            and Jy
                            is updated to

                              
                                 
                                    
                                       C
                                       
                                          
                                          
                                             m
                                             a
                                             x
                                          
                                          ′
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       ·
                                       
                                          
                                             1
                                             +
                                             
                                                a
                                                y
                                             
                                          
                                          
                                             1
                                             +
                                             
                                                a
                                                x
                                             
                                          
                                       
                                       ·
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             n
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          (
                                          
                                             
                                                ⌈
                                                
                                                   n
                                                   c
                                                
                                                ⌉
                                             
                                             −
                                             
                                                1
                                                2
                                             
                                          
                                          )
                                       
                                       T
                                       .
                                    
                                 
                              
                           
                        

Then,

                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                          *
                                       
                                       −
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                          ′
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       ·
                                       
                                          
                                             
                                                a
                                                x
                                             
                                             −
                                             
                                                a
                                                y
                                             
                                          
                                          
                                             1
                                             +
                                             
                                                a
                                                x
                                             
                                          
                                       
                                       ·
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             n
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       >
                                       0
                                       ,
                                    
                                 
                              
                           which contradicts with the optimal schedule, thus it should be ax
                            ≤ ay
                           . □


                           For the problem M → C|pi
                            = ait, s − batch, T, buffer|Cmax, if n > c, T ≥ P
                           2, and
                           
                              
                                 T
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                                 ≥
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       n
                                       −
                                       c
                                       (
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                          −
                                          1
                                       
                                       )
                                    
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                              
                           
                           , then 
                           
                              Algorithm 1
                            
                           generates an optimal schedule.
                        


                           
                              Algorithm 1
                            
                           generates an optimal solution for the problem M → C|pi
                            = ait, s − batch, T, buffer|Cmax, and the optimal makespan is
                           
                              
                                 
                                    
                                       
                                          
                                             C
                                             
                                                m
                                                a
                                                x
                                             
                                             *
                                          
                                          =
                                          
                                             {
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               t
                                                               0
                                                            
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                               
                                                               n
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            +
                                                            
                                                               T
                                                               2
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         n
                                                         ≤
                                                         c
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            m
                                                            a
                                                            x
                                                            
                                                               {
                                                               
                                                                  t
                                                                  0
                                                               
                                                               
                                                                  ∏
                                                                  
                                                                     i
                                                                     =
                                                                     1
                                                                  
                                                                  
                                                                     n
                                                                     −
                                                                     c
                                                                     (
                                                                     
                                                                        ⌈
                                                                        
                                                                           n
                                                                           c
                                                                        
                                                                        ⌉
                                                                        −
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                               
                                                                  (
                                                                  
                                                                     1
                                                                     +
                                                                     
                                                                        a
                                                                        i
                                                                     
                                                                  
                                                                  )
                                                               
                                                               +
                                                               
                                                                  (
                                                                  
                                                                     
                                                                        ⌈
                                                                        
                                                                           n
                                                                           c
                                                                        
                                                                        ⌉
                                                                     
                                                                     −
                                                                     
                                                                        1
                                                                        2
                                                                     
                                                                  
                                                                  )
                                                               
                                                               T
                                                               ,
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                            
                                                            
                                                            
                                                            
                                                               
                                                                  t
                                                                  0
                                                               
                                                               
                                                                  ∏
                                                                  
                                                                     i
                                                                     =
                                                                     1
                                                                  
                                                                  n
                                                               
                                                               
                                                                  (
                                                                  
                                                                     1
                                                                     +
                                                                     
                                                                        a
                                                                        i
                                                                     
                                                                  
                                                                  )
                                                               
                                                               +
                                                               
                                                                  T
                                                                  2
                                                               
                                                               
                                                                  
                                                                     
                                                                        ∏
                                                                        
                                                                           i
                                                                           =
                                                                           1
                                                                        
                                                                        
                                                                           n
                                                                           −
                                                                           c
                                                                           (
                                                                           
                                                                              ⌈
                                                                              
                                                                                 n
                                                                                 c
                                                                              
                                                                              ⌉
                                                                              −
                                                                              1
                                                                           
                                                                           )
                                                                        
                                                                     
                                                                  
                                                               
                                                               }
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         n
                                                         >
                                                         c
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Combining Lemma 2, Corollary 1, Corollary 2, and Corollary 3, it can be obtained that Algorithm 1 generates an optimal schedule for the problem M → T|pi
                            = ait, s − batch, T, buffer|Cmax
                           . When n > c, T ≥ P
                           2, and 
                              
                                 T
                                 
                                    (
                                    
                                       ⌈
                                       
                                          n
                                          c
                                       
                                       ⌉
                                       −
                                       1
                                    
                                    )
                                 
                                 ≤
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    t
                                    0
                                 
                                 
                                    ∏
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       n
                                       −
                                       c
                                       (
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                          −
                                          1
                                       
                                       )
                                    
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          a
                                          i
                                       
                                    
                                    )
                                 
                              
                           , the makespan generated by Algorithm 1 is

                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                          *
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             n
                                             −
                                             c
                                             (
                                             
                                                ⌈
                                                
                                                   n
                                                   c
                                                
                                                ⌉
                                                −
                                                1
                                             
                                             )
                                          
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          (
                                          
                                             
                                                ⌈
                                                
                                                   n
                                                   c
                                                
                                                ⌉
                                             
                                             −
                                             
                                                1
                                                2
                                             
                                          
                                          )
                                       
                                       T
                                       .
                                    
                                 
                              
                           
                        

Under all the other conditions, the makespan generated by Algorithm 1 is

                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                          *
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          n
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       .
                                    
                                 
                              
                           
                        

Therefore,

                              
                                 
                                    
                                       
                                          C
                                          
                                             m
                                             a
                                             x
                                          
                                          *
                                       
                                       =
                                       
                                          {
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            t
                                                            0
                                                         
                                                         
                                                            ∏
                                                            
                                                               i
                                                               =
                                                               1
                                                            
                                                            n
                                                         
                                                         
                                                            (
                                                            
                                                               1
                                                               +
                                                               
                                                                  a
                                                                  i
                                                               
                                                            
                                                            )
                                                         
                                                         +
                                                         
                                                            T
                                                            2
                                                         
                                                         ,
                                                      
                                                   
                                                
                                                
                                                   
                                                      n
                                                      ≤
                                                      c
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         m
                                                         a
                                                         x
                                                         
                                                            {
                                                            
                                                               t
                                                               0
                                                            
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                               
                                                               
                                                                  n
                                                                  −
                                                                  c
                                                                  (
                                                                  
                                                                     ⌈
                                                                     
                                                                        n
                                                                        c
                                                                     
                                                                     ⌉
                                                                     −
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            +
                                                            
                                                               (
                                                               
                                                                  
                                                                     ⌈
                                                                     
                                                                        n
                                                                        c
                                                                     
                                                                     ⌉
                                                                  
                                                                  −
                                                                  
                                                                     1
                                                                     2
                                                                  
                                                               
                                                               )
                                                            
                                                            T
                                                            ,
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                         
                                                         
                                                         
                                                            
                                                               t
                                                               0
                                                            
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                               
                                                               n
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            +
                                                            
                                                               T
                                                               2
                                                            
                                                            
                                                               
                                                                  
                                                                     ∏
                                                                     
                                                                        i
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        n
                                                                        −
                                                                        c
                                                                        (
                                                                        
                                                                           ⌈
                                                                           
                                                                              n
                                                                              c
                                                                           
                                                                           ⌉
                                                                           −
                                                                           1
                                                                        
                                                                        )
                                                                     
                                                                  
                                                               
                                                            
                                                            }
                                                         
                                                         ,
                                                      
                                                   
                                                
                                                
                                                   
                                                      n
                                                      >
                                                      c
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           The proof is completed. □

In this section, the problem M → C|pi
                      = ait, s − batch, T|Cmax
                      is studied. We provide some properties in Section 4.1. Then a heuristic and a lower bound are presented in Section 4.2, followed by two special cases in Section 4.3. Finally, we conduct computational experiments in Section 4.4.

Some structural properties are demonstrated for the general case in this subsection.

                           Lemma 8
                           
                              For the problem M → C|pi
                               = ait, s − batch, T|Cmax, the optimal schedule satisfies the property that the jobs in each batch can be sequenced in any order.
                           

The result can be obtained by interchanging two adjacent jobs in an arbitrary batch. □


                              For the problem M → C|pi
                               = ait, s − batch, T|Cmax, the optimal schedule satisfies the property that ykw
                               + zkw
                               = 0 or 2, wherek, w = 1, 2, …, m.
                           

It is easy to infer that S
                              2k
                               ≥ S
                              2w
                               when S
                              1k
                               ≥ S
                              1w
                              , or S
                              2k
                               < S
                              2w
                               when S
                              1k
                               < S
                              1w
                              . It should be ykw
                               = zkw
                               = 0 or ykw
                               = zkw
                               = 1. Thus, we can obtain that ykw
                               + zkw
                               = 0 or 2, where k, w = 1, 2, …, m. □


                              For the problem M → C|pi
                               = ait, s − batch, T|Cmax, there exists Jx
                               ∈ b
                              
                                 k + 1 
                              in a schedule. If
                              
                                 
                                    
                                       
                                          
                                             
                                             
                                             
                                                
                                                   
                                                      S
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               +
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   ≥
                                                   
                                                      S
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   +
                                                   T
                                                   ,
                                                
                                             
                                          
                                          
                                             
                                             
                                             
                                                
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   <
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   +
                                                   T
                                                   ,
                                                   
                                                   and
                                                   
                                                   
                                                   
                                                      n
                                                      k
                                                   
                                                   <
                                                   c
                                                   ,
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              then the solution can be improved.
                           

If Jx
                               is transferred from b
                              
                                 k + 1 into bk
                              , then the updated completion time of bk
                               on the manufacturer's machine is

                                 
                                    
                                       
                                          
                                             C
                                             
                                                1
                                                k
                                             
                                             ′
                                          
                                          =
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   x
                                                
                                             
                                             )
                                          
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                           

There are two cases as follows:

                                 
                                    (1)
                                    
                                       
                                          
                                             
                                                C
                                                
                                                   1
                                                   k
                                                
                                                ′
                                             
                                             ≤
                                             
                                                S
                                                
                                                   1
                                                   k
                                                
                                             
                                             +
                                             T
                                          
                                       .

The updated completion time of b
                                       
                                          k + 1 on the manufacturer's machine is

                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            C
                                                            
                                                               1
                                                               (
                                                               
                                                                  k
                                                                  +
                                                                  1
                                                               
                                                               )
                                                            
                                                            ′
                                                         
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            
                                                               S
                                                               
                                                                  1
                                                                  (
                                                                  
                                                                     k
                                                                     +
                                                                     1
                                                                  
                                                                  )
                                                               
                                                               ′
                                                            
                                                            ·
                                                            
                                                               1
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     x
                                                                  
                                                               
                                                            
                                                            ·
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                                  +
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     k
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                               
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        k
                                                                        +
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            
                                                               S
                                                               
                                                                  1
                                                                  (
                                                                  
                                                                     k
                                                                     +
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            ·
                                                            
                                                               1
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     x
                                                                  
                                                               
                                                            
                                                            ·
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                                  +
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     k
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                               
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        k
                                                                        +
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    

Then,

                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               C
                                                               
                                                                  1
                                                                  (
                                                                  
                                                                     k
                                                                     +
                                                                     1
                                                                  
                                                                  )
                                                               
                                                               ′
                                                            
                                                            −
                                                            
                                                               C
                                                               
                                                                  1
                                                                  (
                                                                  
                                                                     k
                                                                     +
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            
                                                               S
                                                               
                                                                  1
                                                                  (
                                                                  
                                                                     k
                                                                     +
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            ·
                                                            
                                                               1
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     x
                                                                  
                                                               
                                                            
                                                            ·
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                                  +
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     k
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                               
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        k
                                                                        +
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                      
                                                         
                                                            −
                                                            
                                                            
                                                               S
                                                               
                                                                  1
                                                                  (
                                                                  
                                                                     k
                                                                     +
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                                  +
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     k
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                               
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        k
                                                                        +
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            
                                                               S
                                                               
                                                                  1
                                                                  (
                                                                  k
                                                                  +
                                                                  1
                                                                  )
                                                               
                                                            
                                                            ·
                                                            
                                                               
                                                                  −
                                                                  
                                                                     a
                                                                     x
                                                                  
                                                               
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     x
                                                                  
                                                               
                                                            
                                                            ·
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                                  +
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     k
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                               
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        k
                                                                        +
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            <
                                                            0
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    

Thus, 
                                          
                                             
                                                C
                                                
                                                   1
                                                   (
                                                   
                                                      k
                                                      +
                                                      1
                                                   
                                                   )
                                                
                                                ′
                                             
                                             <
                                             
                                                C
                                                
                                                   1
                                                   (
                                                   
                                                      k
                                                      +
                                                      1
                                                   
                                                   )
                                                
                                             
                                          
                                       .


                                       
                                          
                                             
                                                C
                                                
                                                   1
                                                   k
                                                
                                                ′
                                             
                                             >
                                             
                                                S
                                                
                                                   1
                                                   k
                                                
                                             
                                             +
                                             T
                                          
                                       .

The updated completion time of b
                                       
                                          k + 1 on the manufacturer's machine is

                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            C
                                                            
                                                               1
                                                               (
                                                               
                                                                  k
                                                                  +
                                                                  1
                                                               
                                                               )
                                                            
                                                            ′
                                                         
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            
                                                               S
                                                               
                                                                  1
                                                                  k
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     x
                                                                  
                                                               
                                                               )
                                                            
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                                  +
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        k
                                                                        −
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                               
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     k
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            ·
                                                            
                                                               1
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     x
                                                                  
                                                               
                                                            
                                                            ·
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                                  +
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     k
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                               
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        k
                                                                        +
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            .
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            
                                                               S
                                                               
                                                                  1
                                                                  k
                                                               
                                                            
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                                  +
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        k
                                                                        −
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                               
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     k
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            ·
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                                  +
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     k
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                               
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        k
                                                                        +
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    

Since we have

                                          
                                             
                                                
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   <
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   +
                                                   T
                                                   
                                                   and
                                                   
                                                   
                                                   
                                                      S
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   =
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   +
                                                   T
                                                   ,
                                                
                                             
                                          
                                       it can be deduced that

                                          
                                             
                                                
                                                   
                                                      
                                                      
                                                      
                                                         
                                                            
                                                               C
                                                               
                                                                  1
                                                                  (
                                                                  
                                                                     k
                                                                     +
                                                                     1
                                                                  
                                                                  )
                                                               
                                                               ′
                                                            
                                                            −
                                                            
                                                               C
                                                               
                                                                  1
                                                                  (
                                                                  
                                                                     k
                                                                     +
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            =
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  1
                                                                  +
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     k
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                               
                                                                  
                                                                     ∑
                                                                     
                                                                        j
                                                                        =
                                                                        1
                                                                     
                                                                     
                                                                        k
                                                                        +
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     n
                                                                     j
                                                                  
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                      
                                                         
                                                            
                                                            .
                                                            
                                                               [
                                                               
                                                                  
                                                                     S
                                                                     
                                                                        1
                                                                        k
                                                                     
                                                                  
                                                                  
                                                                     ∏
                                                                     
                                                                        i
                                                                        =
                                                                        1
                                                                        +
                                                                        
                                                                           ∑
                                                                           
                                                                              j
                                                                              =
                                                                              1
                                                                           
                                                                           
                                                                              k
                                                                              −
                                                                              1
                                                                           
                                                                        
                                                                        
                                                                           n
                                                                           j
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           ∑
                                                                           
                                                                              j
                                                                              =
                                                                              1
                                                                           
                                                                           k
                                                                        
                                                                        
                                                                           n
                                                                           j
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     (
                                                                     
                                                                        1
                                                                        +
                                                                        
                                                                           a
                                                                           i
                                                                        
                                                                     
                                                                     )
                                                                  
                                                                  −
                                                                  
                                                                     (
                                                                     
                                                                        
                                                                           S
                                                                           
                                                                              1
                                                                              k
                                                                           
                                                                        
                                                                        +
                                                                        T
                                                                     
                                                                     )
                                                                  
                                                               
                                                               ]
                                                            
                                                            <
                                                            0
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    

Combining two cases, we can conclude that the solutions are improved. □


                              For the problem M → C|pi
                               = ait, s −  batch, T|Cmax, if there exist two arbitrary jobs Jx
                               ∈ bk and Jy
                               ∈ b
                              
                                 k + 1 
                              in an optimal schedule, then the optimal schedule satisfies the property that
                              
                                 
                                    
                                       
                                          
                                             a
                                             x
                                          
                                          ≥
                                          
                                             a
                                             y
                                          
                                       
                                    
                                 
                              
                              when
                              
                                 
                                    
                                       S
                                       
                                          1
                                          k
                                       
                                    
                                    
                                       ∏
                                       
                                          i
                                          =
                                          1
                                          +
                                          
                                             ∑
                                             
                                                j
                                                =
                                                1
                                             
                                             
                                                k
                                                −
                                                1
                                             
                                          
                                          
                                             n
                                             j
                                          
                                       
                                       
                                          
                                             ∑
                                             
                                                j
                                                =
                                                1
                                             
                                             k
                                          
                                          
                                             n
                                             j
                                          
                                       
                                    
                                    
                                       (
                                       
                                          1
                                          +
                                          
                                             a
                                             i
                                          
                                       
                                       )
                                    
                                    <
                                    
                                       S
                                       
                                          1
                                          k
                                       
                                    
                                    +
                                    T
                                    
                                    a
                                    n
                                    d
                                    
                                    k
                                    =
                                    2
                                    ,
                                    …
                                    ,
                                    m
                                    −
                                    1
                                    .
                                 
                              
                           

Assuming that ax
                               < ay
                               when 
                                 
                                    
                                       S
                                       
                                          1
                                          k
                                       
                                    
                                    
                                       ∏
                                       
                                          i
                                          =
                                          1
                                          +
                                          
                                             ∑
                                             
                                                j
                                                =
                                                1
                                             
                                             
                                                k
                                                −
                                                1
                                             
                                          
                                          
                                             n
                                             j
                                          
                                       
                                       
                                          
                                             ∑
                                             
                                                j
                                                =
                                                1
                                             
                                             k
                                          
                                          
                                             n
                                             j
                                          
                                       
                                    
                                    
                                       (
                                       
                                          1
                                          +
                                          
                                             a
                                             i
                                          
                                       
                                       )
                                    
                                    <
                                    
                                       S
                                       
                                          1
                                          k
                                       
                                    
                                    +
                                    T
                                 
                               and k = 2, …, m − 1. If Jx
                               and Jy
                               are exchanged, then there are two situations to be considered.

                                 
                                    
                                       
                                          
                                             (
                                             1
                                             )
                                          
                                          
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          ·
                                          
                                             
                                                1
                                                +
                                                
                                                   a
                                                   y
                                                
                                             
                                             
                                                1
                                                +
                                                
                                                   a
                                                   x
                                                
                                             
                                          
                                          ·
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          ≤
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          +
                                          T
                                          .
                                       
                                    
                                 
                              
                           

In this case, the updated completion time of b
                              
                                 k + 1 on the manufacturer's machine is

                                 
                                    
                                       
                                          
                                             C
                                             
                                                1
                                                (
                                                
                                                   k
                                                   +
                                                   1
                                                
                                                )
                                             
                                             ′
                                          
                                          =
                                          
                                             (
                                             
                                                S
                                                
                                                   1
                                                   k
                                                
                                             
                                             +
                                             T
                                             )
                                          
                                          ·
                                          
                                             
                                                1
                                                +
                                                
                                                   a
                                                   x
                                                
                                             
                                             
                                                1
                                                +
                                                
                                                   a
                                                   y
                                                
                                             
                                          
                                          ·
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      +
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                           

Then,

                                 
                                    
                                       
                                          
                                             C
                                             
                                                1
                                                (
                                                
                                                   k
                                                   +
                                                   1
                                                
                                                )
                                             
                                             ′
                                          
                                          −
                                          
                                             C
                                             
                                                1
                                                (
                                                
                                                   k
                                                   +
                                                   1
                                                
                                                )
                                             
                                          
                                          =
                                          
                                             (
                                             
                                                S
                                                
                                                   1
                                                   k
                                                
                                             
                                             +
                                             T
                                             )
                                          
                                          ·
                                          
                                             
                                                
                                                   a
                                                   x
                                                
                                                −
                                                
                                                   a
                                                   y
                                                
                                             
                                             
                                                1
                                                +
                                                
                                                   a
                                                   y
                                                
                                             
                                          
                                          ·
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      +
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          <
                                          0
                                          ,
                                       
                                    
                                 
                              which contradicts with the optimal solution, so we should have ax
                               ≥ ay
                              .

                                 
                                    
                                       
                                          
                                             (
                                             2
                                             )
                                          
                                          
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          ·
                                          
                                             
                                                1
                                                +
                                                
                                                   a
                                                   y
                                                
                                             
                                             
                                                1
                                                +
                                                
                                                   a
                                                   x
                                                
                                             
                                          
                                          ·
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          >
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          +
                                          T
                                          .
                                       
                                    
                                 
                              
                           

The updated completion time of b
                              
                                 k + 1 on the manufacturer's machine is

                                 
                                    
                                       
                                          
                                             
                                                
                                                   C
                                                   
                                                      1
                                                      (
                                                      
                                                         k
                                                         +
                                                         1
                                                      
                                                      )
                                                   
                                                   ′
                                                
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   ·
                                                   
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            x
                                                         
                                                      
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            y
                                                         
                                                      
                                                   
                                                   ·
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   ·
                                                   
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            y
                                                         
                                                      
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            x
                                                         
                                                      
                                                   
                                                   ·
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               +
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   ·
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               +
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   .
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Since we have

                                 
                                    
                                       
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          +
                                          T
                                          >
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          ,
                                       
                                    
                                 
                              it can be deduced that

                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      C
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   −
                                                   
                                                      C
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                      ′
                                                   
                                                
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               +
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                             
                                             
                                                
                                                   ×
                                                   
                                                      [
                                                      
                                                         
                                                            S
                                                            
                                                               1
                                                               k
                                                            
                                                         
                                                         +
                                                         T
                                                         −
                                                         
                                                            S
                                                            
                                                               1
                                                               k
                                                            
                                                         
                                                         
                                                            ∏
                                                            
                                                               i
                                                               =
                                                               1
                                                               +
                                                               
                                                                  ∑
                                                                  
                                                                     j
                                                                     =
                                                                     1
                                                                  
                                                                  
                                                                     k
                                                                     −
                                                                     1
                                                                  
                                                               
                                                               
                                                                  n
                                                                  j
                                                               
                                                            
                                                            
                                                               
                                                                  ∑
                                                                  
                                                                     j
                                                                     =
                                                                     1
                                                                  
                                                                  k
                                                               
                                                               
                                                                  n
                                                                  j
                                                               
                                                            
                                                         
                                                         
                                                            (
                                                            
                                                               1
                                                               +
                                                               
                                                                  a
                                                                  i
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      ]
                                                   
                                                   >
                                                   0
                                                   ,
                                                
                                             
                                          
                                       
                                    
                                 
                              which also contradicts with the optimal solution, so it can be obtained that ax
                               ≥ ay
                              . Combining these two situations, the proof is completed. □


                              For the problem M → C|pi
                               = ait, s − batch, T|Cmax, there exist two arbitrary jobs Jx
                               ∈ bk and Jy
                               ∈ b
                              
                                 k + 1 
                              in a schedule, if
                              
                                 
                                    
                                       
                                          
                                             a
                                             x
                                          
                                          ≤
                                          
                                             a
                                             y
                                          
                                          ,
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          ≥
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          +
                                          T
                                          ,
                                          
                                          and
                                       
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             S
                                             
                                                1
                                                (
                                                
                                                   k
                                                   +
                                                   1
                                                
                                                )
                                             
                                          
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      +
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          ≤
                                          
                                             S
                                             
                                                1
                                                (
                                                
                                                   k
                                                   +
                                                   1
                                                
                                                )
                                             
                                          
                                          +
                                          T
                                          
                                             (
                                             
                                                k
                                                =
                                                2
                                                ,
                                                …
                                                ,
                                                m
                                                −
                                                1
                                             
                                             )
                                          
                                          ,
                                       
                                    
                                 
                              
                              then the solution remains unchanged after Jx and Jy are swapped.
                           

. After Jx
                               and Jy
                               are swapped, the updated completion time of bk
                               during the production stage is

                                 
                                    
                                       
                                          
                                             C
                                             
                                                1
                                                k
                                             
                                             ′
                                          
                                          =
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          ·
                                          
                                             
                                                1
                                                +
                                                
                                                   a
                                                   y
                                                
                                             
                                             
                                                1
                                                +
                                                
                                                   a
                                                   x
                                                
                                             
                                          
                                          ·
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                       
                                    
                                 
                              
                           

Since

                                 
                                    
                                       
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          ·
                                          
                                             
                                                1
                                                +
                                                
                                                   a
                                                   y
                                                
                                             
                                             
                                                1
                                                +
                                                
                                                   a
                                                   x
                                                
                                             
                                          
                                          ·
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          ≥
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          ≥
                                          
                                             S
                                             
                                                1
                                                k
                                             
                                          
                                          +
                                          T
                                          ,
                                       
                                    
                                 
                              the updated completion time of b
                              
                                 k + 1 during the production stage is

                                 
                                    
                                       
                                          
                                             
                                                
                                                   C
                                                   
                                                      1
                                                      (
                                                      
                                                         k
                                                         +
                                                         1
                                                      
                                                      )
                                                   
                                                   ′
                                                
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   ·
                                                   
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            y
                                                         
                                                      
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            x
                                                         
                                                      
                                                   
                                                   ·
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   ·
                                                   
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            x
                                                         
                                                      
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            y
                                                         
                                                      
                                                   
                                                   ·
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               +
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   ·
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   ·
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               +
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   =
                                                   
                                                      C
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   .
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Since

                                 
                                    
                                       
                                          
                                             S
                                             
                                                1
                                                (
                                                
                                                   k
                                                   +
                                                   1
                                                
                                                )
                                             
                                          
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      +
                                                      1
                                                   
                                                
                                                
                                                   n
                                                   j
                                                
                                             
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          ≤
                                          
                                             S
                                             
                                                1
                                                (
                                                
                                                   k
                                                   +
                                                   1
                                                
                                                )
                                             
                                          
                                          +
                                          T
                                          ,
                                       
                                    
                                 
                              it is obtained that

                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      C
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                      ′
                                                   
                                                   −
                                                   
                                                      S
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                      ′
                                                   
                                                
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   
                                                      C
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   −
                                                   
                                                      C
                                                      
                                                         1
                                                         k
                                                      
                                                      ′
                                                   
                                                   =
                                                   
                                                      C
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   −
                                                   
                                                      S
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   ·
                                                   
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            y
                                                         
                                                      
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            x
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                             
                                                <
                                             
                                             
                                                
                                                   
                                                      S
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                         +
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            k
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               k
                                                               +
                                                               1
                                                            
                                                         
                                                         
                                                            n
                                                            j
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   −
                                                   
                                                      S
                                                      
                                                         1
                                                         (
                                                         
                                                            k
                                                            +
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   ≤
                                                   T
                                                   .
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Thus, 
                                 
                                    
                                       C
                                       
                                          2
                                          (
                                          
                                             k
                                             +
                                             1
                                          
                                          )
                                       
                                       ′
                                    
                                    =
                                    
                                       C
                                       
                                          2
                                          (
                                          
                                             k
                                             +
                                             1
                                          
                                          )
                                       
                                    
                                 
                               and the proof is completed. □


                              For the problem M → C|pi
                               = ait, s − batch, T|Cmax, if n ≤ c, then there exists an optimal schedule satisfying that m = 1 and the jobs in the batch can be sequenced in any order.
                           

When n ≤ c, we assume that there exists an optimal schedule satisfying m > 1. Since n ≤ c, all jobs can be transferred from other batches into b
                              1. The updated completion time of all jobs is

                                 
                                    
                                       
                                          
                                             C
                                             
                                                m
                                                a
                                                x
                                             
                                             ′
                                          
                                          =
                                          
                                             C
                                             
                                                21
                                             
                                             ′
                                          
                                          =
                                          
                                             t
                                             0
                                          
                                          
                                             ∏
                                             
                                                i
                                                =
                                                1
                                             
                                             n
                                          
                                          
                                             (
                                             
                                                1
                                                +
                                                
                                                   a
                                                   i
                                                
                                             
                                             )
                                          
                                          +
                                          
                                             T
                                             2
                                          
                                          ≤
                                          
                                             C
                                             
                                                m
                                                a
                                                x
                                             
                                             *
                                          
                                          .
                                       
                                    
                                 
                              
                           

The updated schedule remains optimal, and based on Lemma 8, the jobs can be sequenced in any order in b
                              1.

The proof is completed. □


                              For the problem M → C|pi
                               = ait, s − batch, T|Cmax, if c < n ≤ 2c, then there exists an optimal schedule satisfying m = 2, n
                              1 = n − c, n
                              2 = c, and ax
                               ≤ ay for two arbitrary jobs Jx
                               ∈ b
                              1 
                              and Jy
                               ∈ b
                              2
                              .
                           

The proof can be completed by combining two cases.


                              
                                 
                                    (1)
                                    Case 1: assuming there exists an optimal schedule for m ≥ 3.

Since c < n ≤ 2c, all jobs can be transferred from the other batches into b
                                       1 and b
                                       2. The schedule can be updated as ({J
                                       1, J
                                       2, …, J
                                       
                                          n − c
                                       }, { J
                                       
                                          n − c + 1, J
                                       
                                          n − c + 2, …, Jn
                                       }) satisfying n
                                       1 = n − c, n
                                       2 = c, and a
                                       1 ≤ a
                                       2 ≤ ⋅⋅⋅ ≤ a
                                       
                                          n − c
                                        ≤ a
                                       
                                          n − c + 1 ≤ ⋅⋅⋅ ≤ an
                                       . The updated completion time of all jobs is

                                          
                                             
                                                
                                                   
                                                      C
                                                      
                                                         m
                                                         a
                                                         x
                                                      
                                                      ′
                                                   
                                                   =
                                                   m
                                                   a
                                                   x
                                                   
                                                      {
                                                      
                                                         
                                                            C
                                                            
                                                               12
                                                            
                                                            ′
                                                         
                                                         ,
                                                         
                                                            C
                                                            
                                                               11
                                                            
                                                            ′
                                                         
                                                         +
                                                         T
                                                      
                                                      }
                                                   
                                                   +
                                                   
                                                      T
                                                      2
                                                   
                                                   .
                                                
                                             
                                          
                                       
                                    

We have

                                          
                                             
                                                
                                                   
                                                      C
                                                      
                                                         12
                                                      
                                                      ′
                                                   
                                                   =
                                                   
                                                      t
                                                      0
                                                   
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                      
                                                      n
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   
                                                   and
                                                   
                                                   
                                                   
                                                      C
                                                      
                                                         11
                                                      
                                                      ′
                                                   
                                                   =
                                                   
                                                      t
                                                      0
                                                   
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                      
                                                      
                                                         n
                                                         −
                                                         c
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   
                                                
                                             
                                          
                                       
                                    

The original completion time of all jobs is

                                          
                                             
                                                
                                                   
                                                      C
                                                      
                                                         m
                                                         a
                                                         x
                                                      
                                                   
                                                   =
                                                   m
                                                   a
                                                   x
                                                   
                                                      {
                                                      
                                                         
                                                            C
                                                            
                                                               1
                                                               m
                                                            
                                                         
                                                         ,
                                                         
                                                            C
                                                            
                                                               1
                                                               (
                                                               
                                                                  m
                                                                  −
                                                                  1
                                                               
                                                               )
                                                            
                                                         
                                                         +
                                                         T
                                                      
                                                      }
                                                   
                                                   +
                                                   
                                                      T
                                                      2
                                                   
                                                   .
                                                
                                             
                                          
                                       
                                    

It is easy to see that 
                                          
                                             
                                                C
                                                
                                                   1
                                                   m
                                                
                                             
                                             ≥
                                             
                                                C
                                                
                                                   12
                                                
                                                ′
                                             
                                          
                                        and 
                                          
                                             
                                                C
                                                
                                                   1
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                             
                                             ≥
                                             
                                                C
                                                
                                                   11
                                                
                                                ′
                                             
                                          
                                       . Then

                                          
                                             
                                                
                                                   m
                                                   a
                                                   x
                                                   
                                                      {
                                                      
                                                         
                                                            C
                                                            
                                                               1
                                                               m
                                                            
                                                         
                                                         ,
                                                         
                                                            C
                                                            
                                                               1
                                                               (
                                                               
                                                                  m
                                                                  −
                                                                  1
                                                               
                                                               )
                                                            
                                                         
                                                         +
                                                         T
                                                      
                                                      }
                                                   
                                                   +
                                                   
                                                      T
                                                      2
                                                   
                                                   ≥
                                                   m
                                                   a
                                                   x
                                                   
                                                      {
                                                      
                                                         
                                                            C
                                                            
                                                               12
                                                            
                                                            ′
                                                         
                                                         ,
                                                         
                                                            C
                                                            
                                                               11
                                                            
                                                            ′
                                                         
                                                         +
                                                         T
                                                      
                                                      }
                                                   
                                                   +
                                                   
                                                      T
                                                      2
                                                   
                                                   .
                                                
                                             
                                          
                                       
                                    

Thus, 
                                          
                                             
                                                C
                                                
                                                   m
                                                   a
                                                   x
                                                
                                             
                                             ≥
                                             
                                                C
                                                
                                                   m
                                                   a
                                                   x
                                                
                                                ′
                                             
                                          
                                        and the updated schedule remains optimal.

Case 2: assuming there exists an optimal schedule for m = 2.

There exist two subcases for this case.

(2.1) Case 2.1: n
                                       1 ≠ n − c (or n
                                       2 ≠ c).

If n
                                       1 ≠ n − c, then n
                                       1 > n − c and n
                                       2 < c. After transferring an arbitrary job Jx
                                        from b
                                       1 into b
                                       2, the updated completion time of all jobs is

                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            C
                                                            
                                                               m
                                                               a
                                                               x
                                                            
                                                            ′
                                                         
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            m
                                                            a
                                                            x
                                                            
                                                               {
                                                               
                                                                  
                                                                     C
                                                                     
                                                                        12
                                                                     
                                                                     ′
                                                                  
                                                                  ,
                                                                  
                                                                     C
                                                                     
                                                                        11
                                                                     
                                                                     ′
                                                                  
                                                                  +
                                                                  T
                                                               
                                                               }
                                                            
                                                            +
                                                            
                                                               T
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            m
                                                            a
                                                            x
                                                            
                                                               {
                                                               
                                                                  
                                                                     C
                                                                     12
                                                                  
                                                                  ,
                                                                  
                                                                     C
                                                                     11
                                                                  
                                                                  ·
                                                                  
                                                                     1
                                                                     
                                                                        1
                                                                        +
                                                                        
                                                                           a
                                                                           x
                                                                        
                                                                     
                                                                  
                                                                  +
                                                                  T
                                                               
                                                               }
                                                            
                                                            +
                                                            
                                                               T
                                                               2
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       and

                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               C
                                                               
                                                                  m
                                                                  a
                                                                  x
                                                               
                                                            
                                                            −
                                                            
                                                               C
                                                               
                                                                  m
                                                                  a
                                                                  x
                                                               
                                                               ′
                                                            
                                                         
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            m
                                                            a
                                                            x
                                                            {
                                                            
                                                               
                                                                  C
                                                                  12
                                                               
                                                               ,
                                                               
                                                                  C
                                                                  11
                                                               
                                                               +
                                                               T
                                                            
                                                            }
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                      
                                                         
                                                            −
                                                            
                                                            m
                                                            a
                                                            x
                                                            
                                                               {
                                                               
                                                                  
                                                                     C
                                                                     12
                                                                  
                                                                  ,
                                                                  
                                                                     C
                                                                     11
                                                                  
                                                                  ·
                                                                  
                                                                     1
                                                                     
                                                                        1
                                                                        +
                                                                        
                                                                           a
                                                                           x
                                                                        
                                                                     
                                                                  
                                                                  +
                                                                  T
                                                               
                                                               }
                                                            
                                                            ≥
                                                            0
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    

It can be obtained that 
                                          
                                             
                                                C
                                                
                                                   m
                                                   a
                                                   x
                                                
                                             
                                             ≥
                                             
                                                C
                                                
                                                   m
                                                   a
                                                   x
                                                
                                                ′
                                             
                                          
                                        and the updated schedule remains optimal. Similarly, we can remove jobs from b
                                       1 into b
                                       2 until n
                                       1 = n − c and n
                                       2 = c.

(2.2) Case 2.2: ax
                                        > ay
                                        for two arbitrary jobs Jx
                                        ∈ b
                                       1 and Jy
                                        ∈ b
                                       2
                                       .
                                    

Assuming there exits an optimal schedule satisfying that ax
                                        > ay
                                        for two arbitrary jobs Jx
                                        ∈ b
                                       1 and Jy
                                        ∈ b
                                       2. After swapping Jx
                                        and Jy
                                       , the updated completion time of all jobs is

                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            C
                                                            
                                                               m
                                                               a
                                                               x
                                                            
                                                            ′
                                                         
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            m
                                                            a
                                                            x
                                                            
                                                               {
                                                               
                                                                  
                                                                     C
                                                                     
                                                                        12
                                                                     
                                                                     ′
                                                                  
                                                                  ,
                                                                  
                                                                     C
                                                                     
                                                                        11
                                                                     
                                                                     ′
                                                                  
                                                                  +
                                                                  T
                                                               
                                                               }
                                                            
                                                            +
                                                            
                                                               T
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            m
                                                            a
                                                            x
                                                            
                                                            
                                                               {
                                                               
                                                               
                                                                  t
                                                                  0
                                                               
                                                               
                                                               
                                                                  [
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           1
                                                                           +
                                                                           
                                                                              a
                                                                              y
                                                                           
                                                                        
                                                                        
                                                                           1
                                                                           +
                                                                           
                                                                              a
                                                                              x
                                                                           
                                                                        
                                                                     
                                                                     ·
                                                                     
                                                                        ∏
                                                                        
                                                                           i
                                                                           =
                                                                           1
                                                                        
                                                                        
                                                                           n
                                                                           −
                                                                           c
                                                                        
                                                                     
                                                                     
                                                                        (
                                                                        
                                                                           1
                                                                           +
                                                                           
                                                                              a
                                                                              i
                                                                           
                                                                        
                                                                        )
                                                                     
                                                                  
                                                                  
                                                                  ]
                                                               
                                                               
                                                               ·
                                                               
                                                               
                                                                  [
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           1
                                                                           +
                                                                           
                                                                              a
                                                                              x
                                                                           
                                                                        
                                                                        
                                                                           1
                                                                           +
                                                                           
                                                                              a
                                                                              y
                                                                           
                                                                        
                                                                     
                                                                     ·
                                                                     
                                                                        ∏
                                                                        
                                                                           i
                                                                           =
                                                                           n
                                                                           −
                                                                           c
                                                                           +
                                                                           1
                                                                        
                                                                        n
                                                                     
                                                                     
                                                                        (
                                                                        
                                                                           1
                                                                           +
                                                                           
                                                                              a
                                                                              i
                                                                           
                                                                        
                                                                        )
                                                                     
                                                                  
                                                                  
                                                                  ]
                                                               
                                                               
                                                               ,
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  t
                                                                  0
                                                               
                                                               
                                                                  [
                                                                  
                                                                     
                                                                        
                                                                           1
                                                                           +
                                                                           
                                                                              a
                                                                              y
                                                                           
                                                                        
                                                                        
                                                                           1
                                                                           +
                                                                           
                                                                              a
                                                                              x
                                                                           
                                                                        
                                                                     
                                                                     ·
                                                                     
                                                                        ∏
                                                                        
                                                                           i
                                                                           =
                                                                           1
                                                                        
                                                                        
                                                                           n
                                                                           −
                                                                           c
                                                                        
                                                                     
                                                                     
                                                                        (
                                                                        
                                                                           1
                                                                           +
                                                                           
                                                                              a
                                                                              i
                                                                           
                                                                        
                                                                        )
                                                                     
                                                                  
                                                                  ]
                                                               
                                                               +
                                                               T
                                                               }
                                                            
                                                            +
                                                            
                                                               T
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            m
                                                            a
                                                            x
                                                            
                                                               {
                                                               
                                                                  
                                                                     C
                                                                     12
                                                                  
                                                                  ,
                                                                  
                                                                     C
                                                                     11
                                                                  
                                                                  ·
                                                                  
                                                                     
                                                                        1
                                                                        +
                                                                        
                                                                           a
                                                                           y
                                                                        
                                                                     
                                                                     
                                                                        1
                                                                        +
                                                                        
                                                                           a
                                                                           x
                                                                        
                                                                     
                                                                  
                                                                  +
                                                                  T
                                                               
                                                               }
                                                            
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    

Then,

                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               C
                                                               
                                                                  m
                                                                  a
                                                                  x
                                                               
                                                            
                                                            −
                                                            
                                                               C
                                                               
                                                                  m
                                                                  a
                                                                  x
                                                               
                                                               ′
                                                            
                                                         
                                                      
                                                      
                                                         =
                                                      
                                                      
                                                         
                                                            m
                                                            a
                                                            x
                                                            {
                                                            
                                                               
                                                                  C
                                                                  12
                                                               
                                                               ,
                                                               
                                                                  C
                                                                  11
                                                               
                                                               +
                                                               T
                                                            
                                                            }
                                                         
                                                      
                                                   
                                                   
                                                      
                                                      
                                                      
                                                         
                                                            −
                                                            
                                                            m
                                                            a
                                                            x
                                                            
                                                               {
                                                               
                                                                  
                                                                     C
                                                                     12
                                                                  
                                                                  ,
                                                                  
                                                                     C
                                                                     11
                                                                  
                                                                  ·
                                                                  
                                                                     
                                                                        1
                                                                        +
                                                                        
                                                                           a
                                                                           y
                                                                        
                                                                     
                                                                     
                                                                        1
                                                                        +
                                                                        
                                                                           a
                                                                           x
                                                                        
                                                                     
                                                                  
                                                                  +
                                                                  T
                                                               
                                                               }
                                                            
                                                            ≥
                                                            0
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    

Therefore, we can have ax
                                        ≤ ay
                                       .

Combining two cases for m ≥ 3 and m = 2, the proof is completed. □


                              For the problem M → C|pi
                               = ait, s − batch, T|Cmax, if n > 2c, then there exists an optimal schedule satisfying ax
                               ≤ ay for two arbitrary jobs Jx
                               ∈ b
                              1 
                              and Jy
                               ∈ b
                              2
                              .
                           

Since the proof of Lemma 15 is similar to that of Lemma 14, here it is omitted. □

In Section 4.2.1, a heuristic is introduced for the studied problem based on the properties which are previously proved in Section 4.1, and then a lower bound is derived in Section 4.2.2.

A heuristic H is developed to solve the problem M → C|pi
                            = ait, s − batch, T|Cmax
                           . The process of the proposed heuristic is implemented through two phases: (1) job batching, and (2) batch sequencing. The details of heuristic H are as follows.
                              
                                 
                                    
                                    
                                       
                                          
                                             Heuristic H
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             Step 1. If 
                                                
                                                   n
                                                   ≤
                                                   c
                                                
                                             , then place all jobs in a batch in any order and output the schedule 
                                                σ
                                             . Otherwise, go to step 2.
                                       
                                       
                                          
                                             Step 2. If 
                                                
                                                   c
                                                   <
                                                   n
                                                   ≤
                                                   2
                                                   c
                                                
                                             , then index the jobs in the non-decreasing order of 
                                                
                                                   a
                                                   i
                                                
                                              such that 
                                                
                                                   
                                                      a
                                                      1
                                                   
                                                   ≤
                                                   
                                                      a
                                                      2
                                                   
                                                   ≤
                                                   ⋯
                                                   ≤
                                                   
                                                      a
                                                      n
                                                   
                                                
                                             , place the first 
                                                
                                                   (
                                                   
                                                      n
                                                      −
                                                      c
                                                   
                                                   )
                                                
                                              jobs in the first batch and the remaining 
                                                c
                                              jobs in the second batch, and output the schedule 
                                                σ
                                             . Otherwise, go to step 3.
                                       
                                       
                                          
                                             Step 3. Index the jobs in the non-increasing order of 
                                                
                                                   a
                                                   i
                                                
                                              such that 
                                                
                                                   
                                                      a
                                                      1
                                                   
                                                   ≥
                                                   
                                                      a
                                                      2
                                                   
                                                   ≥
                                                   ⋯
                                                   ≥
                                                   
                                                      a
                                                      n
                                                   
                                                
                                              and obtain a job list. Place the jobs 
                                                
                                                   
                                                      J
                                                      
                                                         c
                                                         +
                                                         1
                                                      
                                                   
                                                   ,
                                                   
                                                      J
                                                      
                                                         c
                                                         +
                                                         2
                                                      
                                                   
                                                   ,
                                                   …
                                                   ,
                                                   
                                                   and
                                                   
                                                   
                                                      J
                                                      
                                                         2
                                                         c
                                                      
                                                   
                                                
                                              in the first batch 
                                                
                                                   b
                                                   1
                                                
                                             .
                                       
                                       
                                          
                                             Step 4. Set 
                                                
                                                   σ
                                                   =
                                                   
                                                      b
                                                      1
                                                   
                                                
                                             , 
                                                
                                                   k
                                                   =
                                                   2
                                                
                                             , and 
                                                
                                                   S
                                                   =
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   =
                                                   
                                                      t
                                                      0
                                                   
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         c
                                                         +
                                                         1
                                                      
                                                      
                                                         2
                                                         c
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                
                                             .
                                       
                                       
                                          
                                             Step 5. Re-index the remaining 
                                                
                                                   (
                                                   
                                                      n
                                                      −
                                                      c
                                                   
                                                   )
                                                
                                              jobs in the non-increasing order of 
                                                
                                                   a
                                                   i
                                                
                                              such that 
                                                
                                                   
                                                      a
                                                      
                                                         c
                                                         +
                                                         1
                                                      
                                                   
                                                   ≥
                                                   
                                                      a
                                                      
                                                         c
                                                         +
                                                         2
                                                      
                                                   
                                                   ≥
                                                   ⋯
                                                   ≥
                                                   
                                                      a
                                                      n
                                                   
                                                
                                             , and obtain a job list.
                                       
                                       
                                          
                                             Step 6. Set 
                                                
                                                   i
                                                   =
                                                   c
                                                   +
                                                   1
                                                
                                             , 
                                                
                                                   
                                                      b
                                                      k
                                                   
                                                   =
                                                   
                                                      {
                                                      
                                                         J
                                                         i
                                                      
                                                      }
                                                   
                                                
                                             , 
                                                
                                                   
                                                      n
                                                      k
                                                   
                                                   =
                                                   1
                                                
                                             , and 
                                                
                                                   S
                                                   =
                                                   S
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             .
                                       
                                       
                                          
                                             Step 7. If 
                                                
                                                   i
                                                   <
                                                   n
                                                
                                             , then update 
                                                
                                                   i
                                                   =
                                                   i
                                                   +
                                                   1
                                                
                                              and go to step 8. Otherwise, output the schedule 
                                                σ
                                             .
                                       
                                       
                                          
                                             Step 8. If 
                                                
                                                   
                                                      n
                                                      k
                                                   
                                                   <
                                                   c
                                                
                                              and 
                                                
                                                   S
                                                   −
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   <
                                                   θ
                                                   T
                                                   
                                                      (
                                                      
                                                         θ
                                                         ≥
                                                         1
                                                      
                                                      )
                                                   
                                                
                                             , then update 
                                                
                                                   
                                                      b
                                                      k
                                                   
                                                   =
                                                   
                                                      b
                                                      k
                                                   
                                                   ⋃
                                                   
                                                      {
                                                      
                                                         J
                                                         i
                                                      
                                                      }
                                                   
                                                
                                             , 
                                                
                                                   
                                                      n
                                                      k
                                                   
                                                   =
                                                   
                                                      n
                                                      k
                                                   
                                                   +
                                                   1
                                                
                                             , and 
                                                
                                                   S
                                                   =
                                                   S
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             , and go to step 7. Otherwise, go to step 9.
                                       
                                       
                                          
                                             Step 9. Update 
                                                
                                                   S
                                                   =
                                                   m
                                                   a
                                                   x
                                                   {
                                                   
                                                      S
                                                      ,
                                                      
                                                         S
                                                         
                                                            1
                                                            k
                                                         
                                                      
                                                      +
                                                      T
                                                   
                                                   }
                                                
                                             , 
                                                
                                                   σ
                                                   =
                                                   σ
                                                   ⋃
                                                   
                                                      b
                                                      k
                                                   
                                                
                                             , 
                                                
                                                   k
                                                   =
                                                   k
                                                   +
                                                   1
                                                
                                             , 
                                                
                                                   
                                                      S
                                                      
                                                         1
                                                         k
                                                      
                                                   
                                                   =
                                                   S
                                                
                                             , 
                                                
                                                   
                                                      b
                                                      k
                                                   
                                                   =
                                                   
                                                      {
                                                      
                                                         J
                                                         i
                                                      
                                                      }
                                                   
                                                
                                             , 
                                                
                                                   
                                                      n
                                                      k
                                                   
                                                   =
                                                   1
                                                
                                             , and 
                                                
                                                   S
                                                   =
                                                   S
                                                   (
                                                   
                                                      1
                                                      +
                                                      
                                                         a
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             . Go to step 7.
                                       
                                    
                                 
                              
                           
                        

In order to analyze the performance of the proposed heuristic, two lower bounds of the makespan are presented as follows.

Similar to the problem M → C|pi
                            = ait, s − batch, T, buffer|Cmax
                           , the first lower bound is obtained by assuming that there is no additional idle time on the manufacturer's serial batching machine. Then, the first lower bound is equal to the completion time of the last job at the customer's side, which is calculated as

                              
                                 
                                    
                                       L
                                       
                                          B
                                          1
                                       
                                       =
                                       
                                          C
                                          
                                             1
                                             m
                                          
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          ∏
                                          
                                             i
                                             =
                                             1
                                          
                                          n
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       .
                                    
                                 
                              
                           
                        

Similarly, with regards to the second lower bound, we assume that there is no idle time during the transportation stage since the vehicle starts to transport the first batch from the manufacturer to the customer. Thus, the second lower bound is equal to the completion time of the first batch on the manufacturer's machine plus the vehicle's total trip time, i.e.,

                              
                                 
                                    
                                       
                                          C
                                          11
                                       
                                       +
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                       
                                       ·
                                       T
                                       −
                                       
                                          T
                                          2
                                       
                                       .
                                    
                                 
                              
                           
                        

Since 
                              
                                 
                                    C
                                    11
                                 
                                 ≥
                                 
                                    t
                                    0
                                 
                                 
                                    (
                                    
                                       1
                                       +
                                       
                                          min
                                          
                                             i
                                             =
                                             1
                                             ,
                                             2
                                             ,
                                             …
                                             ,
                                             n
                                          
                                       
                                       
                                          {
                                          
                                             a
                                             i
                                          
                                          }
                                       
                                    
                                    )
                                 
                              
                           , it can be obtained that

                              
                                 
                                    
                                       L
                                       
                                          B
                                          2
                                       
                                       =
                                       
                                          t
                                          0
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                min
                                                
                                                   i
                                                   =
                                                   1
                                                   ,
                                                   2
                                                   ,
                                                   …
                                                   ,
                                                   n
                                                
                                             
                                             
                                                {
                                                
                                                   a
                                                   i
                                                
                                                }
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                       
                                       ·
                                       T
                                       −
                                       
                                          T
                                          2
                                       
                                       .
                                    
                                 
                              
                           
                        

In this way, two special situations according to above two lower bounds are considered as follows.

(1) Situation 1

In this situation, if n > 2c, then the case when the processing time of the second batch on the manufacturer's machine is smaller than the round trip time T is considered. Under the condition that the second batch has the possible longest processing time, we have the following lemmas.

                              Lemma 16
                              
                                 If n > 2c and the second batch has the possible longest processing time during the production stage, then n
                                 1 = n
                                 2 = c.
                              

The processing time for b
                                 2 is

                                    
                                       
                                          
                                             
                                                P
                                                2
                                             
                                             =
                                             
                                                t
                                                0
                                             
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                
                                                   n
                                                   1
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             ·
                                             
                                                [
                                                
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         
                                                            n
                                                            1
                                                         
                                                         +
                                                         1
                                                      
                                                      
                                                         n
                                                         2
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   −
                                                   1
                                                
                                                ]
                                             
                                             .
                                          
                                       
                                    
                                 
                              

If c > n
                                 1, then after transferring an arbitrary job Jj
                                  from bk
                                 ( k > 2) into b
                                 1, the updated processing time of b
                                 2 is

                                    
                                       
                                          
                                             
                                                P
                                                2
                                                ′
                                             
                                             =
                                             
                                                t
                                                0
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      j
                                                   
                                                
                                                )
                                             
                                             ·
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                
                                                   n
                                                   1
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             ·
                                             
                                                [
                                                
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         
                                                            n
                                                            1
                                                         
                                                         +
                                                         1
                                                      
                                                      
                                                         n
                                                         2
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   −
                                                   1
                                                
                                                ]
                                             
                                             .
                                          
                                       
                                    
                                 
                              

Then,

                                    
                                       
                                          
                                             
                                                P
                                                2
                                                ′
                                             
                                             −
                                             
                                                P
                                                2
                                             
                                             =
                                             
                                                t
                                                0
                                             
                                             
                                                a
                                                j
                                             
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                
                                                   n
                                                   1
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             ·
                                             
                                                [
                                                
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         
                                                            n
                                                            1
                                                         
                                                         +
                                                         1
                                                      
                                                      
                                                         n
                                                         2
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   −
                                                   1
                                                
                                                ]
                                             
                                             >
                                             0
                                             .
                                          
                                       
                                    
                                 
                              

Similar to the above situation, if c > n
                                 2, then it can be proved that after transferring an arbitrary job Jj
                                  from bk
                                 ( k > 2) into b
                                 2, the updated processing time of b
                                 2 is longer than the original one. Thus, n
                                 1 = n
                                 2 = c. □


                                 If n > 2c and the second batch has the possible longest processing time, then we have ay
                                  ≥ ax and ax
                                  ≥ az for three arbitrary jobs ax
                                  ∈ b
                                 1
                                 , ay
                                  ∈ b
                                 2
                                 , and az
                                  ∈ bk
                                 (k > 2).
                              

If ax
                                  > ay
                                 , then the processing time of b
                                 2 after swapping Jx
                                  and Jy
                                  is updated to

                                    
                                       
                                          
                                             
                                                
                                                   
                                                      P
                                                      2
                                                      ′
                                                   
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         t
                                                         0
                                                      
                                                      ·
                                                      
                                                         
                                                            1
                                                            +
                                                            
                                                               a
                                                               y
                                                            
                                                         
                                                         
                                                            1
                                                            +
                                                            
                                                               a
                                                               x
                                                            
                                                         
                                                      
                                                      ·
                                                      
                                                         ∏
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            1
                                                            +
                                                            
                                                               a
                                                               i
                                                            
                                                         
                                                         )
                                                      
                                                      ·
                                                      
                                                         [
                                                         
                                                            
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     x
                                                                  
                                                               
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     y
                                                                  
                                                               
                                                            
                                                            ·
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  c
                                                                  +
                                                                  1
                                                               
                                                               
                                                                  2
                                                                  c
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            −
                                                            1
                                                         
                                                         ]
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         t
                                                         0
                                                      
                                                      
                                                         ∏
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            1
                                                            +
                                                            
                                                               a
                                                               i
                                                            
                                                         
                                                         )
                                                      
                                                      ·
                                                      
                                                         [
                                                         
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  c
                                                                  +
                                                                  1
                                                               
                                                               
                                                                  2
                                                                  c
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            −
                                                            
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     y
                                                                  
                                                               
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     x
                                                                  
                                                               
                                                            
                                                         
                                                         ]
                                                      
                                                      .
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              

Then,

                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         P
                                                         2
                                                         ′
                                                      
                                                      −
                                                      
                                                         P
                                                         2
                                                      
                                                   
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         t
                                                         0
                                                      
                                                      
                                                         ∏
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            1
                                                            +
                                                            
                                                               a
                                                               i
                                                            
                                                         
                                                         )
                                                      
                                                      ·
                                                      
                                                         [
                                                         
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  c
                                                                  +
                                                                  1
                                                               
                                                               
                                                                  2
                                                                  c
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            −
                                                            
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     y
                                                                  
                                                               
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     x
                                                                  
                                                               
                                                            
                                                         
                                                         ]
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                
                                                
                                                   
                                                      −
                                                      
                                                      
                                                         t
                                                         0
                                                      
                                                      
                                                         ∏
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            1
                                                            +
                                                            
                                                               a
                                                               i
                                                            
                                                         
                                                         )
                                                      
                                                      ·
                                                      
                                                         [
                                                         
                                                            
                                                               ∏
                                                               
                                                                  i
                                                                  =
                                                                  c
                                                                  +
                                                                  1
                                                               
                                                               
                                                                  2
                                                                  c
                                                               
                                                            
                                                            
                                                               (
                                                               
                                                                  1
                                                                  +
                                                                  
                                                                     a
                                                                     i
                                                                  
                                                               
                                                               )
                                                            
                                                            −
                                                            1
                                                         
                                                         ]
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         t
                                                         0
                                                      
                                                      ·
                                                      
                                                         
                                                            
                                                               a
                                                               x
                                                            
                                                            −
                                                            
                                                               a
                                                               y
                                                            
                                                         
                                                         
                                                            1
                                                            +
                                                            
                                                               a
                                                               y
                                                            
                                                         
                                                      
                                                      ·
                                                      
                                                         ∏
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            1
                                                            +
                                                            
                                                               a
                                                               i
                                                            
                                                         
                                                         )
                                                      
                                                      >
                                                      0
                                                      .
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              

Similar to the above situation, if az
                                  > ax
                                 , then it can be proved that after swapping Jx
                                  and Jz
                                 , the updated processing time of b
                                 2 is longer than the original one.

Thus, the proof is completed. □

Combining the above Lemmas 16 and 17, it is easy to obtain the following lemma.

                              Lemma 18
                              
                                 If n > 2c and the jobs are indexed in the non-increasing order of ai such that a
                                 1 ≥ a
                                 2 ≥ ⋅⋅⋅ ≥ an, then the possible longest processing time of the second batch is
                                 
                                    
                                       
                                          
                                             
                                                P
                                                2
                                                
                                                   m
                                                   a
                                                   x
                                                
                                             
                                             =
                                             
                                                t
                                                0
                                             
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   c
                                                   +
                                                   1
                                                
                                                
                                                   2
                                                   c
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             
                                                [
                                                
                                                   
                                                      ∏
                                                      
                                                         i
                                                         =
                                                         1
                                                      
                                                      c
                                                   
                                                   
                                                      (
                                                      
                                                         1
                                                         +
                                                         
                                                            a
                                                            i
                                                         
                                                      
                                                      )
                                                   
                                                   −
                                                   1
                                                
                                                ]
                                             
                                             .
                                          
                                       
                                    
                                 
                              

If n > 2c and 
                              
                                 
                                    P
                                    2
                                    
                                       m
                                       a
                                       x
                                    
                                 
                                 <
                                 T
                              
                           , then there should be idle time for b
                           2 to wait for the vehicle. Another lower bound can be updated from LB
                           1 as

                              
                                 
                                    
                                       L
                                       
                                          B
                                          3
                                       
                                       =
                                       
                                          ∏
                                          
                                             i
                                             =
                                             2
                                             c
                                             +
                                             1
                                          
                                          n
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       
                                          [
                                          
                                             
                                                t
                                                0
                                             
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   c
                                                   +
                                                   1
                                                
                                                
                                                   2
                                                   c
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             +
                                             T
                                          
                                          ]
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       .
                                    
                                 
                              
                           
                        

(2) Situation 2

All jobs are indexed in the non-decreasing order of ai
                            such that a
                           1 ≤ a
                           2 ≤ ⋅⋅⋅ ≤ an
                           . For the second lower bound, we consider the situation when the processing time of an arbitrary job is longer than the round trip time T from time t, i.e., t(1 + af
                           ) − t ≥ T. In this situation there are still (n − f + 1) unscheduled jobs at time t, and 1 ≤ f ≤ n. Then, there should be no idle time for the remaining jobs on the manufacturer's machine. Another lower bound is updated from LB
                           2 as

                              
                                 
                                    
                                       L
                                       
                                          B
                                          4
                                       
                                       =
                                       
                                          [
                                          
                                             
                                                t
                                                0
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      1
                                                   
                                                
                                                )
                                             
                                             +
                                             T
                                             ·
                                             m
                                             a
                                             x
                                             
                                                {
                                                
                                                   
                                                      ⌊
                                                      
                                                         f
                                                         c
                                                      
                                                      ⌋
                                                   
                                                   −
                                                   1
                                                   ,
                                                   0
                                                
                                                }
                                             
                                          
                                          ]
                                       
                                       ·
                                       
                                          ∏
                                          
                                             i
                                             =
                                             m
                                             a
                                             x
                                             
                                                {
                                                
                                                   f
                                                   ,
                                                   2
                                                
                                                }
                                             
                                          
                                          n
                                       
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                i
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       .
                                    
                                 
                              
                           
                        

Consequently, the overall lower bound can be shown as follows:

                              
                                 
                                    
                                       L
                                       B
                                       =
                                       
                                          {
                                          
                                             
                                                
                                                   
                                                      m
                                                      a
                                                      x
                                                      {
                                                      
                                                         L
                                                         
                                                            B
                                                            1
                                                         
                                                         ,
                                                         L
                                                         
                                                            B
                                                            2
                                                         
                                                      
                                                      }
                                                      ,
                                                      unsatisfying
                                                      
                                                      situations
                                                      
                                                      1
                                                      
                                                      and
                                                      
                                                      2
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      m
                                                      a
                                                      x
                                                      {
                                                      
                                                         L
                                                         
                                                            B
                                                            2
                                                         
                                                         ,
                                                         L
                                                         
                                                            B
                                                            3
                                                         
                                                      
                                                      }
                                                      ,
                                                      satisfying
                                                      
                                                      situation
                                                      
                                                      1
                                                      
                                                      and
                                                      
                                                      unsatisfying
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                      situation
                                                      
                                                      2
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      m
                                                      a
                                                      x
                                                      {
                                                      
                                                         L
                                                         
                                                            B
                                                            1
                                                         
                                                         ,
                                                         L
                                                         
                                                            B
                                                            4
                                                         
                                                      
                                                      }
                                                      ,
                                                      satisfying
                                                      
                                                      situation
                                                      
                                                      2
                                                      
                                                      and
                                                      
                                                      unsatisfying
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                      situation
                                                      
                                                      1
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      m
                                                      a
                                                      x
                                                      
                                                         {
                                                         
                                                            L
                                                            
                                                               B
                                                               3
                                                            
                                                            ,
                                                            L
                                                            
                                                               B
                                                               4
                                                            
                                                         
                                                         }
                                                      
                                                      ,
                                                      satisfying
                                                      
                                                      situations
                                                      
                                                      1
                                                      
                                                      and
                                                      
                                                      2
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Two special cases are discussed in this section. All jobs are first indexed in the non-decreasing order of ai
                        . Then, two special cases are under the assumptions that 
                           
                              
                                 t
                                 0
                              
                              
                                 ∏
                                 
                                    i
                                    =
                                    1
                                 
                                 n
                              
                              
                                 (
                                 
                                    1
                                    +
                                    
                                       a
                                       i
                                    
                                 
                                 )
                              
                              −
                              
                                 t
                                 0
                              
                              
                                 (
                                 
                                    1
                                    +
                                    
                                       a
                                       i
                                    
                                 
                                 )
                              
                              ≤
                              T
                           
                         (denoted as special case 1) and t
                        0
                        a
                        1 ≥ T (denoted as special case 2), respectively.

In this special case, we have the following lemmas.

                              Lemma 19
                              
                                 For special case 1, if n > c, then the optimal schedule satisfies the property that the deteriorating rates of the jobs in the first batch are no larger than those in other batches.
                              

Assuming there exist two arbitrary jobs Jx
                                  ∈ b
                                 1 and Jy
                                  ∈ bk
                                 (2 ≤ k ≤ m) in an optimal schedule satisfying ax
                                  > ay
                                 , then after swapping Jx
                                  and Jy
                                 , the makespan is updated to

                                    
                                       
                                          
                                             
                                                C
                                                
                                                   m
                                                   a
                                                   x
                                                
                                                ′
                                             
                                             =
                                             
                                                t
                                                0
                                             
                                             ·
                                             
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      y
                                                   
                                                
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      x
                                                   
                                                
                                             
                                             ·
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                
                                                   n
                                                   1
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             +
                                             
                                                (
                                                
                                                   m
                                                   −
                                                   
                                                      1
                                                      2
                                                   
                                                
                                                )
                                             
                                             T
                                             .
                                          
                                       
                                    
                                 
                              

Then,

                                    
                                       
                                          
                                             
                                                C
                                                
                                                   m
                                                   a
                                                   x
                                                
                                                *
                                             
                                             −
                                             
                                                C
                                                
                                                   m
                                                   a
                                                   x
                                                
                                                ′
                                             
                                             =
                                             
                                                t
                                                0
                                             
                                             ·
                                             
                                                
                                                   
                                                      a
                                                      x
                                                   
                                                   −
                                                   
                                                      a
                                                      y
                                                   
                                                
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      x
                                                   
                                                
                                             
                                             ·
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                
                                                   n
                                                   1
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             >
                                             0
                                             ,
                                          
                                       
                                    
                                 
                              

which contradicts with the property of the optimal schedule. Thus, the optimal schedule should satisfy ax
                                  ≤ ay
                                 . □

Similar to Lemma 7, the following lemma can be obtained.

                              Lemma 20
                              
                                 For special case 1, if n > c, then the optimal schedule satisfies the property that the first batch contains
                                 
                                    
                                       [
                                       
                                          n
                                          −
                                          (
                                          
                                             ⌈
                                             
                                                n
                                                c
                                             
                                             ⌉
                                             −
                                             1
                                          
                                          )
                                          c
                                       
                                       ]
                                    
                                  
                                 jobs and the next
                                 
                                    
                                       (
                                       
                                          ⌈
                                          
                                             n
                                             c
                                          
                                          ⌉
                                          −
                                          1
                                       
                                       )
                                    
                                  
                                 batches are full of jobs.
                              

Based on Lemmas 19 and 20, it is easy to obtain the following theorem.

                              Theorem 2
                              Algorithm 1 generates an optimal solution for special case 1, and the optimal makespan is
                              


                           
                              Lemma 21
                              
                                 For special case 2, the optimal schedule satisfies the property that the jobs can be sequenced in any order.
                              

The result can be obtained by interchanging two adjacent jobs in an arbitrary batch or two random jobs in two different batches. □


                                 For special case 2, the optimal schedule is independent of the patterns of job batching.
                              

We consider the following two situations in an optimal schedule:

(1) Assuming there exists a batch bk
                                 , satisfying nk
                                  ≥ 2 and Jx
                                  ∈ bk
                                 :

We remove Jx
                                  from bk
                                  as a new single batch, and this new batch is processed after bk
                                  on the machine. The updated completion time of bk
                                  in the production stage is

                                    
                                       
                                          
                                             
                                                C
                                                
                                                   1
                                                   k
                                                
                                                ′
                                             
                                             =
                                             
                                                S
                                                
                                                   1
                                                   k
                                                
                                             
                                             ·
                                             
                                                1
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      x
                                                   
                                                
                                             
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   1
                                                   +
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      
                                                         k
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      n
                                                      j
                                                   
                                                
                                                
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      k
                                                   
                                                   
                                                      n
                                                      j
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             .
                                          
                                       
                                    
                                 
                              

Since 
                                    
                                       
                                          C
                                          
                                             1
                                             k
                                          
                                          ′
                                       
                                       ≥
                                       
                                          S
                                          
                                             1
                                             k
                                          
                                       
                                       +
                                       T
                                    
                                 , the completion time of bk
                                  in the transportation stage is

                                    
                                       
                                          
                                             
                                                C
                                                
                                                   2
                                                   k
                                                
                                                ′
                                             
                                             =
                                             
                                                S
                                                
                                                   1
                                                   k
                                                
                                             
                                             ·
                                             
                                                1
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      x
                                                   
                                                
                                             
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   1
                                                   +
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      
                                                         k
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      n
                                                      j
                                                   
                                                
                                                
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      k
                                                   
                                                   
                                                      n
                                                      j
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             +
                                             
                                                T
                                                2
                                             
                                             .
                                          
                                       
                                    
                                 
                              


The completion time of the new batch {Jx
                                 } in the production stage is 
                                    
                                       
                                          C
                                          
                                             1
                                             k
                                          
                                          ′
                                       
                                       ·
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                x
                                             
                                          
                                          )
                                       
                                    
                                 , and we have 
                                    
                                       
                                          C
                                          
                                             1
                                             k
                                          
                                          ′
                                       
                                       ·
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                x
                                             
                                          
                                          )
                                       
                                       ≥
                                       
                                          C
                                          
                                             2
                                             k
                                          
                                          ′
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                    
                                 . The completion time of the new batch {Jx
                                 } in the transportation stage is 
                                    
                                       
                                          C
                                          
                                             1
                                             k
                                          
                                          ′
                                       
                                       ·
                                       
                                          (
                                          
                                             1
                                             +
                                             
                                                a
                                                x
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          2
                                       
                                       =
                                       
                                          C
                                          
                                             2
                                             k
                                          
                                       
                                    
                                 . Then the completion times of b
                                 
                                    k + 1 in the production stage and the transportation stage remain unchanged. Thus, the new schedule remains optimal.

(2) Assuming there exist two adjacent batches bk
                                  and b
                                 
                                    k + 1, satisfying nk
                                  < c or n
                                 
                                    k + 1 < c:

Similar to the above situation 1, the updated schedules remain optimal after transferring no more than (c − n
                                 
                                    k + 1) arbitrary jobs from bk
                                  into b
                                 
                                    k + 1 or (c − nk
                                 ) arbitrary jobs from b
                                 
                                    k + 1 into bk
                                 .

Combining two situations, the proof is completed. □

Based on the above lemmas in this subsection, the following algorithm is proposed to solve special case 2.

                              
                                 
                                    Algorithm 2
                                 
                                 
                                    
                                    
                                       
                                          
                                             Algorithm 2
                                          
                                       
                                    
                                    
                                       
                                          
                                             Step 1. Index the jobs in the adjacent order of 
                                                
                                                   a
                                                   i
                                                
                                              and obtain a job list.
                                       
                                       
                                          
                                             Step 2. Place the first random 
                                                
                                                   x
                                                   
                                                      (
                                                      
                                                         x
                                                         ≤
                                                         c
                                                      
                                                      )
                                                   
                                                
                                              jobs in a batch and iterate until there are no unscheduled jobs left in the job list.
                                       
                                       
                                          
                                             Step 3. Schedule the batch(es) in their generation order at time 
                                                
                                                   t
                                                   0
                                                
                                             .
                                       
                                    
                                 
                              
                           
                        

From Lemmas 21 and 22, we can easily obtain the following theorem.

                              Theorem 3
                              
                                 
                                    Algorithm 2
                                  
                                 generates an optimal solution for special case 2, and the optimal makespan is
                                 
                                    
                                       
                                          
                                             
                                                t
                                                0
                                             
                                             
                                                ∏
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                n
                                             
                                             
                                                (
                                                
                                                   1
                                                   +
                                                   
                                                      a
                                                      i
                                                   
                                                
                                                )
                                             
                                             +
                                             
                                                T
                                                2
                                             
                                             .
                                          
                                       
                                    
                                 
                              

In this section, computational experiments were carried out to evaluate the performance of the proposed heuristic. All the algorithms were coded in PowerBuilder 9.0 language and their code was run on a Pentium(R)-4, 300 MHz PC with 2GB of RAM.

Five experimental parameters were considered: the number of jobs (n), the capacity of the batching machine and the vehicle (c), the deteriorating rate of the job processing time on the manufacturer's serial batching machine (ai
                        ), starting time of processing jobs during the production stage (t0
                        ), and round trip time between the manufacturer and customer (T). Specifically, different levels of job numbers and the capacity of the machine and the vehicle are considered. Both small-size and large-size random instances were generated, and two levels of the capacity with c ∈ U[10, 15] and c ∈ U[15, 20] were tested. Based on the
                        
                         actual production data and the production staffs’ experiences, the deteriorating rates of the job processing times follow a uniform distribution between 0 and 10 percent, which is similar to the situation to that of the problem investigated by Ruiz-Torres, Paletta, and Pérez (2013). Thus, the deteriorating rates of the job processing times on the manufacturer's serial batching machine were generated from U(0, 0.1]. Other parameters were generated based on the real production data of an aluminum company in China. The parameter values are described in Table 2.

For effectiveness evaluation, the solutions reported by the proposed heuristic H are compared with those of two previous approaches from the literature, namely algorithms FBLDR and SBPT-FOE (n, c) proposed by Li et al. (2011) and Tang and Liu (2009), respectively. Two new algorithms were developed by revising step 1 of algorithm FBLDR to index the jobs in non-decreasing order of deteriorating rate such that a
                        1 ≤ a
                        2 ≤ ⋅⋅⋅ ≤ an
                        , and revising algorithm SBPT-FOE(n, c) to sequence the jobs in the non-increasing order of deteriorating rate such that a
                        1 ≥ a
                        2 ≥ ⋅⋅⋅ ≥ an
                        . These two algorithms are denoted as algorithms FBSDR and LBPT-FOE(n, c), which are also compared with the proposed heuristic H.

We next analyze the performance of five approaches in terms of the relative gap between the makespan reported by each approach and the lower bound derived in Section 4.2.2. The relative gap percentage (Gap
                           A
                        ) between the approach A and the lower bound (LB) is computed as Eq. (15).

                           
                              (15)
                              
                                 
                                    Ga
                                    
                                       p
                                       A
                                    
                                    =
                                    
                                       
                                          
                                             C
                                             
                                                m
                                                a
                                                x
                                             
                                             A
                                          
                                          −
                                          LB
                                       
                                       LB
                                    
                                 
                              
                           
                        
                     

The performance of our proposed heuristic is sensitive to the value of the parameter θ (θ ≥ 1) for small-size instances, which was initially set to 1, 2, 3, 4, 5, 6, 7, 8, 9, and 10, respectively. It is worthwhile to note that heuristic H can obtain a solution within 2 seconds for each instance, even for the large-size instance with up to 400 jobs, which indicates that the procedure is subject to low computational burden to run the heuristic approach with different parameter values. The best solution, obtained by using one of these parameter values, was selected as the final solution to the problem.

In order to analyze the impact of the factors on the performance of the obtained solution, a factorial experiment including two factors was designed. These two factors characterize the number of jobs (i.e., n) and the capacity of the machine and vehicle (i.e., c). Each treatment for the combination (n, c) was replicated ten times, and both average and maximum relative gaps were reported.

                           
                              (1)
                              Analysis of results for c ∈ U[10, 15]


                        Table 3 compares the effect of problem size on the average and maximum relative gap percentages for the small-size problems when c ∈ U[10, 15]. The average relative gap percentage of heuristic H ranges from 0.0006 to 0.1337, and its maximum relative gap percentage ranges from approximately 0.0007 to 0.2015. In this case, heuristic H performed better than FBLDR, FBSDR, SBPT-FOE(n, c), and LBPT-FOE(n, c). LBPT-FOE(n, c) obtained better solutions than FBLDR, FBSDR, and SBPT-FOE(n, c) when n = 30
 and 35, while FBLDR performed better than FBSDR, SBPT-FOE(n, c), and LBPT-FOE(n, c) when n ≥ 40
. For the 45-job problem instance, FBLDR, FBSDR, SBPT-FOE(n, c), and LBPT-FOE(n, c) reported average relative gap percentages of 0.0011, 0.3762, 0.8320, and 0.0014, respectively. However, heuristic H reported an average relative gap percentage of only 0.0006.


                        Table 4 displays the similar effect for the large-size problems when c ∈ U[10, 15]. It is clear that the average and maximum relative gap percentages of heuristic H decrease with the number of jobs increasing when n ≤ 220. Both gaps range from 0.0001 to 0.0224, and 0.0002 to 0.0407. Both of them are smaller than 0.0001 when n > 220, which means that the solutions generated by heuristic H are very close to the optimal schedules. The performance of heuristic H is also more effective than that of the other four approaches. Moreover, the performance of FBLDR is better than those of FBSDR, SBPT-FOE(n, c), and LBPT-FOE(n, c) for each problem instance. For the 400-job problem instance, FBLDR, FBSDR, SBPT-FOE(n, c), and LBPT-FOE(n, c) reported average relative gap percentages of 0.0002, 20.3924, 22.4252, and 0.5890, respectively. However, the average relative gap percentage of heuristic H is smaller than 0.0001.

                           
                              (2)
                              Analysis of results for c ∈ U[15, 20]


                        Table 5
                        
                         shows the performance comparison among five different approaches in terms of average and maximum relative gap percentages for the small-size problems when c ∈ U[15, 20]. The average relative gap percentage of heuristic H ranges from 0.0006 to 0.1451, and its maximum relative gap percentage ranges from 0.0014 to 0.2736, respectively. Heuristic H performed better than FBLDR, FBSDR, SBPT-FOE(n, c), and LBPT-FOE(n, c). LBPT-FOE(n, c) performed better than FBLDR, FBSDR, and SBPT-FOE(n, c) when n = 30, 40, and 45, while FBLDR outperformed FBSDR, SBPT-FOE(n, c), and LBPT-FOE(n, c) when n = 35 and n ≥ 50. For the 40-job problem instance, FBLDR, FBSDR, SBPT-FOE(n, c), and LBPT-FOE(n, c) reported average relative gap percentages of 0.0030, 0.0011, 0.4077, and 0.0014, respectively. However, heuristic H reported an average gap percentage of only 0.0008.

In Table 6, we compare five different approaches on the average and maximum gap percentages for the large-size problems when c ∈ U[15, 20]. The results indicate that the average and maximum relative gap percentages of heuristic H decrease with the number of jobs increasing when n ≤ 220. The average relative gap percentage ranges from 0.0004 to 0.0350, and the maximum relative gap percentage ranges from 0.0015 to 0.0720 when n ≤ $240. Moreover, both of them are smaller than 0.0001 when n ≥ 260. Compared with heuristic H, the other four approaches performed poorly. FBLDR obtained better solutions than FBSDR, SBPT-FOE(n, c), and LBPT-FOE(n, c) for each problem instance. For the 400-job problem instance, FBLDR, FBSDR, SBPT-FOE(n, c), and LBPT-FOE(n, c) reported average relative gap percentages of 0.0008, 34.0734, 37.2489, and 0.6739, respectively. However, the average gap percentage of heuristic H is only smaller than 0.0001.

In conclusion, the proposed heuristic H outperformed the other four approaches both on the small-size and large-size problem instances. With respect to large-size problem instances, for c ∈ U[10, 15], the average and maximum relative gap percentages are less than 0.01 when n ≥ 160, and both of them are less than 0.0001 when n ≥ 240. For c ∈ U[15, 20], the average and maximum relative gap percentages are below 0.01 when n ≥ 180, and they are less than 0.0001 when n ≥ 260, which is also nearly 0. It implies that the performance of heuristic H has great effectiveness for large-size problems.

@&#CONCLUSION@&#

In this study, integrated production and transportation scheduling problems in a two-stage supply chain are investigated. During the production stage all jobs are processed on a manufacturer's serial batching machine, and the deterioration effect of job processing times is considered. Afterwards the processed jobs are delivered to the customer during the transportation stage. Two different scenarios of the scheduling problems are considered, and both of them are formulated as mixed integer programming models. For the first scenario in which there is a buffer at the manufacturer's site, we develop an optimal algorithm to solve the problem of minimizing the makespan. For the second scenario in which there is no buffer at the manufacturer's site, some useful properties are proved, based on which a heuristic H is developed to solve this problem. A novel lower bound is derived, and the optimal algorithms are provided for two special cases. We conducted computational experiments to verify the effectiveness of the proposed heuristic H by measuring relative gap percentages. The computational results indicate that the proposed heuristic outperforms the other four approaches in all test instances, and it is also very effective and efficient when it is applied to the large-size problem instances.

There are several possible research directions remaining to be studied. Further research can be conducted to explore the case of multiple manufacturers in the production stage to adapt the model to different situations. It is also interesting for future research to investigate the space and cost of the buffer in some special production environments. Moreover, it is important to discuss other objective functions to reflect more practical applications, such as minimizing maximum lateness and minimizing the sum of the completion times.

@&#ACKNOWLEDGMENTS@&#

We are grateful to the editor and the anonymous reviewers for their helpful suggestions on an earlier version of this paper. This research work is supported by the National Natural Science Foundation of China (Nos. 71231004, 71171071, and 71131002). Panos M. Pardalos is partially supported by LATNA laboratory, NRU HSE, RF government grant, ag. 11.G34.31.0057.

