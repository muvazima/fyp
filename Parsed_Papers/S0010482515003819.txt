@&#MAIN-TITLE@&#Multimodal hybrid reasoning methodology for personalized wellbeing services

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Studying personalized wellbeing services and enabling development of technology supported strategies.


                        
                        
                           
                           Integrating reasoning methodologies to support development of multimodal hybrid reasoning models.


                        
                        
                           
                           Utilizing explicit and implicit knowledge from guidelines and expert׳s past experiences to enhance personalization.


                        
                        
                           
                           Integrating rule-based, case-based and preference-based reasoning linearly for precise and personalized recommendations.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Multimodal reasoning

Hybrid reasoning

Case-based reasoning (CBR)

Hybrid-CBR

Rule-based reasoning (RBR)

Preference-based reasoning (PBR)

Physical activity recommendation

Wellness services

@&#ABSTRACT@&#


               Graphical abstract
               
                  
                     
                        
                           fx1
                           
                        
                     
                  
               
            

@&#INTRODUCTION@&#

An individual׳s healthy lifestyle impacts the overall health of a population and results in a healthier society [1]. Without a healthy lifestyle, i.e., proper diet, exercise, and controlled body mass index, individuals are prone to various diseases [2] that include lifestyle as an important cofactor [3]. Adopting physical activity is one of the key responses of individuals that helps in promoting a healthier lifestyle [4]. Similarly, wellness guidelines and automatic wellness recommendation systems play roles in public health promotion. These systems provide support for wellness experts in recommending the appropriate physical activity to individuals according to their personal requirements [5]. A healthier lifestyle involves a balanced combination of physical activity, mental behavior, and social interaction with other community members [6–8]. In this study, we focus on the physical activity aspect of a healthier lifestyle. We also focus on the development of a physical activity recommendation system to motivate users to keep their life active by involving themselves in various types of physical activities. Traditional physical activity recommendation systems provide general guidelines in the form of recommendations, which do not provide user-centric recommendations. To fulfill the personal needs of different users, a personalized physical activity recommendation system is required.

We illustrate the concept of personalized physical activity recommendation using an example in which an overweight, 30-year-old person affected with asthma is interested in personalized physical activity recommendation. The goal is to recommend an appropriate physical activity to this person according to his health needs as well as personal interests. If the recommended activity reflects his requirements, then it will be accepted; otherwise, it will be rejected. Existing physical activity recommendations, proposed by CDC 
                     [9], WHO 
                     [10], AHA 
                     [7], among others, recommend general physical activity for the whole community of users. These recommendations are abstract and exploit limited personal information of the users. An example of the CDC recommendations is shown in 
                     Fig. 1.


                     Fig. 1 shows that gender, age and health conditions are taken into consideration while suggesting options of physical activities. The following important questions arise:
                        
                           A.
                           Are the suggested recommendations appropriate for the person considered in the example?

Are the provided recommendations based on the user personal information (e.g., BMI), health, physical activities routines and preference list?

The answers to these questions are ‘no’, which mean that the system provides general guidelines and the user has to look into his personal information, daily routines, and preferences and choose appropriate physical activity for himself. Generally, this should not be the case and the recommendations shall reflect the person׳s specific needs. The system needs to be intelligent enough to first reason on the user personal profile information and calculate the user׳s weight status, target weight (goal status), and plan to achieve the goal. Based on these assessments, appropriate physical activity should be recommended according to the user current and past routines of activities and preference list.

To achieve the above stated goal, we are working on a personalized wellness platform called Mining Minds
                        1
                     
                     
                        1
                        
                           http://www.miningminds.re.kr/
                        
                      
                     [11] (see Section 3). Mining Minds is a collection of services, tools, and techniques for collaboratively investigating and analyzing the user׳s personal profile and daily routines for providing personalized wellbeing services. These services are generated by executing knowledge rules using the Mining Minds (MM) reasoning engine. This study focuses on the reasoning methodology adopted by the reasoning engine to generate daily physical activity recommendations. A multimodal hybrid reasoning methodology (HRM) is proposed, which plays an important role in interpreting the user׳s profile, physical activity routines, and personal preferences for generating personalized physical activity recommendations. HRM integrates the rule-based reasoning (RBR), case-based reasoning (CBR), and preference-based reasoning (PBR) methodologies for enabling the reasoning engine to personalize the recommendations. RBR of the proposed HRM exploits domain knowledge rules extracted from guidelines, CBR exploits implicit knowledge obtained from experts׳ past experience (successful cases), and PBR exploits users׳ personal preferences and interests to ensure accurate and personalized recommendations. The key ideas of HRM include the following: (i) exploitation of the diverse knowledge sources for personalized wellbeing recommendations using the integration of multiple reasoning methodologies, such as RBR, CBR and PBR in a linear combination to form HRM, (ii) reducing the bottlenecks of traditional single reasoning methodologies, which exploit only single knowledge sources for generating a single service at a time and (iii) enabling the generation of specific, relevant and personalized physical activity recommendations according to the user׳s specific requirements.

To validate the proposed HRM, a weight management scenario is considered, and a set of experiments are performed. The use of HRM for weight management is an innovative idea that guarantees specific and precise personalized physical activity recommendations. It is important to mention that our prescription of physical activities only focuses on healthy adults and not on people with disabilities, women who are pregnant and people who have medical complications.

The rest of the paper is structured as follows. Previous research is summarized in Section 2. In Section 3, an overview of the MM platform is provided. In Section 4, the proposed HRM is discussed from architectural, knowledge acquisition and reasoning perspectives. In Section 5, the experiments are performed, and the system is evaluated based on a weight management scenario. In Section 6, a discussion on the methodological aspects of the paper, different challenges faced and limitations of the approach is provided. Section 7 concludes the work performed and outlines some possible future extensions. Section 8 acknowledges the contributors and financial sponsors.

@&#RELATED WORK@&#

Human experts are limited in number and expensive in terms of healthcare and wellness services provided. Healthcare decision support systems play effective roles in overcoming the shortage of human experts and improving quality of life with better services [12]. Decision support systems rely on automatic reasoning methodology for their decisions. Most of these systems are based on a single methodology for reasoning, such as CBR or RBR 
                     [13], among others. Nevertheless, a few use multiple reasoning approaches with a certain integration strategy. The integration of multiple reasoning methodologies in a single system has attracted increased attention in the research community due to the improved performance with respect to accuracy. The analogy of integration of reasoning methodologies is adopted from the decisions made by domain experts, who rely on multiple knowledge sources rather than a single source. Domain experts use information from general guidelines, clinical trials, and past successful cases to arrive at a final decision. In automatic reasoning systems, the concept of multimodal reasoning methodology evolved from the use of heterogeneous knowledge sources to generate the final decision [13]. The knowledge source, such as guidelines and past successful cases are modeled as knowledge rules and case bases that require RBR and CBR for their executions.

The integration of reasoning approaches can follow any set of strategies, such as RBR followed by CBR, CBR followed by RBR and RBR and CBR in parallel [13,14]. In the first strategy, RBR is used as the main methodology for making the decision. If RBR fails, CBR is used [15]. In the second strategy, CBR is used for the master reasoning process and RBR is used to refine the decision [16]. An example of this strategy is reasoning system for diabetes management [17]. The CBR refines the rules for the final outcome, specific to the patient׳s requirements. In other combinations, CBR and RBR are used in parallel, where either both outcomes are simply displayed or the best one is displayed based on some criteria. An example of parallel integration is the WHAT system [18,19], which is used for training beginning sports medicine students to design exercise regimens for patients with cardiac or pulmonary disorders. The regimens are produced by RBR and CBR in parallel and presented to the experts for choosing the best one. Other methodologies exist that closely cooperate with each other for generating final decisions [20,21]. Apart from RBR and CBR, filtration-based approaches, such as content-based filtration [22] and collaborative filtration [23,24] are also popular in the area of recommender systems for online shopping, product selection, and healthcare services. Preference-based recommender systems are used in e-applications such as e-commerce to offer alternative or cross-selling products to customers [25].

In the healthcare domain, hybrid reasoning approaches have been frequently used. In treatment planning for adolescent early intervention, hybrid CBR that uses RBR and fuzzy theory has been implemented [26]. For supporting physicians for the management of diabetes mellitus, integration of CBR, RBR and model-based reasoning (MBR)[27] and web-based CBR 
                     [28] has been proposed. For cancer decision support services, CBR has been integrated with RBR. The CBR part is used to adapt the production rules for decision making [21]. A recent study [29] integrates rough set theory and correlation analysis in a hybrid model, called H2RM, that predicts the diabetes type and manages patient observations for future trend analyses. Other similar studies can be found that focus on heart disease [12] and oncology [13], among others.

In the wellness field, the knowledge acquisition and reasoning engine (KARE) [5] is used in activity awareness for human-engaged wellness applications (ATHENA) [6] to promote active lifestyles. KARE uses the hybrid reasoning methodology by integrating the Random Forest, Naïve Bayes, and IB1 approaches. KARE generates food, physical activity, and music therapy recommendations for ATHENA users. For the elderly, an intelligent personalized exercise recommendations system is proposed [30] that utilizes the user׳s health status, goals and preference information. Similarly, a hybrid CBR/RBR approach has successfully been used for designing nutritional menus [31].

All of these methodologies have the common basis of being used in an exclusive manner. They do not guarantee a minimization of the shortcomings of RBR and CBR, which are discussed as follows:
                        
                           •
                           Conventional RBR systems lack the capability of specializing recommendations for individuals. In general, to deal with specific requirements of users and provide user-centric specialized recommendations, it is necessary to gradually increase the number of rules in the knowledge base. This approach not only results in knowledge base intractability problem, but also causes maintenance and combinatorial explosion issues [32].

Standard CBR systems provide solutions for new problems using a large and unbiased case base as implicit knowledge. However, the requirement of a large case base is a difficult task and associated with a number of other issues, such as physical storage, proper indexing and computational complexities [33]. The preparation of the query cases to feed the CBR cycle for generating physical activity recommendations is a challenging task.

There have been significant improvements in the integration of these methodologies in hybrid systems [34]; however, a number of challenging issues still need to be resolved for applying integration in the wellness domain.

The proposed HRM mitigates these problems by integrating RBR, CBR, and PBR in a sequential manner that exploits guideline rules, past successful experience cases and the personal preferences of users to enable personalization of recommendations.

Advancement in technology greatly impacts the means of service provisioning to the community by employing innovative and state-of-the-art techniques. This includes handling real-time data streaming by utilizing a big data infrastructure with cloud data storage and processing abilities. Our indigenously developed MM platform [11,35] provides a comprehensive picture of the usage of these technologies for monitoring users and collecting information that can facilitate the use of healthcare applications on a global scale. An abstract design view of the MM healthcare platform is shown in 
                     Fig. 2.

The overall MM platform is divided into four layers: data curation layer (DCL), information curation layer (ICL), service curation layer (SCL) and supporting layer (SL). The DCL is responsible for curating the data. It consists of different modules for data streaming and communication, data representation and mapping and big data storage in a Hadoop Distributed File System (HDFS). HDFS addresses the volume, velocity and variety aspects of raw sensory data acquired using mobile sensors. The accelerometer raw data for low-level activities (i.e., sitting, standing, moving in a bus, moving in a subway, walking, running, and cycling) are transferred to the DCL virtual machine, which is transformed to have a structured format and stored in a relational data model on the DCL server machine. The mobile device used in this case works as a gateway to connect to the DCL cloud server over the Internet. The stored data are fed to the ICL for activity recognition that leads to context formulation and behavior analysis of the users׳ daily activities. The information is stored back in the HDFS logs of the DCL. The processed activities, context, behavior information, and personal profile information are utilized by the SCL for reasoning and providing personalized physical activity recommendations. In SCL, knowledge bases are created by domain experts based on the online guidelines and experts׳ past experiences. This enables the process of provisioning personalized recommendations to users based on their needs, preferences, and interests. SL facilitates other layers by providing security, privacy, visualization and user interfaces. The user׳s personal profile information is collected using a mobile application and stored on the DCL server in a relational data model.

A multimodal hybrid reasoner is a key component of MM and plays the role of an intelligent service provisioning agent. It performs execution on the server side of the SCL and enables personalization of physical activity recommendations by integrating data and knowledge from diverse sources. The focus of this paper is on the reasoning methodology and its usefulness in MM for generating personalized physical activity recommendations.

For building an intelligent physical activity recommendation system, we moved beyond the traditional single reasoning methodology systems to a multiple reasoning methodology system. Our work integrates RBR and CBR with PBR into a single methodology called multimodal hybrid reasoning methodology (HRM). HRM forms the basis of multimodal hybrid reasoner for the MM platform, which is the focus of this study. In HRM, these methodologies can be integrated in any of the following design strategies, shown in 
                     Fig. 3.

In Fig. 3(a–c), the sequence of the design strategy of baseline-RBR is as follows: level-1 RBR is followed by level-2 RBR, which is followed by level-3 RBR and PBR. The design strategy of the modified-RBR follows the same strategy as the baseline-RBR, except for the ranged-METs
                     
                        2
                     
                     
                        2
                        A metabolic equivalent, or METs, is a unit used to describe the energy expenditure of a specific physical activity. A METs is the ratio of the rate of energy expended during an activity to the rate of energy expended at rest (2008 Physical Activity Guidelines for Americans).
                      rules, which are used at the level-3 RBR. The strategy of hybrid-CBR differs from those of the first two strategies at level-3, where CBR is used instead of RBR. In our study, we use the first strategy for building a baseline system to compare the results of the other strategies. The second strategy is the improved version of strategy 1, which is implemented in MM system (v1.0) but has its own limitations. To eradicate the shortcomings of the first two strategies, the third strategy of hybrid-CBR is used, which integrates RBR, CBR, and PBR. This strategy is experimented and realized outside the MM platform on a local set up in our lab.

Based on the idea illustrated above, we have defined the core components of the proposed multimodal hybrid reasoner and depicted them in the functional flow diagram shown in 
                     Fig. 4.


                     Fig. 4 shows high-level interactions of the different components of the reasoner along with the methodology used in each component. Like any other reasoning system, the core components of the proposed reasoner include the following: input/output interfaces, input data sources, knowledge bases, reasoning methodology and outputs. They are explained below as follows.
                        
                           •
                           
                              Input/output interfaces: user׳s smart phone that runs the MM application works as the input/output interface for the reasoner.


                              Input data sources: inputs of the reasoner include user requests, personal profile data, and daily physical activity data. The input data, except for the user requests, are stored in an intermediate database. The request for recommendation is received from the user׳s mobile application.


                              Knowledge base: knowledge of the reasoner is composed of rules created from physical activity guidelines and past successful cases obtained from the implicit experience of the domain experts. The rules are stored in the rule base, while the past successful cases (METs index) are stored in the METs case base (METCB).


                              Reasoning methodology: the reasoning methodologies include RBR, CBR, and PBR, which are integrated in a linear combination. The RBR methodology is applied at multiple levels: level-1, level-2, and level-3. At level-3, RBR is either used with distinct-METs rules or with ranged-METs rules. At the same level, CBR can also be used (using METs cases) as a counterpart of RBR for improved services. At the end, the multi-level filtration mechanism is applied in PBR to filter out irrelevant recommendations by utilizing the user׳s preferences and interests.


                              Outputs: outputs of the reasoner include wellbeing recommendations for users, weight status, weight management plans, personalized physical activity recommendations and personalized filtered physical activity recommendations. These recommendations are aggregated and prepared by Results Propagator and then delivered to the end user and intermediate database. In the intermediate database, it is stored for future use as a successful case.

In the subsequent sub-sections, a detailed description of the architectural design of the proposed HRM is provided (Section 4.1), and then, the process of knowledge creation is discussed (Section 4.2); finally, the reasoning methodology is described in detail (Section 4.3).

A detailed data flow diagram of the multimodal hybrid reasoning engine illustrating communication is shown in 
                        Fig. 5.

The key components of the HRM are service request handler (SRH), data loader and manipulator (DLM), knowledge base (KB), knowledge loader (KL), hybrid reasoner (HR) and result preparator and propagator (RP). The hybrid reasoner consists of RBR, CBR, and PBR modules along with the PR module. The RBR, CBR, and PBR modules work cooperatively in a linear combination for enhancing recommendations. CBR is the key reasoning methodology that is activated by the output of RBR. The output of CBR in turn activates the PBR methodology to personalize the recommended physical activity.

From the service execution perspective, when a user requests service, the SRH analyzes the request and activates the appropriate module of the reasoner. SRH supports the MM platform for multiple service generation. SRH forwards the request to HR, where the RBR (level-1, level-2), level-3 RBR/CBR, and PBR methodologies are sequentially executed. Outputs of the HR are forwarded to the RP module for final preparation and forwarded to the user mobile application interface (UIUX) for being displayed to the users.

For the weight management scenario, the multimodal hybrid reasoning methodology operates in the following flow.
                           
                              •
                              First, level-1 RBR is applied, which loads the weight status rules (WSR) (see Section 4.2) from the KB and the required personal profile data from the intermediate database (IDB) using the data loader (DL) component. The necessary computation on the personal data, e.g., BMI calculation from height and weight information, is performed using the data manipulator (DM) and passed to the level-1 RBR. The level-1 RBR uses RBR methodology to recommend weight status recommendations (normal, overweight, underweight) as a service to the user and to level-2 RBR for further processing.

Level-2 RBR receives the output of the level-1 RBR as input and performs the same reasoning procedure as level-1 RBR for recommending the goal state and associated calorie consumption plan and weight management plans. The level-2 RBR uses the goal and plan recommendation rules (GPR) loaded by KL from the KB and the personal profile data loaded by the DL from the IDB. The purpose is to generate goal and plan recommendations, which are provided to the users as a service and to level-3 RBR/CBR for further processing.

Level-3 RBR/CBR receives the output of the level-2 RBR as input and further generates physical activity recommendations. Level-3 RBR/CBR supports both the RBR and CBR methodologies. The RBR results in baseline-RBR and modified-RBR systems. The baseline-RBR uses distinct-METs rules, while the modified-RBR uses ranged-METs rules that are loaded from the KB during the activity recommendation generation. The CBR methodology uses the METCB of the historical successful physical activity recommendations. In our case, we use the 2011 compendium of physical activity guidelines [36] as our key physical activity case base, which has physical activity recommendations associated with METs values. In either case (i.e., baseline-RBR, modified-RBR or hybrid-CBR), the list of all of the performed physical activities is loaded from the IDB and commutated for the duration, amount of consumed calories, remaining calories and corresponding metabolic equivalent (METs) value. The corresponding physical activities for the METs value are recommended and provided to the users. These physical activities are not filtered according to the preferences and interests of the users; therefore, they are forwarded to the PBR module for further personalization.


                                 PBR first receives the physical activities recommended by level-3 RBR/CBR and then loads the personal preferences and interests information from the IDB. The associated preference-based rules (PR) are loaded from the KB to apply multi-level filtration for filtering out irrelevant recommendations. The final filtered recommendations are personalized according to the user’s personal preferences.

The personalized recommendations are passed to the RP for proper preparation and packaging to be forwarded to the user application to be displayed on the user’s mobile application.

The user query, intermediate recommendations, and final personalized recommendations are stored in the future case base (FCB) for future use.

Knowledge is one of the most important ingredients of a reasoning system. This section describes how the knowledge used by the HRM is created. The key methodologies of HRM are RBR and CBR; therefore, we first need to create knowledge in the form of rules and cases. The process of knowledge acquisition is discussed below.

Wellness guidelines are the key source of information for improving the quality of life. Translating guidelines into computer-processable rules is a challenging task because it requires the involvement of knowledge engineers and domain experts [37]. In our study, knowledge from the unstructured guidelines of a weight management scenario is translated to rules with the help of three knowledge engineers and two domain experts. Based on the design of our study, the knowledge engineers first studied the weight management scenario, surveyed the weight management guidelines, indexed them, and categorized them into two groups: (a) standard equations to compute standard values and (b) indexes to be used in rule creation. An example of the first category is the calculation of calories burned/day, while an example of the second category is the BMI index. These rules are used by the RBR to generate physical activity recommendations. The process of guideline translation is described below.

To classify users into underweight, normal or overweight states, personal profile assessment based on the standard BMI index is required [38]. The BMI index and personal profile information are combined together to form rules, which are shown in 
                              Table 1. For the BMI calculation, the standard BMI formula is used.

These rules are applicable for adults and used by level-1 RBR (see Section 4.3.1) for finding the weight status of the users.

A weight management system requires goals and the associated plans to achieve the goals. A goal can be either a local goal or global goal (
                                 
                                    gloGoal
                                 
                              ). A global goal is the final objective of the user to be achieved, while the local goal refers to a set of sub-goals to reach the global goal. For example, the total weight to be lost is considered a global goal, while weekly targets are considered local goals. To set a global goal in the context of the weight management scenario, first, an estimation of the ideal body weight (
                                 
                                    idlWgt
                                 
                              ) is required, which can be obtained using the Robinson JD [39] equation. The difference between the current weight (
                                 
                                    curWgt
                                 
                              ) and ideal weight yields the best estimation for the target goal in terms of the number of kg to be lost. The ideal body weight and global goal are computed using Eqs. 
                              1 and 2.
                                 
                                    (1)
                                    
                                       
                                          
                                             
                                                idlWgt
                                                
                                                =
                                                
                                                51.65
                                                
                                                kg
                                                
                                                +
                                                
                                                1.85
                                                
                                                kg
                                                /
                                                inch
                                                
                                                over
                                                
                                                5
                                                
                                                feet
                                                
                                                
                                                   (
                                                   
                                                      man
                                                   
                                                   )
                                                
                                                
                                             
                                          
                                          
                                             
                                                idlWgt
                                                
                                                =
                                                
                                                48.67
                                                
                                                kg
                                                
                                                +
                                                
                                                1.65
                                                
                                                kg
                                                /
                                                inch
                                                
                                                over
                                                
                                                5
                                                
                                                feet
                                                
                                                
                                                   (
                                                   
                                                      woman
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

The ideal body weight is a debatable topic but has successfully been used in healthcare systems, such as drug dosage estimation [39] and cell transplantation [40]. Therefore, we have adopted it for the estimation of the global goal in our study.
                                 
                                    (2)
                                    
                                       
                                          gloGoal
                                       
                                       
                                          (
                                          
                                             kg
                                          
                                          )
                                       
                                       
                                          =
                                       
                                       
                                          curWgt
                                       
                                       
                                          (
                                          
                                             kg
                                          
                                          )
                                       
                                       
                                          −
                                       
                                       
                                          idlWgt
                                       
                                       
                                          (
                                       
                                       
                                          kg
                                       
                                       
                                          )
                                       
                                    
                                 
                              
                           

In our system, 
                                 
                                    gloGoal
                                 
                               by itself is a user service, but it is aimed towards devising plans for achieving the global goal. The rules defined for identifying appropriate plans, such as a weight loss plan, weight gain plan and weight maintenance plan (GPR), are shown in 
                              Table 2.

In Table 2, we only focus on the first two cases.

Details of the suggested plan, i.e., duration for achieving the global goal, can be computed using Eq. 3.
                                 
                                    (3)
                                    
                                       
                                          wghRedPlan
                                       
                                       
                                          (
                                       
                                       
                                          days
                                       
                                       
                                          )
                                          =
                                       
                                       
                                          roundup
                                       
                                       
                                          (
                                          
                                             
                                                
                                                   
                                                      7
                                                   
                                                   
                                                      (
                                                   
                                                   
                                                      days
                                                   
                                                   
                                                      )
                                                      *
                                                   
                                                   
                                                      gloGoal
                                                   
                                                   
                                                      (
                                                   
                                                   
                                                      Kg
                                                   
                                                   
                                                      )
                                                   
                                                
                                                
                                                   
                                                      0
                                                   
                                                   
                                                      .
                                                   
                                                   
                                                      5
                                                   
                                                   
                                                      (
                                                   
                                                   
                                                      Kg
                                                   
                                                   
                                                      )
                                                   
                                                
                                             
                                          
                                          )
                                       
                                    
                                 
                              
                           

In Eq. 
                              3
                              , a constant value of 0.5 represents the weight to be lost during one week. From this equation, local goals for weeks and months can be determined by subtracting a weight of 0.5kg from the weight of the previous week (weekly plan). These plans can also be estimated in terms of the calories burnt (per day, per week, per month, etc.) using Eq. 
                              4.
                                 
                                    (4)
                                    
                                       
                                          calToBurDay
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                gloGoal
                                             
                                             
                                                (
                                                
                                                   kg
                                                
                                                )
                                             
                                             
                                                *
                                             
                                             
                                                Cal
                                             
                                             
                                                (
                                             
                                             
                                                1
                                             
                                             
                                                kg
                                             
                                             
                                                fat
                                             
                                             
                                                )
                                             
                                          
                                          
                                             
                                                wghRedPlan
                                             
                                             
                                                (
                                             
                                             
                                                days
                                             
                                             
                                                )
                                             
                                          
                                       
                                    
                                 
                              
                           

In Eq. 
                              4
                              , 
                              
                                 
                                    Cal
                                 
                               represents the number of calories equivalent to burning 1kg of body fat.

All of these rules are used for setting the goal, devising plans, and managing weight and are used by level-2 RBR.

Once a weight management plan is assessed, monitoring and recognition of the user׳s physical activities are required. Based on monitoring the previous day׳s activities, using the accelerometer sensor of the smartphone, the next day recommendations are planned. This process is performed in terms of the duration spent in each activity and the estimated amount of calories burnt. The amount of each activity (amtAct) is calculated by taking sum of all of the time slots (
                                 
                                    timSlot
                                 
                              ) during which the user performed that activity (Act), computed using Eq. 
                              5.
                                 
                                    (5)
                                    
                                       
                                          
                                             
                                                amtAct
                                             
                                             
                                                i
                                             
                                          
                                          
                                             =
                                          
                                          
                                             ∑
                                             
                                                
                                                   j
                                                
                                                
                                                   =
                                                
                                                
                                                   1
                                                
                                             
                                             
                                                t
                                             
                                          
                                          
                                             
                                                
                                                   Act
                                                
                                                
                                                   i
                                                
                                             
                                             
                                                .
                                             
                                             
                                                
                                                   timSlot
                                                
                                                
                                                   j
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

The estimation of calories (
                                 
                                    Cal
                                 
                              ) for a specific activity 
                                 
                                    
                                       
                                          (
                                          Act
                                       
                                       
                                          i
                                       
                                    
                                    
                                       )
                                    
                                 
                               in a specific time duration, 
                                 
                                    
                                       amtAct
                                    
                                    
                                       i
                                    
                                 
                              , can be estimated by the product of the 
                                 
                                    METs
                                 
                               of that activity with the amount of activity and current weight of the subject. This calculation is shown in Eq. 
                              6, which is adapted from the compendium of physical activities [36].
                                 
                                    (6)
                                    
                                       
                                          
                                             
                                                Act
                                             
                                             
                                                i
                                             
                                          
                                          
                                             .
                                          
                                          
                                             Cal
                                          
                                          
                                             =
                                          
                                          
                                             
                                                Act
                                             
                                             
                                                i
                                             
                                          
                                          
                                             .
                                          
                                          
                                             METs
                                          
                                          
                                             *
                                          
                                          
                                             
                                                amtAct
                                             
                                             
                                                i
                                             
                                          
                                          
                                             (
                                          
                                          
                                             h
                                          
                                          
                                             )
                                             *
                                          
                                          
                                             weight
                                          
                                          
                                             (
                                          
                                          
                                             kg
                                          
                                          
                                             )
                                          
                                       
                                    
                                 
                              
                           


                              METs estimates the capacity and tolerance level of an individual to exercise in which he/she may participate safely without hurting him/herself [41]. We use it in our system to estimate calories from the physical activities and vice versa. In our calorie estimation process, we use the average METs rather than the exact value. The average METs for an activity (e.g., walking) is calculated by considering all types of walking included in the METs guidelines [36] and taking the average. The same procedure is used for other activities that we consider (i.e., running, jogging, transportation, sitting, and standing). The rationale behind the average METs is the limitation of our current activity recognition system in recognizing the exact intensity of every sub-type of activity, for example, walking.

After applying Eq. 
                              6
                              , for all of the activities, Eq. 
                              7 is used to sum all of the estimated calories.
                                 
                                    (7)
                                    
                                       
                                          totalBurnedCal
                                       
                                       
                                          =
                                       
                                       
                                          ∑
                                          
                                             
                                                i
                                             
                                             
                                                =
                                             
                                             
                                                1
                                             
                                          
                                          
                                             a
                                          
                                       
                                       
                                          
                                             
                                                Act
                                             
                                             
                                                i
                                             
                                          
                                          
                                             .
                                          
                                          
                                             Cal
                                          
                                       
                                    
                                 
                              
                           

The remaining calories (
                                 
                                    remCalToBurn
                                 
                              ) for the rest of the day (in a daily calorie consumption plan) are computed using Eq. 
                              8.
                                 
                                    (8)
                                    
                                       
                                          remCalToBurn
                                       
                                       
                                          =
                                       
                                       
                                          calToBurDay
                                       
                                       
                                          −
                                       
                                       
                                          totalBurnedC
                                       
                                       
                                          al
                                       
                                    
                                 
                              
                           

The aim of estimating the remaining calories is to recommend the appropriate physical activity using our reasoning system to meet the goals of the day. This recommendation requires the METs value computed from the 
                                 
                                    remCalToBurn
                                 
                               using Eq. 
                              9 
                              [36].
                                 
                                    (9)
                                    
                                       
                                          METs
                                       
                                       
                                          =
                                       
                                       
                                          
                                             remCalToBurn
                                          
                                          
                                             
                                                (
                                             
                                             
                                                amtAct
                                             
                                             
                                                =
                                             
                                             
                                                1
                                             
                                             
                                                h
                                             
                                             
                                                )
                                                *
                                             
                                             
                                                weight
                                             
                                             
                                                (
                                                
                                                   kg
                                                
                                                )
                                             
                                          
                                       
                                    
                                 
                              
                           


                              We use the METs value in both RBR and CBR to recommend the appropriate physical activity. For RBR, rules need to be created using the user’s personal information and the required METs value. For CBR, a case base is to be prepared.
                           

Based on the estimated METs value and the user׳s personal information (e.g., age), two types of rules are created. The first type is based on distinct-METs values, and the second type is based on ranged-METs value. The distinct-METs rules are used to build the baseline-RBR system, while the ranged-METs rules are used for building the modified-RBR system. When we considered distinct-METs and age together, we created a total of 122 rules for the 48 distinct-METs values. The distribution of the rules is as follows: 22 rules belong to the Young age group, 33 rules belong to the Older Adults group, and 47 belong to the Adults group. In the context of physical activity recommendation, age plays an important role; therefore, it is considered an essential part of the rules. The transformation of age to different age groups is supported by the guidelines from WHO 
                              [10] and UK 
                              [42]. These guidelines categorize users into three major age groups: Young (age 5–17), Adults (age 18–64), and Older Adults (age ≥65). A partial list of the distinct-METs rules is shown in 
                              Table 3.

In the MM implementation, we use ranged-METs rules; therefore, we first define ranges for the METs values used in these rules. According to the well-known physical activity guidelines from the center for disease control and prevention (CDC), American College of Sports Medicine (ACSM) [7], WHO 
                              [10], US 
                              [43] and UK 
                              [42], physical activities can be grouped into three categories: light (<3.0 METs), moderate (3.0–6.0 METs) and vigorous (>6.0 METs). According to these guidelines, moderate to vigorous-intensity physical activities are recommended to Young, Adults and Older Adults, but with slightly changed doses and patterns. For example, the Young group is recommended a physical activity of METs≥ 3–7, and the Adults and Older Adults groups are recommended a physical activity of METs≥3. However, the Older Adults group is recommended the same physical activities in the range of METs values for the Adult group but with lower intensity and dose due to their lower capabilities for exercise and physical activities. We have formulated these guidelines by considering the threshold value of METs ≤10.25 for Older Adults, METs ≤7 for Young and METs ≤23 for Adults. The light-intensity activities (i.e., METs <3) are appropriate for all age groups because they do not lead to injuries. Based on this grouping of the METs values by the age groups, the ranged-METs rules are defined and summarized in 
                              Table 4.

The CBR part of HRM operates based on well-established past successful cases to generate physical activity recommendations. The cases in the case base are adapted from the 2011 compendium of physical activity guidelines [36]. These guidelines contain a list of physical activities associated with METs values. We used the METs values and the associated physical activities as the two key attributes of our case base. We named this case base the METs case base (METCB). Based on the discussion made in Section 4.2.1.4, we extended the number of attributes of the METCB to include an additional attribute, age group. The relationship between age group and METs ranges is represented in Eq. 
                              10 and depicted in 
                              Fig. 6.
                                 
                                    (10)
                                    
                                       
                                          Age
                                       
                                       
                                          Group
                                       
                                       
                                          =
                                          {
                                       
                                       
                                          All
                                       
                                       
                                          Age
                                       
                                       
                                          ⊆
                                       
                                       
                                          Y
                                       
                                       
                                          oung
                                       
                                       
                                          ⊆
                                       
                                       
                                          Older
                                       
                                       
                                          Adults
                                       
                                       
                                          ⊆
                                       
                                       
                                          Adults
                                       
                                       
                                          }
                                       
                                    
                                 
                              
                           

In the above Eq. 
                              10 and Fig. 6, it can be seen that we have added a fourth age group named ‘All Age’ (METs <3). It is a subset of all of the other age groups because activities of this intensity are not injurious and can equally be recommended to any age group. The current METCB contains 119 instances, which may increase in the future. 
                              Table 5 presents the detailed characteristics of the METCB.

Hybrid reasoning is the key methodology implemented in the proposed reasoning engine that generates personalized physical activity recommendations in the MM system. It is composed of RBR, CBR, and PBR and is discussed in the subsequent sub-sections.

In HRM, the RBR methodology works at three levels (level-1, level-2, and level-3). Its objectives include the following: (1) assessment of personal information and recommendation for weight status, (2) assessment of the ideal body weight and recommendations for goals and plans and (3) assessment of the performed physical activities and recommendations for appropriate physical activity. The recommendations of each level are provided to the user, on one end, and to the next level, on the other. For example, the first level of recommendations is provided to the user and to the level-2 RBR. This process involves a sequential flow, and finally, recommendations are generated, which are provided to the users on their mobile applications. The idea of provisioning intermediate results to the users is motivated from the fact that MM system supports the PULL service model, where users can subscribe either to a single service or a combination of services. Using this approach, some of the users subscribe only for weight status recommendations, while others subscribe for goal and plan recommendations and physical activity recommendations. If the MM system is constrained only to support the PUSH service model, then it may be enough for the users who require services on the subscription basis but will not support users who require customized subscription-based services.

Once the user query arrives at the HRM, level-1 RBR gets activated, loads personal profile information, performs the necessary computations, retrieves the WSR (Table 1) and starts the rule-based reasoning process [44]. The outputs are provided to the end user and to the level-2 RBR. The steps of the level-1 RBR are listed in Algorithm 1.
                                 Algorithm 1
                                 Rule-based reasoning for the recommendations ofweight status.

In first step of Algorithm 1, WSR are loaded from the knowledge base using an iterative loop process. The design of the knowledge base is based on the types of services, and rules are stored accordingly. Therefore, the type of service identifies the type of rules to be loaded. The type of service can be identified by the service Id (sid, in this case). Once the rules are loaded, the execution commences. The definition of 
                                 
                                    ExecuteSWRule
                                    (
                                    )
                                 
                               is given in Function 1, and it loads the personal profile data of the user from the IDB and performs the necessary computations. The data loading process of the IDB uses a simple object access protocol (SOAP)-based service, defined in the SCL. Finally, the pattern matching process starts, and when a rule is matched, it is fired, and its corresponding weight status recommendations are generated. The results of this function are returned to Algorithm 1 for further processing.
                                 Function 1
                                 Rules execution for the weight status recommendations.

When the weight status recommendations are received by Algorithm 1, they are forwarded to the user mobile application interface (UIUX) and to the level-2 RBR. The function 
                                 
                                    PropgatWSResultsToUIUX
                                 
                                 
                                    (
                                    )
                                 
                               is responsible for providing the recommendations to the user while the function 
                                 
                                    InvokeLevel
                                    2
                                    RBR
                                    (
                                    )
                                 
                               is used to invoke the level-2 RBR. The propagation function first communicates with the user׳s mobile application and then provides the generated intermediate recommendations along with some metadata for display purposes. In case the intermediate result of the level-1 RBR is the underweight status, then the system propagates motivational and educational statements using the 
                                 
                                    PropgatWSResultsToUIUX
                                    (
                                    )
                                 
                               function (see Section 6).

Level-2 RBR is activated by level-1 RBR for setting goals and prescribing the associated weight loss and calorie consumption plan recommendations. In level-2 RBR, the goal and plan rules (GPR) specified in Table 2 are used along with Eqs. 
                              1–4. The algorithmic steps of level-2 RBR are given in Algorithm 2.
                                 Algorithm 2
                                 Rule-based reasoning algorithm for goals and plans prescription recommendations.

In Algorithm 2, the rules are loaded from the KB on the basis of service type (sid). The service is goal and plan recommendations, and the associated rules are the GPR. After the rules are loaded, Algorithm 2 executes 
                                 
                                    ExecuteGPRRule
                                    (
                                    )
                                 
                               to generate the plan prescription (PP) recommendations. The definition of this function is shown in Function 2, which takes each rule from the GPR and retrieves the required personal profile data from IDB and computes the ideal body weight (idlWgt) and global goal (gloGoal). The pattern matching process then starts, and each attribute of the left hand side (LHS) of the rule R is checked against the loaded and computed values. When a match is found, rule R is fired, and its right hand side (RHS) is provided as the PP recommendation. These recommendations are returned to Algorithm 2 for further processing.
                                 Function 2
                                 Execution of the goal and plan rules for goal and plan recommendations.

If the output retained in PP is weight loss plan (WLP), then the 
                                 
                                    
                                       Compute
                                       
                                       WL
                                       
                                       p
                                       lans
                                       
                                       i
                                       n
                                       
                                       k
                                       g
                                       
                                       a
                                       nd
                                       
                                       c
                                       alories
                                    
                                    (
                                    )
                                 
                               function is activated for computing daily, weekly, and monthly plans in terms of the number kg to lose and the associated calorie consumption plans. These plans are forwarded to the users and are displayed on their mobile application interface (UIUX) and are also forwarded to level-3 RBR–CBR. The functions responsible for these tasks are 
                                 
                                    
                                       Propgat
                                       
                                       WLP
                                       
                                       Results
                                       
                                       To
                                       
                                       UIUX
                                    
                                    (
                                    )
                                 
                               and 
                                 
                                    
                                       Invoke
                                       
                                       Level
                                    
                                    
                                    2
                                    
                                       RBR
                                    
                                    −
                                    
                                       CBR
                                    
                                    (
                                    )
                                 
                              , respectively. In case the PP value is the weight maintenance plan (WMP), then educational and motivational statements are provided to the users using the 
                                 
                                    PropgatWMPResultsToUIUX
                                    (
                                    )
                                 
                               function (see Section 6).

In HRM, level-3 RBR–CBR uses either baseline-RBR or modified-RBR or CBR methodology. For these methodologies, an assessment of the performed physical activities is required in terms of the burned calories, remaining calories, and equivalent METs value. This assessment and the computations are performed using Eqs. 
                              5–9. In the baseline-RBR, distinct-METs rules (Table 3) are used, while in the modified-RBR, ranged-METs rules (Table 4) are used to generate personalized physical activity recommendations. The algorithmic steps for both the baseline-RBR and modified-RBR are given in Algorithm 3 and are the same from the methodology perspective but different based on the nature of rules they use (for the level-3 CBR, see Section 4.3.2).
                                 Algorithm 3
                                 Assessment of physical activities and prescription of physical activity recommendations using rule-based reasoning.


                              Algorithm 3 first loads the activity prescription rules (ARP) from the KB based on the service id, specified in the service request. For generating appropriate personalized physical activity recommendations (PAR), the 
                                 
                                    ExecuteActPrescRul
                                 
                                 
                                    e
                                 
                              () function is used, the details of which are given in Function 3. The physical activities are recommended on the basis of the final computed METs values and the user׳s personal profile information. The METs value represents the intensity level of a physical activity. Within the same physical activity type, for example, walking, different intensity values exist that range from a METs value of 2.3 to a METs value of 12 [36]. Similar ranges exist for other activities as well, such as running, cycling, transportation, standing, and sitting. In the METs guidelines, a large number of distinct METs values are available, which makes it hard to define distinct METs rules. One of the solutions to this issue is to define range-based METs rules. In the MM implementation for the weight management scenario, METs range-based rules are used.
                                 Function 3
                                 Execution of distinct-METs and ranged-METs rules for physical activity recommendations.

Once PAR are generated, they are provided to the end users on their mobile application interface (UIUX) using the 
                                 
                                    
                                       Propgat
                                       
                                       PAR
                                       
                                       Results
                                       
                                       To
                                       
                                       UIUX
                                    
                                    (
                                    )
                                 
                               function. The output of Algorithm 3 can be a list of physical activities that are generated either on the basis of ranged-METs rules or multiple physical activities against a single METs value in a rule. To filter this list of recommendations and personalize them to another level, they are provided to the PBR methodology by using the 
                                 
                                    
                                       Invoke
                                       
                                       PBR
                                    
                                    
                                       (
                                       )
                                    
                                 
                               function call of Algorithm 3 (see Section 4.3.3 for the PBR functionality).

To overcome the limitations of level-3 RBR implemented in the MM platform, we use CBR for generating more personalized recommendations. The CBR implementation is performed outside the MM implementation in our lab with the aim of enhancing the performance of HRM. The CBR methodology helps in recommending specific physical activity to users based on their gender information and required intensity for physical activity i.e., METs value. The CBR methodology is selected due to its capabilities of (1) recommending specific and precise physical activities to the user, (2) providing a list of top relevant physical activities as recommendations (e.g., walking) with multiple similar alternatives (e.g., running or cycling) and (3) refining the suggested recommendations based on the user’s feedback for enhancing recommendation accuracy and specificity. CBR execution follows the standard CBR cycle (retrieve, reuse, revise and retain) to complete the process of suggesting and refining recommendations along with an incremental learning approach. In our study, we are unable to perform the revise step in HRM due to the limitation of the MM system in being unable to handle user feedback. This phase is left as future work.

In our CBR model, the case query contains two attributes, age group and METs value. The age value is retrieved from the personal profile of the user, which is transformed to the predefined age group. The value of the METs attribute is computed from the user’s personal profile information and the physical activities the user performed so far. For this purpose, steps 1–6 of Function 3 are used. These values are provided to the retrieve step of the CBR, which starts retrieving similar cases from the METCB. For the retrieval of age group and METs values, two local similarity functions are defined, which are shown in Eqs. 
                              11 and 12.
                                 
                                    (11)
                                    
                                       
                                          
                                             
                                                METSim
                                             
                                             
                                                l
                                             
                                          
                                          
                                             (
                                             
                                                
                                                   nC
                                                
                                                
                                                   ,
                                                
                                                
                                                   eC
                                                
                                             
                                             )
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   
                                                      d
                                                   
                                                   
                                                      g
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            Max
                                                         
                                                         
                                                            MET
                                                         
                                                      
                                                      
                                                         ,
                                                      
                                                      
                                                         
                                                            Min
                                                         
                                                         
                                                            MET
                                                         
                                                      
                                                   
                                                   )
                                                
                                                
                                                   −
                                                
                                                
                                                   
                                                      d
                                                   
                                                   
                                                      l
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            nC
                                                         
                                                         
                                                            MET
                                                         
                                                      
                                                      
                                                         ,
                                                      
                                                      
                                                         
                                                            eC
                                                         
                                                         
                                                            MET
                                                         
                                                      
                                                   
                                                   )
                                                
                                                
                                                   −
                                                
                                                
                                                   1
                                                
                                             
                                             
                                                
                                                   
                                                      d
                                                   
                                                   
                                                      g
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            Max
                                                         
                                                         
                                                            MET
                                                         
                                                      
                                                      
                                                         ,
                                                      
                                                      
                                                         
                                                            Min
                                                         
                                                         
                                                            MET
                                                         
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Here, 
                                 
                                    
                                       METSim
                                    
                                    
                                       l
                                    
                                 
                               calculates the similarity of the METs between the new query case (
                                 
                                    nC
                                 
                              ) and existing cases (
                                 
                                    eC
                                 
                              ) in the METCB. Similarly,
                                 
                                    
                                       d
                                    
                                    
                                       g
                                    
                                 
                               is the global distance function that calculates the distance between 
                                 
                                    
                                       Max
                                    
                                    
                                       MET
                                    
                                 
                               (maximum METs value in the METCB, i.e., 23 for running) and 
                                 
                                    
                                       Min
                                    
                                    
                                       MET
                                    
                                 
                               (minimum METs value in the METCB, i.e., 1.3 for resting). Here, 
                                 
                                    
                                       d
                                    
                                    
                                       l
                                    
                                 
                               is the most important local similarity function that computes the distance between the METs values of 
                                 
                                    nC
                                 
                               and 
                                 
                                    eC
                                 
                              .
                                 
                                    (12)
                                    
                                       
                                          
                                             
                                                AGSim
                                             
                                             
                                                l
                                             
                                          
                                          
                                             (
                                             
                                                
                                                   nC
                                                
                                                
                                                   ,
                                                
                                                
                                                   eC
                                                
                                             
                                             )
                                          
                                          
                                             =
                                          
                                          
                                             {
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               AG
                                                            
                                                            
                                                               ij
                                                            
                                                         
                                                         
                                                            =
                                                         
                                                         
                                                            1
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                         
                                                         
                                                            ∀
                                                         
                                                         
                                                            (
                                                            
                                                               
                                                                  i
                                                               
                                                               
                                                                  ≥
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                            )
                                                         
                                                         
                                                         
                                                            OR
                                                         
                                                         
                                                         
                                                            (
                                                         
                                                         
                                                            i
                                                         
                                                         
                                                            =
                                                         
                                                         
                                                            0
                                                         
                                                         
                                                         
                                                            OR
                                                         
                                                         
                                                         
                                                            j
                                                         
                                                         
                                                            =
                                                         
                                                         
                                                            1
                                                         
                                                         
                                                            )
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            0
                                                         
                                                      
                                                      
                                                         
                                                            otherwise
                                                         
                                                      
                                                   
                                                
                                             
                                             }
                                          
                                       
                                    
                                 
                              
                           

In Eq. 
                              12, 
                                 
                                    
                                       AGSim
                                    
                                    
                                       l
                                    
                                 
                               is the local similarity function that matches the METs values of 
                                 
                                    eC
                                 
                               with 
                                 
                                    nC
                                 
                              . The similarity criterion used in the equation is the exact match, which is denoted as value 1. The interpretation of this value is that if the age group of the query case is similar to that of the existing case (i.e.,
                              
                                 
                                    
                                       
                                          AG
                                       
                                       
                                          nC
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          AG
                                       
                                       
                                          eC
                                       
                                    
                                 
                              ), then this value will be 1; otherwise, it will be 0. The symmetric view of the local similarity function of this attribute is represented in a confusion matrix shown in 
                              Table 6.

In the above confusion matrix, the diagonal value of each age group is equal to 1, which shows the exact match relationship of each age group with itself. The age group, labeled as All Age, represents the list of METs values (less than 3) that can be equally recommended to the rest of the age groups; therefore its value is 1 for all of the other age groups. Similarly, the METs values of the age group Young (less or equal to 7) are also a subset of the METs values of the Older Adults and Adults age groups; therefore its value is 1 for all these age groups. This makes both the columns identical in the similarity matrix table.

After computing the local similarities, we use the weighted sum global similarity function, 
                                 
                                    
                                       Sim
                                    
                                    
                                       g
                                    
                                 
                              
                              , to compute the global distance between 
                                 
                                    nC
                                 
                               and 
                                 
                                    eC
                                 
                              , as shown in Eq. 
                              13.
                                 
                                    (13)
                                    
                                       
                                          
                                             
                                                Sim
                                             
                                             
                                                g
                                             
                                          
                                          
                                             (
                                             
                                                
                                                   nC
                                                
                                                
                                                   ,
                                                
                                                
                                                   eC
                                                
                                             
                                             )
                                          
                                          
                                             =
                                          
                                          
                                             β
                                          
                                          
                                             (
                                             
                                                
                                                   
                                                      AGSim
                                                   
                                                   
                                                      l
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         nC
                                                      
                                                      
                                                         ,
                                                      
                                                      
                                                         eC
                                                      
                                                   
                                                   )
                                                
                                             
                                             )
                                          
                                          
                                             +
                                          
                                          
                                             γ
                                          
                                          
                                             (
                                             
                                                
                                                   
                                                      METSim
                                                   
                                                   
                                                      l
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         nC
                                                      
                                                      
                                                         ,
                                                      
                                                      
                                                         eC
                                                      
                                                   
                                                   )
                                                
                                             
                                             )
                                          
                                       
                                    
                                 
                              
                           

Here, 
                                 
                                    β
                                 
                               denotes the weight value assigned to the attribute age group and 
                                 
                                    γ
                                 
                               denotes the weight value assigned to the METs attribute. The value of 
                                 
                                    β
                                 
                               is 0.1 (i.e., 
                              
                                 
                                    β
                                    =
                                    0.1
                                 
                              ), and the value of 
                                 
                                    γ
                                 
                               is 0.9 (i.e., 
                              
                                 
                                    γ
                                    =
                                    0.9
                                 
                              ). The higher value of 
                                 
                                    γ
                                 
                               represents the importance and contribution of the METs attribute in the final decision. For the selection of similar cases, we use k-NN [45] with k=3 to select the top three similar cases and reuse them as the suggested recommendations. In the MM system, the selection of the top three cases provides choices to the users for following any of the proposed recommendations based on their personal preferences and interests. The top recommended activities are of the same intensity or close to each other in intensity and have similar impacts on an individual’s health. The acceptance of the top three recommendations is based on the threshold value (confidence), denoted by symbol 
                                 
                                    µ
                                 
                              . We set the threshold value to be greater than or equal to 95 (i.e., 
                              
                                 
                                    
                                       µ
                                    
                                    ≥
                                    95
                                 
                              ). If a single case satisfies the threshold, only one recommendation is provided as the final physical activity recommendation. If more than 1 case is retrieved, then PBR is activated for further filtration and personalization of the suggested physical activity recommendations (see Section 4.3.3). The confidence value for the acceptance of recommendations is the threshold value, which is computed using Eq. 
                              13. It is the aggregate score obtained from the local similarity values of Eqs. 
                              11 and 12. The method used for aggregation is the weighted sum, which has a higher weight 
                                 
                                    γ
                                    =
                                    0.9
                                 
                               for the METs attribute and lower weight 
                                 
                                    β
                                    =
                                    0.1
                                 
                               for the Age Group attribute. To set the confidence/threshold value as 
                                 
                                    
                                       µ
                                    
                                    ≥
                                    95
                                    (
                                    0
                                    .
                                    05
                                    threshhold
                                    )
                                 
                              , we were motivated by the well-known work [46–48] in the statistical community. The authors considered a 95% confidence interval or 0.05 threshold value as the acceptable value for accepting a hypothesis. The detailed working methodology of the proposed CBR is presented in Algorithm 4.
                                 Algorithm 4
                                 Case-based reasoning methodology for generating personalized physical activity recommendations.


                              Algorithm 4 begins execution when 
                                 
                                    nC
                                 
                               is input to the CBR algorithm. In the first step, the 
                                 
                                    ReteriveCaseBaseFromKB
                                 
                                 
                                    (
                                    )
                                 
                               function is used to load the existing cases from KB to the 
                                 
                                    
                                       METCB
                                    
                                    
                                       r
                                    
                                 
                              . For this purpose, the URL of METCB, METCBurl, is used. Each eC is matched against nC, and the distance is calculated using the local and global similarity functions (i.e., Eqs. 
                              11 and 12). k-NN with k=3 is used to obtain the top three similar cases as the suggested physical activity recommendations. These recommendations are specific and precise compared with the results of the baseline-RBR and modified-RBR systems. The retrieved case(s) is/are passed to the end users as the proposed personalized physical activity recommendations with the help of the 
                                 
                                    PropgateCBRResults
                                    (
                                    )
                                 
                               function. Similarly, this/these recommendations(s) is/are also forwarded to PBR using the 
                                 
                                    InvokePBR
                                 
                                 
                                    (
                                    )
                                 
                               function to filter them according to the user׳s preferences and interests.

Once the reuse step suggests recommendation(s), the whole case needs to be retained in the case base as a new case. In the proposed HRM, we add this new case to a data store, called the future case base (FCB). If the retrieve step ends with a single recommendation, the whole case, including the user׳s personal profile and suggested activity, is stored in the FCB. However, if more recommendations are generated, the new case is stored in the FCB after applying the PBR methodology (see Section 4.3.3).

The recommendations generated by the RBR and CBR methodologies are based on the knowledge created based on general guidelines, which are unable to reflect the user׳s personal interests and preferences. These recommendations are not personalized from the perspective of the user’s personal interests and preferences; to satisfy them, another level of refinement and filtration of the suggested recommendations is required that is performed by the PBR methodology. The PBR mechanism exploits the user model, built on top of the user profile. A user model contains the user׳s personalized requirements, such as preferences and interests. This information is initially acquired from the user, during the registration process and updated thereafter. The recommendations provided by the RBR and CBR exploit data only from the user׳s personal profile and physical activity behaviors and do not take into account the preferences. When recommendations are provided on the basis of these methodologies, multiple interpretations can be made. For example, consider a scenario where a user U requires X METs of physical activity to burn an amount Y of calories. The RBR or CBR can generate the following set of recommendations for the mentioned scenario.
                              
                                 •
                                 Walking M1 minutes OR Running M2 minutes OR Cycling M3 minutes OR Hiking M4 minutes, etc.

These recommendations are equivalent and can meet the user’s requirement mentioned in the scenario׳ however some of them may not fit the user׳s personal interests and preferences adequately. It may be that the user is interested in walking and cycling but not in running and hiking. Therefore, the final recommendations should only include walking and cycling.

To obtain the user׳s final preference-based personalized recommendations, we propose a multi-filter approach implemented as part of the PBR. According to this approach, filtered personalized physical activity recommendations (FPAR) are obtained from the list of generated personalized physical activity recommendations using the user preferences (
                              
                                 UPrefrences
                              
                           ). This process of filtration is shown in Algorithm 5.
                              Algorithm 5
                              Filtration of the personalized physical activity recommendations using user preferences.

The process of preference-based reasoning starts by loading the user׳s list of preferences, denoted by 
                              
                                 UPrefrences
                              
                           , from the intermediate database. The filtration process is performed in step 2 by taking each recommendation from the PAR and checking it against the preference list of the user. If the recommendation does not satisfy the user’s preference, it is filtered out; otherwise, it is added to the filtered list FPAR. This process is continued till all of the recommendations in PAR are checked. Finally, the filtered personalized recommendations are provided to the user on his mobile application interface using the 
                              
                                 PropgatFilteredPARToUIUX
                                 (
                              
                           ) function. At the same time, the final FPAR are retained in the FCB as the recommended physical activity. This incrementally grows the FCB, which can be best used in future for successful cases of physical activity recommendations.

For evaluating the performance of the proposed HRM, we performed the following set of tasks. Initially, we defined a weight management scenario, then set up a set of experiments, and finally performed the experiments and analyzed the results.

We considered and implemented a weight management scenario for healthy individuals who are overweight or tend to overweight. After implementation of the methodology, we asked ten volunteers (ages 26–38 years) to use the system for a couple of weeks. The basic personal information of these individuals is shown in 
                        Table 7.

The individuals were asked to use the application during the specified period of time and follow the recommendations provided. During the user׳s physical activity, the mobile application collected the user׳s daily physical activity data using the accelerometer sensor of the smartphone. These activities included sitting, standing, moving in a bus, moving in a subway, walking, running and cycling, which are recognized by the activity recognizer module (in the ICL) of the Mining Minds platform (Fig. 2). For the detailed methodological process of recognition of these activities and the support of ICL, refer to the work of Han et al. [49], and Banos et al., [50]. The data are stored in the DCL, from where they are recognized by the ICL and provided to the SCL for recommending the appropriate physical activity for the remaining targets.

To perform the experiments, we first set up the required environment, then specified the data and knowledge used for the experiments and finally defined the evaluation criteria.

The implementation of HRM was performed on a distributed framework in the Microsoft Azure public cloud environment. As described in Section 3, the MM platform is composed of four layers, and each layer is deployed on an individual virtual instance. The proposed HRM is part of SCL, which was hosted on a standard A3 MS Azure instance with Microsoft Windows Server 2012 R2 as the guest Operating System (OS). HRM communicates with DCL and SL and communicates with DCL to load data for reasoning and storing final recommendations. With SL, HRM provides a recommendation service on the request and response model. The services in SCL are implemented as SOAP-based web services, and their accessibility is defined using service contracts between layers. Web services are implemented in Java and deployed on Glassfish server on virtual machine (VM).

For implementation of the third experiment, hybrid-CBR, which operates on METCB, we used myCBR
                              3
                           
                           
                              3
                              
                                 http://mycbr-project.net/index.html
                              
                           , which is an open-source similarity-based retrieval tool. We used the Windows environment on a PC with an Intel Pentium Dual-CoreTM (2.5GHz) with 4GB of memory.

As we evaluate our proposed hybrid-CBR methodology in terms of the performance of the baseline-RBR and modified-RBR systems, we therefore require data and knowledge on all of these systems. For the baseline-RBR and modified-RBR experiments, we used the user’s personal profile, physical activity data and knowledge rules created based on the guidelines (Tables 3 and 4). For the hybrid-CBR experiments, we use METCB, prepared from METs guidelines [36]. The size of our ‘METCB’ is 119 instances. It contains the activities we focus on in the MM platform. The distribution of these activities in METCB is shown in 
                           Table 8.

In the compendium of physical activity guidelines [36], “standing” and “sitting” are the sub-categories of volunteer physical activity. More details on the structure of METCB are given in Table 5. For the offline testing and evaluation of the methodology, we designed a Test Case Base (TCB) that contains 64 test instances. We prepared these test cases from the original METCB. The method used for defining the value of the METs attribute of the TCB was random value computation. The random value is computed from the METs attribute of the original METCB using Microsoft Excel [51]. The function used for the random value generation is shown in Eq. 
                           14.
                              
                                 (14)
                                 
                                    
                                       METs
                                    
                                    
                                       .
                                    
                                    
                                       value
                                    
                                    
                                       =
                                    
                                    
                                       randbetween
                                    
                                    
                                       (
                                    
                                    
                                       bottom
                                    
                                    
                                       ,
                                    
                                    
                                       top
                                    
                                    
                                       )
                                    
                                 
                              
                           
                        

Here, 
                              
                                 bottom
                              
                            represents the minimum value of the 
                              
                                 METs
                              
                            and 
                              
                                 top
                              
                            represents the maximum value of 
                              
                                 METs
                              
                            for the new test cases. We used 
                              
                                 bottom
                                 =
                                 1.3
                              
                            and 
                              
                                 top
                                 =
                                 23
                              
                           . The values 1.3 and 23 are the minimum and maximum values, respectively, of the METs attribute in the original METCB.

To evaluate the proposed reasoning methodology, a group of system-centric evaluation criteria are used [52]. We evaluated the system using Type I (False positive-FP) and Type II (False negative-FN) errors, precision, recall, accuracy, and f-score criteria. We do not focus on a user-centric evaluation that addresses the user׳s satisfaction because in the current implementation, only a prototype of the MM platform is implemented. The hybrid-CBR experiments were performed in a closed environment in our lab; therefore, we leave user-centric evaluation as future work when the MM platform will be fully implemented with the feedback mechanism.

As the design of HRM is based on RBR-first followed by the CBR strategy, we therefore first evaluate the RBR and then tailor its results to CBR. During the RBR execution, the level-1 RBR is first executed for reasoning the weight status of all of the subjects using Algorithm 1 and presenting the output as recommendations to the users, as shown in 
                        Table 9. If the weight status is not underweight, the output is fed to level-2 RBR for setting goals and recommending weight loss and calorie consumption plans using Algorithm 2. The resulting recommendations of the level-2 RBR are also shown in Table 9.

These recommendations include the goal in terms of kg to lose, weight management plan, number of weeks to successfully execute the plan and daily calorie consumption plan. The volunteers were asked to follow these plan recommendations. The objective of HRM is to recommend appropriate physical activities for these plans. The HRM estimates METs values to materialize the plans. The METs estimation is required in two cases:
                           
                              •
                              At the start of plan, when HRM initially recommends the physical activity for starting the plan.

During the plan, i.e., the subject follows the plan and the system makes further recommendations.

In the first case, the METs estimation is performed only for the recommended ‘daily calorie consumption plan’, which is the output of the level-2 RBR. In the second case, the METs estimation is based on the remaining calories (see Eq. 
                        8). Once the METs value is computed, the corresponding physical activity recommendations are generated. These recommendations can be generated using the baseline-RBR, modified-RBR and hybrid-CBR systems; therefore, we perform three different sets of experiments, which are discussed below.

The purpose of this experiment is to build the initial baseline-RBR system for comparing the results of the systems. The results of this experiment were generated prior to the implementation of the proposed idea in the MM platform. In level-3 RBR, distinct-METs rules, shown in Table 3, are used to generate physical activity recommendations using Algorithm 3 with exact match criteria. A few examples of the prescribed recommendations are shown in 
                           Table 10. These are based on the initial calorie consumption plan of the 10 volunteers.

While generating these recommendations, the first METs values for all volunteers are computed based on their calorie plans and then combined with the attribute age group to prepare the data for the rules. The symbol ‘X’ in Table 10 denotes that no recommendation is generated for these query cases. From Table 10, it is clear that five out of ten queries cases are unsuccessful and that recommendations could not be generated for them. These include the queries of users 2, 4, 5, 6 and 10. The reasons for the empty recommendations are that these queries do not match any rule described in Table 3. The distinct rules used in this experiment use METs values adopted from the METs guideline for physical activity, which does not include the values 7.6, 8.1, 7.6, 6.4, and 7.7. Therefore, no rule with these values exists in Table 3, and hence, no match is found during the reasoning process for the specified input query cases. For the detailed evaluation of the baseline-RBR system, the whole ‘TCB’ is used as a test case. The results are calculated and presented in 
                           
                           Figs. 7 and 8, which show that the recall of the baseline-RBR is very low (45%) and that the Type II errors are very high (54.5%). The limitations of this experiment are summarized as follows: (1) creation of distinct rules for each value of METs is a difficult task that results in a rule intractability problem, (2) the closest similar recommendations are overlooked if an exact match is not found, and (3) a high Type II error rate is observed.

Based on the lesson learnt from the baseline-RBR system, level-3 RBR is implemented with ranged-METs rules (Table 4) in the MM platform. Algorithm 3 is used to execute these rules. To demonstrate the effectiveness of this experiment, we consider an example query for volunteer 4 (Table 7) with age group = adults and METs = 8.1 (see Table 10). The modified-RBR generates multiple recommendations for this query, though baseline-RBR fails to do so. To fully evaluate Algorithm 3, the whole ‘TCB’ is applied, and the results produced are shown in Figs. 7 and 8. The recall and accuracy are increased from 0.45 to 0.89 and the f-score is increased from 0.62 to 0.66, while the Type II error rate is reduced from 54.7 to 10.9. The advantage of the modified-RBR system is that all queries are served and no query is returned with empty recommendation results. For example, when the query case with ‘age group’ = All Age and METs = 2.7 is processed, a total of 17 recommendations are generated, as shown in 
                           Table 11. When the baseline-RBR is used for this query, no recommendation is generated because the METs value of the query case has no match with the METs values of the distinct rules. However, in the modified-RBR, the ranged-METs rule with a METs value less than 3 is satisfied, and hence, all of the associated recommendations are generated. Similarly, all of the queries yields results, and no query is unsuccessful.

The limitation of the system is its high False Alarm rate (i.e., Type I error), as shown in Table 11. From this table, we see that a list of 17) recommendations is generated for a single query. On average, 52 options of physical activities are provided as recommendations for each query, which is problematic. A summary of the Type I error for this experiment is shown in Fig. 8. The high False Alarm rate results in a wide scope of recommendations that may not fit well with the user’s required physical activity. This effect is normalized in PBR when multiple filters are applied for filtering unnecessary and irrelevant recommendations.

The objective of using CBR is to minimize limitations of the baseline-RBR and modified-RBR systems. To overcome these problems, we performed the CBR experiment in a local set up without involving the MM setup. The outputs of level-1 RBR and level-2 RBR and the estimated METs value generate a query case for the CBR methodology. Algorithm 4 uses the local similarity function, global similarity function, k-NN with k=3 and a threshold µ>=95 to generate appropriate physical activity recommendations. The CBR methodology has significantly improved Type I and Type II errors, as shown in Fig. 8. CBR offers the following advantages:
                              
                                 •
                                 
                                    Type I errors are reduced – k-NN with k=3 retrieves the top cases that are most relevant to the query case and specific to the user׳s requirement. Hence, the False Alarm rate is significantly reduced.


                                    Type II errors are reduced and recall is improved – the global similarity function of CBR with threshold µ>=95 has reduced Type II errors. The retrieval of most similar recommendations minimized the False Negative cases and improved recall.

Relevant and specific recommendations – the retrieve phase of CBR retrieves the top three recommendations that are either exactly the same as required by the user or close to the user’s specific requirements for physical activity. Hence, the number of recommendations is reduced to an optimum level on the one hand and is closer to the user’s specific requirements on the other.

To demonstrate the effectiveness of the CBR methodology for these objectives, we consider the case of 10 volunteers of the MM evaluation team and their estimated METs values (Table 10). The initial recommendations for the calculated METs values and age group=adults are shown in 
                           Table 12.


                           Table 12 shows that for each query case, the top three most relevant physical activity recommendations are provided, which fulfills the user׳s specific requirements. For the query age group = Adults and METs = 8.1, baseline-RBR failed to generate recommendations (see Table 10) and modified-RBR produced 59 possible recommendation options, but CBR produced only three recommendations (Table 12). The difference between the required METs values of the query case and the one using the rules is only 0.1, which is negligible; however, baseline-RBR fails to generate recommendations. This clearly shows the effectiveness of the proposed CBR methodology in HRM.

Moreover, to fully evaluate the CBR methodology, we apply the whole ‘TCB’ to generate recommendations. The results are shown in Figs. 7 and 8. These results are significantly improved compared with those of the baseline-RBR and modified-RBR methodologies.

The green line at the top of the graph in Fig. 7 shows the performance of hybrid-CBR, which is superior to the other two approaches.


                           Fig. 8 pictorially shows that hybrid RBR/CBR has improved Type I and Type II error results compared with the other experiments. To present the results of hybrid-CBR with different threshold values i.e., µ≥ 95, µ≥ 90 and µ≥ 85, we applied the ‘TCB’ and calculated the results, which are shown in 
                           Fig. 9.


                           Fig. 9 shows that the proposed hybrid-CBR model produces 100% results for precision, recall, and F-score when the threshold µ is taken as 85.

We evaluated the PBR methodology results using an example and examined the filtration process, which filters the physical activity recommendations generated by level-3 RBR/CBR. Consider the physical activity recommendations, shown in 
                           Table 13, for volunteer no. 8.

As the preferences of volunteer no. 8 are walking and cycling (Table 7), PBR filters out the climbing hills recommendation. Similarly, all recommendations are filtered one by one, and the final filtered recommendations are sent to the result propagator, which forwards the recommendations in descriptive form to the end user. 
                           Table 14 shows the filtered recommendations in descriptive form.

@&#DISCUSSION@&#

Physical activity recommendations help users adopt an active pattern of life. In this regard, the 2011 compendium of physical activities guidelines [36] suggests a wide range of activities with different intensity levels that are measured in terms of METs values. The study has described a hybrid multimodal reasoning methodology that has integrated RBR, CBR, and PBR. The RBR methodology is based on domain expert knowledge created from online guidelines for generating intermediate recommendations of goal setting, weight status and goal achieving plans that serve CBR to generate final physical activity recommendations. The goal of hybrid reasoning methodology is to ensure accurate and precise personalization of physical activity recommendations. A number of experiments are performed to demonstrate that the methodology achieves this goal. The results shows that the hybrid-CBR system outperformed the baseline-RBR and modified-RBR systems and had significantly improved precision, recall, accuracy, f-measure, and Type I and Type II errors. The baseline-RBR system was tested with 122 distinct-METs rules, and it exhibited specificity with exact match criteria, but suffered from a high False Negative rate, low accuracy and the rule intractability problem. The modified-RBR system was tested with a reduced number of ranged-METs rules and implemented in the MM platform and exhibited improved accuracy, but at the cost of low precision. A large number of recommendations were generated, with the majority being irrelevant to the user requirements. In the results, the correctness of recommendations was compromised by the False Alarm rate, which is generally unsuitable in the context of a personalized recommendation system. For minimizing the Type I and Type II errors and increasing the accuracy, hybrid-CBR was tested, and it outperformed the other two systems.

The challenging issue associated with hybrid-CBR was the design and preparation of the case base. We resolved this issue by creating a case base, METCB, from the compendium of physical activities guidelines [36], user personal profile information and general guidelines of physical activities from different organizations, such as WHO, UK and CDC. A CBR methodology has a complete cycle starting from retrieval to reuse, revise and retain; however, we did not focus on the revise step. The rational is that revise should be activated once any of the following conditions are obtained: (1) no existing case with confidence (nC, rC) ≥95 is found in METCB or (2) the MM feedback mechanism returns user remarks indicating dissatisfaction. As the MM feedback mechanism is not yet built, we did not focus on these options and have planned them for future work. Furthermore, the current ‘METCB’ consists of only three attributes: age group, required METs value and recommended physical activity. This imposes the constraint of using multi-level RBR prior to applying CBR. The RBR refines the required high-level information from the basic profile and physical activity information to serve the CBR cycle for generating personalized physical activity recommendations. The RBR part of this methodology can be excluded and the complexity can be reduced if a case base with all of the required data, starting from the user’s personal profile to the intermediate recommendations and final physical activity recommendations, are prepared and stored in a single case base. This case base will contain the user׳s personal profile, weight status, recommended plans for weight loss, required METs value, list of recommended physical activities, personal preference list and final filtered list of physical activities. To obtain a case base with the specified schema, we created a case base, named FCB, which incrementally adds new solved cases as successful cases for future use. For this purpose, in Algorithms 1–4, we added a statement that populates the respective attributes in the FCB. In the future, this case base will help in directly generating personalized physical activity recommendations. It will also help in validating results of other similar systems.

Regarding the scope of this study, using the weight management scenario, we only focused on a weight loss plan and did not address underweight and normal body weight cases. Therefore, the focus of recommendations is on weight loss plan rather than weight gain plan and weight maintenance plan. To smoothly tackle underweight and normal body weight cases, in Algorithm 1 and Algorithm 1, we display messages describing educational and motivational statements. However, we have not added details of these educational and motivational statements. In this study, we simply provide statements such as “eat high-fat foods or use protein powders to intake more calories”, “maintain a reasonable amount of the exercise routine”, and “you are doing good, keep it up” Furthermore, we also provide links to known online resources to educate the user about weight gain and weight maintenance.

We have partially implemented PBR with only a preference-based reasoning technique. The personalized recommendations are filtered one by one on the basis of the user׳s personal preferences and interests. A PBR system can provide more features; however, our interest lay only in filtering out irrelevant and unnecessary recommendations, and we therefore partially implemented the system in HRM. In the future, a complete user model may add more features to the system in terms of more personalized recommendations.

In the current technologically advanced era, a number of technologies (such as CCTV cameras etc.) can be used to monitor individuals’ behaviors, specifically those of the elderly, to provide surveillance services [53]. This reduces the risk of a number of unobserved incidents that mostly occur among the elderly. The traditional surveillance mechanism can be avoided if “personal big data” are introduced to record the recognized daily physical activities of individuals and if analysis operations are enabled for them.

This paper has presented HRM that effectively integrates multiple reasoning methodologies, such as RBR, CBR, and PBR, facilitating adoption and extension for different wellness services. The hybrid-CBR methodology achieves the objective of precise and specific personalized recommendation generation according to the user’s specific needs. The application of HRM in a weight management scenario has proved that the precision, recall, accuracy, and f-score of personalized physical activity recommendations can be significantly improved if the integration of these methodologies is performed correctly. Hybrid-CBR achieves 0.97% precision, 0.94% recall, 0.94% accuracy, and a 0.95% f-score on the TCB with 64 test instance cases. Similarly, the Type I and Type II errors are significantly reduced. The significance of the proposed methodology is its preciseness in the recommendations made, which ensures personalization. Furthermore, the proposed methodology can be easily extended to other application areas, which will increase its worth.

In future, we plan to design and prepare an extended case base to host all the relevant information required for generation of personalized recommendations. This will enhance performance of CBR and RBR in HRM. Furthermore, it will reduce the complexity of the HRM. Moreover, the current personalized recommendations are merely based on mode and intensity features that lake ‘amount’ and ‘frequency’ characteristics. Hence, we plan to include these aspects in the future extensions. We also plan to extend HRM for recommending physical activity plans in dynamic way, using the user calendar and personal schedule information. Finally, we also plan to extend PBR part of the model by exploiting user model in comprehensive way to ensure more personalization.

Authors have no conflict of interests.

@&#ACKNOWLEDGMENTS@&#

This work was supported by a grant from the Kyung Hee University in 2011 [KHU-20110219].

@&#REFERENCES@&#

