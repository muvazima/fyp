@&#MAIN-TITLE@&#Dynamic pricing of primary products and ancillary services

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Analyze multi-period dynamic pricing problem.


                        
                        
                           
                           Derive expression regarding expected total revenue.


                        
                        
                           
                           Analyze sales of primary and ancillary service to heterogeneous customers.


                        
                        
                           
                           Derive algorithm for deriving optimal prices of primary and ancillary service.


                        
                        
                           
                           Numerical analysis when dual pricing strategy outperforms single bundle price.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Revenue management

Ancillary services

Single-leg flight

Dynamic pricing

Customer choice

@&#ABSTRACT@&#


               
               
                  Motivated by the growing prevalence for airlines to charge for checked baggage, this paper studies pricing of primary products and ancillary services. We consider a single seller with a fixed capacity or inventory of primary products that simultaneously makes an ancillary service available, e.g. a single-leg flight and checked baggage service. The seller seeks to maximize total expected revenue by dynamically setting prices on both the primary product and the ancillary service. In each period, a random number of customers arrive each of whom may belong to one of three groups: those that only want the primary products, those that would buy the ancillary service if the price is right, and those that only purchase a primary product together with the ancillary service. A multi-period dynamic pricing model is presented with computational complexity only of order equal to the number of periods. For certain distributions, close to analytical results can be obtained from which structural insights may be gleaned.
               
            

@&#INTRODUCTION@&#

Consumers’ expectations of what should be included in a purchased service vary greatly. At sporting or entertainment events, nobody expects to be served complementary food or beverages. Similarly, for car-rentals, hotels, and cruises (including all-inclusive), consumers generally have little expectation of receiving ancillary services, such as car insurance, GPS, meals or wifi, for free. However, at the opposite spectrum, for air travel, consumers are, or rather were, generally accustomed to receive complementary ancillary services (such as food and beverages, inflight entertainment, and the most prominent bone of contention: checked baggage service). For example, KLM, Air France, Delta Air Lines, American Airlines, and Air Canada now all charge for checked baggage on their respective ‘domestic’  European and North American economy class flights; KLM and Air France charges Euro15 for each piece, while Delta Air Lines, American Airlines, and Air Canada charge $25 and $35 for the first and second checked bag, respectively.
                        2
                     
                     
                        2
                        On domestic Canadian routes, Air Canada charges $25 for the second.
                      Even the US low-cost carrier Southwest Airlines, which markets flight service with two free checked bags charges for additional bags beyond two (Delta charges $125, American $150, Air Canada $100, and Southwest $50.) In sharp contrast to Southwest Airlines, the US ultra-low-cost carrier Spirit Airlines charges not only for checked baggage ($30) but also for carry-on baggage ($35).

Revenue from ancillary services such as baggage fees is of growing importance to the airline industry. For example, the total baggage fee revenues for US airlines has over the past six years grown to a multi-billion dollar industry; $464M (2007), $1,149M (2008), $2,729M (2009), $3,395M (2010), $3,361M (2011), $3,487M (2012), $3,350M (2013), $3,529M (2014).
                        3
                     
                     
                        3
                        
                           http://www.rita.dot.gov/bts/sites/rita.dot.gov.bts/files/subject_areas/airline_information/baggage_fees/index.html; accessed 2015-08-27.
                      Common arguments from airlines for charging for checked baggage are increasing fuel costs and to allow customers greater price flexibility. It is lesser known that many passenger airlines also transport cargo. Therefore low or zero baggage fees can represent an opportunity cost since fewer checked bags means more cargo space. The operational revenue from cargo transportation varies considerably among passenger airlines. For instance, for Delta and American, cargo represents only about 3% of the total operating revenue (AMR Corp, 2011; Delta Air, 2011), while reportedly for the top eight Asian airlines, cargo represents on average 30% of total revenue (Wong, Zhang, Hui, & Leung, 2009).

In this paper, we present a model of a single seller with a fixed capacity or inventory of homogeneous products who also provides an ancillary service, e.g. an airline that offers checked baggage service or a hotel that provides wifi. We consider a finite, discretized time-horizon over which the seller for each period seeks to set the prices of the primary items and ancillary service in order to maximize expected total revenue. We assume in each period a random number of customers arrive and that customers randomly belong to one of three groups: those who only want a primary item and who would not consume the ancillary service even if it were free (Group 1), those who would potentially be willing to pay for both the primary item and ancillary service but who equally well would settle for just the primary item (Group 2), and those that only want a primary item as long as they also receive the ancillary service (Group 3). The objectives of the paper are: (1) to discuss how to derive optimal prices in order to maximize the expected total revenue, and (2) to analyze optimality conditions and the potential gain in charging separately for ancillary services versus a single charge for the bundle of the primary item and the ancillary service.

Given the importance and growing trend to charge for ancillary services, the paper makes several contributions. First, we provide a dynamic pricing model for evaluating the expected total revenue and propose an easy to implement algorithm for deriving the optimal dynamic prices. For the special case with uniform distributions and no capacity constraint, we derive close to closed form solutions. Second, we show that the optimal prices for the unconstrained capacity problem can often serve as a good approximation for the capacity constrained problem. Third, through numerical analysis based on the uniform distribution we show that the incremental gain in charging separately for the ancillary service is higher when the proportion of Group 3 type customers is lower. In other words, the incremental gain for airlines/hotels to impose ancillary fees is smaller when the proportion of customers with demand for the ancillary checked baggage/wifi service is high. Instead the largest incremental gain for a dual pricing strategy is when the majority of customers do not demand the ancillary service.

@&#LITERATURE REVIEW@&#

Revenue Management (RM), formerly referred as Yield Management, has over the last forty years experienced a tremendous growth- both in industry and academic research. For a general overview and background, see Bitran and Caldentey (2003); Boyd and Bilegan (2003); McGill and van Ryzin (1999); Talluri and van Ryzin (2004b). Although there is a rich literature on both capacity based and pricing based revenue management, as firms and industries develop innovative business solutions new research opportunities arise. A prime example is the sale of ancillary or secondary products and services - a relatively undeveloped research area.

The modeling framework presented in this paper contributes to three major components of the RM literature. First, we are considering dynamic pricing over time but extend the setting to include ancillary services. To the best of our knowledge this is the first paper to do so. Thus far the main focus has been on the dynamic pricing of the primary product, e.g. Zhang and Cooper (2009) who present a Markov Decision Process model for dynamic airline pricing. Second, we consider a stochastic customer arrival process. Traditionally, much of the literature regarding airline pricing or capacity allocation is based on Poisson arrivals of customers and formulated as a multi-period Network Revenue Management problem; see Gallego and van Ryzin (1997); Ch. 3 of Talluri and van Ryzin (2004b); Maglaras and Meissner (2006); Kunnumkal and Topaloglu (2010); Meissner and Strauss (2012). The general idea is to consider a number of small time periods where the probability of a single customer is small such that no more than one arrival is possible. Optimal decisions and total expected revenue are then found by recursively solving the Bellman equations. In this paper, we model the problem in a different manner. The benefit with our probabilistic approach is that it allows us to formulate the problem as a straightforward one dimensional optimization problem from which structural properties can be derived, e.g. uniqueness of the optimal prices, etc. Indeed, in special cases, we can obtain results that are close to closed form. Additional benefits is that our model allows for a general arrival process (not just Poisson), while not adding any computational complexity. Third, our model framework is based on an underlying customer choice model. Recent development within the RM literature include to directly model underlying consumer behavior or choices, see Talluri and van Ryzin (2004a) and chapters 2.6 and 7 of Talluri and van Ryzin (2004b); Kunnumkal and Topaloglu (2010); Chen and Homem-de-Mello (2010); and Cooper and Li (2012).

Two papers directly related to our research objective include Shulman and Geng (2012) and Allon, Bassamboo, and Lariviere (2011). Shulman and Geng (2012) analyze a duopoly game between two asymmetric firms that offer a base good and an add-on to a set of heterogeneous consumers. They segment the consumers into three groups: (i) a base group that does not buy the add-on, (ii) a group of knowledgeable consumers who buys the add-on if the add-on price is less than their willingness-to-pay, and (iii) a group of bounded rational consumers who were expecting to receive the add-on for free and who will only buy the add-on as long as their willingness-to-pay is higher than the total price. It is assumed all three consumer groups purchase a base good. Based on the assumption that consumers’ willingness-to-pay is uniformly distributed, Shulman and Geng (2012) derive equilibrium prices for the base good and the add-on.

The paper by Allon et al. (2011) looks at the problem from a different perspective, namely from a coordinated social perspective of pricing the ‘main service’  and ‘ancillary service’  such that both consumer surplus and firm profit is maximized. They characterize, under both homogeneous and heterogeneous customer settings, when a two-part tariff versus bundling is socially optimal. They extend their results to a setting with multiple sellers and show that, at equilibrium, pricing of the ancillary service is set at the marginal cost of providing the service. One of the main differences between the modeling framework of Allon et al. (2011) versus our paper and Shulman and Geng (2012) is that customers do not have an explicit value for the ancillary service. Instead, Allon et al. (2011) assume all customers have a cost-driven likelihood for wanting/needing the ancillary service regardless of price (where the probability is decreasing in an effort level which indirectly depends on the price of the ancillary service).

Although our framework shares some common features with Shulman and Geng (2012) and Allon et al. (2011), there are five significant differences. First, while both Shulman and Geng (2012) and Allon et al. (2011) restrict attention to a single-period setting, we consider a multi-period dynamic pricing setting. Second, we consider the case of a possible capacity constraint on the number of primary items (i.e. base good or main service). In other words, we do not assume all consumers are guaranteed a primary item. Third, we extend the heterogeneity of consumers so that not all consumers are assumed to purchase a primary item if one is available. Fourth, although we include numerical illustrations based on the uniform distribution, our main discussion centers on a general modeling framework without any specific assumption regarding the distribution of the willingness-to-pay. Finally, our overall research objectives are different. For instance, Shulman and Geng (2012) seek to address how add-on pricing affects firm profits and consumer surplus in an asymmetric duopoly game with the three consumer groups. Implicit in their modeling framework and explicit in their results is that firms charge for the add-on. In contrast, one of our objectives is to analyze under what conditions a firm should charge for the ancillary item (or add-on). The motivation for this is to analyze the Delta/American Airlines versus Southwest Airlines business strategies of checked baggage service.

Framing the airline baggage fee problem as a bundling and two-part tariff problem, there is a vast literature spanning economics (e.g. the classic Oi (1971), and McAfee, McMillan, and Whinston (1989)), management science (e.g. Banciu, Gal-Or, & Mirchandani (2010)), and marketing (e.g. Essegaier, Gupta, & Zhang (2002)). From the four listed, the one most related to our paper is Essegaier et al. (2002), who considers a single-period pricing strategy of access services (e.g. gym membership, phone and internet service). Similar to our paper, Essegaier et al. (2002) are interested in analyzing when flat fee versus two-part tariff pricing is optimal. Although there are differences to our modeling framework (e.g. we consider multi-period dynamic pricing problem while they consider a single-period problem), we share some similarities. For instance, Essegaier et al. (2002) also consider two types of heterogeneous customers (heavy vs. light users), and a seller (service provider) constrained by limited capacity. On the other hand, Essegaier et al. (2002) exclusively consider uniformly distributed willingness-to-pay (preferences), while we consider a general framework. Interestingly, even for the case with uniform distributions, we have some contrasting results, such as, when the seller has no capacity constraint, for Essegaier et al. (2002) a flat fee pricing is then optimal, while we show that imposing a two-part tariff (e.g. charging for the baggage service separately ) may generate substantial revenue gain.

It may at first seem the bundling problem is different from the airline baggage fee problem, since it might seem odd to consider an airline selling baggage service unbundled, i.e. an airline selling “checked baggage” service without the need to also purchase an air fare ticket. However, as mentioned earlier, passenger airlines do in fact sell excess carrying capacity for cargo transportation on spot markets. Since cargo transportation is a separate business issue and currently a relatively minor contribution to the operating revenue for many airlines, we restrict our analysis to the special partial mixed bundling setting where the ancillary service can only be sold as part of a bundle with the primary product. For general air cargo RM, see Amaruchkul, Cooper, and Gupta (2007); Han, Tang, and Huang (2010); and Ch.10.12 of Talluri and van Ryzin (2004b). Regarding the joint operation of passenger and air cargo revenue management, we are only aware of the paper by Wong et al. (2009).

Two related empirical papers include Brueckner, Lee, Picard, and Singer (2015) and Nicolae, Arkan, Deshpande, and Ferguson (2013). Brueckner et al. (2015) empirically analyze whether the air fares were affected by the introduction of checked baggage fees. In particular, whether air fare decreased due to the unbundling of the ancillary service. Nicolae et al. (2013), motivated by the effect on operational performance by (presumably) having to handle fewer bags, investigates how the introduction of baggage fees affects the departure delays and scheduled block times.

Finally, in addition to modeling based research there is also a vast literature within behavioral economics, marketing and consumer psychology which through empirical and experimental studies investigate the effect of prices on consumer choices. For an overview of some behavioral issues related to the problem we study, see Hamilton, Srivastava, and Abraham (2010).

We consider a seller who over a fixed time-horizon of T periods wants to sell a fixed inventory (capacity) of C homogeneous primary items; T < ∞. In addition to the primary items, the seller also makes available an optional secondary or ancillary service to those who have already purchased a primary item. For instance, an airline may offer checked baggage service at an extra fee or a hotel might provide wifi for an additional charge. We index the periods by t and order them in reverse such that the first period is 
                        
                           t
                           =
                           T
                           ,
                        
                      and the final period is 
                        
                           t
                           =
                           1
                        
                     . At the end of period 
                        
                           t
                           =
                           1
                        
                      the resource perishes, e.g. the flight departs. The seller’s objective is to maximize total expected revenue by setting optimal prices of the primary item p
                     1, t
                      and ancillary service p
                     2, t
                     , for 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     . We let p
                     
                        t
                      represent the vector of prices in time-period t, 
                        
                           
                              p
                              t
                           
                           =
                           
                              (
                              
                                 p
                                 
                                    1
                                    ,
                                    t
                                 
                              
                              ,
                              
                                 p
                                 
                                    2
                                    ,
                                    t
                                 
                              
                              )
                           
                           ,
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     . No additional inventory decision or constraints on the ancillary service are imposed, i.e. the available capacity for the ancillary service is no less than the capacity C of the primary items. Note that a special case of our problem formulation is when p
                     2, t
                      is fixed throughout the planning horizon T (and only p
                     1, t
                      is dynamically updated each period). For instance, currently most airlines and hotels tend to charge a fixed baggage and wifi fee, respectively, and only dynamically change the air fare and room rate, respectively. In Section 3.3 we show that this pricing strategy is in fact optimal when the underlying willingness-to-pay of customers is uniformly distributed.

It is assumed the customer base consists of three groups: those that are only interested in purchasing a primary item (Group 1), those that in addition to the primary item are interested in purchasing the ancillary service if the total price 
                        
                           
                              p
                              
                                 1
                                 ,
                                 t
                              
                           
                           +
                           
                              p
                              
                                 2
                                 ,
                                 t
                              
                           
                        
                      is attractive but who would be fine with just the primary item (Group 2), and those that are interested in purchasing a primary item only if they can purchase an ancillary item as well (Group 3). For example, one could think of airline passengers as those who only want a seat and do not need to check a bag, those who would check a bag if the total price is within their willingness-to-pay but who are able to do without checked baggage service, and those who must check a bag. Denote the probability a customer belongs to Group i by αi
                     , 
                        
                           i
                           =
                           1
                           ,
                           2
                           ,
                           3
                           ,
                        
                      where 
                        
                           
                              α
                              1
                           
                           +
                           
                              α
                              2
                           
                           +
                           
                              α
                              3
                           
                           =
                           1
                        
                     . It should be noted that we are not considering price or fare class segmentation of customers. For example, for the airline illustration, we are assuming a single fare class (p
                     1, t
                     ) but with three distinct groups of customers: all types of travelers pay p
                     1, t
                      for the ticket but in addition a Group 2 customer might pay and Group 3 customer will pay p
                     2, t
                      for checked baggage service if a ticket is purchased.

We assume customers in all groups are heterogeneous with respect to their willingness-to-pay (wtp). The distribution function of the willingness-to-pay for Group i is denoted by Fi
                     (·), 
                        
                           i
                           =
                           1
                           ,
                           2
                           ,
                           3
                        
                     . We assume Fi
                     (·) are (strictly) increasing and continuous and that all customers are independent. For notational convenience we restrict the analysis to the case when Fi
                     (·), 
                        
                           i
                           =
                           1
                           ,
                           2
                           ,
                           3
                           ,
                        
                      (as well as αi
                     ) are stationary and do not depend on time t. The extension to non-stationary distribution functions is straight-forward and all results remain tractable; more details are provided in the Conclusion. If a primary item is available, then a customer in Group 1 who has a wtp at least as high as p
                     1, t
                      will always purchase a primary item, a customer in Group 2 who has a wtp at least as high as p
                     1, t
                      will also always purchase a primary item (if in addition the Group 2 customer’s wtp is at least as high as 
                        
                           
                              p
                              
                                 1
                                 ,
                                 t
                              
                           
                           +
                           
                              p
                              
                                 2
                                 ,
                                 t
                              
                           
                        
                      then they will purchase both a primary item and the ancillary service), and customers in Group 3 with a reservation price of at least 
                        
                           
                              p
                              
                                 1
                                 ,
                                 t
                              
                           
                           +
                           
                              p
                              
                                 2
                                 ,
                                 t
                              
                           
                        
                      will purchase both a primary item and ancillary service. Note that for Group 2 and Group 3 customers the distribution functions F
                     2(·) and F
                     3(·), are for the combined bundle of the primary product and ancillary service, but with the distinction that a Group 2 customer with a wtp between p
                     1, t
                      and 
                        
                           
                              p
                              
                                 1
                                 ,
                                 t
                              
                           
                           +
                           
                              p
                              
                                 2
                                 ,
                                 t
                              
                           
                        
                      will only purchase the primary product (without the ancillary service) while a Group 3 customer with the same wtp would not purchase anything.

We assume payments for both the primary item and ancillary service are made at the time of booking. Although many airline passengers pay for checked baggage service at the time of check-in, most airlines provide opportunities and incentives for passengers to pre-pay at the time of booking. We also assume that customers arrive at random and that the seller cannot distinguish or discriminate between customers from the three groups upon arrival. So, for instance, it might be the case that a higher paying customer from Group 3 is turned away because a lower paying Group 1 customer has taken the last available item or vice-versa. Furthermore, we assume the seller cannot ration or reserve capacity among the three groups.

If a primary item is available in period t then, since customers arrive at random, the probability the next sale is a Group i customer is given by 
                        
                           
                              α
                              i
                           
                           
                              (
                              1
                              −
                              
                                 F
                                 i
                              
                              
                                 (
                                 
                                    p
                                    
                                       1
                                       ,
                                       t
                                    
                                 
                                 )
                              
                              )
                           
                           ,
                        
                      for 
                        
                           i
                           =
                           1
                           ,
                           2
                           ,
                        
                      and 
                        
                           
                              α
                              3
                           
                           
                              (
                              1
                              −
                              
                                 F
                                 3
                              
                              
                                 (
                                 
                                    p
                                    
                                       1
                                       ,
                                       t
                                    
                                 
                                 +
                                 
                                    p
                                    
                                       2
                                       ,
                                       t
                                    
                                 
                                 )
                              
                              )
                           
                           ,
                        
                      for 
                        
                           i
                           =
                           3
                           ,
                        
                     
                     
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     . We define the overall probability of a sale in period t by,

                        
                           (1)
                           
                              
                                 
                                    
                                       
                                          
                                             z
                                             t
                                          
                                          
                                             (
                                             
                                                p
                                                t
                                             
                                             )
                                          
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             α
                                             1
                                          
                                          
                                             (
                                             1
                                             −
                                             
                                                F
                                                1
                                             
                                             
                                                (
                                                
                                                   p
                                                   
                                                      1
                                                      ,
                                                      t
                                                   
                                                
                                                )
                                             
                                             )
                                          
                                          +
                                          
                                             α
                                             2
                                          
                                          
                                             (
                                             1
                                             −
                                             
                                                F
                                                2
                                             
                                             
                                                (
                                                
                                                   p
                                                   
                                                      1
                                                      ,
                                                      t
                                                   
                                                
                                                )
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             α
                                             3
                                          
                                          
                                             (
                                             1
                                             −
                                             
                                                F
                                                3
                                             
                                             
                                                (
                                                
                                                   p
                                                   
                                                      1
                                                      ,
                                                      t
                                                   
                                                
                                                +
                                                
                                                   p
                                                   
                                                      2
                                                      ,
                                                      t
                                                   
                                                
                                                )
                                             
                                             )
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     and the probability of no sale by 
                        
                           1
                           −
                           
                              z
                              t
                           
                           
                              (
                              
                                 p
                                 t
                              
                              )
                           
                           ,
                        
                     
                     
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     .

We assume that in each period t a random number Nt
                      of potential customers arrive, 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     . We impose no specific arrival process and allow for any general stochastic arrival process (including non-homogeneous with respect to time). We denote the probability that exactly n potential customers arrive in period t by 
                        
                           Pr
                           [
                           
                              N
                              t
                           
                           =
                           n
                           ]
                           ,
                        
                     
                     
                        
                           n
                           =
                           0
                           ,
                           1
                           ,
                           2
                           ,
                           …
                        
                     ; 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     . To avoid trivial cases we assume 
                        
                           E
                           [
                           
                              N
                              t
                           
                           ]
                           <
                           ∞
                           ,
                        
                      for all t. Let Mt
                     (p
                     
                        t
                     ) be the total (random) demand in period t given the prices p
                     
                        t
                     , 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     . In other words, Mt
                     (p
                     
                        t
                     ) is the (random) subset out of the Nt
                      customers who are willing to buy a primary item (possibly with the ancillary service) if a primary item is available, i.e. the total number of Group 1, 2, and 3 customers who are willing to purchase a ticket. Consequently, the probability mass function for Mt
                     (p
                     
                        t
                     ) is given by,

                        
                           (2)
                           
                              
                                 
                                    
                                       
                                          
                                             g
                                             t
                                          
                                          
                                             (
                                             x
                                             |
                                             
                                                p
                                                t
                                             
                                             )
                                          
                                       
                                    
                                    
                                       ≡
                                    
                                    
                                       
                                          Pr
                                          [
                                          
                                             M
                                             t
                                          
                                          
                                             (
                                             
                                                p
                                                t
                                             
                                             )
                                          
                                          =
                                          x
                                          ]
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∑
                                             
                                                n
                                                ≥
                                                x
                                             
                                          
                                          
                                             (
                                             
                                                n
                                                x
                                             
                                             )
                                          
                                          
                                             z
                                             t
                                          
                                          
                                             
                                                (
                                                
                                                   p
                                                   t
                                                
                                                )
                                             
                                             x
                                          
                                          
                                             
                                                (
                                                1
                                                −
                                                
                                                   z
                                                   t
                                                
                                                
                                                   (
                                                   
                                                      p
                                                      t
                                                   
                                                   )
                                                
                                                )
                                             
                                             
                                                n
                                                −
                                                x
                                             
                                          
                                          Pr
                                          
                                             [
                                             
                                                N
                                                t
                                             
                                             =
                                             n
                                             ]
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     for 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                           ,
                        
                      with an associated cumulative distribution function given by 
                        
                           
                              G
                              t
                           
                           
                              (
                              x
                              |
                              
                                 p
                                 t
                              
                              )
                           
                           ≡
                           Pr
                           
                              [
                              
                                 M
                                 t
                              
                              
                                 (
                                 
                                    p
                                    t
                                 
                                 )
                              
                              ≤
                              x
                              ]
                           
                        
                     .

Note that we do not know exactly how many (potential) customers will arrive each period, to which group they belong or their willingness-to-pay. Furthermore, we do not assume the seller has unlimited capacity but instead include the possibility that 
                        
                           C
                           <
                           
                              ∑
                              
                                 t
                                 =
                                 1
                              
                              T
                           
                           
                              N
                              t
                           
                        
                      and hence the seller cannot necessarily serve all demand. In other words, the seller may incur ‘lost sales’  and, in particular, may lose sales to customers willing to pay more. In Section 4 we analyze the “simpler” case when capacity is not a constraining factor and the seller could sell a primary item to everyone. Since customers from the three groups arrive at random, there are many arrival combinations to consider. Consequently, formulating the seller’s expected total profit is not immediate. However, a work-around is to condition on the realized demand and evaluate the expected revenue per demand realization. Finally, although the dynamic pricing over several time-periods provides additional combinatorial complexity which usually suffers from the curse of dimensionality, we provide a solution that enables the computational complexity to only grow linearly in the length of the time-horizon T.

In this section, we formulate a multiperiod dynamic pricing model. By concentrating only on the probability of a sale during a period, we show that only a one dimensional decision variable need be considered. This is achieved by looking at the maximum expected revenue per sale at a given probability of sale. Section 3.3 contains an illustration of the approach. Multiperiod optimization and an illustrative example are provided in Section 3.2. The computational complexity of obtaining solutions only increases linearly in the number of periods.

We formulate the problem as a Dynamic Program: Decision Epochs — We assume the planning-horizon consists of a fixed and finite number or periods T, indexed by 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     . We assume decisions are made at the beginning of each period before a random number Nt
                      of potential customers arrive. State space — At the beginning of each period t the seller observes the amount of remaining capacity ct
                     , 
                        
                           
                              c
                              t
                           
                           =
                           0
                           ,
                           1
                           ,
                           2
                           ,
                           …
                           ,
                           C
                        
                     . Actions — At the beginning of each period t the seller has to set non-negative prices for both the primary item, p
                     1, t
                     , and ancillary service, p
                     2, t
                     . We let p
                     
                        t
                      denote the action in period 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     . Rewards — In each period t, for a given state ct
                      and set of prices p
                     
                        t
                     , the seller’s expected revenue is given by Πt
                     (p
                     
                        t
                     , ct
                     ). Transition Probabilities — In each period t, for a given state c and set of prices p, the transition probabilities are given by (2),

                        
                           
                              
                                 
                                    
                                       
                                          Pr
                                          {
                                          
                                             c
                                             
                                                t
                                                −
                                                1
                                             
                                          
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             c
                                             −
                                             x
                                             |
                                          
                                          
                                             c
                                             t
                                          
                                          =
                                          c
                                          ,
                                          
                                             p
                                             t
                                          
                                          
                                             =
                                             p
                                             }
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          {
                                          
                                             
                                                
                                                   
                                                      
                                                         g
                                                         t
                                                      
                                                      
                                                         (
                                                         x
                                                         |
                                                         p
                                                         )
                                                      
                                                   
                                                
                                                
                                                   
                                                      x
                                                      =
                                                      0
                                                      ,
                                                      1
                                                      ,
                                                      2
                                                      ,
                                                      …
                                                      ,
                                                      c
                                                      −
                                                      1
                                                      ,
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      (
                                                      1
                                                      −
                                                      
                                                         G
                                                         t
                                                      
                                                      
                                                         (
                                                         
                                                            c
                                                            t
                                                         
                                                         −
                                                         1
                                                         |
                                                         p
                                                         )
                                                      
                                                      )
                                                   
                                                
                                                
                                                   
                                                      x
                                                      =
                                                      c
                                                      ,
                                                   
                                                
                                             
                                             
                                                
                                                   0
                                                
                                                
                                                   
                                                      o
                                                      t
                                                      h
                                                      e
                                                      r
                                                      w
                                                      i
                                                      s
                                                      e
                                                      .
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     
                  


                     Optimality equations — Let Vt
                     (c) be the optimal expected revenue from the last t remaining periods given a capacity c at the beginning of period t, for 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                           ,
                        
                     
                     
                        
                           (3)
                           
                              
                                 
                                    
                                       
                                          
                                             V
                                             t
                                          
                                          
                                             (
                                             c
                                             )
                                          
                                          =
                                          
                                             sup
                                             
                                                
                                                   p
                                                   
                                                      1
                                                      ,
                                                      t
                                                   
                                                
                                                ,
                                                
                                                   p
                                                   
                                                      2
                                                      ,
                                                      t
                                                   
                                                
                                             
                                          
                                          
                                             {
                                             
                                                Π
                                                t
                                             
                                             
                                                (
                                                
                                                   p
                                                   t
                                                
                                                ,
                                                c
                                                )
                                             
                                             +
                                             
                                                ∑
                                                
                                                   x
                                                   =
                                                   1
                                                
                                                
                                                   c
                                                   −
                                                   1
                                                
                                             
                                             
                                                V
                                                
                                                   t
                                                   −
                                                   1
                                                
                                             
                                             
                                                (
                                                c
                                                −
                                                x
                                                )
                                             
                                             
                                                g
                                                t
                                             
                                             
                                                (
                                                x
                                                |
                                                
                                                   p
                                                   t
                                                
                                                )
                                             
                                             
                                                )
                                             
                                             }
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     with the boundary conditions that 
                        
                           
                              V
                              t
                           
                           
                              (
                              0
                              )
                           
                           =
                           0
                        
                      for all t, and 
                        
                           
                              V
                              0
                           
                           
                              (
                              c
                              )
                           
                           =
                           0
                        
                      for all c.

Using standard backward induction we could solve for optimality and derive the optimal prices for each period t and every state c. Unfortunately, this entails the standard curse of dimensionality associated with many pricing problems solved using dynamic programming. Therefore, we now explicitly transform the expressions to reflect the approach that the optimization equations can be reduced from a two dimensional optimization over p
                     
                        t
                      to a one dimensional optimization over 
                        
                           [
                           0
                           ,
                           1
                           ]
                        
                     .

Define Dt
                     (z) to be the (random) number of people willing to buy a primary item during period t when one is available given that the probability of any primary item sale equals z, 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     . Since the Fi
                     (·) are (strictly) increasing and continuous, 
                        
                           i
                           =
                           1
                           ,
                           2
                           ,
                           3
                           ,
                        
                      it is always possible to find at least one set of prices 
                        
                           
                              p
                              t
                           
                           =
                           
                              (
                              
                                 p
                                 
                                    1
                                    ,
                                    t
                                 
                              
                              ,
                              
                                 p
                                 
                                    2
                                    ,
                                    t
                                 
                              
                              )
                           
                        
                      such that, for a given 
                        
                           z
                           ∈
                           [
                           0
                           ,
                           1
                           ]
                           ,
                        
                     
                     
                        
                           (4)
                           
                              
                                 
                                    
                                       
                                          z
                                          =
                                          
                                             α
                                             1
                                          
                                          
                                             (
                                             1
                                             −
                                             
                                                F
                                                1
                                             
                                             
                                                (
                                                
                                                   p
                                                   
                                                      1
                                                      ,
                                                      t
                                                   
                                                
                                                )
                                             
                                             )
                                          
                                          +
                                          
                                             α
                                             2
                                          
                                          
                                             (
                                             1
                                             −
                                             
                                                F
                                                2
                                             
                                             
                                                (
                                                
                                                   p
                                                   
                                                      1
                                                      ,
                                                      t
                                                   
                                                
                                                )
                                             
                                             )
                                          
                                          +
                                          
                                             α
                                             3
                                          
                                          
                                             (
                                             1
                                             −
                                             
                                                F
                                                3
                                             
                                             
                                                (
                                                
                                                   p
                                                   
                                                      1
                                                      ,
                                                      t
                                                   
                                                
                                                +
                                                
                                                   p
                                                   
                                                      2
                                                      ,
                                                      t
                                                   
                                                
                                                )
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     For a given z, we denote P(z) as the set of price pairs (p
                     1, p
                     2) such that (4) holds,

                        
                           
                              
                                 
                                    
                                       
                                          P
                                          (
                                          z
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          {
                                          
                                             (
                                             
                                                p
                                                1
                                             
                                             ,
                                             
                                                p
                                                2
                                             
                                             )
                                          
                                          
                                          |
                                          
                                          
                                             α
                                             1
                                          
                                          
                                             (
                                             1
                                             −
                                             
                                                F
                                                1
                                             
                                             
                                                (
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             )
                                          
                                          +
                                          
                                             α
                                             2
                                          
                                          
                                             (
                                             1
                                             −
                                             
                                                F
                                                2
                                             
                                             
                                                (
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             α
                                             3
                                          
                                          
                                             (
                                             1
                                             −
                                             
                                                F
                                                3
                                             
                                             
                                                (
                                                
                                                   p
                                                   1
                                                
                                                +
                                                
                                                   p
                                                   2
                                                
                                                )
                                             
                                             )
                                          
                                          
                                             =
                                             z
                                             }
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     
                  

The probability mass function of Dt
                     (z) is given by, for 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                           ,
                        
                     
                     
                        
                           (5)
                           
                              
                                 
                                    
                                       
                                          
                                             h
                                             t
                                          
                                          
                                             (
                                             x
                                             |
                                             z
                                             )
                                          
                                       
                                    
                                    
                                       
                                          ≡
                                          Pr
                                          
                                             [
                                             
                                                D
                                                t
                                             
                                             
                                                (
                                                z
                                                )
                                             
                                             =
                                             x
                                             ]
                                          
                                          =
                                          
                                             ∑
                                             
                                                n
                                                ≥
                                                x
                                             
                                          
                                          
                                             (
                                             
                                                n
                                                x
                                             
                                             )
                                          
                                          
                                             z
                                             x
                                          
                                          
                                             
                                                (
                                                1
                                                −
                                                z
                                                )
                                             
                                             
                                                n
                                                −
                                                x
                                             
                                          
                                          Pr
                                          
                                             [
                                             
                                                N
                                                t
                                             
                                             =
                                             n
                                             ]
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     Let 
                        
                           
                              H
                              t
                           
                           
                              (
                              x
                              |
                              z
                              )
                           
                           ≡
                           Pr
                           
                              [
                              
                                 D
                                 t
                              
                              
                                 (
                                 z
                                 )
                              
                              ≤
                              x
                              ]
                           
                        
                      denote the corresponding cumulative distribution function. Note that Expressions (2) and (5) have identical functional form but involve different arguments, which is why we use the two different notations gt
                     (x|p) and ht
                     (x|z) to distinguish them. In (2) the argument is the prices p
                     1, t
                      and p
                     2, t
                     , whereas in (5) the argument is the probability of sale z.

Define π(z) as the maximum expected revenue per customer sale for a given likelihood of a sale z, i.e. for 
                        
                           z
                           ∈
                           [
                           0
                           ,
                           1
                           ]
                           ,
                        
                     
                     
                        
                           (6)
                           
                              
                                 
                                    
                                    
                                    
                                       
                                          π
                                          (
                                          z
                                          )
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                          =
                                          
                                          
                                             sup
                                             
                                                
                                                   (
                                                   
                                                      p
                                                      1
                                                   
                                                   ,
                                                   
                                                      p
                                                      2
                                                   
                                                   )
                                                
                                                ∈
                                                P
                                                
                                                   (
                                                   z
                                                   )
                                                
                                             
                                          
                                          
                                             {
                                             
                                                p
                                                1
                                             
                                             +
                                             
                                                p
                                                2
                                             
                                             
                                                
                                                   
                                                      α
                                                      2
                                                   
                                                   
                                                      (
                                                      1
                                                      −
                                                      
                                                         F
                                                         2
                                                      
                                                      
                                                         (
                                                         
                                                            p
                                                            1
                                                         
                                                         +
                                                         
                                                            p
                                                            2
                                                         
                                                         )
                                                      
                                                      )
                                                   
                                                   +
                                                   
                                                      α
                                                      3
                                                   
                                                   
                                                      (
                                                      1
                                                      −
                                                      
                                                         F
                                                         3
                                                      
                                                      
                                                         (
                                                         
                                                            p
                                                            1
                                                         
                                                         +
                                                         
                                                            p
                                                            2
                                                         
                                                         )
                                                      
                                                      )
                                                   
                                                
                                                z
                                             
                                             }
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

Note that the supremum is taken over all (p
                     1, p
                     2) that result in the given probability of sale z. Furthermore, the optimality Eq. (3) can now be reduced to one-dimensional optimizations over the probability of a sale. We formally summarize this result in the following proposition.
                        4
                     
                     
                        4
                        This result is similar to Prop.1 by Maglaras and Meissner (2006) regarding optimal aggregate consumption rates for multi-product dynamic pricing problems. We would like to acknowledge an anonymous reviewer for bringing this to our attention.
                     
                     
                        Proposition 1
                        
                           The optimal expected total revenue for the last
                           
                              
                                 t
                                 =
                                 1
                                 ,
                                 …
                                 ,
                                 T
                              
                            
                           periods is given by,
                           
                              
                                 (7)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   V
                                                   t
                                                
                                                
                                                   (
                                                   c
                                                   )
                                                
                                                =
                                                
                                                   sup
                                                   
                                                      0
                                                      ≤
                                                      z
                                                      ≤
                                                      1
                                                   
                                                
                                                
                                                   {
                                                   π
                                                   
                                                      (
                                                      z
                                                      )
                                                   
                                                   ×
                                                   E
                                                   
                                                      [
                                                      min
                                                      
                                                         (
                                                         
                                                            D
                                                            t
                                                         
                                                         
                                                            (
                                                            z
                                                            )
                                                         
                                                         ,
                                                         c
                                                         )
                                                      
                                                      ]
                                                   
                                                   +
                                                   
                                                      ∑
                                                      
                                                         x
                                                         =
                                                         1
                                                      
                                                      
                                                         c
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      V
                                                      
                                                         t
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      (
                                                      c
                                                      −
                                                      x
                                                      )
                                                   
                                                   
                                                      h
                                                      t
                                                   
                                                   
                                                      (
                                                      x
                                                      |
                                                      z
                                                      )
                                                   
                                                   }
                                                
                                                ,
                                             
                                          
                                       
                                    
                                 
                              
                           
                           with the boundary conditions
                           
                              
                                 
                                    V
                                    t
                                 
                                 
                                    (
                                    0
                                    )
                                 
                                 =
                                 0
                                 ,
                              
                            
                           for all t, and
                           
                              
                                 
                                    V
                                    0
                                 
                                 
                                    (
                                    c
                                    )
                                 
                                 =
                                 0
                                 ,
                              
                            
                           for all c, and
                           
                              
                                 E
                                 
                                    [
                                    min
                                    
                                       (
                                       
                                          D
                                          t
                                       
                                       
                                          (
                                          z
                                          )
                                       
                                       ,
                                       c
                                       )
                                    
                                    ]
                                 
                                 =
                                 
                                    ∑
                                    
                                       x
                                       =
                                       0
                                    
                                    
                                       c
                                       −
                                       1
                                    
                                 
                                 x
                                 
                                    h
                                    t
                                 
                                 
                                    (
                                    x
                                    |
                                    z
                                    )
                                 
                                 +
                                 c
                                 
                                    (
                                    1
                                    −
                                    
                                       H
                                       t
                                    
                                    
                                       (
                                       c
                                       −
                                       1
                                       |
                                       z
                                       )
                                    
                                    )
                                 
                                 ,
                              
                            
                           and π(z) given by 
                           
                              (6)
                           
                           .
                        

Observe that π(z) does not depend on the time-index t and that 
                        
                           E
                           [
                           min
                           
                              (
                              
                                 D
                                 t
                              
                              
                                 (
                                 z
                                 )
                              
                              ,
                              c
                              )
                           
                           ]
                        
                      only depends on t to the extent that the arrival process is non-stationary. If the arrival process is stationary so Nt
                      does not depend on the time-index t, then 
                        
                           π
                           
                              (
                              z
                              )
                           
                           ×
                           E
                           [
                           min
                           
                              (
                              
                                 D
                                 t
                              
                              
                                 (
                                 z
                                 )
                              
                              ,
                              c
                              )
                           
                           ]
                        
                      does not depend on t which helps to simplify the multiperiod problem. Another consequence of this formulation is that no assumption with regard to the arrival order of the three groups needs to be made. Next we show how the prices that maximize π(z) can be derived.

The objective of this section is to, for a given period t and probability of sale z, derive the set of prices 
                           
                              
                                 p
                                 t
                              
                              =
                              
                                 (
                                 
                                    p
                                    
                                       1
                                       ,
                                       t
                                    
                                 
                                 ,
                                 
                                    p
                                    
                                       2
                                       ,
                                       t
                                    
                                 
                                 )
                              
                              ,
                           
                         that maximizes the expected revenue per customer sales 
                           
                              π
                              
                                 (
                                 z
                                 )
                              
                              =
                              
                                 p
                                 
                                    1
                                    ,
                                    t
                                 
                              
                              +
                              
                                 p
                                 
                                    2
                                    ,
                                    t
                                 
                              
                              
                                 (
                                 
                                    α
                                    2
                                 
                                 
                                    (
                                    1
                                    −
                                    
                                       F
                                       2
                                    
                                    
                                       (
                                       
                                          p
                                          
                                             1
                                             ,
                                             t
                                          
                                       
                                       +
                                       
                                          p
                                          
                                             2
                                             ,
                                             t
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 +
                                 
                                    α
                                    3
                                 
                                 
                                    (
                                    1
                                    −
                                    
                                       F
                                       3
                                    
                                    
                                       (
                                       
                                          p
                                          
                                             1
                                             ,
                                             t
                                          
                                       
                                       +
                                       
                                          p
                                          
                                             2
                                             ,
                                             t
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 )
                              
                              /
                              z
                           
                        . Since the distribution functions Fi
                        (·), 
                           
                              i
                              =
                              1
                              ,
                              2
                              ,
                              3
                              ,
                           
                         are stationary with respect to time, and we are only interested in maximizing the conditional expected revenue given a sale within a period, we may omit the subscript t.

For a given value of 
                           
                              z
                              ∈
                              [
                              0
                              ,
                              1
                              ]
                              ,
                           
                         define the single price uz
                         implicitly via the following equality,

                           
                              
                                 
                                    
                                       
                                          
                                             z
                                             =
                                             
                                                α
                                                1
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   F
                                                   1
                                                
                                                
                                                   (
                                                   
                                                      u
                                                      z
                                                   
                                                   )
                                                
                                                )
                                             
                                             +
                                             
                                                α
                                                2
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   F
                                                   2
                                                
                                                
                                                   (
                                                   
                                                      u
                                                      z
                                                   
                                                   )
                                                
                                                )
                                             
                                             +
                                             
                                                α
                                                3
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   F
                                                   3
                                                
                                                
                                                   (
                                                   
                                                      u
                                                      z
                                                   
                                                   )
                                                
                                                )
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

In other words, uz
                         is the price of the primary item that together with 
                           
                              
                                 p
                                 2
                              
                              =
                              0
                           
                         results in the probability of a sale to be z. Note that uz
                         is well-defined since the Fi
                        (·) are strictly increasing and continuous, 
                           
                              i
                              =
                              1
                              ,
                              2
                              ,
                              3
                           
                        . There may be other combinations of p
                        1 and p
                        2 that result in the probability of a sale being z but any such pair of prices must satisfy p
                        1 ≤ uz
                        , since ‘
                           
                              
                                 α
                                 1
                              
                              
                                 (
                                 1
                                 −
                                 
                                    F
                                    1
                                 
                                 
                                    (
                                    
                                       p
                                       1
                                    
                                    )
                                 
                                 )
                              
                              +
                              
                                 α
                                 2
                              
                              
                                 (
                                 1
                                 −
                                 
                                    F
                                    2
                                 
                                 
                                    (
                                    
                                       p
                                       1
                                    
                                    )
                                 
                                 )
                              
                              +
                              
                                 α
                                 3
                              
                              
                                 (
                                 1
                                 −
                                 
                                    F
                                    3
                                 
                                 
                                    (
                                    
                                       p
                                       1
                                    
                                    +
                                    
                                       p
                                       2
                                    
                                    )
                                 
                                 )
                              
                           
                        ’ is strictly decreasing in p
                        1 and p
                        2. In order to simplify notation, but without loss of generality, define F(·) as the following mixture distribution,

                           
                              
                                 
                                    
                                       
                                          
                                             F
                                             
                                                (
                                                x
                                                )
                                             
                                             =
                                             
                                                
                                                   
                                                      α
                                                      1
                                                   
                                                   
                                                      F
                                                      1
                                                   
                                                   
                                                      (
                                                      x
                                                      )
                                                   
                                                   +
                                                   
                                                      α
                                                      2
                                                   
                                                   
                                                      F
                                                      2
                                                   
                                                   
                                                      (
                                                      x
                                                      )
                                                   
                                                
                                                
                                                   
                                                      α
                                                      1
                                                   
                                                   +
                                                   
                                                      α
                                                      2
                                                   
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Given 
                           
                              z
                              ∈
                              [
                              0
                              ,
                              1
                              ]
                              ,
                           
                         define a lower-bound lz
                         by,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                l
                                                z
                                             
                                             =
                                             
                                                F
                                                
                                                   −
                                                   1
                                                
                                             
                                             
                                                (
                                                max
                                                
                                                   {
                                                   
                                                      
                                                         
                                                            α
                                                            1
                                                         
                                                         +
                                                         
                                                            α
                                                            2
                                                         
                                                         −
                                                         z
                                                      
                                                      
                                                         
                                                            α
                                                            1
                                                         
                                                         +
                                                         
                                                            α
                                                            2
                                                         
                                                      
                                                   
                                                   ,
                                                   0
                                                   }
                                                
                                                )
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        Then any 
                           
                              
                                 p
                                 1
                              
                              ∈
                              
                                 [
                                 
                                    l
                                    z
                                 
                                 ,
                                 
                                    u
                                    z
                                 
                                 ]
                              
                              ,
                           
                         is a feasible primary price, since p
                        1 and the ancillary price q
                        2(z, p
                        1) defined by (as shown in the Appendix),

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                q
                                                2
                                             
                                             
                                                (
                                                z
                                                ,
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             ≡
                                             
                                                F
                                                3
                                                
                                                   −
                                                   1
                                                
                                             
                                             
                                                (
                                                
                                                   
                                                      1
                                                      −
                                                      z
                                                      −
                                                      
                                                         (
                                                         
                                                            α
                                                            1
                                                         
                                                         +
                                                         
                                                            α
                                                            2
                                                         
                                                         )
                                                      
                                                      F
                                                      
                                                         (
                                                         
                                                            p
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      α
                                                      3
                                                   
                                                
                                                )
                                             
                                             −
                                             
                                                p
                                                1
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        is feasible, unique and satisfies (1). Now define 
                           
                              q
                              1
                              z
                           
                         to be the result of a one-dimensional maximization:

                           
                              (8)
                              
                                 
                                    
                                       
                                          
                                             
                                                q
                                                1
                                                z
                                             
                                             ≡
                                             arg
                                             
                                                max
                                                
                                                   p
                                                   1
                                                
                                             
                                             
                                                {
                                                
                                                   p
                                                   1
                                                
                                                +
                                                
                                                   q
                                                   2
                                                
                                                
                                                   (
                                                   z
                                                   ,
                                                   
                                                      p
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   
                                                      
                                                         α
                                                         2
                                                      
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            F
                                                            2
                                                         
                                                         
                                                            (
                                                            
                                                               p
                                                               1
                                                            
                                                            +
                                                            
                                                               q
                                                               2
                                                            
                                                            
                                                               (
                                                               z
                                                               ,
                                                               
                                                                  p
                                                                  1
                                                               
                                                               )
                                                            
                                                            )
                                                         
                                                         )
                                                      
                                                      +
                                                      
                                                         α
                                                         3
                                                      
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            F
                                                            3
                                                         
                                                         
                                                            (
                                                            
                                                               p
                                                               1
                                                            
                                                            +
                                                            
                                                               q
                                                               2
                                                            
                                                            
                                                               (
                                                               z
                                                               ,
                                                               
                                                                  p
                                                                  1
                                                               
                                                               )
                                                            
                                                            )
                                                         
                                                         )
                                                      
                                                   
                                                   z
                                                
                                                }
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        and define 
                           
                              q
                              2
                              z
                           
                         to be the value of q
                        2(z, p
                        1) evaluated at 
                           
                              
                                 q
                                 1
                                 z
                              
                              ,
                           
                        
                        
                           
                              (9)
                              
                                 
                                    
                                       
                                          
                                             
                                                q
                                                2
                                                z
                                             
                                             ≡
                                             
                                                q
                                                2
                                             
                                             
                                                (
                                                z
                                                ,
                                                
                                                   q
                                                   1
                                                   z
                                                
                                                )
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        Given that the probability of a sale is set to z, then 
                           
                              
                                 q
                                 1
                                 z
                              
                              ,
                           
                        
                        
                           
                              q
                              2
                              z
                           
                         are the primary and ancillary prices, respectively, that provide the highest expected revenue per customer, i.e. the prices that maximize the right hand side of (6). We summarize this in the following result.

                           Proposition 2
                           
                              For a given
                              
                                 
                                    z
                                    ∈
                                    [
                                    0
                                    ,
                                    1
                                    ]
                                    ,
                                 
                               
                              if lz
                               ≤ uz, then
                              
                                 
                                    (10)
                                    
                                       
                                          
                                             
                                                
                                                   π
                                                   
                                                      (
                                                      z
                                                      )
                                                   
                                                   =
                                                   
                                                      p
                                                      1
                                                      z
                                                   
                                                   +
                                                   
                                                      p
                                                      2
                                                      z
                                                   
                                                   
                                                      
                                                         
                                                            α
                                                            2
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               F
                                                               2
                                                            
                                                            
                                                               (
                                                               
                                                                  p
                                                                  1
                                                                  z
                                                               
                                                               +
                                                               
                                                                  p
                                                                  2
                                                                  z
                                                               
                                                               )
                                                            
                                                            )
                                                         
                                                         +
                                                         
                                                            α
                                                            3
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               F
                                                               3
                                                            
                                                            
                                                               (
                                                               
                                                                  p
                                                                  1
                                                                  z
                                                               
                                                               +
                                                               
                                                                  p
                                                                  2
                                                                  z
                                                               
                                                               )
                                                            
                                                            )
                                                         
                                                      
                                                      z
                                                   
                                                   ,
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              where,
                              
                                 
                                    (11)
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      p
                                                      z
                                                   
                                                   ≡
                                                   
                                                      (
                                                      
                                                         p
                                                         1
                                                         z
                                                      
                                                      ,
                                                      
                                                         p
                                                         2
                                                         z
                                                      
                                                      )
                                                   
                                                   =
                                                   
                                                      {
                                                      
                                                         
                                                            
                                                               
                                                                  (
                                                                  
                                                                     q
                                                                     1
                                                                     z
                                                                  
                                                                  ,
                                                                  
                                                                     q
                                                                     2
                                                                     z
                                                                  
                                                                  )
                                                               
                                                            
                                                            
                                                               
                                                                  if
                                                                  
                                                                  
                                                                     l
                                                                     z
                                                                  
                                                                  <
                                                                  
                                                                     u
                                                                     z
                                                                  
                                                                  ,
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  (
                                                                  
                                                                     u
                                                                     z
                                                                  
                                                                  ,
                                                                  0
                                                                  )
                                                               
                                                            
                                                            
                                                               
                                                                  otherwise
                                                                  .
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Note that neither the capacity C nor the number of potential customers Nt
                         affects the calculation of p
                        
                           z
                         for the expected revenue per customer sale. Furthermore, for certain distributions, 
                           
                              π
                              
                                 (
                                 z
                                 )
                              
                              ,
                              
                                 p
                                 1
                                 z
                              
                              ,
                           
                         and 
                           
                              p
                              2
                              z
                           
                         can be provided in closed form. An illustration of this is provided in Section 3.3 for uniformly distributed valuations. Next we discuss how we solve the optimality Eq. (7) using backward induction to derive the optimal prices 
                           
                              p
                              
                                 1
                                 ,
                                 t
                              
                              ☆
                           
                         and 
                           
                              p
                              
                                 2
                                 ,
                                 t
                              
                              ☆
                           
                         for each period 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                           
                        .

Given a zero terminal reward 
                           
                              
                                 V
                                 0
                              
                              
                                 (
                                 c
                                 )
                              
                              =
                              0
                              ,
                           
                         for all c, the optimality equation for the final period is given by,

                           
                              (12)
                              
                                 
                                    
                                       
                                          
                                             
                                                V
                                                1
                                             
                                             
                                                (
                                                c
                                                )
                                             
                                             =
                                             
                                                sup
                                                
                                                   0
                                                   ≤
                                                   z
                                                   ≤
                                                   1
                                                
                                             
                                             
                                                {
                                                π
                                                
                                                   (
                                                   z
                                                   )
                                                
                                                ×
                                                E
                                                [
                                                min
                                                
                                                   (
                                                   
                                                      D
                                                      1
                                                   
                                                   
                                                      (
                                                      z
                                                      )
                                                   
                                                   ,
                                                   c
                                                   )
                                                
                                                ]
                                                }
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        This is an one-dimensional optimization problem that can be solved using a standard numerical search. Let 
                           
                              z
                              1
                              ☆
                           
                         be the argument that maximizes (12), i.e. 
                           
                              
                                 z
                                 1
                                 ☆
                              
                              ≡
                              
                                 arg max
                                 z
                              
                           
                        
                        
                           
                              {
                              π
                              
                                 (
                                 z
                                 )
                              
                              ×
                              E
                              [
                              min
                              
                                 (
                                 
                                    D
                                    1
                                 
                                 
                                    (
                                    z
                                    )
                                 
                                 ,
                                 c
                                 )
                              
                              ]
                              }
                           
                        . In other words, for a given remaining capacity c of primary items in the final period, 
                           
                              z
                              1
                              ☆
                           
                         is the optimal sales probability level, and the optimal value-to-go is given by,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                V
                                                1
                                             
                                             
                                                (
                                                c
                                                )
                                             
                                             =
                                             π
                                             
                                                (
                                                
                                                   z
                                                   1
                                                   ☆
                                                
                                                )
                                             
                                             ×
                                             E
                                             
                                                [
                                                min
                                                
                                                   (
                                                   
                                                      D
                                                      1
                                                   
                                                   
                                                      (
                                                      
                                                         z
                                                         1
                                                         ☆
                                                      
                                                      )
                                                   
                                                   ,
                                                   c
                                                   )
                                                
                                                ]
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              π
                              (
                              
                                 z
                                 1
                                 ☆
                              
                              )
                           
                         is given by (10), and the optimal prices for the final period 
                           
                              
                                 p
                                 1
                                 ☆
                              
                              =
                              
                                 (
                                 
                                    p
                                    
                                       1
                                       ,
                                       1
                                    
                                    ☆
                                 
                                 ,
                                 
                                    p
                                    
                                       2
                                       ,
                                       1
                                    
                                    ☆
                                 
                                 )
                              
                              ,
                           
                         are given by (8) and (9). By backward induction, we solve the optimality Eq. (7) by finding the optimal probability of a sale for each period t,

                           
                              (13)
                              
                                 
                                    
                                       
                                          
                                             
                                                z
                                                t
                                                ☆
                                             
                                             ≡
                                             
                                                arg max
                                                z
                                             
                                             
                                                {
                                                π
                                                
                                                   (
                                                   z
                                                   )
                                                
                                                ×
                                                E
                                                
                                                   [
                                                   min
                                                   
                                                      (
                                                      
                                                         D
                                                         t
                                                      
                                                      
                                                         (
                                                         z
                                                         )
                                                      
                                                      ,
                                                      c
                                                      )
                                                   
                                                   ]
                                                
                                                +
                                                
                                                   ∑
                                                   
                                                      x
                                                      =
                                                      1
                                                   
                                                   
                                                      c
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   V
                                                   
                                                      t
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   c
                                                   −
                                                   x
                                                   )
                                                
                                                
                                                   h
                                                   t
                                                
                                                
                                                   (
                                                   x
                                                   |
                                                   z
                                                   )
                                                
                                                }
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        Solving these one-dimensional optimization problems generate the optimal probability of a sale 
                           
                              z
                              t
                              ☆
                           
                         for each period t, which will correspond to a set of optimal prices 
                           
                              
                                 p
                                 t
                                 ☆
                              
                              =
                              
                                 (
                                 
                                    p
                                    
                                       1
                                       ,
                                       t
                                    
                                    ☆
                                 
                                 ,
                                 
                                    p
                                    
                                       2
                                       ,
                                       t
                                    
                                    ☆
                                 
                                 )
                              
                           
                        . Consequently, for 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                              ,
                           
                        
                        
                           
                              
                                 
                                    
                                       
                                          
                                             
                                                V
                                                t
                                             
                                             
                                                (
                                                c
                                                )
                                             
                                             =
                                             π
                                             
                                                (
                                                
                                                   z
                                                   t
                                                   ☆
                                                
                                                )
                                             
                                             ×
                                             E
                                             
                                                [
                                                min
                                                
                                                   (
                                                   
                                                      D
                                                      t
                                                   
                                                   
                                                      (
                                                      
                                                         z
                                                         t
                                                         ☆
                                                      
                                                      )
                                                   
                                                   ,
                                                   c
                                                   )
                                                
                                                ]
                                             
                                             +
                                             
                                                ∑
                                                
                                                   x
                                                   =
                                                   1
                                                
                                                
                                                   c
                                                   −
                                                   1
                                                
                                             
                                             
                                                V
                                                
                                                   t
                                                   −
                                                   1
                                                
                                             
                                             
                                                (
                                                c
                                                −
                                                x
                                                )
                                             
                                             
                                                h
                                                t
                                             
                                             
                                                (
                                                x
                                                |
                                                
                                                   z
                                                   t
                                                   ☆
                                                
                                                )
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The computational benefit of solving the optimality equations with respect to z rather than p
                        
                           t
                         is clear: we only require to derive the prices associated with each level of z once, since in each period t the prices that maximize π(z) do not change. Note too that capacity level c and (random) number of potential customers Nt
                         only affect the calculation of 
                           
                              E
                              [
                              min
                              
                                 (
                                 
                                    D
                                    t
                                 
                                 
                                    (
                                    
                                       z
                                       t
                                    
                                    )
                                 
                                 ,
                                 c
                                 )
                              
                              ]
                           
                         and 
                           
                              
                                 ∑
                                 
                                    x
                                    =
                                    1
                                 
                                 
                                    c
                                    −
                                    1
                                 
                              
                              
                                 V
                                 
                                    t
                                    −
                                    1
                                 
                              
                              
                                 (
                                 c
                                 −
                                 x
                                 )
                              
                              
                                 h
                                 t
                              
                              
                                 (
                                 x
                                 |
                                 z
                                 )
                              
                              ,
                           
                         and that these computations scale very well. We would therefore expect that for reasonable C and Nt
                         (e.g. in the hundreds or thousands), computing power and time will not be a limiting factor. To provide further intuition and illustrate the proposed approach we next discuss the specific case when the underlying willingness-to-pay is uniformly distributed.

In order to simplify the notation and provide better intuition we ignore Group 2 by assuming 
                           
                              
                                 α
                                 2
                              
                              =
                              0
                           
                        ; hence, 
                           
                              
                                 α
                                 3
                              
                              =
                              1
                              −
                              
                                 α
                                 1
                              
                           
                        . Let the willingness-to-pay for both Group 1 and Group 3 customers be uniformly distributed. Without loss of generality, we standardize the problem with Group 1 and Group 3 customers’ willingness-to-pay being 
                           
                              U
                              [
                              0
                              ,
                              1
                              ]
                           
                         and 
                           
                              U
                              [
                              0
                              ,
                              a
                              ]
                              ,
                           
                         
                        a ≥ 1, respectively. There are two cases for the upper-bound uz
                         depending on the value of z:

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                u
                                                z
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            a
                                                            −
                                                            
                                                               (
                                                               
                                                                  a
                                                                  
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                  
                                                               
                                                               )
                                                            
                                                            z
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            0
                                                            <
                                                            z
                                                            ≤
                                                            
                                                               (
                                                               1
                                                               −
                                                               1
                                                               /
                                                               a
                                                               )
                                                            
                                                            
                                                               (
                                                               1
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               a
                                                               
                                                                  a
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  +
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                               
                                                            
                                                            −
                                                            
                                                               (
                                                               
                                                                  a
                                                                  
                                                                     a
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                     +
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                  
                                                               
                                                               )
                                                            
                                                            z
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            
                                                               (
                                                               1
                                                               −
                                                               1
                                                               /
                                                               a
                                                               )
                                                            
                                                            
                                                               (
                                                               1
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                            <
                                                            z
                                                            ≤
                                                            1
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        The lower-bound is given by 
                           
                              
                                 l
                                 z
                              
                              =
                              max
                              
                                 {
                                 
                                    
                                       
                                          
                                             α
                                             1
                                          
                                          −
                                          z
                                       
                                       
                                          α
                                          1
                                       
                                    
                                    ,
                                    0
                                 
                                 }
                              
                           
                        . Thus, given z, there are three feasible regions of p
                        1 to consider: (I) 
                           
                              0
                              <
                              z
                              ≤
                              min
                              {
                              
                                 (
                                 1
                                 −
                                 1
                                 /
                                 a
                                 )
                              
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              ,
                              
                                 α
                                 1
                              
                              }
                              ,
                           
                         (II) 
                           
                              min
                              
                                 {
                                 
                                    (
                                    1
                                    −
                                    1
                                    /
                                    a
                                    )
                                 
                                 
                                    (
                                    1
                                    −
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 ,
                                 
                                    α
                                    1
                                 
                                 }
                              
                              <
                              z
                              ≤
                              max
                              
                                 {
                                 
                                    (
                                    1
                                    −
                                    1
                                    /
                                    a
                                    )
                                 
                                 
                                    (
                                    1
                                    −
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 ,
                                 
                                    α
                                    1
                                 
                                 }
                              
                              ,
                           
                         (III) 
                           
                              max
                              {
                              
                                 (
                                 1
                                 −
                                 1
                                 /
                                 a
                                 )
                              
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              ,
                              
                                 α
                                 1
                              
                              }
                              <
                              z
                              ≤
                              1
                           
                        .

For a given z, the ancillary price corresponding to a feasible p
                        1 is given by,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                q
                                                2
                                             
                                             
                                                (
                                                z
                                                ,
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            a
                                                            −
                                                            
                                                               (
                                                               
                                                                  a
                                                                  
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                  
                                                               
                                                               )
                                                            
                                                            z
                                                            −
                                                            
                                                               p
                                                               1
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            1
                                                            ≤
                                                            
                                                               p
                                                               1
                                                            
                                                            ≤
                                                            a
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               a
                                                               
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                               
                                                            
                                                            −
                                                            
                                                               (
                                                               
                                                                  a
                                                                  
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                  
                                                               
                                                               )
                                                            
                                                            z
                                                            −
                                                            
                                                               (
                                                               
                                                                  
                                                                     a
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                     +
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                  
                                                               
                                                               )
                                                            
                                                            
                                                               p
                                                               1
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            0
                                                            ≤
                                                            
                                                               p
                                                               1
                                                            
                                                            <
                                                            1
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        Incorporating the above results in the following two expressions for the expected revenue per customer sale,

                           
                              
                                 
                                    
                                       
                                          
                                             {
                                             
                                                
                                                   
                                                      
                                                         a
                                                         −
                                                         
                                                            (
                                                            
                                                               a
                                                               
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                               
                                                            
                                                            )
                                                         
                                                         z
                                                      
                                                   
                                                   
                                                      
                                                         if
                                                         
                                                         1
                                                         ≤
                                                         
                                                            p
                                                            1
                                                         
                                                         ≤
                                                         a
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            p
                                                            1
                                                         
                                                         +
                                                         
                                                            
                                                               1
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                            
                                                            
                                                               a
                                                               z
                                                            
                                                         
                                                         
                                                            (
                                                            a
                                                            
                                                               q
                                                               2
                                                            
                                                            
                                                               (
                                                               z
                                                               ,
                                                               
                                                                  p
                                                                  1
                                                               
                                                               )
                                                            
                                                            −
                                                            
                                                               p
                                                               1
                                                            
                                                            
                                                               q
                                                               2
                                                            
                                                            
                                                               (
                                                               z
                                                               ,
                                                               
                                                                  p
                                                                  1
                                                               
                                                               )
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                         
                                                            −
                                                            
                                                            
                                                               
                                                                  (
                                                                  
                                                                     q
                                                                     2
                                                                  
                                                                  
                                                                     (
                                                                     z
                                                                     ,
                                                                     
                                                                        p
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                                  )
                                                               
                                                               2
                                                            
                                                            )
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         if
                                                         
                                                         0
                                                         ≤
                                                         
                                                            p
                                                            1
                                                         
                                                         <
                                                         1
                                                         .
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        Note that the first case is independent of p
                        1, while the second case is quadratic in p
                        1. In other words, any pair of prices 
                           
                              
                                 (
                                 
                                    p
                                    1
                                 
                                 ,
                                 
                                    p
                                    2
                                 
                                 )
                              
                              =
                              
                                 (
                                 
                                    p
                                    1
                                 
                                 ,
                                 a
                                 −
                                 a
                                 z
                                 /
                                 
                                    (
                                    1
                                    −
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 −
                                 
                                    p
                                    1
                                 
                                 )
                              
                              ,
                           
                         where p
                        1 ≥ 1, generates the same expected revenue 
                           
                              π
                              
                                 (
                                 z
                                 )
                              
                              =
                              
                                 p
                                 1
                              
                              +
                              
                                 p
                                 2
                              
                           
                        . This is intuitive since for p
                        1 ≥ 1 all sales are to Group 3 customers who only purchase the primary product with the ancillary service. The quadratic expression is maximized at,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   p
                                                   1
                                                
                                                ^
                                             
                                             
                                                (
                                                z
                                                )
                                             
                                          
                                       
                                       
                                          
                                             =
                                             
                                                1
                                                2
                                             
                                             +
                                             
                                                a
                                                
                                                   2
                                                   (
                                                   a
                                                   
                                                      α
                                                      1
                                                   
                                                   +
                                                   1
                                                   −
                                                   
                                                      α
                                                      1
                                                   
                                                   )
                                                
                                             
                                             −
                                             
                                                (
                                                
                                                   a
                                                   
                                                      a
                                                      
                                                         α
                                                         1
                                                      
                                                      +
                                                      1
                                                      −
                                                      
                                                         α
                                                         1
                                                      
                                                   
                                                
                                                )
                                             
                                             z
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        As expected, we see that 
                           
                              
                                 
                                    p
                                    1
                                 
                                 ^
                              
                              
                                 (
                                 z
                                 )
                              
                           
                         is decreasing in z; a lower price results from a higher probability of a sale. A perhaps less intuitive result is that the maximizing p
                        1 is linearly decreasing in z. It can be verified that 
                           
                              
                                 l
                                 z
                              
                              ≤
                              
                                 
                                    p
                                    1
                                 
                                 ^
                              
                              
                                 (
                                 z
                                 )
                              
                              ≤
                              
                                 u
                                 z
                              
                              ,
                           
                         and hence that 
                           
                              
                                 
                                    p
                                    1
                                 
                                 ^
                              
                              
                                 (
                                 z
                                 )
                              
                           
                         is within the permissible region. However, there are two additional thresholds with respect to z,

                           
                              
                                 
                                    
                                       
                                          
                                             z
                                             ̲
                                          
                                       
                                       
                                          
                                             =
                                             
                                                1
                                                2
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   α
                                                   1
                                                
                                                )
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   1
                                                   a
                                                
                                                )
                                             
                                             ,
                                          
                                       
                                    
                                    
                                       
                                          
                                             z
                                             ¯
                                          
                                       
                                       
                                          
                                             =
                                             
                                                1
                                                2
                                             
                                             
                                                (
                                                1
                                                +
                                                
                                                   α
                                                   1
                                                
                                                +
                                                
                                                   
                                                      1
                                                      −
                                                      
                                                         α
                                                         1
                                                      
                                                   
                                                   a
                                                
                                                )
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        that defines the region for which 
                           
                              
                                 
                                    p
                                    1
                                 
                                 ^
                              
                              
                                 (
                                 z
                                 )
                              
                              ∈
                              
                                 [
                                 0
                                 ,
                                 1
                                 ]
                              
                              ,
                           
                         i.e. if z ≤ 
                           z
                         then 
                           
                              
                                 
                                    p
                                    1
                                 
                                 ^
                              
                              
                                 (
                                 z
                                 )
                              
                              ≥
                              1
                              ,
                           
                         and if 
                           
                              z
                              ≥
                              
                                 z
                                 ¯
                              
                           
                         then 
                           
                              
                                 
                                    p
                                    1
                                 
                                 ^
                              
                              
                                 (
                                 z
                                 )
                              
                              ≤
                              0
                           
                        . Note that 
                           
                              
                                 z
                                 ̲
                              
                              ≤
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              
                                 (
                                 1
                                 −
                                 1
                                 /
                                 a
                                 )
                              
                              ,
                           
                         and 
                           
                              
                                 α
                                 1
                              
                              ≤
                              
                                 z
                                 ¯
                              
                           
                         (and of course that 
                           
                              
                                 z
                                 ̲
                              
                              ≤
                              
                                 z
                                 ¯
                              
                           
                        ). When 
                           
                              
                                 
                                    p
                                    1
                                 
                                 ^
                              
                              
                                 (
                                 z
                                 )
                              
                              ≤
                              0
                           
                         we set 
                           
                              
                                 p
                                 1
                                 z
                              
                              =
                              0
                              ,
                           
                         and when 
                           
                              
                                 
                                    p
                                    1
                                 
                                 ^
                              
                              
                                 (
                                 z
                                 )
                              
                              ≥
                              1
                              ,
                           
                         we set 
                           
                              
                                 p
                                 1
                                 z
                              
                              =
                              a
                              −
                              a
                              z
                              /
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              −
                              
                                 (
                                 a
                                 −
                                 a
                                 
                                    α
                                    1
                                 
                                 −
                                 1
                                 +
                                 
                                    α
                                    1
                                 
                                 )
                              
                              /
                              
                                 (
                                 2
                                 
                                    (
                                    1
                                    −
                                    
                                       α
                                       1
                                    
                                    )
                                 
                                 )
                              
                           
                        . In other words, there are three cases for the maximizing primary price,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                p
                                                1
                                                z
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            a
                                                            −
                                                            
                                                               a
                                                               
                                                                  (
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            z
                                                            −
                                                            
                                                               
                                                                  a
                                                                  −
                                                                  a
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  −
                                                                  1
                                                                  +
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                               
                                                               
                                                                  2
                                                                  (
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            0
                                                            ≤
                                                            z
                                                            ≤
                                                            
                                                               z
                                                               ̲
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               1
                                                               2
                                                            
                                                            +
                                                            
                                                               a
                                                               
                                                                  2
                                                                  (
                                                                  a
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  +
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            −
                                                            
                                                               (
                                                               
                                                                  a
                                                                  
                                                                     a
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                     +
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                  
                                                               
                                                               )
                                                            
                                                            z
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            
                                                               z
                                                               ̲
                                                            
                                                            <
                                                            z
                                                            <
                                                            
                                                               z
                                                               ¯
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         0
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            
                                                               z
                                                               ¯
                                                            
                                                            ≤
                                                            z
                                                            ≤
                                                            1
                                                            ,
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        and two cases for the maximizing ancillary price,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                p
                                                2
                                                z
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            
                                                               a
                                                               −
                                                               a
                                                               
                                                                  α
                                                                  1
                                                               
                                                               −
                                                               1
                                                               +
                                                               
                                                                  α
                                                                  1
                                                               
                                                            
                                                            
                                                               2
                                                               (
                                                               1
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            0
                                                            ≤
                                                            z
                                                            <
                                                            
                                                               z
                                                               ¯
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               a
                                                               
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                               
                                                            
                                                            −
                                                            
                                                               (
                                                               
                                                                  a
                                                                  
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                  
                                                               
                                                               )
                                                            
                                                            z
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            
                                                               z
                                                               ¯
                                                            
                                                            ≤
                                                            z
                                                            ≤
                                                            1
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        To summarize, for positive maximizing primary prices the maximizing ancillary price is a fixed constant and independent of z, while when the maximizing primary price is zero the maximizing ancillary price is linearly decreasing in z. Note that the pricing solution for z ≤ 
                           z
                        , is not unique, and we have presented the pricing strategy with a fixed constant ancillary price and variable primary price. Other possible pricing strategies for z ≤ 
                           z
                        , include to not charge for the ancillary service and instead charge a higher price for the primary product (
                           
                              
                                 p
                                 1
                                 z
                              
                              =
                              a
                              −
                              a
                              z
                              /
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              ,
                           
                        
                        
                           
                              
                                 p
                                 2
                                 z
                              
                              =
                              0
                           
                        ), and charging a fixed primary price and instead varying the ancillary price (e.g. 
                           
                              
                                 p
                                 1
                                 z
                              
                              =
                              1
                              ,
                           
                        
                        
                           
                              
                                 p
                                 2
                                 z
                              
                              =
                              a
                              −
                              a
                              z
                              /
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              −
                              1
                           
                        ).

Given 
                           
                              p
                              1
                              z
                           
                         and 
                           
                              p
                              2
                              z
                           
                         we can simplify the expression for π(z),

                           
                              
                                 
                                    
                                       
                                          
                                             π
                                             
                                                (
                                                z
                                                )
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            a
                                                            −
                                                            
                                                               (
                                                               
                                                                  a
                                                                  
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                  
                                                               
                                                               )
                                                            
                                                            z
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            0
                                                            ≤
                                                            z
                                                            ≤
                                                            
                                                               z
                                                               ̲
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               1
                                                               2
                                                            
                                                            +
                                                            
                                                               
                                                                  a
                                                                  +
                                                                  
                                                                     (
                                                                     a
                                                                     −
                                                                     1
                                                                     )
                                                                  
                                                                  
                                                                     (
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                               
                                                                  2
                                                                  (
                                                                  a
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  +
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            −
                                                            
                                                               (
                                                               
                                                                  a
                                                                  
                                                                     2
                                                                     (
                                                                     a
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                     +
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                               )
                                                            
                                                            z
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                            +
                                                            
                                                            
                                                               
                                                                  
                                                                     (
                                                                     a
                                                                     −
                                                                     1
                                                                     )
                                                                  
                                                                  
                                                                     (
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                                  
                                                                     (
                                                                     a
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                     +
                                                                     2
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                               
                                                                  4
                                                                  (
                                                                  a
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  +
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  )
                                                                  z
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            
                                                               z
                                                               ̲
                                                            
                                                            <
                                                            z
                                                            <
                                                            
                                                               z
                                                               ¯
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  a
                                                                  (
                                                                  1
                                                                  +
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  )
                                                               
                                                               
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                               
                                                            
                                                            −
                                                            
                                                               (
                                                               
                                                                  a
                                                                  
                                                                     1
                                                                     −
                                                                     
                                                                        α
                                                                        1
                                                                     
                                                                  
                                                               
                                                               )
                                                            
                                                            z
                                                            −
                                                            
                                                               
                                                                  a
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                               
                                                               
                                                                  (
                                                                  1
                                                                  −
                                                                  
                                                                     α
                                                                     1
                                                                  
                                                                  )
                                                                  z
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            
                                                               z
                                                               ¯
                                                            
                                                            ≤
                                                            z
                                                            ≤
                                                            1
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

We can see that for the two cases when 
                           
                              z
                              <
                              
                                 z
                                 ¯
                              
                              ,
                           
                         that π(z) is strictly decreasing in z, while for the case when 
                           
                              z
                              ≥
                              
                                 z
                                 ¯
                              
                           
                         further consideration regarding the particular value of α
                        1 must be given. We illustrate the above discussion with a numerical example.


                        Numerical Example - Let 
                           
                              a
                              =
                              5
                              /
                              4
                              ,
                              
                                 α
                                 1
                              
                              =
                              3
                              /
                              4
                              ,
                           
                         and 
                           
                              
                                 α
                                 3
                              
                              =
                              1
                              /
                              4
                           
                        . Then, from above,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                u
                                                z
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            5
                                                            /
                                                            4
                                                            −
                                                            5
                                                            z
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            0
                                                            <
                                                            z
                                                            ≤
                                                            1
                                                            /
                                                            20
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            20
                                                            /
                                                            19
                                                            −
                                                            20
                                                            z
                                                            /
                                                            19
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            1
                                                            /
                                                            20
                                                            <
                                                            z
                                                            ≤
                                                            1
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        For a given z, the possible ranges for p
                        1 are given by,

                           
                              
                                 
                                    
                                       
                                          
                                             {
                                             
                                                
                                                   
                                                      
                                                         [
                                                         1
                                                         −
                                                         4
                                                         z
                                                         /
                                                         3
                                                         ,
                                                         5
                                                         /
                                                         4
                                                         −
                                                         5
                                                         z
                                                         ]
                                                      
                                                   
                                                   
                                                      
                                                         
                                                         if
                                                         
                                                         0
                                                         <
                                                         z
                                                         ≤
                                                         1
                                                         /
                                                         20
                                                         ,
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         [
                                                         1
                                                         −
                                                         4
                                                         z
                                                         /
                                                         3
                                                         ,
                                                         20
                                                         /
                                                         19
                                                         −
                                                         20
                                                         z
                                                         /
                                                         19
                                                         ]
                                                      
                                                   
                                                   
                                                      
                                                         
                                                         if
                                                         
                                                         1
                                                         /
                                                         20
                                                         <
                                                         z
                                                         ≤
                                                         3
                                                         /
                                                         4
                                                         ,
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         [
                                                         0
                                                         ,
                                                         20
                                                         /
                                                         19
                                                         −
                                                         20
                                                         z
                                                         /
                                                         19
                                                         ]
                                                      
                                                   
                                                   
                                                      
                                                         
                                                         if
                                                         
                                                         3
                                                         /
                                                         4
                                                         <
                                                         z
                                                         ≤
                                                         1
                                                         ,
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        and the ancillary price corresponding to a feasible p
                        1 given by,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                q
                                                2
                                             
                                             
                                                (
                                                z
                                                ,
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            5
                                                            /
                                                            4
                                                            −
                                                            5
                                                            z
                                                            −
                                                            
                                                               p
                                                               1
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            1
                                                            ≤
                                                            
                                                               p
                                                               1
                                                            
                                                            ≤
                                                            5
                                                            /
                                                            4
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            5
                                                            −
                                                            5
                                                            z
                                                            −
                                                            19
                                                            
                                                               p
                                                               1
                                                            
                                                            /
                                                            4
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            0
                                                            ≤
                                                            
                                                               p
                                                               1
                                                            
                                                            <
                                                            1
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        From this we find,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   p
                                                   1
                                                
                                                ^
                                             
                                             
                                                (
                                                z
                                                )
                                             
                                             =
                                             39
                                             /
                                             38
                                             −
                                             20
                                             z
                                             /
                                             19
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        By inspection, we see that if 
                           
                              z
                              ∈
                              [
                              1
                              /
                              40
                              ,
                              39
                              /
                              40
                              ]
                              ,
                           
                         then 
                           
                              
                                 
                                    p
                                    1
                                 
                                 ^
                              
                              
                                 (
                                 z
                                 )
                              
                              ∈
                              
                                 [
                                 0
                                 ,
                                 1
                                 ]
                              
                              ,
                           
                         resulting in the following three cases of maximizing prices,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                (
                                                
                                                   p
                                                   1
                                                   z
                                                
                                                ,
                                                
                                                   p
                                                   2
                                                   z
                                                
                                                )
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            (
                                                            9
                                                            /
                                                            8
                                                            −
                                                            5
                                                            z
                                                            ,
                                                            1
                                                            /
                                                            8
                                                            )
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            0
                                                            ≤
                                                            z
                                                            ≤
                                                            1
                                                            /
                                                            40
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            (
                                                            39
                                                            /
                                                            38
                                                            −
                                                            20
                                                            z
                                                            /
                                                            19
                                                            ,
                                                            1
                                                            /
                                                            8
                                                            )
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            1
                                                            /
                                                            40
                                                            <
                                                            z
                                                            <
                                                            39
                                                            /
                                                            40
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            (
                                                            0
                                                            ,
                                                            5
                                                            −
                                                            5
                                                            z
                                                            )
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            39
                                                            /
                                                            40
                                                            ≤
                                                            z
                                                            ≤
                                                            1
                                                            ,
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        and corresponding expression for the expected revenue per customer sale,

                           
                              
                                 
                                    
                                       
                                          
                                             π
                                             
                                                (
                                                z
                                                )
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            5
                                                            /
                                                            4
                                                            −
                                                            5
                                                            z
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            0
                                                            ≤
                                                            z
                                                            ≤
                                                            1
                                                            /
                                                            40
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            40
                                                            /
                                                            38
                                                            −
                                                            20
                                                            z
                                                            /
                                                            38
                                                            +
                                                            35
                                                            /
                                                            4864
                                                            z
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            1
                                                            /
                                                            40
                                                            <
                                                            z
                                                            <
                                                            39
                                                            /
                                                            40
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            35
                                                            /
                                                            4
                                                            −
                                                            5
                                                            z
                                                            −
                                                            15
                                                            /
                                                            4
                                                            z
                                                         
                                                      
                                                      
                                                         
                                                            if
                                                            
                                                            39
                                                            /
                                                            40
                                                            ≤
                                                            z
                                                            ≤
                                                            1
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        Recall that for z ≤ 1/40 the maximizing pair of prices 
                           
                              
                                 (
                                 
                                    p
                                    1
                                    z
                                 
                                 ,
                                 
                                    p
                                    2
                                    z
                                 
                                 )
                              
                              =
                              
                                 (
                                 9
                                 /
                                 8
                                 −
                                 5
                                 z
                                 ,
                                 1
                                 /
                                 8
                                 )
                              
                           
                         is not unique, and that any pair of prices 
                           
                              (
                              
                                 p
                                 1
                                 z
                              
                              ,
                              
                                 p
                                 2
                                 z
                              
                              )
                              ,
                           
                         such that 
                           
                              
                                 p
                                 1
                                 z
                              
                              ≥
                              1
                           
                         and 
                           
                              
                                 p
                                 2
                                 z
                              
                              =
                              5
                              /
                              4
                              −
                              5
                              z
                              −
                              
                                 p
                                 1
                                 z
                              
                              ,
                           
                         will also maximize the expected revenue per customer sale; e.g. 
                           
                              
                                 (
                                 
                                    p
                                    1
                                    z
                                 
                                 ,
                                 
                                    p
                                    2
                                    z
                                 
                                 )
                              
                              =
                              
                                 (
                                 1
                                 ,
                                 1
                                 /
                                 4
                                 −
                                 5
                                 z
                                 )
                              
                           
                        .


                        Fig. 1
                         illustrates the maximizing prices 
                           
                              p
                              1
                              z
                           
                         and 
                           
                              p
                              2
                              z
                           
                         for two numerical examples: (I) 
                           
                              a
                              =
                              5
                              /
                              4
                              ,
                              
                                 α
                                 1
                              
                              =
                              3
                              /
                              4
                              ,
                              
                                 α
                                 3
                              
                              =
                              1
                              /
                              4
                              ,
                           
                         and (II) 
                           
                              a
                              =
                              2
                              ,
                              
                                 α
                                 1
                              
                              =
                              1
                              /
                              4
                              ,
                              
                                 α
                                 3
                              
                              =
                              3
                              /
                              4
                           
                        . The first example, with its relatively low ancillary price, is in line with current practice of most North American legacy airlines (with a $25 baggage fee). The second example, where the ancillary price is rather high and in particular for large z even above the primary price, is consistent with the pricing strategy of many low-cost airlines such as Spirit Airlines and Ryanair (where the baggage fee may exceed the air fare).

Based on the two numerical examples we next illustrate the value function and dynamic pricing strategies. The illustration is based on a time-horizon of ten periods (
                           
                              T
                              =
                              10
                           
                        ), a capacity of 100 (
                           
                              C
                              =
                              100
                           
                        ), and exactly 20 customers arriving each period (
                           
                              
                                 N
                                 t
                              
                              =
                              20
                              ,
                              t
                              =
                              1
                              ,
                              …
                              ,
                              10
                           
                        ).
                           5
                        
                        
                           5
                           Calculations were done in 
                                 R
                               (R Development Core Team, 2013) using a ‘standard’  laptop PC. Given the closed form solutions, computing time for the maximizing prices was infinitesimal. Computing time for solving the MDP, for all periods and all states, was negligible.
                         In Fig. 2
                         the value function for period 
                           
                              t
                              =
                              6
                           
                         is shown for four possible states, 
                           
                              c
                              =
                              100
                              ,
                              50
                              ,
                              25
                              ,
                              10
                           
                        . In both graphs the x-axis represents the probability of sale z, and the y-axis represents ‘
                           
                              π
                              
                                 (
                                 z
                                 )
                              
                              ×
                              E
                              
                                 [
                                 min
                                 
                                    (
                                    
                                       D
                                       6
                                    
                                    
                                       (
                                       z
                                       )
                                    
                                    ,
                                    c
                                    )
                                 
                                 ]
                              
                              +
                              
                                 ∑
                                 
                                    x
                                    =
                                    1
                                 
                                 
                                    c
                                    −
                                    1
                                 
                              
                              
                                 V
                                 5
                              
                              
                                 (
                                 c
                                 −
                                 x
                                 )
                              
                              
                                 h
                                 6
                              
                              
                                 (
                                 x
                                 |
                                 z
                                 )
                              
                           
                        ’. We observe that the value function is unimodal and depending on current capacity c maximized at different values of z. For instance, in Example I with a current capacity of 
                           
                              c
                              =
                              50
                           
                         (i.e. half-way through the time-horizon, the plane is half sold-out), the optimal probability of sale is about .45 (
                           
                              
                                 z
                                 6
                                 ☆
                              
                              =
                              .
                              45
                           
                        ) with the optimal value 
                           
                              
                                 V
                                 6
                              
                              
                                 (
                                 50
                                 )
                              
                              =
                              30
                           
                        . Based on the right panel in Fig. 1, we see this corresponds to optimal prices of 
                           
                              
                                 (
                                 
                                    p
                                    
                                       1
                                       ,
                                       6
                                    
                                    ☆
                                 
                                 ,
                                 
                                    p
                                    
                                       2
                                       ,
                                       6
                                    
                                    ☆
                                 
                                 )
                              
                              =
                              
                                 (
                                 .
                                 55
                                 ,
                                 .
                                 13
                                 )
                              
                           
                        .


                        Fig. 3
                         shows, for a given time-period (x-axis), the optimal probability of sale 
                           
                              z
                              t
                              ☆
                           
                         (top graphs) and the optimal dynamic prices 
                           
                              (
                              
                                 p
                                 
                                    1
                                    ,
                                    t
                                 
                                 ☆
                              
                              ,
                              
                                 p
                                 
                                    2
                                    ,
                                    t
                                 
                                 ☆
                              
                              )
                           
                         (bottom graphs) for a given capacity level c. We note, for a given capacity c, that the optimal likelihood of sale 
                           
                              z
                              t
                              ☆
                           
                         is increasing over time, and consequently the optimal primary price 
                           
                              p
                              
                                 1
                                 ,
                                 t
                              
                              ☆
                           
                         is decreasing over time. Similarly, for a given period t, the optimal likelihood 
                           
                              z
                              t
                              ☆
                           
                         is increasing in the available capacity c, and hence the optimal primary price 
                           
                              p
                              
                                 1
                                 ,
                                 t
                              
                              ☆
                           
                         is decreasing in c. A corollary of the last observation is that prices will increase if sales are high in earlier time periods. We also observe that, for the four capacity scenarios illustrated, the ancillary price never changes. This is anecdotally consistent with current practice of only dynamically changing the air fare and keeping the baggage fee constant. Recall though that when the optimal probability of sale 
                           
                              z
                              t
                              ☆
                           
                         is less than the lower threshold 
                           
                              
                                 z
                                 ̲
                              
                              =
                              1
                              /
                              40
                           
                         (Example I) and 3/16 (Example II), the pricing strategy is not unique.

If the problem is simplified such that the number of arriving customers is fixed 
                           
                              
                                 N
                                 t
                              
                              =
                              N
                           
                         (and not stochastic), then the normal approximation to the binomial distribution can further improve the computational complexity. Specifically, let 
                           
                              
                                 N
                                 t
                              
                              =
                              N
                           
                         such that gt
                        (x|p
                        
                           t
                        ) and ht
                        (x|z) in (2) and (5), respectively, reduce to the binomial distribution. Let μz
                         and 
                           
                              σ
                              
                                 z
                              
                              2
                           
                         represent the expected number and variance of customers who would buy an item if one is available (at a given likelihood of a sale z); 
                           
                              
                                 μ
                                 z
                              
                              =
                              E
                              
                                 [
                                 
                                    D
                                    t
                                 
                                 
                                    (
                                    z
                                    )
                                 
                                 ]
                              
                              =
                              N
                              ×
                              z
                              ,
                           
                        
                        
                           
                              
                                 σ
                                 
                                    z
                                 
                                 2
                              
                              =
                              V
                              a
                              r
                              
                                 (
                                 
                                    D
                                    t
                                 
                                 
                                    (
                                    z
                                    )
                                 
                                 )
                              
                              =
                              N
                              ×
                              z
                              ×
                              
                                 (
                                 1
                                 −
                                 z
                                 )
                              
                           
                        . Based on the normal approximation to the binomial distribution, the expected number of sales can be approximated by, for a given z,

                           
                              (14)
                              
                                 
                                    
                                       
                                          
                                             E
                                             
                                                [
                                                min
                                                
                                                   (
                                                   
                                                      D
                                                      t
                                                   
                                                   
                                                      (
                                                      z
                                                      )
                                                   
                                                   ,
                                                   c
                                                   )
                                                
                                                ]
                                             
                                             ≈
                                             
                                                ∫
                                                
                                                   0
                                                
                                                c
                                             
                                             x
                                             
                                                h
                                                ˜
                                             
                                             
                                                (
                                                x
                                                |
                                                z
                                                )
                                             
                                             d
                                             x
                                             +
                                             c
                                             
                                                (
                                                1
                                                −
                                                
                                                   H
                                                   ˜
                                                
                                                
                                                   (
                                                   c
                                                   |
                                                   z
                                                   )
                                                
                                                )
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              
                                 h
                                 ˜
                              
                              
                                 (
                                 ·
                                 )
                              
                           
                         and 
                           
                              
                                 H
                                 ˜
                              
                              
                                 (
                                 ·
                                 )
                              
                           
                         represent the normal density and CDF approximation, respectively, to Dt
                        (z), with mean μz
                         and variance 
                           
                              σ
                              z
                              2
                           
                        . Integrating by parts, Eq. (14) can be written as,

                           
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             E
                                             [
                                             min
                                             
                                                (
                                                
                                                   D
                                                   t
                                                
                                                
                                                   (
                                                   z
                                                   )
                                                
                                                ,
                                                c
                                                )
                                             
                                             ]
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                             ≈
                                             
                                             
                                                μ
                                                z
                                             
                                             Φ
                                             
                                                (
                                                
                                                   
                                                      c
                                                      −
                                                      
                                                         μ
                                                         z
                                                      
                                                   
                                                   
                                                      σ
                                                      z
                                                   
                                                
                                                )
                                             
                                             −
                                             
                                                σ
                                                z
                                             
                                             Φ
                                             
                                                (
                                                
                                                   
                                                      c
                                                      −
                                                      
                                                         μ
                                                         z
                                                      
                                                   
                                                   
                                                      σ
                                                      z
                                                   
                                                
                                                )
                                             
                                             +
                                             c
                                             
                                                (
                                                1
                                                −
                                                Φ
                                                
                                                   (
                                                   
                                                      
                                                         c
                                                         −
                                                         
                                                            μ
                                                            z
                                                         
                                                      
                                                      
                                                         σ
                                                         z
                                                      
                                                   
                                                   )
                                                
                                                )
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        where Φ(·) is the standard normal CDF. Note for a given likelihood of sale z, μz
                         and 
                           
                              σ
                              z
                              2
                           
                         are fixed parameters and hence the evaluation of 
                           
                              E
                              [
                              min
                              
                                 (
                                 
                                    D
                                    t
                                 
                                 
                                    (
                                    z
                                    )
                                 
                                 ,
                                 c
                                 )
                              
                              ]
                           
                         is a simple calculation.

A further specialized case is when 
                           
                              N
                              =
                              1
                           
                         (a common assumption in the extant literature). In this case, the distributions given by (2) and (5) reduce to the Bernoulli distribution, and 
                           
                              E
                              [
                              min
                              
                                 (
                                 
                                    D
                                    t
                                 
                                 
                                    (
                                    z
                                    )
                                 
                                 ,
                                 c
                                 )
                              
                              ]
                              =
                              z
                           
                        . Consequently the value functions drastically simplify to, for 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                              ,
                           
                         
                        c > 0,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                V
                                                t
                                             
                                             
                                                (
                                                c
                                                )
                                             
                                             =
                                             
                                                sup
                                                
                                                   0
                                                   ≤
                                                   z
                                                   ≤
                                                   1
                                                
                                             
                                             
                                                {
                                                π
                                                
                                                   (
                                                   z
                                                   )
                                                
                                                z
                                                +
                                                
                                                   V
                                                   
                                                      t
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   c
                                                   −
                                                   1
                                                   )
                                                
                                                z
                                                +
                                                
                                                   V
                                                   
                                                      t
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   c
                                                   )
                                                
                                                
                                                   (
                                                   1
                                                   −
                                                   z
                                                   )
                                                
                                                }
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        the boundary conditions 
                           
                              
                                 V
                                 t
                              
                              
                                 (
                                 0
                                 )
                              
                              =
                              0
                              ,
                           
                         for all t, and 
                           
                              
                                 V
                                 0
                              
                              
                                 (
                                 c
                                 )
                              
                              =
                              0
                              ,
                           
                         for all c.

To gain further insights regarding ancillary pricing and in particular the benefit of dual price versus single price strategies, we next focus on the single period problem. Besides providing valuable insight to the multi-period problem, the single-period problem is important in its own right as there are many applications for which it applies, e.g. sporting venues, theaters, etc. Since we are only considering a single period problem we omit the subscript notation t. Furthermore, in order to isolate the source of the stochasticity we limit the analysis to a fixed number of customer arrivals N. Consequently, for a given likelihood of sale z, demand D(z) is binomially distributed with parameters N and z.

We start the discussion with the case when the seller has no capacity constraint, C ≥ N, and sales are not censored, i.e. 
                        
                           E
                           [
                           min
                           (
                           D
                           (
                           z
                           )
                           ,
                           C
                           )
                           ]
                           =
                           E
                           [
                           D
                           (
                           z
                           )
                           ]
                           =
                           N
                           ×
                           z
                        
                     . The seller’s expected total revenue is then given by,

                        
                           (15)
                           
                              
                                 
                                    
                                       
                                          V
                                          
                                             (
                                             C
                                             )
                                          
                                          =
                                          
                                             sup
                                             z
                                          
                                          
                                             {
                                             π
                                             (
                                             z
                                             )
                                             ×
                                             N
                                             ×
                                             z
                                             }
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     where π(z) is given by (6).

The seller has to determine the optimal probability of sale z (and corresponding set of prices p
                     1 and p
                     2) that maximize (15). However, note that the optimal probability z
                     ⋆ (and prices 
                        
                           p
                           1
                           ☆
                        
                      and 
                        
                           p
                           2
                           ☆
                        
                     ) are independent of C and N. Below we show how these optimal prices can be used to provide near-optimal solutions for the constrained capacity case C < N.

For specific distributions Fi
                     (·), 
                        
                           i
                           =
                           1
                           ,
                           2
                           ,
                           3
                           ,
                        
                      the non-linear optimization problem given in (15) is numerically straightforward and can be solved using a variety of optimization routines. On the other hand, for arbitrary distributions, structural properties regarding the optimal set of prices are not immediate. For example, to address one of the motivations of this paper when p
                     2 should be positive and when it should be zero, requires additional assumptions regarding Fi
                     (·), 
                        
                           i
                           =
                           1
                           ,
                           2
                           ,
                           3
                        
                     . An immediate method to determine if 
                        
                           
                              p
                              2
                              ☆
                           
                           >
                           0
                           ,
                        
                      is to verify if 
                        
                           
                              p
                              H
                           
                           ≡
                           arg
                           
                              max
                              p
                           
                           
                              {
                              p
                              
                                 (
                                 
                                    α
                                    2
                                 
                                 
                                    (
                                    1
                                    −
                                    
                                       F
                                       2
                                    
                                    
                                       (
                                       p
                                       )
                                    
                                    )
                                 
                                 +
                                 
                                    α
                                    3
                                 
                                 
                                    (
                                    1
                                    −
                                    
                                       F
                                       3
                                    
                                    
                                       (
                                       p
                                       )
                                    
                                    )
                                 
                                 )
                              
                              }
                           
                           >
                           arg
                           
                              max
                              p
                           
                           
                              {
                              p
                              
                                 (
                                 
                                    α
                                    1
                                 
                                 
                                    (
                                    1
                                    −
                                    
                                       F
                                       1
                                    
                                    
                                       (
                                       p
                                       )
                                    
                                    )
                                 
                                 +
                                 
                                    α
                                    2
                                 
                                 
                                    (
                                    
                                       F
                                       2
                                    
                                    
                                       (
                                       
                                          p
                                          H
                                       
                                       )
                                    
                                    −
                                    
                                       F
                                       2
                                    
                                    
                                       (
                                       p
                                       )
                                    
                                    )
                                 
                                 )
                              
                              }
                           
                           ≡
                           
                              p
                              L
                           
                           ,
                        
                      and if so simply set 
                        
                           
                              p
                              1
                              ☆
                           
                           =
                           
                              p
                              L
                           
                           ,
                        
                      and 
                        
                           
                              p
                              2
                              ☆
                           
                           =
                           
                              p
                              H
                           
                           −
                           
                              p
                              L
                           
                        
                     . Similarly, if pL
                      ≥ pH
                     , then it follows that 
                        
                           
                              p
                              2
                              ☆
                           
                           =
                           0
                        
                     . However, note that in this case the p
                     1 that maximizes over both customer groups is not necessarily pL
                     .

A special case is when 
                        
                           
                              α
                              2
                           
                           =
                           0
                        
                      and there are only Group 1 and Group 3 type customers. In this case, one approach to derive structural properties regarding the optimal price for the ancillary service is to impose assumptions on the ordering of the failure (or hazard) rates of the willingness-to-pay. Let 
                        
                           
                              λ
                              i
                           
                           
                              (
                              x
                              )
                           
                           =
                           
                              f
                              i
                           
                           
                              (
                              x
                              )
                           
                           /
                           
                              (
                              1
                              −
                              
                                 F
                                 i
                              
                              
                                 (
                                 x
                                 )
                              
                              )
                           
                        
                      denote the failure rate of wtp for Group i, for 
                        
                           i
                           =
                           1
                           ,
                           3
                        
                     . If both Group 1 and Group 3’s wtp have Increasing Failure Rates (IFR), and the failure rate for Group 3 is larger than the failure rate for Group 1 then the optimal price for the ancillary service is zero (e.g. the airline should skip the baggage fee). We formally summarize this result in the following proposition.

                        Proposition 3
                        
                           Let C ≥ N, 
                              
                                 
                                    α
                                    2
                                 
                                 =
                                 0
                                 ,
                              
                            
                           and λ
                           1(·) and λ
                           3(·) have increasing failure rates, with λ
                           3(x) ≥ λ
                           1(x), for all x, then
                           
                              
                                 
                                    p
                                    2
                                    ☆
                                 
                                 =
                                 0
                              
                           
                           .
                        

A trivial corollary to Proposition 3 is when the wtp for the two customer groups are identical (i.e. 
                        
                           
                              F
                              1
                           
                           
                              (
                              x
                              )
                           
                           =
                           
                              F
                              3
                           
                           
                              (
                              x
                              )
                           
                           ,
                           ∀
                           x
                        
                     ), and the seller rather intuitively should not charge separately for the ancillary service and set 
                        
                           
                              p
                              2
                           
                           =
                           0
                        
                     .

Although Proposition 3 provides insight into when the ancillary fee should be zero, the seller must know or be able to estimate the failure rates and determine if the one for Group 3 is larger than the one for Group 1. This may be as challenging as simply determining the optimal set of prices. However, many of the common distribution functions have the IFR property. Therefore, based on historical demand data the seller could estimate F
                     1(·) and F
                     3(·) using a parametric approach and validate the assumptions in Proposition 3. Examples of distributions that have IFR include uniform, normal, exponential and gamma with shape parameter greater than 1 (Bagnoli & Bergstrom, 2004). Note too that Proposition 3 would also hold if rather than IFR, the assumption was made regarding Increasing Generalized Failure Rate (IFGR). The added benefit is that this enables a more general setting and larger set of distributions (Banciu & Mirchandani, 2013). Assumptions regarding IFR/IFGR are common within the RM literature since they ensure basic revenue functions of the form ‘
                        
                           x
                           ×
                           (
                           1
                           −
                           
                              F
                              i
                           
                           
                              (
                              x
                              )
                           
                           )
                        
                     ’ are unimodal, and hence admit unique revenue maximizing price.

We now return to the case when the seller has a capacity constraint and C < N, and show how the optimal prices for the unconstrained capacity case (C ≥ N) can provide a near-optimal solution. For the constrained capacity case, the optimal expected revenue is given by (12): 
                        
                           V
                           
                              (
                              C
                              )
                           
                           =
                           
                              sup
                              z
                           
                           
                              {
                              π
                              (
                              z
                              )
                              ×
                              E
                              [
                              min
                              (
                              D
                              (
                              z
                              )
                              ,
                              C
                              )
                              ]
                              }
                           
                        
                     . Recall that for the unconstrained capacity problem the expected demand and variance is given by 
                        
                           E
                           [
                           D
                           (
                           z
                           )
                           ]
                           =
                           z
                           ×
                           N
                           ,
                        
                      and 
                        
                           Var
                           [
                           D
                           (
                           z
                           )
                           ]
                           =
                           z
                           ×
                           (
                           1
                           −
                           z
                           )
                           ×
                           N
                           ,
                        
                      respectively. Therefore, for a given C < N, as long as, for instance, 
                        
                           C
                           ≥
                           E
                           
                              [
                              D
                              
                                 (
                                 z
                                 )
                              
                              ]
                           
                           +
                           3
                           
                              
                                 Var
                                 [
                                 D
                                 (
                                 z
                                 )
                                 ]
                              
                           
                           ,
                        
                      then the optimal prices for the unconstrained capacity setting are ‘near-optimal’  for the capacity constrained setting. That is, for a given N, the seller can set a threshold ϵ and determine the upper-limit 
                        
                           d
                           ¯
                        
                      such that 
                        
                           Pr
                           {
                           D
                           
                              (
                              z
                              )
                           
                           >
                           
                              d
                              ¯
                           
                           }
                           ≤
                           ϵ
                        
                     . For instance, a rough 99% confidence interval is 
                        
                           E
                           
                              [
                              D
                              
                                 (
                                 z
                                 )
                              
                              ]
                           
                           ±
                           3
                           
                              
                                 Var
                                 [
                                 D
                                 (
                                 z
                                 )
                                 ]
                              
                           
                        
                     . If 
                        
                           C
                           ≥
                           
                              d
                              ¯
                           
                           =
                           E
                           
                              [
                              D
                              
                                 (
                                 z
                                 )
                              
                              ]
                           
                           +
                           3
                           
                              
                                 Var
                                 [
                                 D
                                 (
                                 z
                                 )
                                 ]
                              
                           
                        
                      then the optimal prices for the unconstrained capacity setting are approximately optimal even considering the capacity constraint.

To further evaluate the potential benefit of charging for ancillary services, we next analyze the case when there are only Group 1 and Group 3 customers (i.e. 
                           
                              
                                 α
                                 2
                              
                              =
                              0
                           
                        ). We assume customers’ willingness-to-pay is uniformly distributed and scale the problem such that wtp 
                           
                              ∼
                              U
                              [
                              0
                              ,
                              1
                              ]
                           
                         for Group 1, and wtp 
                           
                              ∼
                              U
                              [
                              0
                              ,
                              a
                              ]
                           
                         for Group 3, a > 0. Note that unlike Section 3.3 we include cases a < 1. The main goal is to compare the gain in expected total revenue between the optimal dual pricing policy 
                           
                              
                                 p
                                 ☆
                              
                              =
                              
                                 (
                                 
                                    p
                                    1
                                    ☆
                                 
                                 ,
                                 
                                    p
                                    2
                                    ☆
                                 
                                 )
                              
                           
                         and the optimal single price policy p
                        ⋆. The optimal prices are found using a search maximizing 
                           
                              V
                              
                                 (
                                 C
                                 )
                              
                              =
                              
                                 sup
                                 z
                              
                              
                                 {
                                 π
                                 (
                                 z
                                 )
                                 ×
                                 E
                                 [
                                 min
                                 (
                                 D
                                 (
                                 z
                                 )
                                 ,
                                 C
                                 )
                                 ]
                                 }
                              
                              ,
                           
                         without and with the constraint that 
                           
                              
                                 p
                                 2
                              
                              =
                              0
                           
                        . For ease of exposition we will slightly modify the notation and denote VD
                        (C) and VS
                        (C) as the corresponding maximum expected total revenue for the Dual pricing and Single price policy, respectively. To measure the improvement of a dual-pricing strategy, we denote ΔV(C) as the incremental gain, 
                           
                              Δ
                              V
                              
                                 (
                                 C
                                 )
                              
                              =
                              
                                 (
                                 
                                    V
                                    D
                                 
                                 
                                    (
                                    C
                                    )
                                 
                                 −
                                 
                                    V
                                    S
                                 
                                 
                                    (
                                    C
                                    )
                                 
                                 )
                              
                              /
                              
                                 V
                                 S
                              
                              
                                 (
                                 C
                                 )
                              
                           
                        . We set 
                           
                              N
                              =
                              20
                           
                         and consider four cases regarding the capacity constraint: (I) 
                           
                              C
                              =
                              5
                              ,
                           
                         (II) 
                           
                              C
                              =
                              10
                              ,
                           
                         (III) 
                           
                              C
                              =
                              15
                              ,
                           
                         and (IV) 
                           
                              C
                              =
                              20
                           
                        .


                        Fig. 4
                         illustrates the gain in expected revenue from the optimal dual-price policy versus the optimal single-price policy. In each graph, the y-axis represents ΔV(C), and the x-axis represents the upper-bound a of Group 3 customer’s willingness-to-pay. The three curves correspond to different values of α
                        1: .2 (solid black), .5 (dashed red), and .8 (dotted blue). Recall we are assuming 
                           
                              
                                 α
                                 2
                              
                              =
                              0
                           
                         and hence 
                           
                              
                                 α
                                 3
                              
                              =
                              1
                              −
                              
                                 α
                                 1
                              
                           
                        . There are a number of interesting observations to note.

The first and foremost interesting feature to note is that there can be a substantial gain in charging for the ancillary service. We observe potential revenue gain of up to 40% for certain cases of a and α
                        1. On the other hand, we also observe that there are situations when there is no gain in imposing ancillary fees. More specifically, when a ≤ 1, i.e. when Group 3 customers’ wtp is stochastically dominated by Group 1 customers’ wtp, then it is always optimal to set 
                           
                              
                                 p
                                 2
                                 ☆
                              
                              =
                              0
                           
                        . Note that although we are considering a general capacity constrained setting, the feature for when a ≤ 1 is consistent with the result in Proposition 3 regarding the unconstrained capacity setting.

The second observation to note is that depending on the value of α
                        1, the highest incremental gain of using a dual-price strategy changes and is not monotone in a. In particular we see that when α
                        1 is low (high chance of a Group 3 customer) then the highest incremental gain is for relatively low values of a (i.e. between 1 and 2), and when α
                        1 is high (low chance of a Group 3 customer) then the highest incremental gain is for the high values of a (i.e. greater than 2). This is a bit counter-intuitive as one would have expected that as the wtp for Group 3 ‘increases’  the dual-price strategy should be able to capitalize even more. However, this is explained by observing that when the wtp of Group 3 is ‘large’  then the optimal single-price strategy is to exclude sales to Group 1 and only focus on Group 3 customers.

A third observation to note is that the graphs for cases (III) and (IV) are very similar. Although they may appear identical there are small differences between them. The closeness between the bottom two graphs in Fig. 4 illustrates the discussion regarding the near-optimal pricing solutions based on the optimal prices for the unconstrained capacity case: even if the seller is technically constrained, the constraint does not limit the expected revenue potential. Next we analyze the gain in the expected revenue as a function of α
                        1.


                        Fig. 5
                         illustrates the gain in expected revenue as a function of the proportion of Group 1 customers. In each graph, the y-axis again represents ΔV(C), but now the x-axis represents α
                        1. The four curves correspond to different values of a: 1 (solid black), 1.5 (dashed red), 2 (dotted blue), and 4 (dash-dotted purple). There are two striking observations to highlight: (1) the gain is not always symmetric in α
                        1, and (2) the gain is higher for large values of α
                        1.

Regarding the first observation, although one may not have expected the gain to be symmetric in α
                        1, it might seem counter-intuitive that for low values of a the gain is symmetric, and for high values of a the gain is not symmetric. One might have expected that for large values of a there is greater flexibility for the dual-price strategy to adapt to the particular value of α
                        1, and thus for a symmetric change around 
                           
                              
                                 α
                                 1
                              
                              =
                              .
                              5
                              ,
                           
                         to be able to derive the same expected revenue. However, even if this is the case, the problem is that the single-price strategy cannot adapt as easily. For a large value of a, the single-price strategy can compete quite well with the dual-price strategy when α
                        1 is low (high chance of a Group 3 customer), and hence the gain is small, but if α
                        1 is large (small chance of Group 3 customers) then the single-price strategy cannot capture the higher revenues from Group 3 and thus the gain is large. This also explains the second feature why the gain is higher for large values of α
                        1. Intuitively, one might at first consider that if there is a high chance of having Group 3 customers (low α
                        1) then there should be a high gain of introducing the ancillary fee p
                        2. As noted above, the issue is that if there is a high chance of Group 3 customers then the single-price strategy performs almost as well since it prices for Group 3 by sacrificing sales from Group 1. This has a very relevant managerial insight. Namely, the main incremental gain from ancillary fees is not on, for instance, routes where customers generally check baggage, but instead on routes where customers rarely check baggage. Furthermore, the result is anecdotally consistent with what we observe in many RM settings. For instance, premium down-town business hotels usually charge extra for wifi service, while lower rated business hotels located outside the city center usually provide complementary wifi.

In Figs. 4 and 5 we observed that for a > 1 the optimal dual-price strategy always performed better than the optimal single-price strategy. We conclude this section with a more detailed analysis when there is no capacity constraint. The reason we focus on this is two-fold: (1) we can easily derive closed form solutions, and (2) it can provide a good approximation to the constrained capacity setting. Following the previous discussion, we assume Group 1 and Group 3 customers’ willingness-to-pay follow 
                           
                              U
                              [
                              0
                              ,
                              1
                              ]
                           
                         and 
                           
                              U
                              [
                              0
                              ,
                              a
                              ]
                              ,
                           
                         respectively (and that there are no Group 2 customers, 
                           
                              
                                 α
                                 2
                              
                              =
                              0
                           
                        ). Consequently, the seller’s dual pricing problem becomes,

                           
                              (16)
                              
                                 
                                    
                                       
                                          
                                             
                                                V
                                                D
                                             
                                             
                                                (
                                                C
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                max
                                                
                                                   
                                                      p
                                                      1
                                                   
                                                   ,
                                                   
                                                      p
                                                      2
                                                   
                                                
                                             
                                             
                                                {
                                                N
                                                ×
                                                (
                                                
                                                   α
                                                   1
                                                
                                                
                                                   
                                                      (
                                                      1
                                                      −
                                                      
                                                         p
                                                         1
                                                      
                                                      )
                                                   
                                                   +
                                                
                                                
                                                   p
                                                   1
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                                +
                                                
                                                
                                                   α
                                                   3
                                                
                                                
                                                   (
                                                   1
                                                   −
                                                   
                                                      
                                                         
                                                            p
                                                            1
                                                         
                                                         +
                                                         
                                                            p
                                                            2
                                                         
                                                      
                                                      s
                                                   
                                                   )
                                                
                                                
                                                   (
                                                   
                                                      p
                                                      1
                                                   
                                                   +
                                                   
                                                      p
                                                      2
                                                   
                                                   )
                                                
                                                
                                                   )
                                                   |
                                                
                                                
                                                   p
                                                   1
                                                
                                                +
                                                
                                                   p
                                                   2
                                                
                                                ≤
                                                a
                                                }
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              
                                 
                                    (
                                    1
                                    −
                                    
                                       p
                                       1
                                    
                                    )
                                 
                                 +
                              
                              =
                              max
                              
                                 {
                                 1
                                 −
                                 
                                    p
                                    1
                                 
                                 ,
                                 0
                                 }
                              
                           
                        . From Proposition 3, and our observation in Fig. 4 regarding 
                           
                              C
                              =
                              20
                           
                         and 
                           
                              N
                              =
                              20
                              ,
                           
                         we know that for a ≤ 1, it is never optimal to set p
                        2 > 0. Therefore, for the ensuing analysis we only consider cases where a > 1. The two first-order conditions of (16) with respect to p
                        1 are,
                           6
                        
                        
                           6
                           Note that the value functions for both the dual-price and single-price case are concave and it is sufficient to only consider first-order conditions.
                        
                        
                           
                              
                                 
                                    
                                       
                                          
                                             {
                                             
                                                
                                                   
                                                      
                                                         1
                                                         −
                                                         2
                                                         
                                                            α
                                                            1
                                                         
                                                         
                                                            p
                                                            1
                                                         
                                                         −
                                                         2
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               α
                                                               1
                                                            
                                                            )
                                                         
                                                         
                                                            (
                                                            
                                                               p
                                                               1
                                                            
                                                            +
                                                            
                                                               p
                                                               2
                                                            
                                                            )
                                                         
                                                         /
                                                         a
                                                      
                                                   
                                                   
                                                      
                                                         for
                                                         
                                                         
                                                            p
                                                            1
                                                         
                                                         ≤
                                                         1
                                                         ,
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               α
                                                               1
                                                            
                                                            )
                                                         
                                                         −
                                                         2
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               α
                                                               1
                                                            
                                                            )
                                                         
                                                         
                                                            (
                                                            
                                                               p
                                                               1
                                                            
                                                            +
                                                            
                                                               p
                                                               2
                                                            
                                                            )
                                                         
                                                         /
                                                         a
                                                      
                                                   
                                                   
                                                      
                                                         for
                                                         
                                                         
                                                            p
                                                            1
                                                         
                                                         >
                                                         1
                                                         ,
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              1
                              −
                              
                                 α
                                 1
                              
                              =
                              
                                 α
                                 3
                              
                           
                        . The corresponding first-order condition with respect to p
                        2 is given by ‘
                           
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              −
                              2
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              
                                 (
                                 
                                    p
                                    1
                                 
                                 +
                                 
                                    p
                                    2
                                 
                                 )
                              
                              /
                              a
                              =
                              0
                           
                        ’. Solving for p
                        1 results in 
                           
                              
                                 p
                                 1
                                 
                                    ☆
                                    1
                                 
                              
                              =
                              1
                              /
                              2
                              ,
                           
                         and 
                           
                              
                                 p
                                 1
                                 
                                    ☆
                                    2
                                 
                              
                              =
                              a
                              /
                              2
                              ,
                           
                         for the two cases respectively. Which we use to solve for p
                        2, and get 
                           
                              
                                 p
                                 2
                                 
                                    ☆
                                    1
                                 
                              
                              =
                              
                                 (
                                 a
                                 −
                                 1
                                 )
                              
                              /
                              2
                              ,
                           
                         and 
                           
                              
                                 p
                                 2
                                 
                                    ☆
                                    2
                                 
                              
                              =
                              0
                              ,
                           
                         for the two cases respectively. By comparing all the possibilities with respect to p
                        1 and a (1 ≤ a < 2, and a > 2) it can be shown that the optimal set of prices is 
                           
                              
                                 p
                                 ☆
                              
                              =
                              
                                 (
                                 1
                                 /
                                 2
                                 ,
                                 
                                    (
                                    a
                                    −
                                    1
                                    )
                                 
                                 /
                                 2
                                 )
                              
                              ,
                           
                         and consequently the maximum expected total revenue is given by, for a ≥ 1,

                           
                              (17)
                              
                                 
                                    
                                       
                                          
                                             
                                                V
                                                D
                                             
                                             
                                                (
                                                C
                                                )
                                             
                                             =
                                             
                                                
                                                   N
                                                   (
                                                   
                                                      α
                                                      1
                                                   
                                                   +
                                                   
                                                      α
                                                      3
                                                   
                                                   a
                                                   )
                                                
                                                4
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The extension to the general case with Group 1 customers’ wtp 
                           
                              ∼
                              U
                              [
                              0
                              ,
                              
                                 a
                                 1
                              
                              ]
                              ,
                           
                         Group 3 customers’ wtp 
                           
                              ∼
                              U
                              [
                              0
                              ,
                              
                                 a
                                 2
                              
                              ]
                              ,
                           
                         and a
                        1 < a
                        2 is immediate and results in 
                           
                              
                                 p
                                 1
                                 ☆
                              
                              =
                              
                                 a
                                 1
                              
                              /
                              2
                              ,
                           
                        
                        
                           
                              
                                 p
                                 2
                                 ☆
                              
                              =
                              
                                 (
                                 
                                    a
                                    2
                                 
                                 −
                                 
                                    a
                                    1
                                 
                                 )
                              
                              /
                              2
                              ,
                           
                         and 
                           
                              
                                 V
                                 D
                              
                              
                                 (
                                 C
                                 )
                              
                              =
                              N
                              
                                 (
                                 
                                    α
                                    1
                                 
                                 
                                    a
                                    1
                                 
                                 +
                                 
                                    α
                                    2
                                 
                                 
                                    a
                                    2
                                 
                                 )
                              
                              /
                              4
                           
                        . The resulting maximum expected total revenue (17) can be evaluated against the expected total revenue from the single-price policy that only optimizes over p
                        1, for p
                        1 ≤ a,

                           
                              (18)
                              
                                 
                                    
                                       
                                          
                                             
                                                V
                                                S
                                             
                                             
                                                (
                                                C
                                                )
                                             
                                             =
                                             
                                                max
                                                p
                                             
                                             
                                                {
                                                N
                                                ×
                                                
                                                   (
                                                   
                                                      α
                                                      1
                                                   
                                                   
                                                      
                                                         (
                                                         1
                                                         −
                                                         p
                                                         )
                                                      
                                                      +
                                                   
                                                   p
                                                   +
                                                   
                                                      α
                                                      3
                                                   
                                                   
                                                      (
                                                      1
                                                      −
                                                      
                                                         p
                                                         a
                                                      
                                                      )
                                                   
                                                   
                                                      (
                                                      p
                                                      )
                                                   
                                                   )
                                                
                                                
                                                   |
                                                   p
                                                   ≤
                                                   a
                                                
                                                }
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        There are again two first-order conditions to consider,

                           
                              
                                 
                                    
                                       
                                          
                                             {
                                             
                                                
                                                   
                                                      
                                                         
                                                            α
                                                            1
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            2
                                                            p
                                                            )
                                                         
                                                         +
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               α
                                                               1
                                                            
                                                            )
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            2
                                                            p
                                                            /
                                                            a
                                                            )
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         for
                                                         
                                                         p
                                                         ≤
                                                         1
                                                         ,
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               α
                                                               1
                                                            
                                                            )
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            2
                                                            p
                                                            /
                                                            a
                                                            )
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         for
                                                         
                                                         p
                                                         >
                                                         1
                                                         ,
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        which yields the optimal single price,

                           
                              
                                 
                                    
                                       
                                          
                                             p
                                             ☆
                                          
                                       
                                       
                                          
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            a
                                                            /
                                                            (
                                                            2
                                                            +
                                                            2
                                                            
                                                               α
                                                               1
                                                            
                                                            a
                                                            −
                                                            2
                                                            
                                                               α
                                                               1
                                                            
                                                            )
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            a
                                                            ≤
                                                            
                                                               (
                                                               2
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                            /
                                                            
                                                               (
                                                               1
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            a
                                                            /
                                                            2
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            a
                                                            >
                                                            
                                                               (
                                                               2
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                            /
                                                            
                                                               (
                                                               1
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        Substituting p
                        ⋆ into (18) results in,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                V
                                                S
                                             
                                             
                                                (
                                                C
                                                )
                                             
                                          
                                       
                                       
                                          
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            N
                                                            s
                                                            /
                                                            (
                                                            4
                                                            +
                                                            4
                                                            
                                                               α
                                                               1
                                                            
                                                            a
                                                            −
                                                            4
                                                            
                                                               α
                                                               1
                                                            
                                                            )
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            a
                                                            ≤
                                                            
                                                               (
                                                               2
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                            /
                                                            
                                                               (
                                                               1
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            N
                                                            (
                                                            1
                                                            −
                                                            
                                                               α
                                                               1
                                                            
                                                            )
                                                            a
                                                            /
                                                            4
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            a
                                                            >
                                                            
                                                               (
                                                               2
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                            /
                                                            
                                                               (
                                                               1
                                                               −
                                                               
                                                                  α
                                                                  1
                                                               
                                                               )
                                                            
                                                            .
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        It should be rather intuitive that VD
                        (C) > VS
                        (C).

Next we consider a special dual-pricing policy where p
                        2 is a fixed proportion θ of p
                        1, i.e. p
                        2 ≡ θp
                        1. In other words, we assume the seller has decided a priori to set p
                        2 as a given factor of p
                        1. We denote the maximum expected total revenue by Vθ
                        (C) and the optimal price for the primary product by 
                           
                              
                                 p
                                 1
                                 ☆
                              
                              
                                 (
                                 θ
                                 )
                              
                           
                        . We do not restrict θ to be less than or greater than 1. A motivation for θ ≤ 1 may be the baggage fee that is roughly 5%–10% of a US domestic air fare (one way), while a motivation for θ ≥ 1 may be insurance for rental cars. Given these structural assumptions, the expected total revenue becomes, for p
                        1 ≤ 1, and 
                           
                              
                                 p
                                 1
                              
                              
                                 (
                                 1
                                 +
                                 θ
                                 )
                              
                              ≤
                              a
                              ,
                           
                        
                        
                           
                              (19)
                              
                                 
                                    
                                       
                                          
                                             
                                                V
                                                θ
                                             
                                             
                                                (
                                                C
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                max
                                                
                                                   p
                                                   1
                                                
                                             
                                             
                                                {
                                                N
                                                
                                                   α
                                                   1
                                                
                                                
                                                   (
                                                   1
                                                   −
                                                   
                                                      p
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   p
                                                   1
                                                
                                                +
                                                N
                                                
                                                   (
                                                   1
                                                   −
                                                   
                                                      α
                                                      1
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                                ×
                                                
                                                
                                                   (
                                                   1
                                                   −
                                                   
                                                      
                                                         
                                                            p
                                                            1
                                                         
                                                         +
                                                         θ
                                                         
                                                            p
                                                            1
                                                         
                                                      
                                                      a
                                                   
                                                   )
                                                
                                                
                                                   (
                                                   
                                                      p
                                                      1
                                                   
                                                   +
                                                   θ
                                                   
                                                      p
                                                      1
                                                   
                                                   )
                                                
                                                }
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        From Eq. (19) the price of the primary product that maximizes (19) is given by,

                           
                              
                                 
                                    
                                       
                                          
                                             
                                                p
                                                1
                                                ☆
                                             
                                             
                                                (
                                                θ
                                                )
                                             
                                             =
                                             
                                                
                                                   1
                                                   +
                                                   
                                                      (
                                                      1
                                                      +
                                                      θ
                                                      )
                                                   
                                                   
                                                      (
                                                      1
                                                      −
                                                      
                                                         α
                                                         1
                                                      
                                                      )
                                                   
                                                   /
                                                   
                                                      α
                                                      1
                                                   
                                                
                                                
                                                   2
                                                   (
                                                   1
                                                   +
                                                   
                                                      
                                                         (
                                                         1
                                                         +
                                                         θ
                                                         )
                                                      
                                                      2
                                                   
                                                   
                                                      (
                                                      1
                                                      −
                                                      
                                                         α
                                                         1
                                                      
                                                      )
                                                   
                                                   /
                                                   
                                                      α
                                                      1
                                                   
                                                   a
                                                   )
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        We see that the optimal price 
                           
                              
                                 p
                                 1
                                 ☆
                              
                              
                                 (
                                 θ
                                 )
                              
                           
                         depends on θ, a, and the odds against a Group 1 customer 
                           
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              /
                              
                                 α
                                 1
                              
                           
                        . Although it is clear that 
                           
                              
                                 p
                                 1
                                 ☆
                              
                              
                                 (
                                 θ
                                 )
                              
                           
                         is increasing in a, note that 
                           
                              
                                 p
                                 1
                                 ☆
                              
                              
                                 (
                                 θ
                                 )
                              
                           
                         is not monotone in either θ or 
                           
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              /
                              
                                 α
                                 1
                              
                           
                        . That is, for a given 
                           
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              /
                              
                                 α
                                 1
                              
                           
                         and a, 
                           
                              
                                 p
                                 1
                                 ☆
                              
                              
                                 (
                                 θ
                                 )
                              
                           
                         may be increasing or decreasing in θ. Likewise with respect to 
                           
                              
                                 (
                                 1
                                 −
                                 
                                    α
                                    1
                                 
                                 )
                              
                              /
                              
                                 α
                                 1
                              
                              ,
                           
                         for a given a and θ.

We conclude this section by evaluating the impact from using the unconstrained capacity optimal pricing strategy for the constrained capacity problem. In Section 4.1, we derived the optimal prices 
                           
                              
                                 p
                                 1
                                 ☆
                              
                              =
                              1
                              /
                              2
                           
                         and 
                           
                              
                                 p
                                 2
                                 ☆
                              
                              =
                              
                                 (
                                 a
                                 −
                                 1
                                 )
                              
                              /
                              2
                           
                         when valuations are uniformly distributed and a > 1. Given these prices, the probability of a sale 
                           
                              z
                              =
                              1
                              /
                              2
                              ,
                           
                         and hence total demand D(z) ∼ Bin(N, 1/2). Consequently, an approximate 99% confidence interval on the total demand is 
                           
                              N
                              /
                              2
                              ±
                              (
                              3
                              
                                 N
                              
                              )
                              /
                              2
                           
                        . For N > 9, this implies the lower limit is non-negative and the upper-limit is less than N. Therefore, a ‘near-optimal’  pricing heuristic for the constrained capacity problem when 
                           
                              (
                              N
                              +
                              3
                              
                                 N
                              
                              )
                              /
                              2
                              ≤
                              C
                              ≤
                              N
                              ,
                           
                         is to simply set prices according to the unconstrained capacity problem. This highlights why the bottom two graphs in Figs. 4 and 5 are so similar. With 
                           
                              N
                              =
                              20
                           
                         and 2.5 standard deviations, the upper bound of 
                           
                              
                                 d
                                 ¯
                              
                              ≈
                              16
                           
                        . Since case (III) in the two figures is for 
                           
                              C
                              =
                              15
                           
                         it should not be surprising that the results are close to the unconstrained capacity case (IV).

@&#CONCLUSIONS@&#

Ancillary services have become an important revenue source in many industries using RM. A prime example is the growing trend in the airline industry to offer unbundled or add-on services such as preferred seating, early boarding, drinks, checked baggage service; see news articles McCartney (2013); White (2013). Consequently, the next generation of RM systems need to take into consideration pricing and demand of offered bundles and add-on services, and not be based solely on revenue optimization from the sale of primary products or services. Motivated by the growing prevalence in the airline industry to charge for checked baggage service, this paper has considered a seller with a fixed capacity or inventory of primary items that also makes an ancillary service available. The issue facing the seller, and main research question of the paper, is how to dynamically set prices of the primary items and the ancillary services in order to maximize expected profit.

The model framework was based on three groups of heterogeneous customers: those that only want the primary product, those that could do with only the primary product but given a “right” price will also purchase the ancillary service, and those that only want the primary product provided they also receive the ancillary service. The seller’s problem is to dynamically set prices for both the primary product and ancillary service. Our formulation does not require specific distributional assumptions on the arrival process or the underlying customers’ willingness-to-pay. In this general capacity constrained setting with numerous customer combinations and allowing for lost sales, a first challenge is to formulate a useful expression for the expected total revenue. The problem was then transformed into a one dimensional optimization over the probability of a sale. Given specific distributional assumptions, this formulation allows for the exploration of structural properties. For example, for uniform distributions, we demonstrated the existence of unique optimal prices for the primary product and ancillary service. Indeed, for this example, the one dimensional formulation led to a close to closed form expression for the total expected revenue as a function of the probability of a sale.

In our development we have assumed that both the distribution of the willingness-to-pay Fi
                     (·) and the proportion of each group αi
                      are time independent, 
                        
                           i
                           =
                           1
                           ,
                           2
                           ,
                           3
                        
                     . This has purely been to keep the notational complexity to a minimum. Both stochastic components can be made functions of time with minor modification. Indeed the only real change would be to allow π(z) to be πt
                     (z) and different for each period 
                        
                           t
                           =
                           1
                           ,
                           …
                           ,
                           T
                        
                     . In the MDP recursion the value of πt
                     (z) (and corresponding maximizing prices 
                        
                           (
                           
                              p
                              
                                 1
                                 ,
                                 t
                              
                              z
                           
                           ,
                           
                              p
                              
                                 2
                                 ,
                                 t
                              
                              z
                           
                           )
                        
                     ) would be called on in period t, rather than the current value π(z) (and corresponding maximizing prices 
                        
                           (
                           
                              p
                              
                                 1
                              
                              z
                           
                           ,
                           
                              p
                              
                                 2
                              
                              z
                           
                           )
                        
                     ).

Assuming uniform distributions is common in the extant literature and mainly done for reasons of mathematical tractability. Although this entails that the insights obtained are limited by the particular form of the uniform distributions, there are nevertheless interesting and valuable conclusions to draw. Consequently, we have included a number of analyses where the underlying distributions are assumed to be uniform. We demonstrated how our formulation can lead to close to closed form results in such cases. Based on a numerical analyses, we also investigated when pricing separately for the ancillary service is beneficial. The numerical analysis revealed some interesting and seemingly counterintuitive results. For instance, we found that the incremental gain from an optimal dual-price strategy versus an optimal single-price strategy is higher when the proportion of customers demanding the ancillary service is lower. This has important RM consequences. For instance, consider an airline with two flights: one primarily used by travelers who do not check baggage, and one primarily used by travelers who do check baggage. The incremental revenue gain in charging for the checked baggage is higher on the first flight. So, when most travelers check baggage, offering a single-price is almost equally good to charging separately for bags and the airline does not need to appear to ‘nickel-and-dime’ their customers.

There are many areas to further enrich the proposed modeling framework and we hope the paper will motivate more research related to revenue management and ancillary services. Two immediate extensions include considering empirical distributions and the effect of competition. Although the presented model framework is very general and in particular imposes no distributional assumptions, the results were based on strictly increasing distribution functions for the willingness-to-pay. Extending the framework to a discrete probability space, including empirical distributions, is straight-forward and mainly entails keeping track of the point-mass at the critical thresholds. In fact, the problem becomes easier to numerically solve. The other extension regarding competition effects is a bit more challenging and would require further assumptions on the customer behavior and choice model. We leave this and other extensions for future consideration.

@&#ACKNOWLEDGMENT@&#

We wish to thank the three anonymous reviewers for their valuable comments and feedback which greatly helped improve the paper. We would also like to acknowledge comments from seminar participants at Smith School of Business, Queen’s University. The research project was partially funded by Professor Ødegaard’s NSERC Discovery Grant.


                     
                        Proof of Proposition 1
                        - For the moment, fix the primary and ancillary prices, p
                           1, t
                            and p
                           2, t
                           , respectively. Suppose that there are x < c customers (or sales) during period t. Then the expected number of ancillary sales during period t is the expected value of a binomial random variable with parameters x and 
                              
                                 
                                    (
                                    
                                       α
                                       2
                                    
                                    
                                       (
                                       1
                                       −
                                       
                                          F
                                          2
                                       
                                       
                                          (
                                          
                                             p
                                             
                                                1
                                                ,
                                                t
                                             
                                          
                                          +
                                          
                                             p
                                             
                                                2
                                                ,
                                                t
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    +
                                    
                                       α
                                       3
                                    
                                    
                                       (
                                       1
                                       −
                                       
                                          F
                                          3
                                       
                                       
                                          (
                                          
                                             p
                                             
                                                1
                                                ,
                                                t
                                             
                                          
                                          +
                                          
                                             p
                                             
                                                2
                                                ,
                                                t
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 /
                                 
                                    z
                                    t
                                 
                                 
                                    (
                                    
                                       p
                                       t
                                    
                                    )
                                 
                                 ,
                              
                            since this latter is the proportion of time a ancillary sale is made.

Suppose that there are x ≥ c customers during period t who would buy a ticket were one available. Then the actual number of ancillary sales during period t is a random choice of c from x where the probability of success is 
                              
                                 
                                    (
                                    
                                       α
                                       2
                                    
                                    
                                       (
                                       1
                                       −
                                       
                                          F
                                          2
                                       
                                       
                                          (
                                          
                                             p
                                             
                                                1
                                                ,
                                                t
                                             
                                          
                                          +
                                          
                                             p
                                             
                                                2
                                                ,
                                                t
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    +
                                    
                                       α
                                       3
                                    
                                    
                                       (
                                       1
                                       −
                                       
                                          F
                                          3
                                       
                                       
                                          (
                                          
                                             p
                                             
                                                1
                                                ,
                                                t
                                             
                                          
                                          +
                                          
                                             p
                                             
                                                2
                                                ,
                                                t
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 /
                                 
                                    z
                                    t
                                 
                                 
                                    (
                                    
                                       p
                                       t
                                    
                                    )
                                 
                              
                           . The expected value of this hypergeometric random variable is equal to 
                              
                                 c
                                 ×
                                 
                                    (
                                    
                                       α
                                       2
                                    
                                    
                                       (
                                       1
                                       −
                                       
                                          F
                                          2
                                       
                                       
                                          (
                                          
                                             p
                                             
                                                1
                                                ,
                                                t
                                             
                                          
                                          +
                                          
                                             p
                                             
                                                2
                                                ,
                                                t
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    +
                                    
                                       α
                                       3
                                    
                                    
                                       (
                                       1
                                       −
                                       
                                          F
                                          3
                                       
                                       
                                          (
                                          
                                             p
                                             
                                                1
                                                ,
                                                t
                                             
                                          
                                          +
                                          
                                             p
                                             
                                                2
                                                ,
                                                t
                                             
                                          
                                          )
                                       
                                       )
                                    
                                    )
                                 
                                 /
                                 
                                    z
                                    t
                                 
                                 
                                    (
                                    
                                       p
                                       t
                                    
                                    )
                                 
                              
                           . Thus, noting that gt
                           (x|p
                           
                              t
                           ) may be replaced by ht
                           (x|zt
                           (p
                           
                              t
                           )),

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   Π
                                                   t
                                                
                                                
                                                   (
                                                   
                                                      p
                                                      t
                                                   
                                                   ,
                                                   c
                                                   )
                                                
                                             
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      x
                                                      =
                                                      0
                                                   
                                                   
                                                      c
                                                      −
                                                      1
                                                   
                                                
                                                x
                                                
                                                   (
                                                   
                                                      p
                                                      
                                                         1
                                                         ,
                                                         t
                                                      
                                                   
                                                   +
                                                   
                                                      p
                                                      
                                                         2
                                                         ,
                                                         t
                                                      
                                                   
                                                   ×
                                                   
                                                      
                                                         
                                                            α
                                                            2
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               F
                                                               2
                                                            
                                                            
                                                               (
                                                               
                                                                  p
                                                                  
                                                                     1
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               +
                                                               
                                                                  p
                                                                  
                                                                     2
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               )
                                                            
                                                            )
                                                         
                                                         +
                                                         
                                                            α
                                                            3
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               F
                                                               3
                                                            
                                                            
                                                               (
                                                               
                                                                  p
                                                                  
                                                                     1
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               +
                                                               
                                                                  p
                                                                  
                                                                     2
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               )
                                                            
                                                            )
                                                         
                                                      
                                                      
                                                         
                                                            z
                                                            t
                                                         
                                                         
                                                            (
                                                            
                                                               p
                                                               t
                                                            
                                                            )
                                                         
                                                      
                                                   
                                                   )
                                                
                                                
                                                   h
                                                   t
                                                
                                                
                                                   (
                                                   x
                                                   |
                                                   
                                                      z
                                                      t
                                                   
                                                   
                                                      (
                                                      
                                                         p
                                                         t
                                                      
                                                      )
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                
                                                   ∑
                                                   
                                                      x
                                                      >
                                                      c
                                                   
                                                
                                                c
                                                
                                                   (
                                                   
                                                      p
                                                      
                                                         1
                                                         ,
                                                         t
                                                      
                                                   
                                                   +
                                                   
                                                      p
                                                      
                                                         2
                                                         ,
                                                         t
                                                      
                                                   
                                                   ×
                                                   
                                                      
                                                         
                                                            α
                                                            2
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               F
                                                               2
                                                            
                                                            
                                                               (
                                                               
                                                                  p
                                                                  
                                                                     1
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               +
                                                               
                                                                  p
                                                                  
                                                                     2
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               )
                                                            
                                                            )
                                                         
                                                         +
                                                         
                                                            α
                                                            3
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               F
                                                               3
                                                            
                                                            
                                                               (
                                                               
                                                                  p
                                                                  
                                                                     1
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               +
                                                               
                                                                  p
                                                                  
                                                                     2
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               )
                                                            
                                                            )
                                                         
                                                      
                                                      
                                                         
                                                            z
                                                            t
                                                         
                                                         
                                                            (
                                                            
                                                               p
                                                               t
                                                            
                                                            )
                                                         
                                                      
                                                   
                                                   )
                                                
                                                
                                                   h
                                                   t
                                                
                                                
                                                   (
                                                   x
                                                   |
                                                   
                                                      z
                                                      t
                                                   
                                                   
                                                      (
                                                      
                                                         p
                                                         t
                                                      
                                                      )
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      p
                                                      
                                                         1
                                                         ,
                                                         t
                                                      
                                                   
                                                   +
                                                   
                                                      p
                                                      
                                                         2
                                                         ,
                                                         t
                                                      
                                                   
                                                   ×
                                                   
                                                      
                                                         
                                                            α
                                                            2
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               F
                                                               2
                                                            
                                                            
                                                               (
                                                               
                                                                  p
                                                                  
                                                                     1
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               +
                                                               
                                                                  p
                                                                  
                                                                     2
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               )
                                                            
                                                            )
                                                         
                                                         +
                                                         
                                                            α
                                                            3
                                                         
                                                         
                                                            (
                                                            1
                                                            −
                                                            
                                                               F
                                                               3
                                                            
                                                            
                                                               (
                                                               
                                                                  p
                                                                  
                                                                     1
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               +
                                                               
                                                                  p
                                                                  
                                                                     2
                                                                     ,
                                                                     t
                                                                  
                                                               
                                                               )
                                                            
                                                            )
                                                         
                                                      
                                                      
                                                         
                                                            z
                                                            t
                                                         
                                                         
                                                            (
                                                            
                                                               p
                                                               t
                                                            
                                                            )
                                                         
                                                      
                                                   
                                                   )
                                                
                                                ×
                                                E
                                                
                                                   [
                                                   min
                                                   
                                                      (
                                                      
                                                         D
                                                         t
                                                      
                                                      
                                                         (
                                                         
                                                            z
                                                            t
                                                         
                                                         
                                                            (
                                                            
                                                               p
                                                               t
                                                            
                                                            )
                                                         
                                                         )
                                                      
                                                      ,
                                                      c
                                                      )
                                                   
                                                   ]
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           From (4), noting that 
                              
                                 E
                                 [
                                 min
                                 
                                    (
                                    
                                       D
                                       t
                                    
                                    
                                       (
                                       
                                          z
                                          t
                                       
                                       
                                          (
                                          
                                             p
                                             t
                                          
                                          )
                                       
                                       )
                                    
                                    ,
                                    c
                                    )
                                 
                                 ]
                              
                            and ht
                           (x|zt
                           (p
                           
                              t
                           )) depends only on the 
                              
                                 z
                                 =
                                 
                                    z
                                    t
                                 
                                 
                                    (
                                    
                                       p
                                       t
                                    
                                    )
                                 
                              
                            derived from p
                           
                              t
                            and that,

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                π
                                                
                                                   (
                                                   
                                                      z
                                                      t
                                                   
                                                   
                                                      (
                                                      
                                                         p
                                                         t
                                                      
                                                      )
                                                   
                                                   )
                                                
                                                ≥
                                                
                                                   p
                                                   
                                                      1
                                                      ,
                                                      t
                                                   
                                                
                                                +
                                                
                                                   p
                                                   
                                                      2
                                                      ,
                                                      t
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                ×
                                                
                                                
                                                   
                                                      
                                                         α
                                                         2
                                                      
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            F
                                                            2
                                                         
                                                         
                                                            (
                                                            
                                                               p
                                                               
                                                                  1
                                                                  ,
                                                                  t
                                                               
                                                            
                                                            +
                                                            
                                                               p
                                                               
                                                                  2
                                                                  ,
                                                                  t
                                                               
                                                            
                                                            )
                                                         
                                                         )
                                                      
                                                      +
                                                      
                                                         α
                                                         3
                                                      
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            F
                                                            3
                                                         
                                                         
                                                            (
                                                            
                                                               p
                                                               
                                                                  1
                                                                  ,
                                                                  t
                                                               
                                                            
                                                            +
                                                            
                                                               p
                                                               
                                                                  2
                                                                  ,
                                                                  t
                                                               
                                                            
                                                            )
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      
                                                         z
                                                         t
                                                      
                                                      
                                                         (
                                                         
                                                            p
                                                            t
                                                         
                                                         )
                                                      
                                                   
                                                
                                                ,
                                             
                                          
                                       
                                    
                                 
                              
                           for all values of 
                              
                                 
                                    p
                                    t
                                 
                                 =
                                 
                                    (
                                    
                                       p
                                       
                                          1
                                          ,
                                          t
                                       
                                    
                                    ,
                                    
                                       p
                                       
                                          2
                                          ,
                                          t
                                       
                                    
                                    )
                                 
                              
                           :

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   V
                                                   t
                                                
                                                
                                                   (
                                                   c
                                                   )
                                                
                                                ≤
                                                
                                                   sup
                                                   z
                                                
                                                
                                                   {
                                                   π
                                                   
                                                      (
                                                      z
                                                      )
                                                   
                                                   ×
                                                   E
                                                   
                                                      [
                                                      min
                                                      
                                                         (
                                                         
                                                            D
                                                            t
                                                         
                                                         
                                                            (
                                                            z
                                                            )
                                                         
                                                         ,
                                                         c
                                                         )
                                                      
                                                      ]
                                                   
                                                   +
                                                   
                                                      ∑
                                                      
                                                         x
                                                         =
                                                         1
                                                      
                                                      
                                                         c
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      V
                                                      
                                                         t
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      (
                                                      c
                                                      −
                                                      x
                                                      )
                                                   
                                                   
                                                      h
                                                      t
                                                   
                                                   
                                                      (
                                                      x
                                                      |
                                                      z
                                                      )
                                                   
                                                   }
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

On the other hand, for a given value of z, we can find an exhaustive set of values for p
                           1, t
                            and p
                           2, t
                            when 
                              
                                 
                                    z
                                    t
                                 
                                 
                                    (
                                    
                                       p
                                       t
                                    
                                    )
                                 
                                 =
                                 z
                              
                           . Elements of this set are simply particular feasible values and thus, since Vt
                           (c) is the supremum over all possible values of p
                           1, t
                            and p
                           2, t
                           :

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   V
                                                   t
                                                
                                                
                                                   (
                                                   c
                                                   )
                                                
                                                ≥
                                                
                                                   sup
                                                   z
                                                
                                                
                                                   {
                                                   π
                                                   
                                                      (
                                                      z
                                                      )
                                                   
                                                   ×
                                                   E
                                                   
                                                      [
                                                      min
                                                      
                                                         (
                                                         
                                                            D
                                                            t
                                                         
                                                         
                                                            (
                                                            z
                                                            )
                                                         
                                                         ,
                                                         c
                                                         )
                                                      
                                                      ]
                                                   
                                                   +
                                                   
                                                      ∑
                                                      
                                                         x
                                                         =
                                                         1
                                                      
                                                      
                                                         c
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      V
                                                      
                                                         t
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      (
                                                      c
                                                      −
                                                      x
                                                      )
                                                   
                                                   
                                                      h
                                                      t
                                                   
                                                   
                                                      (
                                                      x
                                                      |
                                                      z
                                                      )
                                                   
                                                   }
                                                
                                                .
                                                
                                                □
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

- The first step is to show that q
                           2(z, p
                           1) is well-defined by showing that the argument 
                              
                                 
                                    (
                                    1
                                    −
                                    z
                                    −
                                    
                                       (
                                       
                                          α
                                          1
                                       
                                       +
                                       
                                          α
                                          2
                                       
                                       )
                                    
                                    F
                                    
                                       (
                                       
                                          p
                                          1
                                       
                                       )
                                    
                                    )
                                 
                                 /
                                 
                                    α
                                    3
                                 
                                 ,
                              
                            of 
                              
                                 
                                    F
                                    3
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    ·
                                    )
                                 
                                 ,
                              
                            is between 0 and 1, and then that q
                           2(z, p
                           1) ≥ 0. Note that,

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      1
                                                      −
                                                      z
                                                      −
                                                      
                                                         (
                                                         
                                                            α
                                                            1
                                                         
                                                         +
                                                         
                                                            α
                                                            2
                                                         
                                                         )
                                                      
                                                      F
                                                      
                                                         (
                                                         
                                                            p
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      1
                                                      −
                                                      (
                                                      
                                                         α
                                                         1
                                                      
                                                      +
                                                      
                                                         α
                                                         2
                                                      
                                                      )
                                                   
                                                
                                                ≤
                                                1
                                                ,
                                             
                                          
                                       
                                    
                                 
                              
                           if and only if,

                              
                                 
                                    
                                       
                                          
                                             
                                                F
                                                
                                                   (
                                                   
                                                      p
                                                      1
                                                   
                                                   )
                                                
                                                ≥
                                                
                                                   
                                                      
                                                         α
                                                         1
                                                      
                                                      +
                                                      
                                                         α
                                                         2
                                                      
                                                      −
                                                      z
                                                   
                                                   
                                                      
                                                         α
                                                         1
                                                      
                                                      +
                                                      
                                                         α
                                                         2
                                                      
                                                   
                                                
                                                ,
                                             
                                          
                                       
                                    
                                 
                              
                           which has been assumed by p
                           1 ≥ lz
                           . Now note that, by definition of uz
                           , only values of p
                           1 ≤ uz
                            need be considered and that 
                              
                                 1
                                 −
                                 z
                                 −
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    +
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 F
                                 
                                    (
                                    
                                       p
                                       1
                                    
                                    )
                                 
                                 −
                                 
                                    α
                                    3
                                 
                                 
                                    F
                                    3
                                 
                                 
                                    (
                                    
                                       p
                                       1
                                    
                                    )
                                 
                              
                            is decreasing in p
                           1 and equals zero at 
                              
                                 
                                    p
                                    1
                                 
                                 =
                                 
                                    u
                                    z
                                 
                              
                           . Thus,

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      1
                                                      −
                                                      z
                                                      −
                                                      
                                                         (
                                                         
                                                            α
                                                            1
                                                         
                                                         +
                                                         
                                                            α
                                                            2
                                                         
                                                         )
                                                      
                                                      F
                                                      
                                                         (
                                                         
                                                            p
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      1
                                                      −
                                                      (
                                                      
                                                         α
                                                         1
                                                      
                                                      +
                                                      
                                                         α
                                                         2
                                                      
                                                      )
                                                   
                                                
                                                ≥
                                                0
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           Also 
                              
                                 1
                                 −
                                 z
                                 −
                                 
                                    (
                                    
                                       α
                                       1
                                    
                                    +
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 F
                                 
                                    (
                                    
                                       p
                                       1
                                    
                                    )
                                 
                                 ≥
                                 
                                    α
                                    3
                                 
                                 F
                                 
                                    (
                                    
                                       p
                                       1
                                    
                                    )
                                 
                                 ,
                              
                            from which it follows that q
                           2(z, p
                           1) ≥ 0.

For 
                              
                                 
                                    p
                                    1
                                 
                                 ≥
                                 
                                    F
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    max
                                    
                                       {
                                       
                                          
                                             
                                                α
                                                1
                                             
                                             +
                                             
                                                α
                                                2
                                             
                                             −
                                             z
                                          
                                          
                                             
                                                α
                                                1
                                             
                                             +
                                             
                                                α
                                                2
                                             
                                          
                                       
                                       ,
                                       0
                                       }
                                    
                                    )
                                 
                                 ,
                              
                            the unique value of p
                           2 that satisfies (4) is given by q
                           2(z, p
                           1). Therefore replacing p
                           2 with q
                           2(z, p
                           1) in (6) and maximizing over p
                           1 provides the result.□


                     
                        Proof of Proposition 3
                        - Since there is no capacity constraint we can determine the price that maximizes the expected revenue per customer. Let pI
                            be the price that maximizes 
                              
                                 p
                                 (
                                 1
                                 −
                                 
                                    F
                                    1
                                 
                                 
                                    (
                                    p
                                    )
                                 
                                 )
                                 ,
                              
                            i.e. 
                              
                                 
                                    p
                                    I
                                 
                                 =
                                 
                                    (
                                    1
                                    −
                                    
                                       F
                                       1
                                    
                                    
                                       (
                                       
                                          p
                                          I
                                       
                                       )
                                    
                                    )
                                 
                                 /
                                 
                                    f
                                    1
                                 
                                 
                                    (
                                    
                                       p
                                       I
                                    
                                    )
                                 
                                 =
                                 1
                                 /
                                 
                                    λ
                                    1
                                 
                                 
                                    (
                                    
                                       p
                                       I
                                    
                                    )
                                 
                              
                           . Let pII
                            be the price that maximizes 
                              
                                 p
                                 (
                                 1
                                 −
                                 
                                    F
                                    3
                                 
                                 
                                    (
                                    p
                                    )
                                 
                                 )
                                 ,
                              
                            i.e. 
                              
                                 
                                    p
                                    
                                       I
                                       I
                                    
                                 
                                 =
                                 
                                    (
                                    1
                                    −
                                    
                                       F
                                       3
                                    
                                    
                                       (
                                       
                                          p
                                          
                                             I
                                             I
                                          
                                       
                                       )
                                    
                                    )
                                 
                                 /
                                 
                                    f
                                    3
                                 
                                 
                                    (
                                    
                                       p
                                       
                                          I
                                          I
                                       
                                    
                                    )
                                 
                                 =
                                 1
                                 /
                                 
                                    λ
                                    3
                                 
                                 
                                    (
                                    
                                       p
                                       
                                          I
                                          I
                                       
                                    
                                    )
                                 
                              
                           . That is pII
                            is the total price (
                              
                                 
                                    p
                                    
                                       I
                                       I
                                    
                                 
                                 =
                                 
                                    p
                                    1
                                 
                                 +
                                 
                                    p
                                    2
                                 
                              
                           ) that maximizes the expected revenue for a Group 3 customer. Since λ
                           3(x) ≥ λ
                           1(x), for all x, it follows that 1/λ
                           1(p) ≥ 1/λ
                           3(p) ≥ p, for all p ≤ pII
                           . Since 1/λ
                           1(x) is decreasing it follows there will be a pI
                            ≥ pII
                            where 
                              
                                 1
                                 /
                                 
                                    λ
                                    1
                                 
                                 
                                    (
                                    
                                       p
                                       I
                                    
                                    )
                                 
                                 =
                                 
                                    p
                                    I
                                 
                              
                           . Therefore, since p
                           1 is the same for both Group 1 and Group 3 customers, it follows that 
                              
                                 
                                    p
                                    2
                                    ☆
                                 
                                 =
                                 m
                                 a
                                 x
                                 
                                    {
                                    
                                       p
                                       
                                          I
                                          I
                                       
                                    
                                    −
                                    
                                       p
                                       I
                                    
                                    ,
                                    0
                                    }
                                 
                                 =
                                 0
                              
                           .□

@&#REFERENCES@&#

