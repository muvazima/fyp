@&#MAIN-TITLE@&#Modeling and motion compensation of a bidirectional tendon-sheath actuated system for robotic endoscopic surgery

@&#HIGHLIGHTS@&#


               
                  
                  
                     
                        
                           
                           We reviewed the current shortage in the development of robotic endoscopic surgery.


                        
                        
                           
                           Motion transmission of a bidirectional tendon-driven system was characterized.


                        
                        
                           
                           Two errors uniquely related to the robotic system setup were identified and modeled.


                        
                        
                           
                           Compensation method was proposed for accurate motion control regardless of any variations in the environment loading.


                        
                        
                           
                           Experimental validation was presented by emulating mechanism transmission in a typical robotic endoscopic surgery setup.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Endoscopic surgery

Surgical robotics

Haptic feedback

Modeling

@&#ABSTRACT@&#


               
               
                  Recent study shows that tendon-sheath system (TSS) has great potential in the development of surgical robots for endoscopic surgery. It is able to deliver adequate power in a light-weight and compact package. And the flexibility and compliance of the tendon-sheath system make it capable of adapting to the long and winding path in the flexible endoscope. However, the main difficulties in precise control of such system fall on the nonlinearities of the system behavior and absence of necessary sensory feedback at the surgical end-effectors. Since accurate position control of the tool is a prerequisite for efficacy, safety and intuitive user-experience in robotic surgery, in this paper we propose a system modeling approach for motion compensation. Based on a bidirectional actuated system using two separate tendon-sheaths, motion transmission is firstly characterized. Two types of positional errors due to system backlash and environment loading are defined and modeled. Then a model-based feedforward compensation method is proposed for open-loop control, giving the system abilities to adjust according to changes in the transmission route configuration without any information feedback from the distal end. A dedicated experimental platform emulating a bidirectional TSS robotic system for endoscopic surgery is built for testing. Proposed positional errors are identified and verified. The performance of the proposed motion compensation is evaluated by trajectory tracking under different environment loading conditions. And the results demonstrate that accurate position control can be achieved even if the transmission route configuration is updated.
               
            

@&#INTRODUCTION@&#

Continual advancement in computer assisted tools keeps pushing the limits of what surgeons can achieve [1]. Endoscopic surgery, given therapeutic endoscopy the ability of performing complex surgical procedures, is becoming a future trend in minimally invasive surgery [2]. It involves of using a flexible endoscope as the carrier platform to access the potential surgical sites through natural orifices to obviate abdominal incision. In such a manner, many intra-abdominal surgical procedures that used to require open surgery or laparoscopic surgery could be performed in an even less-invasive way. This could potentially bring a series of novel surgical techniques, such as Single Port Access Surgery (SPAS) and Natural Orifice Transluminal Endoscopic Surgery (NOTES), from ethereal to tangible [3–5].

For this purpose, specific surgical robots have been developed over the past decade [6–9]. And tendon-sheath system (TSS) has found favor in such application because it allows lightweight and miniaturized design for the end-effectors; yet still, it is able to provide adequate high power transmission through the narrow, flexible transmission path along the endoscope. Recent studies have shown that the TSS is a promising candidate in delivering sufficient payload and dexterity in endoscopic surgical procedures, such as submucosal dissection [10]. A typical TSS actuated endoscopic surgical system is illustrated in Fig. 1
                     . Distal end of the TSS connects to the end-effectors at the tip of the endoscope, body of the TSS goes through the tool-channels of the endoscope, and the actuation is externally provided by motor at proximal end of the TSS.

However, as many other minimally invasive surgical techniques, there remains a critical challenge to obtain sensory feedback from the end-effectors. In addition to the physical and medical constraints, such as limited workspace, biocompatibility and sterilizablity, it is even more technical demanding for the application of endoscopic surgery since the transmission path is narrow, flexible and even varying over time [11]. Without proper position/force information at the distal end for close-loop control, existence of any positional errors such as tendon elongation and motion backlash could significantly deteriorate the system performance. As a result, it would require surgeon to continuously adjust the inputs in order to correct the errors based on visual feedback throughout the surgery. This might impair the user experience and distract the surgeon's concentration, leading to potential prolonged operation time or safety risks. As an alternative solution, the sensory information at the distal end could be estimated by modeling the transmission characteristics of the system, such that all sensory components could be remotely located outside away from the patient with least constraints [12,13].

Modeling of the cable driven system has been intensively studied over the past decades. Many of the literature focuses on modeling the transmission characteristics of a single tendon-sheath of constant radius. Kaneko et al. modeled the tendon sheath system in the configuration of constant radius for robotic fingers [14,15]. It is concluded that the nonlinearities of the system comes from the tension-dependent friction caused by bending tendon covered by sheath. In their studies, experiments were performed on the force transmission for force control, with the assumption of tension sensors on both sides of the TSS. Following the same application, Palli et al. adopted the lumped-parameter model to study the tension transmission of a single tendon-sheath [16]. Instead of fully covered sheath, they used fixed curved supports along the pathway to form the transmission route. By installing force sensors on the curved supports, they analyzed the tension distribution along the tendon at different locations. The results show that the friction between the tendon and curved supports is the main reason for the attenuation in the tension transmission. Researches were also reported by replacing the static Coulomb friction model by more complex dynamical friction models in the modeling, such as Dahl Model [17], and Lugre Model [16,18]. But due to the complexity of the friction model, fixed transmission route of constant radius was used. Chen et al. further investigated inverse transmission modeling of the TSS, and implemented in the control of a single-tendon-sheath actuation [19,20]. They also studied the force transmission in variation conditions. It is also mentioned that the variation of actuation speed has little effect on both force and position transmission, which indicated it is reasonable to neglect the tendon inertia in the system modeling.

Aiming to extend the transmission models to arbitrary configurations, several studies have been reported recently. Phee et al. proposed a simple but effective method for calibrating the parameters of the transmission models [21]. The transmission route configuration was divided into a series of segments with different radii, but same assumption of fixed configuration was adopted. Agrawal et al. first derived the transmission model of a closed-loop cable driven revolute joint in pull-pull actuation [22]. They started modeling the TSS in continuous time-domain in the format of a set of partial differential equations (PDE); then discretized into sufficient small segments for simulation analysis. To reduce the complexity of modeling, constant radius was implemented by wrapping the tendon-sheath around a circular object. Do et al. modeled the TSS as a single element using a modified Bouc-Wen hysteresis model for position control [23,24]. The model consisted a total number of 22 parameters which were identified using genetic algorithm (GA). Thus it requires offline calibration with the assumption of fixed TSS transmission route configurations. So far, all existing works have been carried out with reference to a known fixed transmission route configuration. Little has been done on the adaptability of the modeling to configuration changes, which is important in some practical applications. For example as shown in Fig. 1, in the endoscopic surgery, a typical flexible endoscope has a bending section at the tip which can be steered in four directions up to 210°.

Previously, the authors have introduced one new parameter in the TSS transmission modeling of a single-tendon-sheath, namely the accumulated curve angle Φ. It represents accumulated angle of the curved bending along the tendon-sheath transmission route, regardless the corresponding curvature of the bending. And this feature could allow the transmission models to be adaptive to configuration changes and updated correspondingly in real-time [13,25]. In this paper, we present a new system modeling for a bidirectional actuated system using two separate tendon-sheaths in pull-pull manipulation. By modeling the transmission characteristics in such system, the positional errors are identified and formulated as a function of the measurable information at the proximal end. To improve the open loop performance of the system, a model-based compensation method with adaptability to configuration changes is proposed. Finally, a mimic endoscopic surgical platform is built to validate the modeling of positional errors and the proposed position compensation with variations in the environment load and transmission route configuration.

Before investigation into the unique transmission characteristics of a bidirectional TSS actuated system, we first recap some of the key findings on the transmission models of a single TSS from our previous publications [25,26]. Without loss of generality, assume a single tendon-sheath of configuration as shown in Fig. 2
                        , the whole length of L can be divided into several curves of the curvature κ
                        
                           n
                         and curve angle Φ
                        
                           n
                        , where n
                        =1, 2, 3, …, 6. When a tension input T
                        
                           in
                         is applied at the proximal end, tension output at the distal end is T
                        
                           out
                        ; corresponding tendon displacements are x
                        
                           in
                         and x
                        
                           out
                        . The resulting tendon elongation is


                        
                           
                              (1)
                              
                                 δ
                                 =
                                 
                                    x
                                    in
                                 
                                 −
                                 
                                    x
                                    out
                                 
                                 .
                              
                           
                        
                     

As discussed in the literature [16], transmission loss in the tension occurs at the curved bending. Therefore, taking an infinitesimal segment from the tendon-sheath for consideration, the tendon and the sheath have the same length dl, with the local curve angle dφ as shown in Fig. 2. r and κ are the radius and curvature of this segment, respectively. ν is the normal force applied to the tendon by the sheath, resulting in the friction force f. Here the Coulomb friction model is adopted for real-time control implementation because of its fast and straightforward calculation. With the Coulomb friction coefficient μ, we have the basic relations of these variables as follows


                        
                           
                              (2)
                              
                                 d
                                 l
                                 =
                                 r
                                 d
                                 φ
                                 =
                                 d
                                 φ
                                 /
                                 κ
                                 ,
                                 
                                 f
                                 =
                                 ν
                                 μ
                                 ,
                                 
                                 ν
                                 ≅
                                 T
                                 d
                                 φ
                                 .
                              
                           
                        
                     

From (2), we can derive the tension loss:
                           
                              (3)
                              
                                 
                                    
                                       d
                                       T
                                    
                                    T
                                 
                                 =
                                 −
                                 μ
                                 ζ
                                 d
                                 φ
                                 .
                              
                           
                        where ζ is the general representation of the sliding direction index, ζ
                        =sgn
                           
                              
                                 x
                                 ˙
                              
                           
                           ,
                           x
                         being the local displacement of the tendon segment. When the tendon segment is not in motion, we define ζ
                        =0.

Based on this quasi-static equilibrium analysis, by integrating both sides of (3) along the tendon, we can express the distributed tension at any point p along the tendon, and the corresponding tendon elongation as a function of the corresponding input tension at the proximal end in time domain,


                        
                           
                              (4)
                              
                                 
                                    T
                                    p
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      T
                                                      in
                                                   
                                                   (
                                                   t
                                                   )
                                                   
                                                      e
                                                      
                                                         −
                                                         μ
                                                         
                                                            ζ
                                                            p
                                                         
                                                         
                                                            Φ
                                                            p
                                                         
                                                      
                                                   
                                                   ,
                                                
                                                
                                                   if
                                                   
                                                   
                                                      ζ
                                                      p
                                                   
                                                   ≠
                                                   0
                                                   ,
                                                
                                             
                                             
                                                
                                                   
                                                      T
                                                      p
                                                   
                                                   (
                                                   t
                                                   )
                                                   ,
                                                
                                                
                                                   if
                                                   
                                                   
                                                      ζ
                                                      p
                                                   
                                                   =
                                                   0
                                                   ,
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (5)
                              
                                 
                                    δ
                                    L
                                 
                                 (
                                 t
                                 )
                                 =
                                 P
                                 ·
                                 
                                    T
                                    in
                                 
                                 (
                                 t
                                 )
                                 ,
                              
                           
                        where P is defined as elongation coefficient, in the form of


                        
                           
                              (6)
                              
                                 P
                                 =
                                 ρ
                                 
                                    ∫
                                    
                                       
                                          Φ
                                          p
                                       
                                       =
                                       0
                                    
                                    
                                       
                                          Φ
                                          L
                                       
                                    
                                 
                                 
                                 
                                    1
                                    
                                       
                                          κ
                                          p
                                       
                                    
                                 
                                 
                                    e
                                    
                                       −
                                       μ
                                       ζ
                                       
                                          Φ
                                          p
                                       
                                    
                                 
                                 ,
                              
                           
                        and ρ is a property of the tendon defined by the inverse of Young's modulus E multiplied by the cross sectional area A. It is taken as constant for a given tendon. κ
                        
                           p
                         is the local curvature at point p, and Φ
                        
                           p
                         is defined as the accumulated curve angle from the proximal end to the point p:


                        
                           
                              (7)
                              
                                 
                                    Φ
                                    p
                                 
                                 =
                                 
                                    ∫
                                    0
                                    p
                                 
                                 
                                 
                                    
                                       
                                          d
                                          φ
                                       
                                    
                                 
                                 d
                                 l
                                 ,
                              
                           
                        and Φ
                        
                           L
                         is the total accumulated curve angle throughout the length L.

As introduced in our previous publication [26], the curve angle here is unsigned, and it represents a measure of the overall bending of the tendon-sheath. For example, for the given tendon-sheath in Fig. 2, we can have 
                           
                              Φ
                              L
                           
                           =
                           
                              ∑
                              
                                 n
                                 =
                                 1
                              
                              6
                           
                           
                           
                              Φ
                              n
                           
                        . And the tension transmission and the elongation coefficient can be expressed as a function of the total accumulated curve angle Φ as shown in Fig. 3
                        . Since the local elongation is proportional to the local tension distribution, in the figure the shaded area below the tension transmission curve gives an illustration of the total tendon elongation along the TSS length. And the dashed lines in both figures represent the tension transmission and tendon elongation of the configuration with same total accumulated curve angle Φ but constant curvature κ
                        =
                        Φ/L; while the solid lines represent the actual tension transmission and tendon elongation of the configuration as shown in Fig. 2.

In such manner, the output tension T
                        
                           out
                         and position displacement x
                        
                           out
                         at the distal end could be calculated using only the force and position information at the proximal end:
                           
                              (8)
                              
                                 
                                    T
                                    out
                                 
                                 (
                                 t
                                 )
                                 =
                                 F
                                 [
                                 
                                    T
                                    in
                                 
                                 (
                                 t
                                 )
                                 ]
                                 ,
                                 
                                 
                                    x
                                    out
                                 
                                 (
                                 t
                                 )
                                 =
                                 G
                                 [
                                 
                                    T
                                    in
                                 
                                 (
                                 t
                                 )
                                 ,
                                 
                                    δ
                                    L
                                 
                                 (
                                 t
                                 )
                                 ]
                                 .
                              
                           
                        
                     

And if there is any changes in the configuration, as long as we can assess the curve angle and curvature of the additional curve, we are able to update the parameters in (4) and (5) accordingly.

In general, in order to achieve bidirectional motion control, each DOF requires a pair of antagonistic tendons passing through two separate sheaths. The actuation of the end-effector is achieved by pull-pull configuration, since only tension could be transmitted by compliant tendons. It is necessary to compensate for any extension in the actuation tendons due to friction and to the actuation forces required to operate against external environment loading. This compensation is important for intuitive synchronization in master-slave settings, and also to provide a method to account for varying loads [27]. In the following, we would derive theoretical models for the positional errors in a bidirectional tendon-sheath actuated system.

Taking a typical robotic revolute joint in our robotic system for endoscopic surgery as described in [8] for example as shown in Fig. 4
                        , two tendons 1 and 2 are connected to a pulley of diameter R driven by the rotary actuator at the proximal end, and to a pulley of diameter r driving the end-effector at the distal end. The tendon tensions and position displacements at both ends are denoted as 
                           
                              T
                              
                                 
                                    n
                                    in
                                 
                              
                           
                           ,
                           
                              T
                              
                                 
                                    n
                                    out
                                 
                              
                           
                           ,
                           
                              x
                              
                                 
                                    n
                                    in
                                 
                              
                           
                         and 
                           
                              x
                              
                                 
                                    n
                                    out
                                 
                              
                           
                        , where n
                        =1, 2. The corresponding angular displacements of two pulleys are θ
                        
                           in
                         and θ
                        
                           out
                         respectively. Both sheaths follow through the same transmission route along the endoscope tool channel.

Although the dimension of the tendon is normally slightly less than the size of the inner diameter of the sheath, there is still space in between. This could allow the tendon to change configuration inside the sheath first when it is being pulled. Thus, at the beginning, pretensions are usually applied on both tendons to avoid slacking. One important note here is that different from other tendon driven models, because of the attenuation nature of the TSS, it is impossible to apply uniform pretension over the whole length unless complete straight configuration. Therefore, it is not valid to assume constant pretension T
                        0 throughout the tendon in the modeling. Unlike many of the literature, for simplicity the T
                        0 is often assumed to be zero or simply to be large enough to eliminate any slacking, in this analysis we take the exact pretensions into consideration.

First to define the initial condition, we apply same pretension T
                        0 on both tendon 1 and 2, such that the transmitted forces on the end-effector at the distal end can achieve force equilibrium. The tendon elongation due to the pretension is taken as part of the initial length of the tendon L. In a bidirectional actuated system, one tendon will be the driving tendon to pull, while the other tendon being the opposing tendon to release. In the example shown in Fig. 4, when the actuator is driving the pulley counter-clockwise, tendon 1 is the driving tendon, tendon 2 is the opposing tendon. Here we define the sliding direction index ζ to be +1 when the tendon is in driving mode, −1 when the tendon is in opposing mode. And the counter-clockwise direction is defined as the positive direction for all tendon displacements as indicated by arrows. It is assumed that the total accumulated curve angle for the current configuration is Φ
                        
                           L
                        . When the system is actuated in counter-clockwise direction as indicated, based on (4), we have the force transmission relations as follows,


                        
                           
                              (9)
                              
                                 
                                    T
                                    
                                       
                                          1
                                          out
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    T
                                    
                                       
                                          1
                                          in
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 
                                    e
                                    
                                       −
                                       μ
                                       
                                          Φ
                                          L
                                       
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (10)
                              
                                 
                                    T
                                    
                                       
                                          2
                                          out
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    T
                                    
                                       
                                          2
                                          in
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 
                                    e
                                    
                                       μ
                                       
                                          Φ
                                          L
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

And based on (5), we have the tendon elongation for each tendon as follows,


                        
                           
                              (11)
                              
                                 
                                    δ
                                    1
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    P
                                    driving
                                 
                                 ·
                                 (
                                 
                                    T
                                    
                                       
                                          1
                                          in
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 −
                                 
                                    T
                                    0
                                 
                                 )
                                 ,
                              
                           
                        
                        
                           
                              (12)
                              
                                 
                                    δ
                                    2
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    P
                                    opposing
                                 
                                 ·
                                 (
                                 
                                    T
                                    
                                       
                                          2
                                          in
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 −
                                 
                                    T
                                    0
                                 
                                 )
                                 ,
                              
                           
                        where the coefficients P
                        
                           driving
                         and P
                        
                           opposing
                         are the corresponding elongation coefficient as defined in (6) when the tendon in driving mode (ζ
                        =+1), and opposing mode (ζ
                        =−1).

Therefore, the tendon displacements of two tendons are
                           
                              (13)
                              
                                 
                                    x
                                    
                                       
                                          1
                                          in
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    δ
                                    1
                                 
                                 (
                                 t
                                 )
                                 +
                                 
                                    x
                                    
                                       
                                          1
                                          out
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 ,
                              
                           
                        
                        
                           
                              (14)
                              
                                 
                                    x
                                    
                                       
                                          2
                                          out
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    δ
                                    2
                                 
                                 (
                                 t
                                 )
                                 +
                                 
                                    x
                                    
                                       
                                          2
                                          in
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 ,
                              
                           
                        
                     

At the distal end, the displacements of both tendons should be the same,
                           
                              (15)
                              
                                 
                                    x
                                    
                                       
                                          1
                                          out
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    x
                                    
                                       
                                          2
                                          out
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 .
                              
                           
                        
                     

Substitute (15) and (14) into (13), we can obtain the differences between the displacements of two tendons


                        
                           
                              (16)
                              
                                 
                                    
                                       
                                          Δ
                                          x
                                          (
                                          t
                                          )
                                       
                                       
                                          =
                                          
                                             x
                                             
                                                
                                                   1
                                                   in
                                                
                                             
                                          
                                          (
                                          t
                                          )
                                          −
                                          
                                             x
                                             
                                                
                                                   2
                                                   in
                                                
                                             
                                          
                                          (
                                          t
                                          )
                                       
                                    
                                    
                                       
                                       
                                          =
                                          
                                             δ
                                             1
                                          
                                          (
                                          t
                                          )
                                          +
                                          
                                             δ
                                             2
                                          
                                          (
                                          t
                                          )
                                          .
                                       
                                    
                                 
                              
                           
                        
                     

Since the tendon elongation is always positive, (16) shows that the releasing displacement of the opposing tendon into the sheath is less than pulling displacement of the driving tendon out of the sheath. This implies a very interesting phenomenon: as long as initially both tendons are in taut, regardless how large the pretensions are applied, when the pulley moves to one direction there will always be tendon slacking at the opposing side. And upon direction-changing at t
                        0, the motion will not be transmitted instantaneously until the deadzone of difference Δx(t
                        0) is overcome and the tendon becomes in taut again. This phenomenon could be shown and verified by experimental results in the next chapter.

Hence, for the bidirectional actuated system, only the driving tendon in pulling motion needs to be accounted for the position control. The tendon elongation in the driving tendon will cause positional error in the motion control. In presence of environment loading, the larger the load is, the higher the torque is required to overcome the load; the higher the torque is transmitted, the larger the tension in the driving tendon is required, resulting in longer tendon elongation. Therefore, we can simply calculate the corresponding positional errors using (11) based on the input tension in the driving tendon, in spite of variations in the environment loading condition.

In summary, there are two sources of positional errors in the bidirectional actuated system:
                           
                              1.
                              System backlash due to friction upon direction-changing.

Tendon elongation due to environment loading.

By defining the driving and opposing tendons based on the actuation direction of the rotary actuator, we can obtain the angular displacements of the driving actuator and the end-effector as
                           
                              (17)
                              
                                 
                                    θ
                                    in
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    x
                                    
                                       
                                          driving
                                          in
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 /
                                 R
                                 ,
                                 
                                 
                                    θ
                                    out
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    x
                                    
                                       
                                          driving
                                          out
                                       
                                    
                                 
                                 (
                                 t
                                 )
                                 /
                                 r
                                 .
                              
                           
                        
                     

Based on the derivation as in (11), (13), and (17), we can obtain the output angular displacement as a function of the input tension of the driving tendon and angular displacement,


                        
                           
                              (18)
                              
                                 
                                    θ
                                    out
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    
                                       
                                          θ
                                          in
                                       
                                       (
                                       t
                                       )
                                       R
                                       −
                                       
                                          δ
                                          driving
                                       
                                       (
                                       t
                                       )
                                    
                                    r
                                 
                                 =
                                 
                                    
                                       
                                          θ
                                          in
                                       
                                       (
                                       t
                                       )
                                       R
                                       −
                                       
                                          P
                                          driving
                                       
                                       (
                                       
                                          T
                                          driving
                                       
                                       (
                                       t
                                       )
                                       −
                                       
                                          T
                                          0
                                       
                                       )
                                    
                                    r
                                 
                                 .
                              
                           
                        
                     

Upon direction changing, we can derive the backlash width in angular displacement θ
                        
                           b
                         from a generalization form of (16),
                           
                              (19)
                              
                                 
                                    θ
                                    b
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    
                                       
                                          δ
                                          driving
                                       
                                       (
                                       t
                                       )
                                       +
                                       
                                          δ
                                          opposing
                                       
                                       (
                                       t
                                       )
                                    
                                    r
                                 
                                 =
                                 
                                    
                                       
                                          P
                                          driving
                                       
                                       (
                                       
                                          T
                                          driving
                                       
                                       (
                                       t
                                       )
                                       −
                                       
                                          T
                                          0
                                       
                                       )
                                       +
                                       
                                          P
                                          opposing
                                       
                                       (
                                       
                                          T
                                          opposing
                                       
                                       (
                                       t
                                       )
                                       −
                                       
                                          T
                                          0
                                       
                                       )
                                    
                                    r
                                 
                                 .
                              
                           
                        
                     

In the derived modeling (18) and (19), parameters such as friction coefficient μ, tendon property ρ, and overall tendon length L could be measured offline and used as constant. There remains two to be identified: total accumulated curve angle Φ
                        
                           L
                         and elongation coefficient P. In case of that the exact tendon-sheath configuration is known, they could be monitored and calculated using formulas (7) and (6), respectively. But in case of that the tendon-sheath configuration is unknown or accessible, the following calibration procedures need to be performed for parameters identification.

Firstly, actuate the robotic end-effector in one direction until its physical motion limit is reached. This implies that subsequent pulling motion would result purely in the tendon elongation rather than any joint movements. Then the elongation coefficients P
                        
                           driving
                         and P
                        
                           opposing
                         could be obtained from (5) by measuring the changes in the input tension and position displacement in pulling and releasing motion respectively.

However, the total accumulated curve angle Φ could not be directly measured in similar manner with no sensory information from the distal end. As suggest in (6), there is no readily available analytical solution to solve for Φ
                        
                           L
                         without knowledge of the local curvatures. Although there are tracking technologies which are able to measure the exact configuration of a flexible shape without line-of-sight restrictions, such as optical sensing, electromagnetic tracking and resistance-based flex sensors, these methods would require extra sensors to be integrated into the endoscope system along the transmission route, causing problems such as tethering wires, transmitting electrical power. In this paper, our focus is on the implementation of enhanced motion control without introducing any sensors into the human body. Therefore, such technology and device are not considered.

Recall the relationships between the elongation coefficient and accumulated curve angle as shown in Fig. 3. Despite the actual configuration of the transmission route, as long as the total accumulated curve angle is the same, a constant curvature configuration is able to give an approximated representation of the tension and elongation transmission behavior. Therefore, here we can approximate the total accumulated curve angle using such configuration where the curvature is assumed to be constant: 
                           
                              
                                 
                                    Φ
                                    ˆ
                                 
                              
                              L
                           
                           =
                           κ
                           L
                        . Then with this approximated representation, it allows us to derive the integration in (6) in the form of


                        
                           
                              (20)
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   P
                                                   driving
                                                
                                                =
                                                
                                                   
                                                      ρ
                                                      L
                                                   
                                                   
                                                      μ
                                                      
                                                         
                                                            
                                                               Φ
                                                               ˆ
                                                            
                                                         
                                                         L
                                                      
                                                   
                                                
                                                (
                                                1
                                                −
                                                
                                                   e
                                                   
                                                      −
                                                      μ
                                                      
                                                         
                                                            
                                                               Φ
                                                               ˆ
                                                            
                                                         
                                                         L
                                                      
                                                   
                                                
                                                )
                                                ,
                                             
                                          
                                          
                                             
                                                
                                                   P
                                                   opposing
                                                
                                                =
                                                
                                                   
                                                      ρ
                                                      L
                                                   
                                                   
                                                      μ
                                                      
                                                         
                                                            
                                                               Φ
                                                               ˆ
                                                            
                                                         
                                                         L
                                                      
                                                   
                                                
                                                (
                                                
                                                   e
                                                   
                                                      μ
                                                      
                                                         
                                                            
                                                               Φ
                                                               ˆ
                                                            
                                                         
                                                         L
                                                      
                                                   
                                                
                                                −
                                                1
                                                )
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Lastly, by knowing elongation coefficients P
                        
                           driving
                         and P
                        
                           opposing
                        , the estimated total accumulated curve angle can be easily solved by optimization in a least-square manner.

In endoscopic surgery, these straightforward calibration procedures can be carried out in-vivo once the endoscope reaches the inflated stomach cavity. In the following, we will present the methods to update the parameters in the proposed modeling, in order to adapt to any changes in the configuration due to the bending section at the endoscope tip. It is assumed that for the endoscope in use, its bending section has a bending length of l
                        
                           b
                        ; originally it is kept straight and now is steered to form an additional bending with curve angle of α as shown in Fig. 5
                        .

Now the updated total accumulated curve angle becomes
                           
                              (21)
                              
                                 
                                    Φ
                                    updated
                                 
                                 =
                                 
                                    Φ
                                    L
                                 
                                 +
                                 α
                                 ,
                              
                           
                        
                     

To calculate the elongation coefficient, recall the expression in (6). Since the bending section is at the end of the integration, we can easily update the equation by replacing corresponding contribution due to the length L
                        
                           b
                         with the new curve angle. The updated elongation coefficient becomes


                        
                           
                              (22)
                              
                                 
                                    P
                                    updated
                                 
                                 =
                                 P
                                 +
                                 ρ
                                 
                                 
                                    e
                                    
                                       −
                                       μ
                                       ζ
                                       
                                          Φ
                                          L
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   l
                                                   b
                                                
                                             
                                             
                                                μ
                                                ζ
                                                α
                                             
                                          
                                          (
                                          1
                                          −
                                          
                                             e
                                             
                                                −
                                                μ
                                                ζ
                                                α
                                             
                                          
                                          )
                                          −
                                          
                                             l
                                             b
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        
                     

With these updated parameters, the tension transmission relations and tendon elongation could be directly updated using (4) and (5). In such manner, the proposed modeling is able to provide adaptability to configuration changes, and improve the system performance accordingly in real-time. In the following, a model-based compensation method is presented for the open loop control.

By modeling the characteristics of the system as shown in (18) and (19), it is found that for both sources could be calculated by the actuation input forces at the proximal end. With such knowledge, we can improve the overall position control of the system by modifying the command input to the actuator at the proximal end according to the TSS modeling. By measuring the force/position information at the proximal end, we could provide position compensation to ensure the end-effectors reaching the desired position. Here we propose a model-based compensation method for open loop motion control without any force/position information feedback from the distal end. As shown in Fig. 6
                        , given a transmission route configuration, the proposed model-based controller can estimate the corresponding tendon elongation and system backlash based on the tension inputs at the proximal end. And then feedforward a displacement compensation to the actuator. The system parameter Φ
                        
                           L
                         and P can be adjusted in real-time according to the configuration changes as suggested in (21) and (22).

In the proposed control scheme, the motion direction is to be firstly identified from the desired moving direction of the actuator. Then the corresponding tension in the driving tendon will be used to calculate the compensation. The modified position input can be written as


                        
                           
                              (23)
                              
                                 
                                    θ
                                    act
                                 
                                 (
                                 t
                                 )
                                 =
                                 
                                    θ
                                    d
                                 
                                 (
                                 t
                                 )
                                 +
                                 
                                    θ
                                    elongation
                                 
                                 +
                                 
                                    θ
                                    backlash
                                 
                                 ,
                              
                           
                        where θ
                        
                           elongation
                        
                        =
                        δ(T, t)/r is the compensation for tendon elongation due to environment loading, and θ
                        
                           backlash
                         is the compensation for system backlash upon direction changing, in the form of


                        
                           
                              (24)
                              
                                 
                                    θ
                                    backlash
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      θ
                                                      b
                                                   
                                                   (
                                                   
                                                      t
                                                      0
                                                   
                                                   )
                                                   −
                                                   m
                                                   ,
                                                
                                                
                                                   if
                                                   
                                                   sgn
                                                   
                                                      
                                                         
                                                            
                                                               θ
                                                               d
                                                            
                                                         
                                                         ˙
                                                      
                                                   
                                                   (
                                                   
                                                      t
                                                      0
                                                      +
                                                   
                                                   )
                                                   >
                                                   0
                                                   ,
                                                
                                             
                                             
                                                
                                                   −
                                                   
                                                      θ
                                                      b
                                                   
                                                   (
                                                   
                                                      t
                                                      0
                                                   
                                                   )
                                                   +
                                                   m
                                                   ,
                                                
                                                
                                                   if
                                                   
                                                   sgn
                                                   
                                                      
                                                         
                                                            
                                                               θ
                                                               d
                                                            
                                                         
                                                         ˙
                                                      
                                                   
                                                   (
                                                   
                                                      t
                                                      0
                                                      +
                                                   
                                                   )
                                                   <
                                                   0
                                                   .
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where t
                        0 is the moment when the actuation changes direction. Recall (19), this backlash compensation θ
                        
                           b
                         is always a positive step offset; the sign of this offset is determined by the changed direction of the actuation. The additional term m is to achieve a gradual smoothing transition when the desired input requires to bypass the backlash deadzone:


                        
                           
                              (25)
                              
                                 m
                                 =
                                 
                                    θ
                                    b
                                 
                                 (
                                 
                                    t
                                    0
                                 
                                 )
                                 
                                    e
                                    
                                       −
                                       Δ
                                       θ
                                       /
                                       H
                                    
                                 
                                 ,
                              
                           
                        where Δθ is the angle that rotates from the point when the direction changes, and H is a relaxation coefficient used to select how fast the offset takes effect on the output. The opposite sign in (24) means that the smoothing term m is in the opposite direction of the backlash compensation command θ
                        
                           b
                        . And m is optimized based on the system bandwidth to allow the end-effectors to response as fast possible without causing any significant jerky motion.

The proposed models and compensation method were validated by experiments. First, the positional errors existing in a bidirectional tendon-sheath actuated system were investigated on a dedicated platform with fixed and known transmission route configuration. The results show that our models are able to estimate the positional errors due to the system backlash and environment loading respectively. And the proposed compensation method is able to significantly improve the open-loop position control, even with respect to variation in the environmental stiffness. Following that, an endoscope was implemented to emulate a practical scenario when the transmission route configuration was to be calibrated. Adaptability of the proposed models was also validated when there was configuration variation due to the bending section of the endoscope.

Experimental setup for a bidirectional actuated revolute joint is shown in Fig. 7
                        . A DC micro motor 3863CR (Faulhaber, Germany) was used as the actuator at the proximal end. An incremental encoder SCA16 (SCANCON Encoders, Denmark) was used at the distal end to measure the angular displacement. The tendons used were Teflon coated stainless steel wire rope (B-27, Asahi Intecc, Japan) with an outer diameter of 0.32mm. The tendon property ρ was measured at 5.82×10−4
                        N−1. The sheath used was the Asahi round wire coil with an outer diameter of 0.9mm and an inner diameter of 0.54mm (Asahi Intecc, Japan). The length of each tendon-sheath was chosen at 1000mm. Tensions at both ends were measured using load cells LW1025 (Interface Inc., USA) at the sheath stopper. A Galil PCI motion controller DMC-1886 (Galil Motion Control, USA), was used in a standalone desktop computer to control the DC motor, as well as to acquire the force and position measurement signals. A 100mm long cylindrical stick was used as the end-effector. Soft objects of different stiffness were placed in its way of rotation. The radii of the pulleys at the proximal and distal ends were measured at 25mm and 15mm.

To validate the proposed models, experimental results were compared between the system performance with and without compensation. The driven motor was actuated in position control mode to track a predefined trajectory. For consistency, the desired trajectory θ
                        
                           d
                         was computer generated. The actuate angle to the motor θ
                        
                           act
                        , and output angle θ
                        
                           o
                        
                        ut were recorded by the encoders. Both tendons were initially tightened by applying pretension T
                        0 at the proximal end. The configuration of the TTS was kept at a semicircular shape with a total accumulated curve angle Φ
                        
                           L
                        
                        =
                        π. For the setup, rotation to the left (counter-clockwise direction) was chosen to be the positive direction.

In order to show the system backlash, the system was first tested in free-space motion without loading. As seen in Fig. 8
                           a, initially the output angle was able to follow the desired angle closely since pretensions were applied to avoid initial slacking. But backlash could be observed immediately when the motion direction changed. It appeared in the form of a combination of positional error and phase delay. By applying one series of ramp-and-hold motion, it showed that the backlash only occurred upon direction-changing. The errors were kept the same at about 3.3°, and were counteracted to zero when the motion direction changed back. By applying the motion compensation to the system using proposed model, the backlash effect was significantly reduced as shown in Fig. 8b. The positional errors were kept less than 0.2°, while no obvious phase delay was observed. The dashed-dot line indicated the modified actuated signal sent to the actuator.

Following that, we performed experiments to validate the error model due to environment loading. A soft object (a thin sponge) was placed in the way of the end-effector. The desired trajectory was designed such that the tip of the stick was firstly moved until barely touching the sponge as a reference in free-space motion for comparison; then the tip of the stick would pushed against the sponge and hold the position before moving back. From Fig. 9
                           a, it could be seen that other than the backlash, the output angle was not able to follow the desired angle with environment loading. And the deviation became larger when pushing further. This deviation was caused by the tendon elongation as defined in (18). By applying compensation as in Fig. 9b, the positional errors due to both sources were significantly reduced. Note that when the stick moved back to its original position, there was no deviation between the output angle and desired angle. This would be an evidence to show that the tendon was in its elastic response range.

After validation of both error models in a semi-static manner, a sinusoidal wave with amplitude of 30° and frequency of 0.2Hz was applied as the input signal to test the trajectory tracking with variations in velocity. Also to test the system with variations in loading, two soft objects with different stiffness were placed in the way of motion on both sides (approximately 20° away from the center on each side). The results are shown in Fig. 10
                           . Without compensation, open-loop control will result in tracking errors upon contact with objects at both sides; and backlashes occurred whenever the system moved toward the positive direction. The object placed at the positive side was stiffer than the other one at the negative side, resulting larger errors in open-loop control. As comparison, corresponding compensation amount θ
                           
                              elongation
                            appeared to be higher when the end-effector was pushing against the high stiffness object. The proposed compensation is able to follow the desired inputs regardless of variations in the motion velocity or environment loading.

The proposed models and compensation method was validated in a fixed and pre-defined configuration. In the following we demonstrated and tested the adaptability of the compensation to configuration changes in the endoscopic surgery. A dual-channel endoscope (GIF-2T160, Olympus, Japan) was used to emulate the transmission route in the application of endoscopic surgeries. The length of the tool channel in the endoscope is 1350mm. Thus, the tendon-sheath pair in this setup was chosen to be 2000mm. To reduce the buckling effects of the sheath due to extensive high forces exerted from inside, a stiffer torque cable tube (Actone, Asahi Intecc, Japan) with an outer diameter of 0.89mm and an inner diameter of 0.36mm was chosen; and tendon was selected with an outer diameter of 0.27mm accordingly. The property ρ for the selected tendon was measured at 1.25×10−3
                        N−1. The friction coefficient μ between the tendon and sheath was measured at 1.75 with a random configuration, before inserting the TSS into the endoscope.

Calibration was firstly performed as described earlier. The elongation coefficients P for both driving and opposing motion were calibrated, and the estimated total accumulated curve angle 
                           
                              
                                 
                                    Φ
                                    ˆ
                                 
                              
                              L
                           
                         was calculated as listed in Table 1
                        .

Following that, the bending section of the endoscope with length of l
                        
                           b
                        
                        =100mm was steered to bend α
                        =0.5π to the side, as shown in Fig. 11
                        . Then the updated parameters were calculated using (21) and (22). For comparison, the corresponding elongation coefficients and total accumulated curve angle were measured using the force and position information from the distal end. The effects of the additional curve in the configuration on the elongation coefficients were shown in Fig. 12
                        . The values of the elongation coefficients and corresponding total accumulated curve angle were also shown in Table 1. The results show the calculated parameters in close proximity to the measured values, with an accuracy of less than 6% percentage error.

Using the estimated parameters, compensation was applied to the system control. A sinusoidal wave with frequency of 0.2Hz was applied as the desired motion trajectory. A soft object was placed in the way of motion at about 20°. The system performance is shown in Fig. 13
                        . Positional errors due to the system backlash and the environment loading could be observed in the system response without compensation, while these errors are greatly reduced when proposed motion compensation is applied. The root-mean-square-errors (RMSE) of the tracking response over one period are 7.35° and 1.10° for without and with compensation respectively.

@&#DISCUSSIONS@&#

The system performance using the proposed error models and compensation method has been assessed by experiments. The results showed that the position tracking capability has been significantly improved. In the following, discussions are taken regarding proposed modeling and their impacts in the TSS driven systems.

In this paper, the backlash problem was analyzed and modeled from a systematic perspective. It is shown that the system backlash is inherited from the system structure. The proposed model shows that the backlash is caused by imbalance elongations within the driving tendon and the opposing tendon. In such manner, the backlash problem in a bidirectional actuated TSS could be restored using only the information from the proximal end.

It is also shown that initial pre-loading might be able to prevent tendon slacking at the beginning, but the backlash would still occur when the direction changes. Using the proposed system modeling approach, the backlash behavior could be overcome without any additional mechanism at additional cost to keep the opposing tendon in tension.

As shown in the experimental results, positional error increases upon loading. The larger the load is, the larger the tendon elongation will be; consequently it results in inaccuracy in the motion output. Hence, without effective compensation the user would have to keep adjusting his/her motion input with reference to the visual feedback. Furthermore, this would also cause problem of insufficient force that can be transmitted to the distal end. For example, when the slave is in contact with the object, corresponding output forces in the driving tendon are shown in Fig. 14
                        . Without compensation, the resulting output force is only slightly more than the required driving force to move the slave in free space. In comparison, noticeable increase in the resulting output force could be seen when the elongation compensation is applied. By compensating the error due to environment loading, it would improve the open-loop controlled system by ensuring sufficient amount of force to be transmitted to the distal end.

This would be critical for those robotic joints where the motion stroke is limited. For example the surgical grasper. When the user tries to grasp an object with the grasper, the slave robot is not able to reach the desired position because of the encountered resistance force; once the limit of motion stroke has been reached, the user would not be able to apply more force by moving further. Without effective motion compensation, the resulting force at the end-effector would be insufficient to grasp the object firmly to prevent from slippage.

@&#CONCLUSION@&#

In this paper, we endeavor to tackle some of the challenges in the current robotic endoscopic surgery. The proposed modeling and compensation method allow effective and accurate motion control of a bidirectional system actuated by TSS. By characterizing the tension and motion transmission in a bidirectional actuated TSS, positional errors were identified in two sources: (1) due to system backlash and (2) due to environment loading. And both values could be estimated using only the measurable sensory information (both force and position) at the proximal end. Experimental validation has been carried out on a single DOF TSS actuated revolute joint in a mimic settings similar to endoscopic surgery. The results have shown that the proposed modeling and compensation are capable of delivering accurate motion control to the system in presence of variations in the environment stiffness and motion velocity, even adaptive to the changes in the transmission route configuration.

The modeling and method presented in this work is able to improve the system performance in but not limited to the application of robotic endoscopic surgery. Any robotic systems with similar physical constraints could have adopted the TSS as power transmission. It suggests a cost-effective but robust approach to free the restrictions of installing delicate sensors on the end-effectors for system control.

@&#ACKNOWLEDGMENT@&#

The research was supported by the Translational Clinical Research (TCR) grants NMRC/TCR/001-NUS/2007, from the National Medical Research Council (NMRC) of Singapore.

@&#REFERENCES@&#

