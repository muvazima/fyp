@&#MAIN-TITLE@&#Incorporating sentiment into tag-based user profiles and resource profiles for personalized search in folksonomy

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We present a framework SenticRank to incorporate sentiment for personalized search.


                        
                        
                           
                           Content-based and collaborative sentiment ranking methods are proposed.


                        
                        
                           
                           We compare the proposed sentiment-based search with baselines experimentally.


                        
                        
                           
                           We study the influence of sentiment corpora by using some sentiment dictionaries.


                        
                        
                           
                           Sentiment-based information can significantly improve performance in folksonomy.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Social media

Sentiment

User profiling

Folksonomy

Personalized search

@&#ABSTRACT@&#


               
               
                  In recent years, there has been a rapid growth of user-generated data in collaborative tagging (a.k.a. folksonomy-based) systems due to the prevailing of Web 2.0 communities. To effectively assist users to find their desired resources, it is critical to understand user behaviors and preferences. Tag-based profile techniques, which model users and resources by a vector of relevant tags, are widely employed in folksonomy-based systems. This is mainly because that personalized search and recommendations can be facilitated by measuring relevance between user profiles and resource profiles. However, conventional measurements neglect the sentiment aspect of user-generated tags. In fact, tags can be very emotional and subjective, as users usually express their perceptions and feelings about the resources by tags. Therefore, it is necessary to take sentiment relevance into account into measurements. In this paper, we present a novel generic framework SenticRank to incorporate various sentiment information to various sentiment-based information for personalized search by user profiles and resource profiles. In this framework, content-based sentiment ranking and collaborative sentiment ranking methods are proposed to obtain sentiment-based personalized ranking. To the best of our knowledge, this is the first work of integrating sentiment information to address the problem of the personalized tag-based search in collaborative tagging systems. Moreover, we compare the proposed sentiment-based personalized search with baselines in the experiments, the results of which have verified the effectiveness of the proposed framework. In addition, we study the influences by popular sentiment dictionaries, and SenticNet is the most prominent knowledge base to boost the performance of personalized search in folksonomy.
               
            

@&#INTRODUCTION@&#

In recent years, there has been a rapid growth of user-generated data in collaborative tagging (a.k.a. folksonomy-based) systems (e.g., Del.icio.us,
                        1
                     
                     
                        1
                        
                           http://delicious.com.
                      Flickr
                        2
                     
                     
                        2
                        
                           http://www.flickr.com.
                      and MovieLens
                        3
                     
                     
                        3
                        
                           http://movielens.umn.edu.
                     ) due to the prevailing of Web 2.0 communities. Facing such a large volume of data, people need an effective way to manage and explore them. To assist users to find their desired resources, it is critical to understand user behaviors and preferences. Tag-based profile techniques (Cai & Li, 2010; Noll & Meinel, 2007; Xie, Li, & Cai, 2012; Xu, Bao, Fei, Su, & Yu, 2008), which model users and resources by a vector of relevant tags, are widely employed in folksonomy-based systems. This is mainly because that personalized search and recommendations can be facilitated by measuring relevance between user profiles and resource profiles. However, conventional measurements neglect the sentiment aspect of user-generated tags. Let us take a look at the following example.
                        Example 1
                        Suppose user x is a dessert fan who has used the tag “dessert” once. Thus, the user profile for the user is constructed by the annotated tags and the tag frequencies as follows.
                              
                                 
                                    
                                       
                                          
                                             u
                                             x
                                          
                                          →
                                       
                                       =
                                       <
                                       dessert
                                       :
                                       1
                                       >
                                    
                                 
                              
                           We have two kinds of food a (“puff”) and b (“watermelon”), whose resource profiles are:
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         r
                                                         a
                                                      
                                                      →
                                                   
                                                   =
                                                   <
                                                   sweet
                                                   :
                                                   1
                                                   ,
                                                   yummy
                                                   :
                                                   1
                                                   >
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         r
                                                         b
                                                      
                                                      →
                                                   
                                                   =
                                                   <
                                                   food
                                                   :
                                                   1
                                                   ,
                                                   dessert
                                                   :
                                                   1
                                                   ,
                                                   fruit
                                                   :
                                                   1
                                                   >
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           If user x wants to find out some desserts with cream and issues the query 
                              
                                 q
                                 =
                                 <
                                 creamy
                                 ,
                                 food
                                 >
                              
                           , resource j (“watermelon”) will be returned to the user while resource a is not likely to appeared in the search results. The reason is that resource profile 
                              
                                 
                                    r
                                    b
                                 
                                 →
                              
                            of resource b is more similar to query q and user profile 
                              
                                 
                                    u
                                    x
                                 
                                 →
                              
                            than 
                              
                                 
                                    r
                                    a
                                 
                                 →
                              
                            (i.e., 
                              
                                 
                                    r
                                    b
                                 
                                 →
                              
                            have more overlapping terms with q and 
                              
                                 
                                    u
                                    x
                                 
                                 →
                              
                            than 
                              
                                 
                                    r
                                    a
                                 
                                 →
                              
                           ). Because the conventional personalized search approaches take both query relevance (similarity between resource profiles and queries) and user interest relevance (similarity between resource profiles and user profiles) into account when they rank resources. The resource profile rb
                            have one overlapping terms/tags with user profile ux
                            and another overlapping term with query q, which has obviously larger relevance than ra
                            (have overlapping term with neither ux
                            or query q). However, this is unreasonable as we can observe that resource a (“puff”) could be a good (even better) candidate than resource b to match the user’s intention on “find out some desserts with cream”.

The problem in Example 1 is mainly raised by neglecting the sentiment aspect of tags. Although this problem may be relieved by mapping various synonyms to a unified term via WordNet,
                        4
                     
                     
                        4
                        
                           http://wordnet.princeton.edu.
                      user-generated tags can be very emotional and subjective, as users usually express their perceptions and feelings about the resources by tags. Therefore, it is important to build the sentiment links between tags such as “creamy” and “sweet” (or “yummy”) in above example. To achieve this aim, the following contributions have been done in this paper:
                        
                           1.
                           We present a novel generic framework SenticRank to incorporate various sentiment-based information for personalized search embedding user profiles and resource profiles. In the framework, content-based sentiment ranking and collaborative sentiment ranking methods are proposed to sentiment-based personalized ranking. To the best of our knowledge, this is the first work of integrating sentiment information to address the problem of the personalized tag-based search in collaborative tagging systems.

We compare the proposed sentiment-based personalized search with baselines in the experiments, the results of which have verified the effectiveness of the proposed framework. Moreover, we investigate the influence of some parameters and possible measurements in the framework. The investigation further shows the proposed approaches are reliable and stable.

In addition, we study the influence of sentiment corpora by using several popular sentiment dictionaries, and SenticNet is the most prominent knowledge base to boost the performance of personalized search in folksonomy.

The remaining sections of this paper are organized as follows. In Section 2, relevant work and techniques are reviewed. The framework of incorporating various sentiment-based techniques for personalized search by user profiles and resource profiles is introduced in Section 3. We conduct the experiment upon a public dataset and analyze the experimental results in Section 4. Finally, the research in this work are summarized, and potential research directions are discussed in Section 5.

@&#RELATED WORK@&#

Research on folksonomy, social search and sentiment analysis is relevant to our work presented in this paper. Thus, we review the related work and classify them into three categories according to their areas.

In this subsection, we mainly review the collaborative tagging (folksonomy-based) systems in Web 2.0 communities. Existing work on the collaborative tagging systems can be classified into two categories. The first category of research is to identify patterns and characteristics of the user-generated data in these communities. Golder and Huberman (2006) investigated and analyzed the tag generation processes and usage patterns. To identify suitable tags for the web search, Bischoff, Firan, Nejdl, and Paiu (2008) investigated various aspects of the social tagging on some real tagging datasets. Furthermore, Gupta, Li, Yin, and Han (2010) summarized the patterns of tagging behaviors as well as the popular tagging techniques. Another category of research is to apply potential characteristics and patterns in versatile applications like resource recommendations. Bao et al. (2007) presented algorithms of SocialSimRank (SSR) and SocialPageRank (SPR), which incorporates social annotation to facilitate the web search. Moreover, three approaches (naive, co-occurrence and adaptive) were presented by Michlmayr and Cayzer (2007) to build tag-based profiles as well as assist information access. Moreover, tag-based profiles can be applied in the web search (Xu et al., 2008), personalized resource search (Cai & Li, 2010; Xie, Li, & Cai, 2012), content-based retrieval (Xie et al., 2014b), and the profile enrichment (Xie et al., 2014a).

The collaborative search (a.k.a., social search) has been intensively studied in recent years. The aim of collaborative search is to improve the performance of information retrieval in the web by incorporating search behaviors of similar users. Almeida and Almeida (2004) presented a community-aware search engine, which exploited community information as an evidence of relevance and improves the content-based methods up to 48% of the average precision. Park and Ramamohanarao (2007) generalized PageRank algorithm by using a popularity score from the multi-resolution communitiesfor web search. Smyth (2007) presented a community-based search engine, which collected search behaviors of a community (e.g., a department) and improved search quality significantly. Moreover, McNally, O’Mahony, Smyth, Coyle, and Briggs (2011) show that a collaborative search method (called HeyStaks) using personalization and social networking can improve the search performance. Subsequential research on Smyth, Coyle, and Briggs (2012) was further enhanced by the reputation model learned from the click-through data.

Sentiment analysis techniques (e.g., sentiment dictionaries, Godbole, Srinivasaiah, & Skiena, 2007; Kim & Hovy, 2004; Mullen, Wiebe, & Hoffmann, 2009) can exploit semantics of tags from the sentiment perspective. In recent years, many research on the topic of concept-level sentiment mining (Cambria, Schuller, Xia, & Havasi, 2013; Havasi, Cambria, Schuller, Liu, & Wang, 2013a, Havasi, Cambria, Schuller, Liu, & Wang, 2013b) forms a new trend, which has been employed to identify sentiment relationships for the construction of novel user profiles. Tsai, Tsai, and Hsu (2013) presented a two-step method, which assembled iterative regression and random walk to construct a sentiment dictionary in concept-level. Moreover, Xia, Zong, Hu, and Cambria (2013) addressed the domain adaptation issue of sentiment classification by proposing the method of feature ensemble plus sample selection (SS-FE). Cambria, Olsher, and Rajagopal (2014) have developed a concept-level knowledge base SenticNet 3, which utilizes sentic computing for concept-level mining and opinion analysis. The SenticNet has been widely adopted in many applications like the sentic computing (Cambria & Hussain, 2015), information fusion (Cambria, Howard, Hsu, & Hussain, 2013), social media marketing (Cambria, Grassi, Hussain, & Havasi, 2012), information management (Grassi, Cambria, Hussain, & Piazza, 2011), social media index (Cambria, Grassi, Poria, & Hussain, 2013, chap. 9) and the stock price prediction (Li, Xie, Chen, Wang, & Deng, 2014).

In this section, we describe a generic framework (named SenticRank) of incorporating sentiments into tag-based profiles for personalized search. Firstly, we formulate the research problem of personalized search by tag-based profiles. Then, followed by the basic personalized search approaches, the proposed SenticRank is introduced and detailed in three sub-processes, which are extracting tag-based profiles, mapping to sentiment spaces and ranking candidate resources.

The ultimate goal of personalized search in collaborative tagging is to find the following function θ, which maps a set of users, resources, and queries to a set of ranking scores:
                           
                              (1)
                              
                                 
                                    
                                       
                                          
                                             θ
                                             :
                                             U
                                             ×
                                             
                                             R
                                             ×
                                             
                                             Q
                                             →
                                             S
                                          
                                       
                                    
                                 
                              
                           
                        where U, R and Q are the set of users, resources, and queries respectively, S is the set of ranking scores.

There are mainly two streams of models to achieve personalized search. One is the content-based method, which examines whether or not the contents of resources are relevant to user preferences and query intentions. Existing personalized search approaches (Cai & Li, 2010; David, Iván, & Joemon, 2010; Xu et al., 2008) belong to this category, which further divides the mapping function θ into three sub-functions below:
                           
                              (2)
                              
                                 
                                    
                                       
                                          
                                             
                                                θ
                                                1
                                             
                                             :
                                             
                                                
                                                   1
                                                   e
                                                   m
                                                
                                                
                                                   0
                                                   e
                                                   x
                                                
                                             
                                             R
                                             ×
                                             
                                             Q
                                             →
                                             
                                                S
                                                1
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (3)
                              
                                 
                                    
                                       
                                          
                                             
                                                θ
                                                2
                                             
                                             :
                                             
                                                
                                                   1
                                                   e
                                                   m
                                                
                                                
                                                   0
                                                   e
                                                   x
                                                
                                             
                                             R
                                             ×
                                             
                                             U
                                             →
                                             
                                                S
                                                2
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (4)
                              
                                 
                                    
                                       
                                          
                                             
                                                θ
                                                3
                                             
                                             :
                                             
                                                
                                                   1
                                                   e
                                                   m
                                                
                                                
                                                   0
                                                   e
                                                   x
                                                
                                             
                                             
                                                S
                                                1
                                             
                                             ×
                                             
                                             
                                                S
                                                2
                                             
                                             →
                                             S
                                          
                                       
                                    
                                 
                              
                           
                        where S
                        1 denotes relevance scores between queries and resources (a.k.a. Resource Content Relevance), S
                        2 denotes relevance scores between users and resources (a.k.a. User Interest Relevance), θ
                        1 and θ
                        2 are two mapping functions to measure the above two kinds of relevance scores respectively, and θ
                        3 is an aggregation function to combine scores S
                        1 and S
                        2 to final scores S for ranking resources. To simplify notations, we use a single expression to represent the content-based method as follows.
                           
                              (5)
                              
                                 
                                    
                                       
                                          
                                             S
                                             ∝
                                             θ
                                             
                                                (
                                                U
                                                ×
                                                
                                                R
                                                ×
                                                
                                                T
                                                )
                                             
                                             ∝
                                             
                                                θ
                                                3
                                             
                                             
                                                (
                                                
                                                   θ
                                                   1
                                                
                                                
                                                   (
                                                   Q
                                                   ×
                                                   
                                                   R
                                                   )
                                                
                                                ,
                                                
                                                   θ
                                                   2
                                                
                                                
                                                   (
                                                   U
                                                   ×
                                                   
                                                   R
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Another kind of methods is the collaborative method (Qingbiao, Jie, & Xu, 2011; Smyth, 2007), which discovers a set of similar users for measuring relevancy of resources. Specifically, a set of similar users are identified based on the query and the issuer firstly. Then, the resource relevance score is calculated according to these similar users. Formally, we can represent the collaborative method by following sub-functions.
                           
                              (6)
                              
                                 
                                    
                                       
                                          
                                             
                                                θ
                                                
                                                   1
                                                
                                                ′
                                             
                                             :
                                             
                                                
                                                   1
                                                   e
                                                   m
                                                
                                                
                                                   0
                                                   e
                                                   x
                                                
                                             
                                             Q
                                             ×
                                             
                                             U
                                             →
                                             C
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (7)
                              
                                 
                                    
                                       
                                          
                                             
                                                θ
                                                
                                                   2
                                                
                                                ′
                                             
                                             :
                                             
                                                
                                                   1
                                                   e
                                                   m
                                                
                                                
                                                   0
                                                   e
                                                   x
                                                
                                             
                                             C
                                             ×
                                             
                                             R
                                             →
                                             
                                                S
                                                
                                                   1
                                                
                                                ′
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (8)
                              
                                 
                                    
                                       
                                          
                                             
                                                θ
                                                
                                                   3
                                                
                                                ′
                                             
                                             :
                                             
                                                
                                                   1
                                                   e
                                                   m
                                                
                                                
                                                   0
                                                   e
                                                   x
                                                
                                             
                                             Q
                                             ×
                                             
                                             R
                                             →
                                             
                                                S
                                                
                                                   2
                                                
                                                ′
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (9)
                              
                                 
                                    
                                       
                                          
                                             
                                                θ
                                                
                                                   4
                                                
                                                ′
                                             
                                             :
                                             
                                                
                                                   1
                                                   e
                                                   m
                                                
                                                
                                                   0
                                                   e
                                                   x
                                                
                                             
                                             
                                                S
                                                1
                                                ′
                                             
                                             ×
                                             
                                             
                                                S
                                                
                                                   2
                                                
                                                ′
                                             
                                             →
                                             
                                                
                                                   S
                                                
                                                ′
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where C is a family of sets of similar users identified according to queries and the issuers. Similarly, we simplify these notations by using following expression for the collaborative method.
                           
                              (10)
                              
                                 
                                    
                                       
                                          
                                             S
                                             ′
                                             ∝
                                             θ
                                             ′
                                             
                                                (
                                                U
                                                ×
                                                
                                                R
                                                ×
                                                
                                                T
                                                )
                                             
                                             ∝
                                             
                                                θ
                                                4
                                                ′
                                             
                                             
                                                (
                                                
                                                   θ
                                                   2
                                                   ′
                                                
                                                
                                                   (
                                                   
                                                      θ
                                                      1
                                                      ′
                                                   
                                                   
                                                      (
                                                      Q
                                                      ×
                                                      
                                                      U
                                                      )
                                                   
                                                   ,
                                                   R
                                                   )
                                                
                                                ,
                                                
                                                   θ
                                                   3
                                                   ′
                                                
                                                
                                                   (
                                                   U
                                                   ×
                                                   
                                                   R
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                    
                                 
                              
                           
                        In this research, we follow the above two models and further incorporate sentiment relevance scores into function θ.

In collaborative tagging systems, users annotate resources by tags to express their feelings and perceptions on the resources. Hence, there is a ternary relationship among users, resources and tags. Formally, the sets of users, tags and resources and ternary relationship forms a folksonomy, which is defined as a quadruple as:
                           Definition 1
                           Let U, R, T be the sets of users, resources and tags respectively. K denotes the set of ternary relationships among users, resources and tags. A folksonomy 
                              F is represented by a tuple with four elements as:
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      F
                                                      =
                                                      (
                                                      U
                                                      ,
                                                      R
                                                      ,
                                                      T
                                                      ,
                                                      K
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      K
                                                      ⊆
                                                      U
                                                      ×
                                                      
                                                      R
                                                      ×
                                                      
                                                      T
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

The core idea of extracting tag-based profiles is based on the assumption that user-generated tags can reflect user (annotator) preferences as well as resource (annotatee) contents to some extent. Therefore, the vector space model (VSM) is adopted to represent users and resources by a bag of tags. Formally, the tag-based user profile (TUP), which can be extracted from the ternary relations among users, tags and resources, is represented by a vector of tags annotated by different users.
                           Definition 2
                           Let 
                                 
                                    {
                                    
                                       t
                                       1
                                    
                                    ,
                                    ⋯
                                    ,
                                    
                                       t
                                       n
                                    
                                    }
                                 
                               and 
                                 
                                    {
                                    
                                       υ
                                       
                                          1
                                       
                                       i
                                    
                                    ,
                                    ⋯
                                    ,
                                    
                                       υ
                                       
                                          n
                                       
                                       i
                                    
                                    }
                                 
                               be the tag corpus and their preference (relevance) degrees by user ui
                              . The tag-based user profile of ui
                               is represented by vector 
                                 
                                    
                                       u
                                       i
                                    
                                    →
                                 
                               as:
                                 
                                    
                                       
                                          
                                             
                                                u
                                                i
                                             
                                             →
                                          
                                          =
                                          
                                             (
                                             
                                                t
                                                1
                                             
                                             :
                                             
                                                υ
                                                
                                                   1
                                                
                                                i
                                             
                                             ,
                                             
                                                t
                                                2
                                             
                                             :
                                             
                                                υ
                                                
                                                   2
                                                
                                                i
                                             
                                             ,
                                             ⋯
                                             ,
                                             
                                                t
                                                n
                                             
                                             :
                                             
                                                υ
                                                
                                                   n
                                                
                                                i
                                             
                                             )
                                          
                                       
                                    
                                 
                              where 
                                 
                                    υ
                                    
                                       n
                                    
                                    i
                                 
                               is the preference (relevance) degree of tag tn
                               by ui
                              , which can be obtained by the paradigm of normalized tag frequency (NTF) in (Cai & Li, 2010). Note that there are also other paradigms like tag-frequency (TF) (Noll & Meinel, 2007), tag-frequency/inverse-user-frequency (TF-IUF) (Xu et al., 2008) and BM 25 (David et al., 2010) for calculation of relevance degrees, and NTF (Cai & Li, 2010) has been established in is the most effective one among them. Similarly, the resource can be also represented by a vector of annotated tags from different users as follows.

Let 
                                 
                                    {
                                    
                                       t
                                       1
                                    
                                    ,
                                    ⋯
                                    ,
                                    
                                       t
                                       n
                                    
                                    }
                                 
                               and 
                                 
                                    {
                                    
                                       τ
                                       
                                          1
                                       
                                       a
                                    
                                    ,
                                    ⋯
                                    ,
                                    
                                       τ
                                       
                                          n
                                       
                                       a
                                    
                                    }
                                 
                               be the tag corpus and their relevance degrees to resource ra
                              . The tag-based resource profile of ra
                               is represented by vector 
                                 
                                    
                                       u
                                       a
                                    
                                    →
                                 
                               as:
                                 
                                    
                                       
                                          
                                             
                                                r
                                                a
                                             
                                             →
                                          
                                          =
                                          
                                             (
                                             
                                                t
                                                1
                                             
                                             :
                                             
                                                τ
                                                
                                                   1
                                                
                                                a
                                             
                                             ,
                                             
                                                t
                                                2
                                             
                                             :
                                             
                                                τ
                                                
                                                   2
                                                
                                                a
                                             
                                             ,
                                             ⋯
                                             ,
                                             
                                                t
                                                n
                                             
                                             :
                                             
                                                τ
                                                
                                                   n
                                                
                                                a
                                             
                                             )
                                          
                                       
                                    
                                 
                              
                           

where 
                           
                              τ
                              
                                 n
                              
                              a
                           
                         is the relevance degree of tag tn
                         to ra
                        , which can be obtained by the NTF paradigm as well. After obtaining user profiles and resource profiles, we can find suitable mapping function θ to obtain the relevance scores.

To address the problem mentioned in Example 1, we introduce a method of incorporating the sentiment relevances by mapping tag spaces to sentiment spaces in this subsection. Generally, sentiment relevance between two profiles (including both user profiles and resource profiles) can be measured by similarity in sentiment space. In other words, we map tag-based profiles for each user from the tag space to the sentiment space. Formally, we use the function η to denote the mapping relationship:
                           
                              (11)
                              
                                 
                                    
                                       
                                          
                                             η
                                             :
                                             W
                                             →
                                             V
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           W
                         is the tag space and 
                           V
                         is the sentiment space. Compiling all tag-based user profiles (or resource profiles) together, we have a matrix Wu
                         (or Wr
                        ):
                           
                              
                           
                        
                        
                           
                              
                           
                        where m stands for the number of users, l is the number of resources and n is the index of tags. We use the matrix D to denote the sentiment dictionaries (e.g., SenticNet,
                           5
                        
                        
                           5
                           
                              http://sentic.net/senticnet-3.0.zip.
                         Harvard IV-4 sentiment dictionary
                           6
                        
                        
                           6
                           
                              http://www.wjh.harvard.edu/inquirer/homecat.htm.
                        ). Each row in D denotes a tag/term, and each column in D represents a sentiment dimension in the dictionary. The length of sentiment vector in D is depended on which sentiment dictionary is used. To map the tag space W to sentiment space V, we employ inner-multiply operations on matrix W and D as follows.
                           
                              (12)
                              
                                 
                                    
                                       
                                          
                                             V
                                             =
                                             W
                                             ⊙
                                             D
                                          
                                       
                                    
                                 
                              
                           
                        where W is the general presentation of matrix Wu
                         or Wr
                        . Note that the columns in W do not entirely match the rows in D. In other words, tags in W do not necessarily appear in D. Correspondingly, tags/terms in D are not all used in the folksonomy. Inner-multiply operators are chosen to mutually retrieve columns and rows into two matrices. Thus, we can map all tag-based user profiles and resource profiles to sentiment spaces, and defined sentiment-based user profiles and resource profiles as follows.
                           Definition 4
                           Let 
                                 
                                    {
                                    
                                       d
                                       1
                                    
                                    ,
                                    ⋯
                                    ,
                                    
                                       d
                                       x
                                    
                                    }
                                 
                               and 
                                 
                                    {
                                    
                                       ∈
                                       
                                          1
                                       
                                       i
                                    
                                    ,
                                    ⋯
                                    ,
                                    
                                       ∈
                                       
                                          x
                                       
                                       i
                                    
                                    }
                                 
                               be the sentiment dimensions and their relevant degrees by user ui
                              . The sentiment-based user profile of ui
                               is represented by vector 
                                 
                                    
                                       u
                                       
                                          i
                                       
                                       *
                                    
                                    →
                                 
                               as:
                                 
                                    
                                       
                                          
                                             
                                                u
                                                
                                                   i
                                                
                                                *
                                             
                                             →
                                          
                                          =
                                          
                                             (
                                             
                                                d
                                                1
                                             
                                             :
                                             
                                                ∈
                                                
                                                   1
                                                
                                                i
                                             
                                             ,
                                             
                                                d
                                                2
                                             
                                             :
                                             
                                                ∈
                                                
                                                   2
                                                
                                                i
                                             
                                             ,
                                             ⋯
                                             ,
                                             
                                                d
                                                x
                                             
                                             :
                                             
                                                ∈
                                                
                                                   x
                                                
                                                i
                                             
                                             )
                                          
                                       
                                    
                                 
                              
                           

Let 
                                 
                                    {
                                    
                                       d
                                       1
                                    
                                    ,
                                    ⋯
                                    ,
                                    
                                       d
                                       x
                                    
                                    }
                                 
                               and 
                                 
                                    {
                                    
                                       
                                          ɛ
                                       
                                       
                                          1
                                       
                                       i
                                    
                                    ,
                                    ⋯
                                    ,
                                    
                                       
                                          ɛ
                                       
                                       
                                          x
                                       
                                       i
                                    
                                    }
                                 
                               be the sentiment dimensions and their relevant degrees to resource ra
                              . The sentiment-based resource profile of ra
                               is represented by vector 
                                 
                                    
                                       r
                                       
                                          a
                                       
                                       *
                                    
                                    →
                                 
                               as:
                                 
                                    
                                       
                                          
                                             
                                                r
                                                
                                                   a
                                                
                                                *
                                             
                                             →
                                          
                                          =
                                          
                                             (
                                             
                                                d
                                                1
                                             
                                             :
                                             
                                                
                                                   ɛ
                                                
                                                
                                                   1
                                                
                                                a
                                             
                                             ,
                                             
                                                d
                                                2
                                             
                                             :
                                             
                                                
                                                   ɛ
                                                
                                                
                                                   2
                                                
                                                a
                                             
                                             ,
                                             ⋯
                                             ,
                                             
                                                d
                                                x
                                             
                                             :
                                             
                                                
                                                   ɛ
                                                
                                                
                                                   x
                                                
                                                a
                                             
                                             )
                                          
                                       
                                    
                                 
                              
                           

As mentioned in Section 3.1, we have two kinds of methods, which are the content method and the collaborative method. In this subsection, we further elaborate the sentiment versions of these two methods.

The content-based sentiment rank contains both the resource content relevance and the user interest relevance. Specifically, the resource content relevance is measured by similarities between queries and resource profiles. As there are two kinds of resource profiles, which are tag-based resource profiles and sentiment-based resource profiles, we obtain two kinds of user interest relevances and aggregate them as follows.
                              
                                 (13)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   Sim
                                                   c
                                                
                                                
                                                   (
                                                   
                                                      
                                                         u
                                                         i
                                                      
                                                      →
                                                   
                                                   ,
                                                   
                                                      
                                                         r
                                                         a
                                                      
                                                      →
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      
                                                         
                                                            u
                                                            i
                                                         
                                                         →
                                                      
                                                      ·
                                                      
                                                         
                                                            r
                                                            a
                                                         
                                                         →
                                                      
                                                   
                                                   
                                                      
                                                         ∥
                                                      
                                                      
                                                         
                                                            u
                                                            i
                                                         
                                                         →
                                                      
                                                      
                                                         ∥
                                                         |
                                                      
                                                      
                                                         
                                                            r
                                                            a
                                                         
                                                         →
                                                      
                                                      
                                                         ∥
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                           
                              
                                 (14)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   Sim
                                                   c
                                                
                                                
                                                   (
                                                   
                                                      
                                                         u
                                                         
                                                            i
                                                         
                                                         *
                                                      
                                                      →
                                                   
                                                   ,
                                                   
                                                      
                                                         r
                                                         
                                                            a
                                                         
                                                         *
                                                      
                                                      →
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      
                                                         
                                                            u
                                                            
                                                               i
                                                            
                                                            *
                                                         
                                                         →
                                                      
                                                      ·
                                                      
                                                         
                                                            r
                                                            
                                                               a
                                                            
                                                            *
                                                         
                                                         →
                                                      
                                                   
                                                   
                                                      
                                                         ∥
                                                      
                                                      
                                                         
                                                            u
                                                            
                                                               i
                                                            
                                                            *
                                                         
                                                         →
                                                      
                                                      
                                                         ∥
                                                         |
                                                      
                                                      
                                                         
                                                            r
                                                            
                                                               a
                                                            
                                                            *
                                                         
                                                         →
                                                      
                                                      
                                                         ∥
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                           
                              
                                 (15)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   Rel
                                                   ur
                                                
                                                
                                                   (
                                                   
                                                      u
                                                      i
                                                   
                                                   ,
                                                   
                                                      r
                                                      a
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      e
                                                   
                                                   
                                                      
                                                         Sim
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               u
                                                               i
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               a
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                   
                                                
                                                ·
                                                
                                                   
                                                      e
                                                   
                                                   
                                                      
                                                         Sim
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               u
                                                               
                                                                  i
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               
                                                                  a
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where Simc
                            is the cosine similarity between two vectors, 
                              
                                 
                                    e
                                 
                                 
                                    (
                                    
                                       Sim
                                       c
                                    
                                    )
                                 
                              
                            is to avoid zero similarity cases. Similarly, the resource content relevance can be measured by cosine similarity as query q can be also represented by a tag vector (denoted by 
                              
                                 q
                                 →
                              
                           ) and mapped to sentiment space (denoted by 
                              
                                 
                                    
                                       q
                                    
                                    *
                                 
                                 →
                              
                           ).
                              
                                 (16)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   Rel
                                                   qr
                                                
                                                
                                                   (
                                                   q
                                                   ,
                                                   
                                                      r
                                                      a
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      e
                                                   
                                                   
                                                      
                                                         Sim
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            q
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               a
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                      +
                                                      
                                                         Sim
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               
                                                                  q
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               
                                                                  a
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           The final score for candidate resources ranking can be represented by aggregation of the above two relevances, which is:
                              
                                 (17)
                                 
                                    
                                       
                                          
                                             
                                                θ
                                                
                                                   (
                                                   
                                                      u
                                                      i
                                                   
                                                   ,
                                                   
                                                      r
                                                      a
                                                   
                                                   ,
                                                   q
                                                   )
                                                
                                                =
                                                
                                                   
                                                      e
                                                   
                                                   
                                                      
                                                         Sim
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               u
                                                               i
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               a
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                      +
                                                      
                                                         Sim
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               u
                                                               
                                                                  i
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               
                                                                  a
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                      +
                                                      
                                                         Sim
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            q
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               a
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                      +
                                                      
                                                         Sim
                                                         c
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               
                                                                  q
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               
                                                                  a
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           The larger value of θ indicates greater relevance of the candidate resource. As a result, candidate resources with top-k largest values of θ are retrieved and returned to user ui
                           . Note that there are some alternatives of similarity to replace cosine similarity Simc
                           . For example, we can calculate the Euclidean (or Manhattan) distance between two vectors, and then use the inverse of them as the similarity measurement, i.e.:
                              
                                 (18)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   Dist
                                                   e
                                                
                                                
                                                   (
                                                   
                                                      
                                                         u
                                                         i
                                                      
                                                      →
                                                   
                                                   ,
                                                   
                                                      
                                                         r
                                                         a
                                                      
                                                      →
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      
                                                         ∑
                                                         
                                                            k
                                                            =
                                                            1
                                                         
                                                         n
                                                      
                                                      
                                                         
                                                            (
                                                            
                                                               υ
                                                               
                                                                  k
                                                               
                                                               i
                                                            
                                                            −
                                                            
                                                               τ
                                                               
                                                                  k
                                                               
                                                               a
                                                            
                                                            )
                                                         
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                           
                              
                                 (19)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   Dist
                                                   m
                                                
                                                
                                                   (
                                                   
                                                      
                                                         u
                                                         i
                                                      
                                                      →
                                                   
                                                   ,
                                                   
                                                      
                                                         r
                                                         a
                                                      
                                                      →
                                                   
                                                   )
                                                
                                                =
                                                
                                                   ∑
                                                   
                                                      k
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   |
                                                   
                                                      υ
                                                      
                                                         k
                                                      
                                                      i
                                                   
                                                   −
                                                   
                                                      τ
                                                      
                                                         k
                                                      
                                                      a
                                                   
                                                   |
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                           
                              
                                 (20)
                                 
                                    
                                       
                                          
                                             
                                                Sim
                                                =
                                                
                                                   1
                                                   
                                                      Dist
                                                      +
                                                      1
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where Dist can be both Diste
                            (Euclidean distance) and Distm
                            (Manhattan distance), so that Sim can be Sime
                            (the inverse of Euclidean distance) and Simm
                            (the inverse of Manhattan distance).

The collaborative sentiment ranking method is employed to discover a set of similar users based on the query and the issuer. Here, we use an abstract similarity function Sim to denote various similarity measurements.
                              
                                 (21)
                                 
                                    
                                       
                                          
                                             
                                                Sim
                                                
                                                   (
                                                   
                                                      u
                                                      i
                                                   
                                                   ,
                                                   
                                                      u
                                                      j
                                                   
                                                   ,
                                                   q
                                                   )
                                                
                                                =
                                                
                                                   
                                                      e
                                                   
                                                   
                                                      Sim
                                                      
                                                         (
                                                         
                                                            
                                                               u
                                                               i
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               u
                                                               j
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                      +
                                                      Sim
                                                      
                                                         (
                                                         
                                                            
                                                               u
                                                               
                                                                  i
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               u
                                                               
                                                                  j
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                      +
                                                      Sim
                                                      
                                                         (
                                                         
                                                            q
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               u
                                                               j
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                      +
                                                      Sim
                                                      
                                                         (
                                                         
                                                            
                                                               
                                                                  q
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               u
                                                               
                                                                  j
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where ui
                            is the query issuer, uj
                            is a candidate similar user, and q is the query. Top-n users with largest similarity constitute a set of neighbors Ci
                            for ui
                           . Next, the relevance score of a candidate resource is measured by the neighbors Ci
                            and query issuer q.
                              
                                 (22)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   θ
                                                   ′
                                                
                                                
                                                   (
                                                   
                                                      C
                                                      i
                                                   
                                                   ,
                                                   
                                                      r
                                                      a
                                                   
                                                   ,
                                                   q
                                                   )
                                                
                                                =
                                                
                                                   1
                                                   
                                                      
                                                         |
                                                      
                                                      
                                                         C
                                                         i
                                                      
                                                      
                                                         |
                                                      
                                                   
                                                
                                                
                                                   ∑
                                                   
                                                      u
                                                      ∈
                                                      
                                                         C
                                                         i
                                                      
                                                   
                                                
                                                
                                                   
                                                      e
                                                   
                                                   
                                                      Sim
                                                      
                                                         (
                                                         
                                                            u
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               a
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                      +
                                                      Sim
                                                      
                                                         (
                                                         
                                                            
                                                               
                                                                  u
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               
                                                                  a
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                      +
                                                      Sim
                                                      
                                                         (
                                                         
                                                            q
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               a
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                      +
                                                      Sim
                                                      
                                                         (
                                                         
                                                            
                                                               
                                                                  q
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         ,
                                                         
                                                            
                                                               r
                                                               
                                                                  a
                                                               
                                                               *
                                                            
                                                            →
                                                         
                                                         )
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where 
                              
                                 
                                    ∑
                                    
                                       u
                                       ∈
                                       
                                          C
                                          i
                                       
                                    
                                 
                                 
                                    
                                       e
                                    
                                    
                                       Sim
                                       
                                          (
                                          
                                             u
                                             →
                                          
                                          ,
                                          
                                             
                                                r
                                                a
                                             
                                             →
                                          
                                          )
                                       
                                       +
                                       Sim
                                       
                                          (
                                          
                                             
                                                
                                                   u
                                                
                                                *
                                             
                                             →
                                          
                                          ,
                                          
                                             
                                                r
                                                
                                                   a
                                                
                                                *
                                             
                                             →
                                          
                                          )
                                       
                                    
                                 
                              
                            is the overall total score for ra
                            to Ci
                           , the remaining part is the content relevance between the resource and the query. Similar to content-based method, candidate resources with top-k largest values of θ′ are returned to the query issuer.

To facilitate the understanding of our approach in this section, we slightly modify the values in Example 1 to show processes of the proposed approach.
                           Example 2
                           Suppose user x has the following tag-based user profile:
                                 
                                    
                                       
                                          
                                             
                                                u
                                                x
                                             
                                             →
                                          
                                          =
                                          
                                             (
                                             dessert
                                             :
                                             1.0
                                             )
                                          
                                       
                                    
                                 
                              According to Example 1, user a seeks some creamy food and issues query q = (creamy, food). However, the resource a (“puff”) has the following resource profile:
                                 
                                    
                                       
                                          
                                             
                                                r
                                                a
                                             
                                             →
                                          
                                          =
                                          
                                             (
                                             sweet
                                             :
                                             0.7
                                             ,
                                             yummy
                                             :
                                             0.9
                                             )
                                          
                                          ,
                                       
                                    
                                 
                              which does not have any overlapping terms/tags with both the user profile and the query. Therefore, if we adopt the content-based approach without sentiment (as defined in Eq. (17)), the ranking score of θ function is 0 as both user interest relevance (i.e., Relur
                              (ux, ra
                              )) and resource content relevance (i.e., Relqr
                              (q, ra
                              )) are 0. To address this problem, we transform tags from tag space W to sentiment space V (as shown in Eq. (12)). Each tag can be denoted by a 5-dimensional sentiment vector if we adopt SenticNet 3.0 (Cambria et al., 2014). The 5 dimensions are pleasantness, attention, sensitivity, aptitude and polarity.
                                 7
                              
                              
                                 7
                                 Polarity is calculated based on other four dimensions.
                               The sentiment vectors of tags “dessert”, “creamy”, “food”, “sweet” and “yummy” are listed as follows.
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      dessert
                                                      =
                                                      (
                                                      +
                                                      0.092
                                                      ,
                                                      −
                                                      0.051
                                                      ,
                                                      +
                                                      0.000
                                                      ,
                                                      +
                                                      0.000
                                                      ,
                                                      +
                                                      0.048
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      creamy
                                                      =
                                                      (
                                                      +
                                                      0.092
                                                      ,
                                                      +
                                                      0.000
                                                      ,
                                                      +
                                                      0.028
                                                      ,
                                                      +
                                                      0.134
                                                      ,
                                                      +
                                                      0.066
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      food
                                                      =
                                                      (
                                                      +
                                                      0.055
                                                      ,
                                                      +
                                                      0.000
                                                      ,
                                                      +
                                                      0.028
                                                      ,
                                                      +
                                                      0.089
                                                      ,
                                                      +
                                                      0.039
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      sweet
                                                      =
                                                      (
                                                      +
                                                      0.112
                                                      ,
                                                      +
                                                      0.000
                                                      ,
                                                      +
                                                      0.000
                                                      ,
                                                      +
                                                      0.141
                                                      ,
                                                      +
                                                      0.084
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      yummy
                                                      =
                                                      (
                                                      +
                                                      0.076
                                                      ,
                                                      +
                                                      0.000
                                                      ,
                                                      +
                                                      0.028
                                                      ,
                                                      +
                                                      0.113
                                                      ,
                                                      +
                                                      0.063
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              The sentiment-based user profile of user x is
                                 
                                    
                                       
                                          
                                             
                                                u
                                                
                                                   x
                                                
                                                *
                                             
                                             →
                                          
                                          =
                                          
                                             (
                                             +
                                             0.092
                                             ,
                                             −
                                             0.051
                                             ,
                                             +
                                             0.000
                                             ,
                                             +
                                             0.000
                                             ,
                                             +
                                             0.048
                                             )
                                          
                                       
                                    
                                 
                              The sentiment-based resource profile of resource a is
                                 
                                    
                                       
                                          
                                             
                                                r
                                                
                                                   a
                                                
                                                *
                                             
                                             →
                                          
                                          =
                                          
                                             (
                                             +
                                             0.1468
                                             ,
                                             +
                                             0.0000
                                             ,
                                             +
                                             0.0252
                                             ,
                                             +
                                             0.2004
                                             ,
                                             +
                                             0.1155
                                             )
                                          
                                       
                                    
                                 
                              Specifically, the first sentiment dimension (0.1468) is calculated by first dimension of sentiment vector of “sweet” and “yummy” and their weights 
                                 
                                    (
                                    0.1468
                                    =
                                    0.7
                                    ×
                                    
                                    0.112
                                    +
                                    0.9
                                    ×
                                    
                                    0.076
                                    )
                                 
                              . For sentiment-based query vector, we assume the weight of each terms are equal in the query. The obtained sentiment-based query vector are actually the average of sentiment vectors of “creamy” and “food”.
                                 
                                    
                                       
                                          
                                             
                                                
                                                   q
                                                
                                                *
                                             
                                             →
                                          
                                          =
                                          
                                             (
                                             +
                                             0.0735
                                             ,
                                             +
                                             0.0000
                                             ,
                                             +
                                             0.00280
                                             ,
                                             +
                                             0.1115
                                             ,
                                             +
                                             0.525
                                             )
                                          
                                       
                                    
                                 
                              Let us re-calculate the ranking score of θ function with sentiment (as defined in Eq. (17) as follows.
                                 
                                    
                                       
                                          
                                             Rel
                                             ur
                                          
                                          
                                             (
                                             
                                                u
                                                x
                                             
                                             ,
                                             
                                                r
                                                a
                                             
                                             )
                                          
                                          =
                                          
                                             
                                                e
                                             
                                             
                                                
                                                   Sim
                                                   c
                                                
                                                
                                                   (
                                                   
                                                      
                                                         u
                                                         x
                                                      
                                                      →
                                                   
                                                   ,
                                                   
                                                      
                                                         r
                                                         a
                                                      
                                                      →
                                                   
                                                   )
                                                
                                             
                                          
                                          ·
                                          
                                             
                                                e
                                             
                                             
                                                
                                                   Sim
                                                   c
                                                
                                                
                                                   (
                                                   
                                                      
                                                         u
                                                         
                                                            x
                                                         
                                                         *
                                                      
                                                      →
                                                   
                                                   ,
                                                   
                                                      
                                                         r
                                                         
                                                            a
                                                         
                                                         *
                                                      
                                                      →
                                                   
                                                   )
                                                
                                             
                                          
                                          =
                                          
                                             
                                                e
                                             
                                             
                                                
                                                   Sim
                                                   c
                                                
                                                
                                                   (
                                                   
                                                      
                                                         u
                                                         
                                                            x
                                                         
                                                         *
                                                      
                                                      →
                                                   
                                                   ,
                                                   
                                                      
                                                         r
                                                         
                                                            a
                                                         
                                                         *
                                                      
                                                      →
                                                   
                                                   )
                                                
                                             
                                          
                                          =
                                          
                                             
                                                e
                                             
                                             
                                                0.5989
                                             
                                          
                                       
                                    
                                 
                              Similarly, we can obtain 
                                 
                                    
                                       Rel
                                       qr
                                    
                                    
                                       (
                                       q
                                       ,
                                       
                                          r
                                          a
                                       
                                       )
                                    
                                    =
                                    
                                       
                                          e
                                       
                                       
                                          
                                             Sim
                                             c
                                          
                                          
                                             (
                                             
                                                
                                                   
                                                      q
                                                   
                                                   *
                                                
                                                →
                                             
                                             ,
                                             
                                                
                                                   r
                                                   
                                                      a
                                                   
                                                   *
                                                
                                                →
                                             
                                             )
                                          
                                       
                                    
                                    =
                                    
                                       
                                          e
                                       
                                       
                                          0.6297
                                       
                                    
                                 
                              . The ranking score of θ is e
                              1.2286, which is obviously more reasonable than zero without sentiment in this case.

In this section, we conduct the experiments on FMRS (Xie, Li, & Mao, 2012) and Movielens
                        8
                     
                     
                        8
                        
                           http://www.grouplens.org/node/73.
                      data sets to evaluate the performance of the proposed method.

The detail of the two datasets are shown in Table 1. For FMRS, (i) the number of tags annotated by each user is in the range of [1, 159] with average number of 38.86 tags and (ii) the number of tags annotated to each resources is in the range of [1, 220] with average of 15.78 tags. For Movielens, (i) the number of tags annotated by each user is the range of [1, 6012] with average number of 23.84 tags; and (ii) the number of tags annotated to each resources is in the range of [1, 308] with average of 12.57 tags. The main reason of selecting these two datasets is that they are in different domains (cooking recipes and movies) and they have different scales (104 v.s. 105 tags) so that we can examine the performance of the proposed method in both large and small scales for multiple domain applications in social media. To evaluate the proposed method, we split the data sets into 80% and 20% as training and testing sets, respectively. In training stage, the profiles and models are learned, while we examine whether the learned models can predict the right target resource by given query terms (tags) from the testing set in the testing stage.

Two widely adopted metrics are used in the experiments, which are P@N (Precision @N) (White, Bailey, & Chen, 2009) and MRR (Mean Reciprocal Rank). P@N is mainly to measure the accuracy of a particular search strategy, while metric MRR reflects how quickly a search strategy can assist users to finding their desired resources, which is defined as follows.
                           
                              (23)
                              
                                 
                                    
                                       
                                          
                                             MRR
                                             =
                                             
                                                1
                                                n
                                             
                                             ·
                                             
                                                ∑
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                n
                                             
                                             
                                                1
                                                
                                                   rank
                                                   (
                                                   
                                                      r
                                                      
                                                         i
                                                      
                                                      q
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              p
                              (
                              
                                 r
                                 
                                    i
                                 
                                 q
                              
                              )
                           
                         is the position of target resource for query qi
                         and n is the total number of tuples in the testing set.

To validate the effectiveness of the proposed framework, we compare 4 paradigms in each ranking method (the collaborative or the content-based ranking method). As shown in Table 2
                        
                        , there are totally 8 methods for comparison, and details of four models are given as follows.


                        
                           BoT.
                         The BoT (bag of tags) method only made use of tag-based profiles and not involved any sentiment-based profiles. The content-based version of the BoT (Cont+BoT) was proposed in (David et al., 2010), while the collaborative version of BoT (Coll+BoT) was presented in (Xie, Li, & Cai, 2012).


                        
                           HVD.
                         The HVD (Harvard IV-4 sentiment dictionary
                           9
                        
                        
                           9
                           
                              http://www.wjh.harvard.edu/inquirer/homecat.htm.
                        ) contains more than 10, 000 words, and sentiments belong to 15 groups.


                        
                           SWN.
                         The SWN (SentiWordNet 3.0) was proposed by Baccianella, Esuli, and Sebastiani (2010). The SWN is based on WordNet,
                           10
                        
                        
                           10
                           
                              http://wordnet.princeton.edu/.
                         which has the polarity sentiment score for synsets in WordNet. The size of SWN is the same with WordNet, which contains 117, 659 words. The collaborative version of SWN (Coll+SWN) was developed in (Qingbiao et al., 2011).


                        
                           SN.
                         The SN (SenticNet 3.0) was developed in (Cambria et al., 2014), which contains 30, 000 affect-driven concepts. Moreover, SN has polarity and four sentiment dimensions (“pleasantness”, “attention”, “sensitivity” and “aptitude”).

Note that the coverage of words in Movielens dataset are 40.5%, 42.8% and 77.4% by HVD, SN and SWN respectively. The reason of relative lower coverage of HVD and SN than SN is that there are many proper nouns (e.g., the name of actors) in this dataset. For the FMRS dataset, all three dictionaries has 100% coverage as the dataset is relative small and the tags are manually translated from original Chinese tags.

The performance in terms of metric P@N by all methods on the Movielens dataset are shown in Figs. 1 and 2
                        
                        . Fig. 1 illustrates the performance of P@N by all content-based methods, while Fig. 2 shows the performance by all collaborative methods. Moreover, Figs. 3 and 4
                        
                         illustrate P@N by all methods on the FMRS dataset. Based on these results, we can make the following observations.

                           
                              
                                 a. It is quite helpful to incorporate the sentiment information in tag-based profiles. A support is that all methods incorporating sentiments (HVD, SWN and SN) have better performance than non-sentiment methods (BOT). In both collaborative and content-based methods, we have the following relations for the performance by all methods.


                                 b. Different sentiment dictionaries may influence the performance of the personalized search. Among three sentiment dictionaries, the SN has the best performance in P@N, while SWN and HVD have the second best and the worst performance. A reasonable explanation for this is that SN has the reasonable number of sentiment dimensions (5 dimensions, essentially 4 dimensions), so that both the underfitting and overfitting problems does not occurs. While SWN only have two sentiment dimensions, which may suffer from the underfitting problem. Correspondingly, HVD has 185 sentiment dimensions, performance of which was negatively influenced by the overfitting problem.

Moreover, SN has more reasonable values (degrees) for each sentiment dimension as it is inspired by neuroscience and cognitive psychology theories on associative memory (Cambria et al., 2014). For example, the tag “creamy” is appeared in FMRS dataset several times. In SN, the concept “creamy” has a relative positive values: (pleasantness:0.092, attention:0, sensitivity:0.028, aptitude:0.134, polarity:0.066), while the sentiment values of tag is (positive:0, negative:0) in SWN and no match in HVD. It is more suitable to give relative positive for tag “creamy” as it has been co-tagged with “yummy” and “delicious” frequently in the dataset. Actually, the concept “creamy” is grouped with other concepts like “yummy” and “delicious” in SN, which is more natural and reasonable than SWN.


                                 c. From the results, we can also observe that the collaborative methods (Coll) outperform the content-based methods (Cont). The reason for this is that user behaviors and activities are highly influenced by their neighbors (Teevan, Dumais, & Horvitz, 2010). Therefore, the collaborative methods, which take similar users (their sentiments and preferences) into account, achieve better performance than content-based methods in terms of performance of the personalized search. In particular, the collaborative approach (Coll) have been proven to be more powerful approach than those methods only focusing on features of resources (Cont) among various specific domains in Web 2.0 communities (e.g., e-learning (Salehi, Kamalabadi, & Ghoushchi, 2012), cooking recipe (Yu, Li, Xie, & Cai, 2011), and social networks (Chen et al., 2012)) due to the user-generated nature of these communities. These empirical studies are consisted with our observations that Coll methods outperform Cont methods.


                                 d. In both Movielens and FMRS dataset, similar relations can be identified from the results. Therefore, the above three observation could be applicable in different scales of datasets. From Tables 3 and 4
                                 
                                 , the same observations can be seen in the performance of the metric MRR. Note that bold and underline values denote the best and the second best performance among the four dictionaries in Tables 3 and 4.

In this subsection, we further examine the impact by parameters and alternatives. Specifically, the number of similar users k can obviously influence the performance of the collaborative methods. Moreover, we compare the similarity measurements by a content-based method.


                        The impact of 
                        k. The number k can significantly influence the performance of collaborative methods. As shown in Fig. 5
                        , we can observe that the performance of all collaborative methods increases from 
                           
                              k
                              =
                              20
                           
                         to 
                           
                              k
                              =
                              60
                           
                        , while they drops from 
                           
                              k
                              =
                              60
                           
                         to 
                           
                              k
                              =
                              100
                           
                        . A reasonable explanation for this is that similar users contribute to the performance when they are similar enough (from top-20 to top-60 similar users). However, if k from 60 to 100, dissimilar users may be imported, which lead negative influence on the performance. The 60 is a reasonable size of similar users, which is consistent with the findings in previous study (Baccianella et al., 2010).


                        The impact of similarity measurements. We also examine three different similarity measurements as we mentioned in Section 3.4, which are the cosine similarity (Simc
                        ), the inverse of Euclidean distance (Sime
                        ) and the inverse of Manhattan distance (Simn
                        ). The values of MRR are 0.151, 0.148, and 0.152 by Simc, Sime
                         and Simn
                         respectively. From the results, we can observe that there is no significant changes on the performance of MRR by 
                           
                              Cont
                              −
                              SN
                           
                        . We further validate it by t-test (p > 0.2). This result indicates that the similarity measurement does not significantly influence the performance of our framework.

@&#CONCLUSION@&#

In this paper, we present a novel generic framework SenticRank to incorporate sentiment into personalized search by tag-based user profile. Moreover, we propose two sentiment-based ranking methods to address the problem of the personalized search in folkosomy. In addition, we compare the proposed sentiment-based personalized search with baselines in the experiments, the results of which have verified that the quality of personalized search benefits from the sentiment. Furthermore, we have investigated the influences by different sentiment dictionaries, and found that SenticNet is the most prominent knowledge base to boost the performance of personalized search in folksonomy.

In the future, we plan to continue our research in the following directions: (i) studying impact of various aggregation functions (Kolesárová, Stupňanová, & Beganová, 2012) for the relevance scores; (ii) employing the context-aware techniques of sentiment analysis (Lau, Lai, Ma, & Li, 2009; Xie, Li, & Mao, 2012; Zhao, Xia, Lau, & Liu, 2012) to deal with the issue of ambiguity in tags; and (iii) integrating user profile enrichment techniques (Xie et al., 2014a) to obtain more powerful user profiles.

@&#ACKNOWLEDGMENT@&#

The work described in this paper was substantially supported by a grant from the Research Grants Council of the Hong Kong Special Administrative Region, China (UGC/FDS11/E06/14).

@&#REFERENCES@&#

