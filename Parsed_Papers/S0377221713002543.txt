@&#MAIN-TITLE@&#Optimal average sample number of the SPRT chart for monitoring fraction nonconforming

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           This article studies the effect of the Average Sample Number (ASN) on the performance of the SPRT chart.


                        
                        
                           
                           A design algorithm is proposed to explore the optimal ASN of the SPRT chart for monitoring the fraction nonconforming p.


                        
                        
                           
                           The optimal SPRT chart significantly outperforms the optimal np chart, optimal CUSUM chart and basic SPRT chart.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Sequential Probability Ratio Test (SPRT)

Control chart

Average Sample Number (ASN)

Average Number of Defectives (AND)

Sampling interval

@&#ABSTRACT@&#


               
               
                  The Sequential Probability Ratio Test (SPRT) control chart is a powerful tool for monitoring manufacturing processes. It is highly suitable for the applications where testing is destructive or very expensive, such as the automobile airbags test. This article studies the effect of the Average Sample Number (ASN) (i.e., the average sample size) on the chart’s performance. A design algorithm is proposed to develop the optimal SPRT chart for monitoring the fraction nonconforming p of Bernoulli processes. By optimizing the ASN and other charting parameters, the average detection speed of the SPRT chart is almost doubled. It is also found that the optimal SPRT chart significantly outperforms the optimal np and binomial CUSUM charts, in terms of Average Number of Defectives (AND), under different combinations of the design specifications. It is observed that the SPRT chart using a relatively smaller ASN and a shorter sampling interval (h) has a higher overall detection effectiveness.
               
            

@&#INTRODUCTION@&#

Since its introduction in Statistical Process Control (SPC) as an effective tool to monitor processes and ensure quality, the control chart had fast become a necessity and has been increasingly adopted in modern industries and beyond the manufacturing sectors (Chen and Cheng, 2009; Wang, 2012; Chen, 2013). The np chart is the most popular and simple control chart for attributes. It is used to examine the number d of nonconforming units found in a sample or to monitor the fraction nonconforming p. The process is considered to be in control if d
                     ⩽
                     UCL, where UCL is the upper control limit of the np chart. However, if d
                     >
                     UCL, then an upward p shift is signaled.

More advanced charts for attributes including the binomial CUSUM chart and SPRT chart have also been developed to monitor p (Gan, 1993; Reynolds and Stoumbos, 1998; Wu and Luo, 2003; Wu et al., 2006, 2008). The widespread applications of the np chart and other attribute charts are due to several factors, such as the simplicity of handling attribute quality characteristics, the ease of communication between people at different levels, the capability of checking multiple quality requirements, and the prevalence of count data in many applications, especially in non-manufacturing sectors. Many quality characteristics cannot be measured on a numerical or a quantitative scale.

Unlike the np chart that only uses the information of d in the current sample, the binomial cumulative sum (CUSUM) chart incorporates all the information in the sequence of observed values of d (Lucas, 1985). While the CUSUM chart is more sensitive to small and moderate shifts in fraction nonconforming p, it is less effective than the np chart for detecting large p shifts. A statistic Ei
                      is updated and plotted for the ith sample in a binomial CUSUM chart for detecting upward p shifts.
                        
                           (1)
                           
                              
                                 
                                    
                                    
                                       
                                          
                                             
                                                E
                                             
                                             
                                                0
                                             
                                          
                                          =
                                          0
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                             
                                                E
                                             
                                             
                                                i
                                             
                                          
                                          =
                                          
                                             max
                                          
                                          (
                                          0
                                          ,
                                          
                                             
                                                E
                                             
                                             
                                                i
                                                -
                                                1
                                             
                                          
                                          +
                                          
                                             
                                                d
                                             
                                             
                                                i
                                             
                                          
                                          -
                                          k
                                          )
                                       
                                    
                                 
                              
                           
                        
                     where k is the reference parameter and di
                      is the number of nonconforming units found in the ith sample. When an increasing p shift occurs, Ei
                      tends to increase. Eventually, a sample point will exceed the control limit U of the CUSUM chart, and thereby an out-of-control signal is produced.

The Bernoulli CUSUM chart is a special case of the binomial CUSUM chart. If the sample size n of a binomial CUSUM chart is set at one, the binomial CUSUM chart is termed as the Bernoulli CUSUM chart. Reynolds and Stoumbos (1999) found that the Bernoulli CUSUM chart substantially outperforms the p chart for detecting shifts in p. Reynolds and Stoumbos (2000) showed that there is a little difference between the Bernoulli CUSUM chart and the binomial CUSUM chart in terms of the expected time required to detect small and moderate shifts in p, but the Bernoulli CUSUM chart is better for detecting large shifts in p. Bourke (2001) also highlighted that the advantage of using n
                     =1 for the CUSUM chart is greater for larger shifts when the in-control Average Run Length is small.

Traditional control charts are operated by using a Fixed Sampling Rate (FSR) obtaining samples of fixed size n from the process using a fixed sampling interval h. Contrary to these traditional charts, n may be varied based on the data observed in the current sample. This is the concept of sequential analysis (Wald, 1947; Ghosh, 1970). Wald (1947) first defined the Sequential Probability Ratio Test (SPRT) and showed that it is optimal to produce a lower expected sampling size than any other tests with the same probability of error. The SPRT charts are usually much more effective than the FSR charts, but they are more difficult to implement.


                     Woodall and Reynolds (1983) used tests that can be represented exactly by discrete Markov chains to approximate the properties of the SPRT. Stoumbos and Reynolds (1997b) employed the Corrected Diffusion Theory (CDT) to evaluate the properties and statistical design of SPRT charts. Researchers also applied the SPRT chart to different areas and applications, such as sampling plan, arc welding, failure analysis and radiation (Bagchi, 1992; Stefan et al., 1996; Kwon et al., 2008; Luo et al., 2010). Stoumbos and Reynolds (1996) generalized the development and applications of the SPRT chart. The SPRT chart is especially appropriate for applications where testing is destructive and/or expensive, such as deployment-rate testing of automobile airbags and durability testing for batch-produced plastic eyeglass lenses (Stoumbos and Reynolds, 1997a). Usually, the time required to test an airbag is short, compared with the interval between the sampling inspections, which are often no more than once for every work shift. In such applications, the efficient use of sampling resources is very important. With the adoption of the SPRT chart, the sampling rate will be very low when the process is in control, and therefore the sampling cost can be reduced substantially.

An attribute SPRT control chart for detecting shifts in fraction nonconforming p was proposed by Reynolds and Stoumbos (1998). Inside a sample of an SPRT chart, individual observations are taken sequentially, with the possibility of a decision about the process after each observation. The statistical properties of the SPRT chart are evaluated based on the assumption that the time required to obtain an individual observation is short enough to be neglected relative to the sampling interval h between two samples. The SPRT chart has the administrative advantage of using a fixed sampling interval (FSI). Since the SPRT chart allows the sample size used at each sample to vary, it is similar to a variable sample size (VSS) chart. However, while the sample size of a VSS chart used at the current sample point depends on the data obtained in the last sample (Chen and Hsieh, 2007; Lee, 2013), the sampling size of an SPRT chart is determined based on the data observed at the current sample point.


                     Reynolds and Stoumbos (1998) found that the SPRT chart is substantially more effective than the FSR charts, such as the p chart, the binomial CUSUM chart, or the Bernoulli CUSUM chart. However, neither the p chart, CUSUM chart, nor SPRT chart had been optimized in their study. Consequently, none of these charts performs at its highest detection effectiveness. Moreover, no systematic procedure was provided to determine the charting parameters of the SPRT chart. If these parameters are optimized, the overall effectiveness of the SPRT chart increases.

The objective of this article is to find the optimal Average Sample Number (ASN) of the attribute SPRT chart that results in the best overall performance. Moreover, the influence of ASN on the overall performance of the SPRT chart is studied. The results of performance studies reveal that the SPRT chart using a relatively small ASN (together with a short h) has a very high effectiveness. However, the optimal value of ASN of each SPRT chart needs to be determined by the optimal design. The sample size n and sampling interval h of the np and binomial CUSUM charts will also be optimized in order to achieve their best overall performance. The optimal n and the corresponding h are determined by an exhaustive search that tests all the possible values of n (starting from n
                     =1). The optimal n should be explored in a range as broad as possible until no further improvement in the overall performance can be expected. Optimizing n and h for these traditional attribute control charts will also significantly improve their detection effectiveness so that they can stand as firm competitors to the SPRT chart.

The SPRT chart proposed by Reynolds and Stoumbos (1998) is called the basic SPRT chart in this article. In the design of a basic SPRT chart, ASN and the reference value γ are given in advance. Two new SPRT charts are proposed in this article. The first one is a semi-optimal SPRT chart in which only γ is optimized. The second one is called the optimal SPRT chart in which both γ and ASN are optimized. In both new SPRT charts, the optimal design aims at minimizing an objective function AND (Average Number of Defectives) (Haridy et al., 2013). As the AND is minimized, the overall performance of the SPRT chart will be improved.

The in-control and out-of-control performance of a control chart is usually measured by the Average Time to Signal (ATS). The in-control ATS
                     0 must be large enough so that a false alarm occurs infrequently. At the same time, the out-of-control ATS should be small enough to detect the process shifts quickly. There is always a trade-off between a larger in-control ATS
                     0 and a smaller out-of-control ATS. In this article, ATS is calculated by using the steady-state mode. This mode implies that the process starts and stays in an in-control condition for a long time and then a process shift occurs at some random time. This random time is assumed to have a uniform distribution between two samples (Reynolds et al., 1990).

In this article, it is assumed that the random number d (the number of nonconforming units in a sample) follows a binomial distribution. The focus of the research is to monitor the fraction nonconforming p of Bernoulli processes. The time required to take an observation inside each sample is negligible compared with the sampling interval h between samples.

Since the control charts for attributes are most often used to detect an increase in fraction nonconforming p or deterioration in product quality (Lucas, 1985; Reynolds and Stoumbos, 1999), the focus of this research is to detect increasing p shifts. If detecting decreasing p shifts is desired, a symmetric SPRT scheme can be built as well.

The remainder of this article proceeds as follows. In Section 2, the SPRT chart is introduced. The objective function AND is presented in Section 3, and the determination of the optimal ASN of the SPRT chart is also detailed in this section. In Section 4, a comparative study is conducted and the effect of ASN on the performance of the SPRT chart is analyzed. An illustrative example is given in Section 5. Finally, the discussions and conclusions are drawn.

An SPRT chart has five charting parameters: Average Sample Number (ASN) (or average sample size), reference value (γ), sampling interval (h), lower limit (g) and upper limit (H). A sample is taken at the end of each fixed sampling interval h. Within a sample, when the ith observation xi
                      has been taken, it is used to update the test statistic Ci
                     . For an upper one-sided SPRT chart (where −∞<
                     g
                     <
                     H
                     <∞),
                        
                           (2)
                           
                              
                                 
                                    
                                    
                                       
                                          
                                             
                                                C
                                             
                                             
                                                0
                                             
                                          
                                          =
                                          0
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                             
                                                C
                                             
                                             
                                                i
                                             
                                          
                                          =
                                          
                                             
                                                C
                                             
                                             
                                                i
                                                -
                                                1
                                             
                                          
                                          +
                                          
                                             
                                                x
                                             
                                             
                                                i
                                             
                                          
                                          -
                                          γ
                                       
                                    
                                 
                              
                           
                        
                     where xi
                      is a Bernoulli random variable which is defined as xi
                     
                     =1 if the ith item is nonconforming and xi
                     
                     =0 otherwise. The choice of γ (0<
                     γ
                     <1) affects the performance of the chart. A small γ increases the sensitivity of the chart to small p shifts while a large γ makes the chart more effective for detecting large p shifts. In this article, the fast initial response (FIR) feature is not considered and therefore the starting value C
                     0 in Eq. (2) is set as zero.

Inside a sample, if Ci
                     
                     >
                     H, the process is deemed out of control and a signal will be produced. If g
                     ⩽
                     Ci
                     
                     ⩽
                     H, sampling will be continued sequentially. Finally, if Ci
                     
                     <
                     g, the process is considered in control and the current sample is terminated. The next sample will be taken at the end of a fixed time interval h. It can be seen that the number nj
                      of observations (or the sample size) taken during a sample j is a random number. The mean value of nj
                      is ASN. This means that ASN is the average of sample sizes (nj
                     ) of all the samples inspected during the process monitoring. Obviously, ASN is a continuous variable rather than an integer. In this article, only the in-control (or long run) value of ASN is of concern, because a stable process usually runs in an in-control condition for a long period and only occasionally falls into an out-of-control status for a short time period (Montgomery, 2013). The ASN value in the out-of-control period has little influence on the long run ASN and is of much less concern (Arnold and Reynolds, 2001).

When a process shift occurs, the fraction nonconforming p will change to:
                           
                              (3)
                              
                                 p
                                 =
                                 δ
                                 ×
                                 
                                    
                                       p
                                    
                                    
                                       0
                                    
                                 
                              
                           
                        
                     

The index δ (1⩽
                        δ
                        ⩽
                        δmax
                        ) indicates the increasing p shift in terms of the in-control value p
                        0 of fraction nonconforming. The process is in control when δ
                        =1 (i.e., p
                        =
                        p
                        0) and out of control when (1<
                        δ
                        ⩽
                        δmax
                        ) with a maximum fraction nonconforming of p
                        =
                        δmax
                        
                        ×
                        p
                        0.

Since the goal of the optimal design is to achieve the best overall performance, the objective function should measure the detection effectiveness against all p shifts within the range of (1<
                        δ
                        ⩽
                        δmax
                        ). In the past, the out-of-control ATS values at one or a few specified process shifts (δ) are often used as the objective function to be minimized in the optimal design of a control chart. However, this approach does not guarantee that the resultant control chart will perform well over a wide range of process shifts. It is usually difficult to predict the magnitudes or sizes of process shifts in most applications (Reynolds and Stoumbos, 2004a; Morais and Pacheco, 2006; Shu et al., 2007). Therefore a control chart should produce a small out-of-control ATS for process shifts of different sizes, or have an excellent overall performance across the entire shift range of interest.

A sound measure of the overall effectiveness of an attribute control chart is the Average Number of Defectives (AND) (Haridy et al., 2013). It is the average number of nonconforming units produced in different out-of-control cases across a range of shifts in fraction nonconforming p (1<
                        δ
                        ⩽
                        δmax
                        ). If N is the number of units produced per time unit and ATS(δ) is the ATS value that corresponds to a particular shift δ, then the AND produced by the control charts can be calculated by the following formula:
                           
                              (4)
                              
                                 AND
                                 =
                                 N
                                 
                                    ∫
                                    
                                       1
                                    
                                    
                                       
                                          
                                             δ
                                          
                                          
                                             max
                                          
                                       
                                    
                                 
                                 
                                    
                                       p
                                    
                                    
                                       0
                                    
                                 
                                 ×
                                 δ
                                 ×
                                 ATS
                                 (
                                 δ
                                 )
                                 ×
                                 
                                    
                                       f
                                    
                                    
                                       δ
                                    
                                 
                                 (
                                 δ
                                 )
                                 
                                 d
                                 δ
                              
                           
                        where fδ
                        (δ) is the probability density function of δ, and δmax
                         is an upper bound which ensures that the probability of (δ
                        >
                        δmax
                        ) is negligible. In Eq. (4), the term (N) may be removed because it is a constant and has no effect on the performance comparison and the optimal solution. The integration in Eq. (4) can be computed quickly and accurately by a numerical method such as Legendre–Gauss Quadrature.

The index AND directly relates the chart performance to the number of nonconforming units or the economic outcome which means a chart that produces smaller AND (less average number of nonconforming units) for different shifts δ is thought to be more economical. Meanwhile, AND can be considered as a weighted average of ATS that uses p (=p
                        0
                        ×
                        δ) as the weight. If AND is used as the objective function to be minimized, then the larger the p (or the more serious the p shift), the smaller the corresponding ATS(δ) will result from the optimal design. Some measures similar to AND have been proposed to evaluate and compare the overall performance of variable control charts (Shamsuzzaman and Wu, 2006; Reynolds and Stoumbos, 2004b). Reynolds and Stoumbos (2004b) also used a weighted average of ATS to measure the overall performance. The authors used the quadratic loss as the weight because the study was for control charts for variables.

In any process, the p shift is supposed to follow a particular probability distribution (Castagliola et al., 2011; Haridy et al., 2012). However, it is usually unknown and therefore one may have to design the control charts based on an assumed distribution over the shift domain. In this article, it is assumed that the random shift δ follows a Rayleigh distribution. This distribution is often used to characterize the positional deviation from a target in geometrical tolerance. It was also adopted to model the mean shift of a normally distributed random variable (Wu et al., 2002). The Rayleigh distribution is a reasonable delegate of the distributions of many process shifts. If the Rayleigh distribution is used, the probability density function in Eq. (4) is as follows:
                           
                              (5)
                              
                                 
                                    
                                       f
                                    
                                    
                                       δ
                                    
                                 
                                 (
                                 δ
                                 )
                                 =
                                 
                                    
                                       π
                                       (
                                       δ
                                       -
                                       1
                                       )
                                    
                                    
                                       2
                                       (
                                       
                                          
                                             μ
                                          
                                          
                                             δ
                                          
                                       
                                       -
                                       1
                                       
                                          
                                             )
                                          
                                          
                                             2
                                          
                                       
                                    
                                 
                                 exp
                                 
                                    
                                       
                                          -
                                          
                                             
                                                π
                                                (
                                                δ
                                                -
                                                1
                                                
                                                   
                                                      )
                                                   
                                                   
                                                      2
                                                   
                                                
                                             
                                             
                                                4
                                                (
                                                
                                                   
                                                      μ
                                                   
                                                   
                                                      δ
                                                   
                                                
                                                -
                                                1
                                                
                                                   
                                                      )
                                                   
                                                   
                                                      2
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

As shown, fδ
                        (δ) is characterized by a single parameter μδ
                         (the mean of δ). Fig. 1
                         displays the probability density functions of three Rayleigh distributions with different μδ
                         values. The cumulative distribution function of the Rayleigh distribution is
                           
                              (6)
                              
                                 
                                    
                                       F
                                    
                                    
                                       δ
                                    
                                 
                                 (
                                 δ
                                 )
                                 =
                                 1
                                 -
                                 exp
                                 
                                    
                                       
                                          -
                                          
                                             
                                                π
                                                (
                                                δ
                                                -
                                                1
                                                
                                                   
                                                      )
                                                   
                                                   
                                                      2
                                                   
                                                
                                             
                                             
                                                4
                                                (
                                                
                                                   
                                                      μ
                                                   
                                                   
                                                      δ
                                                   
                                                
                                                -
                                                1
                                                
                                                   
                                                      )
                                                   
                                                   
                                                      2
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The value of μδ
                         can be estimated from the historical data of the out-of-control cases, if available. Suppose an out-of-control condition is signaled and a follow-up investigation discovers that the estimated fraction nonconforming p during the estimated fallout duration is 
                           
                              
                                 
                                    
                                       
                                          p
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    i
                                 
                              
                           
                        . Then 
                           
                              
                                 
                                    
                                       
                                          p
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    i
                                 
                              
                              /
                              
                                 
                                    p
                                 
                                 
                                    0
                                 
                              
                           
                         is the estimate of the sample shift 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    i
                                 
                              
                           
                         for this out-of-control case. If m records of 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    i
                                 
                              
                           
                         are available, then μδ
                         can be estimated by
                           
                              (7)
                              
                                 
                                    
                                       μ
                                    
                                    
                                       δ
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             m
                                          
                                       
                                       
                                          
                                             
                                                
                                                   δ
                                                
                                                
                                                   ˆ
                                                
                                             
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       m
                                    
                                 
                              
                           
                        
                     

To carry out the optimal design of an SPRT chart, four specifications have to be given: (1) the allowable minimum value (τ) of the in-control ATS
                        0, (2) the in-control fraction nonconforming p
                        0, (3) the maximum sampling rate (R), and (4) the mean value (μδ
                        ) of the random shift δ.

The value of τ is decided based on the requirement on the false alarm rate. The value of p
                        0 is usually estimated from the historical data observed when the process is in control. The maximum sampling rate R depends on the available resources such as manpower and instruments. Finally, the value of μδ
                         is estimated from the historical data of the out-of-control cases, using Eq. (7).

In the optimal design of an SPRT chart, the Average Sample Number ASN and the reference value γ will be used as the independent design variables. For a given sampling rate R, the relationship between ASN and the sampling interval h is given by 
                           
                              R
                              =
                              ASN
                              /
                              h
                           
                        . Hence, the SPRT chart may use a larger ASN with less frequent sampling or a smaller ASN with more frequent sampling. This also implies that there must be an optimal ASN (or an optimal combination of ASN and h) that will optimize the overall performance of an SPRT chart. During the optimal design, the optimal values of ASN and γ will be searched in order to minimize the objective function AND.

In the design of the basic SPRT chart (Reynolds and Stoumbos, 1998), ASN is given. The value of γ can be chosen according to the size of the shift δ. A small γ renders the chart sensitive to small p shifts and a large γ makes the chart sensitive to large p shifts. In particular, if a basic SPRT chart is designed to detect a specified fraction nonconforming p
                        1, the value of γ can be determined as follows (Reynolds and Stoumbos, 1998):
                           
                              (8)
                              
                                 γ
                                 =
                                 
                                    
                                       
                                          -
                                          ln
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                         -
                                                         
                                                            
                                                               p
                                                            
                                                            
                                                               1
                                                            
                                                         
                                                      
                                                      
                                                         1
                                                         -
                                                         
                                                            
                                                               p
                                                            
                                                            
                                                               0
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ln
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        p
                                                                     
                                                                     
                                                                        1
                                                                     
                                                                  
                                                                  (
                                                                  1
                                                                  -
                                                                  
                                                                     
                                                                        p
                                                                     
                                                                     
                                                                        0
                                                                     
                                                                  
                                                                  )
                                                               
                                                               
                                                                  
                                                                     
                                                                        p
                                                                     
                                                                     
                                                                        0
                                                                     
                                                                  
                                                                  (
                                                                  1
                                                                  -
                                                                  
                                                                     
                                                                        p
                                                                     
                                                                     
                                                                        1
                                                                     
                                                                  
                                                                  )
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Once the aforementioned design specifications (τ, p
                        0, R, μδ
                        ) have been predetermined, the optimal values of the independent design variables (ASN, γ) and dependent design variables (h, g, H) of the SPRT chart can be determined by using the following model:
                           
                              (9)
                              
                                 Objective:
                                 
                                 Minimize
                                 
                                 AND
                              
                           
                        
                        
                           
                              (10)
                              
                                 Constraints:
                                 
                                 
                                    
                                       ATS
                                    
                                    
                                       0
                                       ⩾
                                       τ
                                    
                                 
                              
                           
                        
                        
                           
                              (11)
                              
                                 
                                 R
                                 =
                                 ASN
                                 /
                                 h
                              
                           
                        
                        
                           
                              
                                 
                                    
                                       
                                          
                                             Independent design variables:
                                          
                                       
                                       
                                          
                                             
                                             ASN
                                             ,
                                             γ
                                          
                                       
                                    
                                    
                                       
                                          
                                             Dependent design variables:
                                          
                                       
                                       
                                          
                                             
                                             h
                                             ,
                                             g
                                             ,
                                             H
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The optimal design will search for the optimal values of the independent design variables ASN and γ in order to minimize the objective function AND. The index AND is a function of the ATS and random shift δ (Eq. (4)) which has a probability density function of fδ
                        (δ) (Eq. (5)). Meanwhile, the ATS itself is also a function of δ. The minimization of AND will in turn shorten the ATS values for different values of δ over the p shift range, or reduce the average number of nonconforming units incurred in the out-of-control cases. The calculation of ATS and ASN can be found in Reynolds and Stoumbos (1998).

The dependent design variables (the sampling interval h, the lower limit g and upper limit H) are adjusted simultaneously so that both constraints (10) and (11) are met. The two limits (g and H) have an effect on both ASN and ATS
                        0. However, the lower limit g mainly affects the value of ASN and the satisfaction of constraint (11), while the upper limit H almost only influences the value of ATS
                        0, or constraint (10).

The optimal design is implemented by a two-level search. At the first level, the optimal value of ASN is searched and the corresponding sampling interval h is calculated by Eq. (11). At the second level, for the given pair of (ASN and h) determined in the first level, the optimal value of γ is searched. For a given set of (ASN, h and γ), the dependent design variables (g and H) are adjusted simultaneously so that both constraints (10) and (11) are satisfied. When all of the parameters ASN, h, γ, g and H are temporarily determined, the objective function AND is calculated by Eq. (4). The SPRT chart that produces the minimum AND and meanwhile satisfies both constraints (10) and (11) is identified as the optimal SPRT chart. The procedure of the optimal design can be detailed as follows:
                           
                              (1)
                              Specify the design specifications τ, p
                                 0, R and μδ
                                 .

Initialize a variable ANDmin
                                  as a very large number, say 107 (ANDmin
                                  is used to store the minimum value of AND).

At the first level, search optimal ASN (where ASN
                                 ⩾1). For each trial ASN value, the corresponding h is determined as follows so that constraint (11) is satisfied:


                        
                           
                              (4)
                              At the second level, with the given values of ASN and h determined in the first level, search γ within the range of (0<
                                 γ
                                 <1). For a given set of values of (ASN, h, γ),
                                    
                                       (4.1).
                                       Adjust the lower limit g to make the resultant or actual value 
                                             
                                                
                                                   
                                                      n
                                                   
                                                   
                                                      ¯
                                                   
                                                
                                             
                                           of the Average Sample Number equal to ASN.

Adjust the upper limit H to make the resultant or actual ATS
                                          0 larger than but closest to τ (constraint (10)).

Check if both constraints (10) and (11) are met within the predetermined tolerances (note, step (4.2) may make the resultant 
                                             
                                                
                                                   
                                                      n
                                                   
                                                   
                                                      ¯
                                                   
                                                
                                             
                                           different from ASN by more than an allowed tolerance. If this occurs, repeat steps (4.1) and (4.2). Namely, if 
                                             
                                                (13)
                                                
                                                   
                                                      
                                                         
                                                            
                                                               ATS
                                                            
                                                            
                                                               0
                                                            
                                                         
                                                         -
                                                         τ
                                                      
                                                      
                                                         τ
                                                      
                                                   
                                                   >
                                                   -
                                                   0.05
                                                   
                                                   and
                                                   
                                                   
                                                      
                                                         |
                                                         
                                                            
                                                               n
                                                            
                                                            
                                                               ¯
                                                            
                                                         
                                                         -
                                                         ASN
                                                         |
                                                      
                                                      
                                                         ASN
                                                      
                                                   
                                                   <
                                                   0.10
                                                
                                             
                                           then advance to step (4.4); otherwise go back to step (4.1) to adjust g and H recursively. Here, the allowed tolerance pertaining to ATS
                                          0 is set to 0.05, and that pertaining to ASN to 0.10.

When the values of all five charting parameters, ASN, h, γ, g and H, are preliminarily determined, the objective function AND is calculated by Eq. (4).

If the calculated AND is smaller than the current ANDmin
                                          , replace the latter by the former and the current values of ASN, h, γ, g and H are stored as a temporary optimal solution.

At the end of the entire two-level search, the optimal SPRT chart that produces the minimum AND and satisfies both constraints (10) and (11) is identified. The corresponding optimal values of ASN, h, γ, g and H are also finalized.

A computer program has been coded in C language based on the algorithm detailed above to carry out the optimal design of an SPRT chart. This program can be obtained upon request from the authors.

@&#INTRODUCTION@&#


                        Reynolds and Stoumbos (1998) compared the performance among the basic SPRT chart, p chart and binomial CUSUM chart. The authors showed the substantial superiority of the basic SPRT chart over the other two charts. In this section, the detection effectiveness of five control charts (the optimal np chart, the optimal CUSUM chart, the basic SPRT chart, the semi-optimal SPRT chart and the optimal SPRT chart) is studied and compared under six numerical cases which are the most representative cases in Reynolds and Stoumbos (1998). The charts are studied only for detecting increases in the fraction nonconforming p.

The design of an optimal np chart is to find the optimal combination of the sample size n, sampling interval h and upper control limit UCL so that the chart produces the minimum AND (Eq. (4)) and satisfies constraints (10) and (11). Similarly, the design of an optimal CUSUM chart is to find the optimal combination of n, h, reference parameter k and control limit U so that the chart produces the minimum AND and satisfies constraints (10) and (11). While a larger n will improve the effectiveness of the CUSUM chart for detecting smaller shifts, a smaller n will enhance the chart’s capability for signaling larger shifts. An optimal n can be identified as the value of n that will result in the best overall performance or minimum AND.

The ATS of the CUSUM chart is determined by a Markov chain approach in Wu et al. (2008). The ASN of a basic SPRT chart is given and the reference value γ is determined by Eq. (8). The design of a semi-optimal SPRT chart can be carried out using the same design model in Section 3.4 except that γ will be the only independent design variable while ASN is fixed. The basic SPRT chart and semi-optimal SPRT chart are special cases of the optimal SPRT chart.


                        Reynolds and Stoumbos (1998) did not specify a value for μ
                        δ in their case studies as they did not consider the probability distribution of the p shift. However, a δmax
                         was specified for each of the cases they studied. In this article, μδ
                         is determined so that the probability of (δ
                        >
                        δmax
                        ) is equal to 0.0001.

The five charts are first studied under a general case from Reynolds and Stoumbos (1998). The specifications for this case are as below:
                           
                              (14)
                              
                                 τ
                                 =
                                 931
                                 ,
                                 
                                 
                                    
                                       p
                                    
                                    
                                       0
                                    
                                 
                                 =
                                 0.01
                                 ,
                                 
                                 R
                                 =
                                 50
                                 ,
                                 
                                 
                                    
                                       δ
                                    
                                    
                                       max
                                    
                                 
                                 =
                                 20
                                 ,
                                 
                                 
                                    
                                       p
                                    
                                    
                                       1
                                    
                                 
                                 =
                                 0.03
                                 ,
                                 
                                 
                                    
                                       μ
                                    
                                    
                                       δ
                                    
                                 
                                 =
                                 7.41
                              
                           
                        where p
                        1 is a specified out-of-control p value used for the design of the basic SPRT chart. The random shift δ can take any value between 1 and 20 as shown in Table 1
                        . The five charts are designed for this case and the results are shown below:


                        
                           
                              
                                 
                                 
                                 
                                    
                                       Optimal np chart:
                                       
                                          n
                                          =140, h
                                          =2.80, UCL
                                          =5, AND
                                          =0.1968.
                                    
                                    
                                       Optimal CUSUM chart:
                                       
                                          n
                                          =44, h
                                          =0.88, k
                                          =0.870, U
                                          =3.955, AND
                                          =0.1540.
                                    
                                    
                                       Basic SPRT chart:
                                       
                                          ASN
                                          =200.0, h
                                          =4.00, γ
                                          =0.018, H
                                          =4.420, g
                                          =−1.662, AND
                                          =0.1673.
                                    
                                    
                                       Semi-optimal SPRT chart:
                                       
                                          ASN
                                          =200.0, h
                                          =4.00, γ
                                          =0.015, H
                                          =5.852, g
                                          =−1.122, AND
                                          =0.1626.
                                    
                                    
                                       Optimal SPRT chart:
                                       
                                          ASN
                                          =10.0, h
                                          =0.20, γ
                                          =0.018, H
                                          =5.192, g
                                          =−0.074, AND
                                          =0.0576
                                    
                                 
                              
                           
                        The values of the in-control ATS
                        0 (when δ
                        =1) and out-of-control ATS (when 1<
                        δ
                        ⩽20) of the five charts are calculated within the process shift range, and the results are displayed in Table 1. The curves of the normalized ATS (i.e., ATS/ATSoptimal SPRT
                        ) of the charts are illustrated in Fig. 2
                        . It is interesting to observe the following from Table 1 and Fig. 2:
                           
                              (1)
                              Each of the five charts generates an ATS
                                 0 value larger than but close to τ when the process is in control. This ensures that constraint (10) on the false alarm rate is satisfied.

The optimal CUSUM chart outperforms the np chart for small p shifts (when δ
                                 ⩽4). But surprisingly the former is still more sensitive than the latter to larger p shifts (when δ
                                 ⩾8). As shown, the np chart uses a large sample size which helps reduce AND but weakens its effectiveness for detecting large shifts.

If AND is used as the objective function to be minimized, the optimal sample size n of the binomial CUSUM chart may not be necessarily equal to one. Fig. 3
                                  indicates that the binomial CUSUM chart with n
                                 =44 generates a smaller AND than that with n
                                 =1. This contradicts the results of some studies in the literature that used the out-of-control ATS as the objective function.

The ATS curve of the basic SPRT chart almost coincides with that of the semi-optimal SPRT chart. This manifests that optimizing γ only marginally improves the detection effectiveness of the basic SPRT chart in this general case.

The optimal np and CUSUM charts outperform the basic SPRT and semi-optimal SPRT charts for large p shifts (when δ
                                 ⩾7) while they are less effective than the basic and semi-optimal SPRT charts to smaller p shifts (when δ
                                 ⩽5).

The optimal SPRT chart is always more effective than all other charts over the whole p shift range, except for δ
                                 =2 where the semi-optimal SPRT chart slightly outperforms it. The superiority of the optimal SPRT chart over the optimal np, basic SPRT and semi-optimal SPRT charts increases with the increase in δ. The optimal SPRT chart becomes more superior to the optimal CUSUM chart for small p shifts. When δ
                                 =3, the ATS of the optimal SPRT chart is smaller than that of the optimal CUSUM chart by 276%.

The AND values (Eq. (4)), as well as the ratio of (AND/ANDoptimal SPRT
                        ), of the five charts are enumerated in case 1 in Table 2
                        . The values of (AND/ANDoptimal SPRT
                        ) indicate that, for this general case, the optimal SPRT chart reduces the average number of defectives by 242%, 167%, 190% and 182% compared with the optimal np chart, optimal CUSUM chart, basic SPRT chart and semi-optimal SPRT chart, respectively, over the range of p shifts.

It is worthy of note that the lower limit g of the optimal SPRT chart is quite tight (i.e., has a high value) compared with that of the basic SPRT and semi-optimal SPRT charts. Thus, when the process is in control, the optimal SPRT chart can reach an in-control conclusion quickly and terminate an SPRT sampling after just taking a few observations. It is reflected by the small ASN (=10) of the optimal SPRT chart. A small ASN will in turn result in a short sampling interval h for a given sampling rate. A short h means a more frequent sampling and will help increase the detection effectiveness. It can be seen that the values of ASN and h of the optimal SPRT chart are smaller than those of the optimal np, basic SPRT and semi-optimal SPRT charts. Also, it can be observed that the optimal SPRT chart has a relatively smaller ASN and h compared with the CUSUM chart that usually adopts a small sample size and frequent sampling in order to achieve a high overall performance. However, the optimal value of ASN (=10) is considerably higher than the minimum possible value of ASN that equals one.

The five charts are compared under five other cases selected by Reynolds and Stoumbos (1998) to illustrate the relative performance of the charts under different combinations of the design specifications. Based on the results of these six representative cases, a clear conclusion on the overall detection effectiveness of the charts can be reached. In all of these five cases, the same specifications (τ, p
                        0, R, δmax
                        , p
                        1) determined by Reynolds and Stoumbos (1998) are used in this article, and μδ
                         is acquired based on δmax
                         as explained before. For the basic SPRT chart, the reference value γ is set with reference to p
                        1 (Eq. (8)).

For each case, the five control charts are designed and each of them produces an ATS
                        0 larger than but close to τ. Table 2 displays the charting parameters, values of AND and (AND/ANDoptimal SPRT
                        ) of each chart under the five additional cases (cases 2–6), as well as the general case (case 1). In all five cases, the relative operating characteristics of the charts are similar to that revealed in Table 1 and Fig. 2. Namely, the optimal SPRT chart is more effective than the other four charts for detecting p shifts of almost all sizes.

The overall performance, as reflected by AND, is summarized in Table 2 for the six cases. In all cases, the values of (AND/ANDoptimal SPRT
                        ) are larger than one. This indicates that the optimal SPRT chart always has a better overall performance than the other charts. The optimal SPRT chart always outperforms the optimal np and optimal CUSUM charts to a significant degree. The ratios of ANDoptimal np
                        /ANDoptimal SPRT
                         and ANDoptimal CUSUM
                        /ANDoptimal SPRT
                         have their maximum values of 3.66 and 3.15, respectively, in case 5. Moreover, the optimal SPRT chart is always considerably more effective than the basic SPRT and semi-optimal SPRT charts. For example, in case 1, the ratios of ANDbasic SPRT
                        /ANDoptimal SPRT
                         and ANDsemi-optimal SPRT
                        /ANDoptimal SPRT
                         are equal to 2.90 and 2.82, respectively.

It can be observed that in some cases (cases 1 and 2), the optimal CUSUM chart outperforms the basic SPRT and semi-optimal SPRT charts in terms of AND, especially when the ASN of these two SPRT charts is large. This indicates the key role of the optimization in the design of the control charts and reflects the fact that if the SPRT chart is not optimized, it may not be necessarily better than the traditional charts such as the CUSUM chart from an overall viewpoint. Also, it is noted that the semi-optimal SPRT chart always outperforms, or at least performs equally as, the basic SPRT chart in terms of AND. In cases 2 and 3, these two SPRT charts are almost equally effective. In these two cases, the charting parameters of the basic SPRT chart are close to the optimal values. In all other cases, the semi-optimal SPRT chart outperforms the basic SPRT chart.

A grand average 
                           
                              
                                 
                                    AND
                                    /
                                    
                                       
                                          AND
                                       
                                       
                                          optimal
                                          
                                          SPRT
                                       
                                    
                                 
                                 
                                    ¯
                                 
                              
                           
                         is calculated for each chart. It indicates the average of the AND/ANDoptimal SPRT
                         values encompassing all the six cases in Table 2. The results are 
                           
                              
                                 
                                    
                                       
                                          AND
                                       
                                       
                                          optimal
                                          
                                          np
                                       
                                    
                                    /
                                    
                                       
                                          AND
                                       
                                       
                                          optimal
                                          
                                          SPRT
                                       
                                    
                                 
                                 
                                    ¯
                                 
                              
                              =
                              3.21
                              ,
                              
                                 
                                    
                                       
                                          AND
                                       
                                       
                                          optimal
                                          
                                          CUSUM
                                       
                                    
                                    /
                                    
                                       
                                          AND
                                       
                                       
                                          optimal
                                          
                                          SPRT
                                       
                                    
                                 
                                 
                                    ¯
                                 
                              
                              =
                              2.71
                              ,
                              
                                 
                                    
                                       
                                          AND
                                       
                                       
                                          basic
                                          
                                          SPRT
                                       
                                    
                                    /
                                    
                                       
                                          AND
                                       
                                       
                                          optimal
                                          
                                          SPRT
                                       
                                    
                                 
                                 
                                    ¯
                                 
                              
                              =
                              1.98
                           
                         and 
                           
                              
                                 
                                    
                                       
                                          AND
                                       
                                       
                                          semi
                                          -
                                          optimal
                                          
                                          SPRT
                                       
                                    
                                    /
                                    
                                       
                                          AND
                                       
                                       
                                          optimal
                                          
                                          SPRT
                                       
                                    
                                 
                                 
                                    ¯
                                 
                              
                              =
                              1.80
                           
                        . This indicates that, considering all the different tested cases that cover many values of τ, p
                        0, R, δmax
                        , p
                        1 and μδ
                        , the optimal SPRT chart is more effective than the optimal np chart by 221%, the optimal CUSUM chart by 171%, the basic SPRT chart by 98% and the semi-optimal SPRT chart by 80%.

In summary, the optimal SPRT chart will outperform the other charts under different settings, thanks to the optimization of the Average Sampling Number (ASN) and the reference value γ. Moreover, since the optimal design only changes the values of the charting parameters, the implementation of the optimal SPRT chart is the same as that of the basic SPRT chart.

The example provided in this section concerns the quality of the thrust washers manufactured in an automotive company. This company produces 5000 washers per hour (N
                     =5000). An upper one-sided control chart is to be designed to detect the increase in the fraction nonconforming p of the product. The quality engineer collected 50 samples (L
                     =50) of sample size n
                     =200 when the process is in control to estimate the in-control p
                     0. The number di
                      of nonconforming units in each sample has been counted and plotted on a run chart (Fig. 4
                     ). Based on these available data, the value of p
                     0 can be estimated as follows:
                        
                           (15)
                           
                              
                                 
                                    p
                                 
                                 
                                    0
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          =
                                          1
                                       
                                       
                                          L
                                       
                                    
                                    
                                       
                                          d
                                       
                                       
                                          i
                                       
                                    
                                 
                                 
                                    L
                                    ×
                                    n
                                 
                              
                              =
                              
                                 
                                    125
                                 
                                 
                                    50
                                    ×
                                    200
                                 
                              
                              =
                              0.0125
                           
                        
                     
                  

In order to estimate the parameter μδ
                      of the distribution of the process shift δ, the quality engineer used the historical records of the shift values δi
                      in 20 out-of-control cases (Table 3
                     ). It has been found that the random shift δ can be fitted approximately to a Rayleigh distribution. Its mean μδ
                      can be estimated as follows (Wu et al., 2002):
                        
                           (16)
                           
                              
                                 
                                    μ
                                 
                                 
                                    δ
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          =
                                          1
                                       
                                       
                                          20
                                       
                                    
                                    
                                       
                                          δ
                                       
                                       
                                          i
                                       
                                    
                                 
                                 
                                    20
                                 
                              
                              =
                              
                                 
                                    6.18
                                    +
                                    1.08
                                    +
                                    ⋯
                                    +
                                    3.39
                                 
                                 
                                    20
                                 
                              
                              =
                              4.35
                           
                        
                     
                  

The value of δmax
                      can be determined from Eq. (6) based on μδ
                      so that the probability of (δ
                     >
                     δmax
                     ) is as negligible as 0.0001. When μδ
                     
                     =4.35, the value of δmax
                      is approximately equal to 10.

The allowable minimum τ is set as 1200hours. Based on the available manpower, the company presently uses an SPRT chart with an ASN of 100 and a sampling rate R of 50 units/hour. The design fraction nonconforming p
                     1 is set as 3×
                     p
                     0. The specifications are summarized as follows:
                        
                           
                              p
                              0
                              =0.0125, in-control fraction nonconforming.


                              μδ
                              
                              =4.35, mean value of the random shift δ.


                              τ
                              =1200 hours, allowable minimum in-control ATS
                              0.


                              R
                              =50 units/hour, sampling rate.


                              p
                              1
                              =0.0375, the design fraction nonconforming for the basic SPRT chart.

The company is interested in identifying the most effective control chart for monitoring the process. Seven control charts have been considered for this test, including an optimal np chart, an optimal CUSUM chart, a basic SPRT chart with ASN
                     =100, a basic SPRT chart with ASN
                     =50, a semi-optimal SPRT chart with ASN
                     =100, a semi-optimal SPRT chart with ASN
                     =50, and an optimal SPRT chart. The charting parameters of the seven charts as well as their AND and AND/ANDoptimal
                      
                     SPRT values are listed in Table 4
                     .

As shown, in this example, the optimal SPRT chart can result in a much higher overall detection effectiveness in terms of AND compared with the other charts. The optimal SPRT chart reduces the average number of nonconforming units by 237%, 177%, 41% and 21% compared with the optimal np chart, optimal CUSUM chart, basic SPRT chart (ASN
                     =100), and semi-optimal SPRT chart (ASN
                     =100), respectively, over the tested range of p shifts. It is also noted from Table 4 that the AND values of the basic SPRT and semi-optimal SPRT charts can be reduced if their ASN is reduced from 100 to 50 (i.e., the ASN is closer to its optimal value of 10). However, these two charts are still considerably less effective than the optimal SPRT chart.

The values of the in-control ATS
                     0 (where δ
                     =1) and out-of-control ATS (where 1<
                     δ
                     ⩽10) of the seven charts are shown in Table 5
                     . Fig. 5
                      shows the curves of the normalized ATS (i.e., ATS/ATSoptimal SPRT
                     ) of the charts. It can be observed that the optimal SPRT chart always produces the smallest out-of-control ATS over the entire p shift range.

It is noted that the np chart uses a much large sample size (n
                     =300) compared with that of the CUSUM chart (n
                     =27). This is justifiable because the np chart is extremely insensitive to small shifts. Therefore, a large sample size is needed to enhance its capability for detecting small shifts in order to achieve the best overall performance.

Since the in-control time to signal TS
                     0 and in-control sample number SN
                     0 are important characteristics for interpreting the chart, the probability distributions of TS
                     0 and SN
                     0 are found. The SPRT chart is considered as a VSS chart, therefore it is important to characterize its in-control sampling distribution because ASN is only the average of sample sizes (ni
                     ) of all the samples inspected during the process monitoring as mentioned before and may not be sufficient to represent the actual sampling method. Figs. 6 and 7
                     
                      show the probability distributions of TS
                     0 (obtained by simulation) for the basic SPRT chart (ASN
                     =100) and the optimal SPRT chart (ASN
                     =10), respectively. It can be seen that while the optimization design enhances the detection speed of the SPRT chart, it only changes the TS
                     0 distribution slightly. While the TS
                     0 of the optimal SPRT chart has a mean μ of 1279.96 and a standard deviation σ of 1306.24, the TS
                     0 of the basic SPRT chart has μ of 1301.16 and σ of 1310.01.

The probability distributions of SN
                     0 for the basic SPRT chart and optimal SPRT chart are also acquired by simulation and depicted in Figs. 8 and 9
                     
                     , respectively. The general profile of the SN
                     0 of both charts is somewhat similar but the scaling is different as the two charts have different ASN
                     0 values. The smallest number m
                     1 of the inspected units required to conclude an in-control status in a sample is equal to (−g/γ) (must be rounded up). This happens when the first m
                     1 inspected units are all conforming and has a very high probability 
                        
                           q
                           =
                           (
                           1
                           -
                           
                              
                                 p
                              
                              
                                 0
                              
                           
                           
                              
                                 )
                              
                              
                                 
                                    
                                       m
                                    
                                    
                                       1
                                    
                                 
                              
                           
                        
                     . For any other cases, the SPRT chart will not conclude an in-control status until at least m
                     2 units have been inspected, where m
                     2
                     =(1−
                     g)/γ. In this example, the optimal SPRT chart has m
                     1
                     =4, m
                     2
                     =56 and q
                     =0.9509, and the basic SPRT chart has m
                     1
                     =45, m
                     2
                     =88 and q
                     =0.5678. This analysis indicates that the SN
                     0 distribution is discrete rather than continuous with a large frequency of 
                        
                           (
                           1
                           -
                           
                              
                                 p
                              
                              
                                 0
                              
                           
                           
                              
                                 )
                              
                              
                                 
                                    
                                       m
                                    
                                    
                                       1
                                    
                                 
                              
                           
                        
                      which is the probability that the first m
                     1 inspected units are all conforming.

In this example, if the optimal SPRT chart is selected, the following statistic 
                        
                           
                              
                                 C
                              
                              
                                 i
                              
                           
                        
                      can be used to detect the increasing p shifts in the produced thrust washers.
                        
                           (17)
                           
                              
                                 
                                    
                                    
                                       
                                          
                                             
                                                C
                                             
                                             
                                                0
                                             
                                          
                                          =
                                          0
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                             
                                                C
                                             
                                             
                                                i
                                             
                                          
                                          =
                                          
                                             
                                                C
                                             
                                             
                                                i
                                                -
                                                1
                                             
                                          
                                          +
                                          
                                             
                                                x
                                             
                                             
                                                i
                                             
                                          
                                          -
                                          γ
                                       
                                    
                                 
                              
                           
                        
                     
                  

The statistic Ci
                      will be updated and plotted for each inspected washer in the current sample. Table 6
                      shows the values of the updated statistic Ci
                      and Fig. 10
                      illustrates a sample run of this SPRT chart. As shown, one sample is inspected for every 0.2hour. The sequential inspection inside the first sample has been terminated after the fourth washer has been inspected and the process has been concluded to be in control as C
                     4
                     <
                     g. Then, an increasing p shift occurred. Therefore, when inspecting the second sample, C
                     8
                     >
                     H and the SPRT chart signals an out-of-control status. As a result, the whole inspection is terminated and the process should be stopped immediately for further investigation.

This article studies the influence of the Average Sample Number (ASN) on the performance of the attribute SPRT chart and proposes a design algorithm for determining the optimal ASN for monitoring the fraction nonconforming p. The performance of the optimal SPRT chart is compared with those of the optimal np chart, optimal CUSUM chart and basic SPRT chart. The basic SPRT chart itself is very effective for detecting p shifts. However, by optimizing the Average Sample Number (ASN) and the reference value (γ) (especially the former), the optimal SPRT chart is able to increase the overall detection effectiveness compared with the basic SPRT chart in terms of the Average Number of Defectives (AND). The AND has been adopted as the objective function in this article rather than the out-of control ATS. It ensures that the resultant control chart will have the best overall performance against all the p shifts of interest.

The results of the paper reflect the importance of the optimal design of the SPRT chart. This also indicates that more significant gain in the detection effectiveness may be obtained by improving the design algorithm of some control charts, such as the SPRT chart, rather than by proposing a completely new chart. The optimal SPRT chart also demonstrates a substantial superiority over the optimal np chart and optimal CUSUM chart. The semi-optimal SPRT chart in which only γ is optimized is also able to enhance the detection effectiveness under certain conditions. The results of the comparative studies reveal that the SPRT chart using a relatively small ASN and short h has a very high detection effectiveness.

In alignment with numerous studies in the literature that investigated the optimal sample size of variable control charts (such as the 
                        
                           
                              
                                 X
                              
                              
                                 ¯
                              
                           
                        
                      and CUSUM charts), this research also explores the optimal sample size n of some traditional attribute control charts such as the np and binomial CUSUM charts in an attempt to enhance their overall performance. It is found that optimizing n and h for the traditional attribute charts such as np and CUSUM charts will significantly improve their detection performance. The np chart usually requires a larger n for a better overall performance. On the contrary, the CUSUM chart prefers a smaller n and the SPRT chart in general uses a smaller ASN in order to achieve a higher overall detection effectiveness. These findings are certainly useful to all potential users of the attribute control charts.

The optimal design of an SPRT chart only changes the values of the charting parameters. The implementation of an optimal SPRT chart is identical to that of a basic SPRT chart and the optimal SPRT chart still benefits from using a fixed sampling interval. The optimal design can be implemented with a computer program. Once the optimal design is completed, the optimal SPRT chart can be used continuously until the process conditions change, and the improvement in effectiveness can be beneficial on a long-term basis. It is noted that the optimization design slightly influences the TS
                     0 distribution of the SPRT chart. Moreover, it only changes the scale of the SN
                     0 distribution with almost no effect on the general discrete profile of the SN
                     0.

For any SPRT chart, the SN
                     0 value may be extremely long occasionally in a particular sample. This may cause some operational problems. In practice, a threshold for the SN
                     0 can be adopted. If SN
                     0 in a sample exceeds this threshold, the sampling inspection is truncated and the process in concluded to be in control. For instance, in the illustrative example in Section 5, the threshold may be set as N
                     ×
                     h, otherwise the number of units produced in a sampling interval h may not be sufficient for the sampling and cause an operational problem. This truncation mechanism will influence the in-control and out-of-control characteristics of the SPRT chart to some degree. However, the optimal design and performance of the SPRT chart may be explored in future research under this additional constraint. This constraint is to ensure that the probability of truncation will be no larger than a predetermined value (e.g., 0.01). The performance of the SPRT chart and other charts may be studied to determine the effects when the p shift follows other patterns, rather than the Rayleigh distribution. However, since the optimal SPRT chart produces smaller ATS than all other charts over the entire range of δ shift (see Table 1 and Fig. 2), this chart will outperform other charts for any probability distribution of δ.

@&#ACKNOWLEDGEMENTS@&#

The authors would like to thank the reviewer and editor for their insightful comments and constructive suggestions that significantly improved the paper.

@&#REFERENCES@&#

