@&#MAIN-TITLE@&#MIP models for resource-constrained project scheduling with flexible resource profiles

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We address the RCPSP with flexible resource profiles.


                        
                        
                           
                           Multiple resources include principal, dependent, and independent resources.


                        
                        
                           
                           We propose four discrete-time MILP model formulations.


                        
                        
                           
                           The “variable-intensity-based” model significantly dominates the other models.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Project scheduling

Flexible profiles

Principal resources

Dependent resources

Discrete-time models

@&#ABSTRACT@&#


               
               
                  This paper addresses the resource-constrained project scheduling problem with flexible resource profiles (FRCPSP). Such a problem often arises in many real-world applications, in which the resource usage of an activity is not merely constant, but can be adjusted from period to period. The FRCPSP is, therefore, to simultaneously determine the start time, the resource profile, and the duration of each activity in order to minimize the makespan, subject to precedence relationships, limited availability of multiple resources, and restrictions on resource profiles. We propose four discrete-time model formulations and compare their model efficiency in terms of solution quality and computational times. Both preprocessing and priority-based heuristic methods are also applied to compute both upper and lower bounds of the makespan. Our comparative results show significant dominance of one of the models, the so-called “variable-intensity-based” model, in both solution quality and runtimes.
               
            

@&#INTRODUCTION@&#

The resource-constrained project scheduling problem (RCPSP) and its variants have been broadly investigated during the last several decades, since the first discrete-time model was introduced by Pritsker et al. (1969). The traditional RCPSP or PS/prec/C
                        max
                      (Brucker et al., 1999) deals with a set of n activities which are to be scheduled, such that the project completion time or makespan is minimized, subject to two main constraints: (1) the technological precedence constraints in which an activity cannot be started, until all of its preceding activities have been completed; and (2) the limited availability of resources, given only one mode for each activity. A mode is usually predefined as a nonpreemptive, constant resource usage of an activity over its entire predetermined fixed duration. When several modes and durations for each activity are considered, the problem becomes the multi-mode RCPSP (MRCPSP), a generalization of the RCPSP that additionally selects a mode for each activity. Several surveys on the single- and multi-mode RCPSPs have been conducted, most recently by Hartmann and Briskorn (2010) and Weglarz et al. (2011).

While in the RCPSP and MRCPSP the resource allocation over the duration of each activity is given and normally constant, Kolisch et al. (2003) propose a model in which the resource allocation must be determined. As a result, the “work profile” defined by Kolisch et al. (2003) is no longer limited to a rectangular shape in the traditional sense. Related to the work profile, the “work content” (Fündeling and Trautmann, 2010) is defined as the total amount of resource required to complete an activity. For example, a work content of 10 man-days for an activity may be allocated into a constant profile of 2 men for 5days as in the RCPSP, or a flexible profile of 3 men for 2days and 2 men for 2days. Since resources are not restricted only to human resources, we prefer to use more general terms, namely “resource profile” and “resource requirement”, instead of work profile and work content, respectively.

By allowing resource allocation to take flexible forms, the new problem becomes a generalization of the RCPSP. Hence, its optimal makespan is at least as good as the makespan of RCPSP. Under these new circumstances, the resource usage in each time period and the duration of each activity are unknown a priori and, thus, need to be simultaneously determined while scheduling activities by their starting times. This problem is termed here as the RCPSP with 
                        F
                     lexible resource profiles (FRCPSP) that is capable of handling dependency and independency of multiple resources and free-forms of profiles including uniform in the traditional sense.

The latest advanced computer technology has enabled and empowered many commercial optimization packages in solving large-scale, difficult mathematical models much more efficiently and reliably than ever before. Taking advantage of the developed tools, new models are formulated for the RCPSP and extensively compared by Koné et al. (2011) and Bianco and Caramia (2013). Both works substantiate that formulated models based on choices of decision variables and constraints do have significant effects on the efficiency of exact methods. Their computational results show that, for test instances with short processing times, the discrete-time models, in general, provide stronger LP relaxation bounds and shorter solution times, despite their high pseudo-polynomial number of binary variables.

Motivated by their works and limited existing research on the FRCPSP despite its tremendous potentials and applications, we propose, in this paper, four discrete-time model formulations for the FRCPSP and investigate the model efficiency in terms of problem size, solution quality, and runtime. To the best of our knowledge, such a complete study on the FRCPSP has not yet been published, and, thus, does contribute significantly in broadening the research scope in this area. It is expected that a strong model of the FRCPSP would also contribute to other related problems which the FRCPSP structure is either embedded in or considered as a relaxation problem of.

This paper is organized as follows. Section 2 describes the problem and assumptions. Section 3 briefly provides a literature review, whereas Section 4, the main section, proposes four model formulations. Section 5 describes our preprocessing calculations and priority-rule heuristic algorithm to compute the start and finish times of activities as well as the lower and upper bounds of makespan. Section 6 reports our computational comparisons and analyses. Concluding remarks are finally given in Section 7.

The FRCPSP simultaneously determines an optimal schedule of nonpreemptive activities and their resource profiles that minimize the project makespan. Similar to the RCPSP, each activity requires, once started, one nonpreemptive profile per resource over its entire processing time. The project schedule must also observe all precedence requirements depicted in a precedence network, denoted by 
                        
                           G
                           =
                           (
                           V
                           ,
                           E
                           )
                        
                     , in which 
                        
                           V
                        
                      is the set of all activities which may include dummy source activity 0 and dummy sink activity (n
                     +1), where necessary, and 
                        
                           E
                        
                      is the set of arcs representing standard precedence relationships, namely finish-start with zero time lag between two activities.

In addition, flexible profiles must satisfy the following practical constraints. (1) The total amount of each required resource assigned to each activity over its duration must at least satisfy its resource requirement. Implicitly, we assume that the duration of an activity results from a nonincreasing function of the amount of resource usage per time period. The more the allocated resource, the shorter the duration. (2) There must be at least a number of consecutive periods having a constant resource usage. This constraint is called the minimum block length (Fündeling and Trautmann, 2010). (3) The resource usage in a time period must be within a specified range designated by a lower and an upper bound. Without loss of generality, these bounds of a nondummy activity are assumed positive.

Unlike most of other similar research, all resource amounts are assumed here continuous and renewable with time-varying capacity (Klein, 2000). Obvious examples of continuous resources include electric, hydraulic or pneumatic power sources, fuel, computer memory, and CPU processing power. For employees or machines, which are normally assigned as discrete resources, may also be considered as continuous resources, when each employee or machine can process multiple activities in parallel. In such a case, the employee or machine is allotted in the (fractional) units of resource-time, such as man-days or machine-hours. In a period (day) of 8hours, an employee may equally work on two activities in parallel, spending his/her time of 0.5 man-day to each activity. Additionally, the discrete nature of resources may be compromised, provided that the fractional part is trivial, when relatively compared with the high magnitude of resource quantity allotted, or when the resource planning is done at the tactical level, in which the required resources are just roughly estimated.

Note that traditional, constant profiles or modes as in the RCPSP and MRCPSP may also be enforced in the FRCPSP as a special case using equal lower and upper bounds of resource usage. At the outset, one may attempt to exhaustively generate resource profiles (modes) for each activity and convert the FRCPSP into the MRCPSP with flexible modes. However, the profile generation, a combinatorial problem in its own right, is only possible for discrete resources. For continuous resources addressed here, it deems impossible to facilitate such a problem conversion.

In this paper, one discrete-time system is commonly used for all activities and resources. As such, each activity must start at the beginning of a time period and finish at the end of a time period. Dummy activities, if any, are assumed to have zero resource requirements. The dummy source activity must start and end at the end of period 0, while the dummy sink starts and ends in the beginning of period (makespan+1).

Resources required by an activity are classified here into three general categories, namely principal, dependent, and independent resources. To the best of our knowledge, such terminology has not yet been explicitly defined in the literature. Neither has the independent resource been explicitly addressed in the FRCPSP.
                        
                           (1)
                           A principal resource of an activity is the main resource whose usage amount may be depended upon or used as a computational basis by other resources to process the activity. Multiple principal resources may exist in a project, but only one principal is designated per activity. Fündeling and Trautmann (2010) called this type the work content resource.

A dependent resource of an activity is a resource whose usage quantity depends on that of its principal resource to process the activity. Based on a fundamental assumption that the resource amounts are additive, the quantity of dependent resource r used by activity j in period t, denoted by q
                              
                                 rjt
                              , follows a nondecreasing linear resource function of the quantity of its principal resource k used by activity j in period t, q
                              
                                 kjt
                              . Fig. 1
                               illustrates an example of a linear resource function and corresponding profiles of both principal and dependent resources that satisfy such an assumption. Given that α
                              
                                 krj
                               and β
                              
                                 krj
                               denote the coefficient and the constant of a linear function, respectively, the quantity of resource r dependent on that of resource k is, therefore, q
                              
                                 rjt
                              
                              =
                              α
                              
                                 krj
                              
                              q
                              
                                 kjt
                              
                              +
                              β
                              
                                 krj
                              . To guarantee problem feasibility, a resource may be assigned to an activity more than its requirement, but all required resources must be allocated concurrently and nonpreemptively, once the activity starts and throughout the duration till its completion.

An independent resource of an activity is a resource whose amount is independent from the quantity of any resources, although its timing must synchronize with the other resources required by the same activity.

As an example, one man-day of bio-lab technician as a principle resource r
                     =1 needs one day of fluorescence microscope as a dependent resource r
                     =2 during his/her activity j with the resource function q
                     2jt
                     
                     =
                     q
                     1jt
                     . If one man-day of the technician is allocated 30% and 70% to activities 1 and 2 that are being processed in parallel, respectively, the microscope is also time-shared proportionally to both activities. Similarly, a laboratory room, as a dependent resource, can also be timed-shared proportionally by both activities. However, if, due to the laboratory setup, one entire laboratory room is required to process activity 3, regardless of the number of technicians, it should rather be considered as an independent resource.

In our definition, one resource unit may practically be a team or a group of resources. Dummy activities may be assigned zero resource requirement of a principal resource without any dependent or independent resource. Regardless of the resource category, the availability of all resources is independent of each other and is not subject to any resource function.

@&#LITERATURE REVIEW@&#

Unlike the RCPSP, the MRCPSP, and their variants that have been extensively investigated, the FRCPSP has only been brought in the past decade to a few researchers’ attentions by practical applications. It is firstly studied by Kolisch et al. (2003) for the real-world application in pharmaceutical research projects whose activities require different groups of resources. Kuhlmann (2003) incorporate various practical requirements into a similar problem called the RCPSP/prax (in German: “das praxisnahe RCPSP”). Other applications of the FRCPSP include problems in an aggregate project planning and scheduling, such as the rough-cut capacity planning (RCCP) of Hans et al. (2007) in which the required resources and duration for each activity and the project due date are roughly estimated. Related to the capacity planning, project crashing is also another application of the FRCPSP, in which increasing resource capacity in certain periods can reduce the project delay. Applications of the FRCPSP also exist in the healthcare industry, one of the most recent research areas. An example includes a fellowship training program (project) that consists of a number of different surgical types (activities) that require a certain number of surgical sessions (resources) to be completed over the training period (makespan), subject to the pre-requisite requirements (precedence) and limited number of surgeries (resource availability) that the medical fellow can operate in each period (Fageth, 2011).

Despite many real-world applications, the FRCPSP has been rarely addressed in the literature. Elmaghraby (1977) firstly introduces the resource (cost) – duration interaction model, where an activity can be completed in a shorter duration by either increasing resources or using more efficient resources. Recent researches directly studying the FRCPSPs can be found in Fündeling (2006), Fündeling and Trautmann (2010), Ranjbar and Kianfar (2010) and Baumann and Trautmann (2013). All their models are limited to discrete resources and only one principal resource for the entire project, except Fündeling and Trautmann (2010) that can also deal with multiple dependent resources. Ranjbar and Kianfar (2010) also limit their choices of profiles to uniform and unimodal forms.


                     Weglarz et al. (2011) describe, as a function of resource amount allocated, two processing characteristics of an activity, namely (1) activity processing rate and (2) activity processing time. In the first category, Józefowska et al. (2000) study the RCPSP that deals with multiple discrete and one continuous resources, where the processing rate of each activity depends on the amount [0,1] of the continuous resource and the processing demand (resource requirement) must be satisfied. They also propose to convert the problem into the MRCPSP, by discretizing the continuous resource allotments. Kis (2005) later addresses the RCPSP with variable intensity, in which an activity may be processed in any discrete period at any level of intensity or degree of execution. Resources are then allocated to the activity proportional to the intensity. The main contribution of Kis (2005) is indeed a strong MILP model whose subset of constraints is proven to define facets of its underlying polytopes. His model is later modified by Bianco and Caramia (2013) for the RCPSP, using cumulative intensity rather than absolute intensity as decision variables. One can obviously see that a flexible resource profile can be derived from the activity intensity. Most recently, Haït and and Baydoun (2012) propose for the same problem a new event-based MILP model, using discrete times for periodic resource constraints but continuous times for the start and end events of each activity to allow the activity to start in the same period as its predecessor.

In the second category, the time/resource trade-off problem (TRTP) is a special case of the activity processing time model, in which the processing time is a nonincreasing function of resource usage that is usually constant over the entire activity duration. As such, the TRTP is also a special case of the FRCPSP. Specifically, the TRTP can be subcategorized into the discrete (DTRTP) and continuous problems (CTRTP) depending on the resource divisibility. Related works on the DTRTP can be found in De Reyck et al. (1998), Demeulemeester et al. (2000) and Ranjbar et al. (2009), where the DTRTP is reduced into the MRCPSP, after several modes are firstly determined. According to Weglarz et al. (2011), the CTRTP has never been studied explicitly, except in the context of machine scheduling problem, although it is simply a direct generalization of DTRTP. In this research, we also address the assignment of continuous resources, however, in a more general context than that of TRTPs.

Our modeling concept is to adapt to the FRCPSP different combinations of decision variables, constraints, and modeling techniques that have already been proposed for the RCPSP and its variants, while keeping in perspective the possibility to incorporate other practical constraints. Given project network 
                        
                           G
                           =
                           (
                           V
                           ,
                           E
                           )
                        
                     , the set of all nondummy activities is denoted by 
                        
                           N
                           =
                           {
                           1
                           ,
                           …
                           ,
                           n
                           }
                           ⊆
                           V
                        
                     . 
                        
                           T
                           =
                           {
                           1
                           ,
                           …
                           ,
                           T
                           }
                        
                      is the set of planning periods. To accommodate the dummy sink activity, we assign one extra period for T
                     =
                     T
                     
                        max
                     
                     +1, where T
                     
                        max
                     , an upper bound of the makespan, is obtained from a priority-rule heuristic whose algorithm is presented in Section 5.2. Through the forward and backward preprocessing calculations to be presented in Section 5.1, the earliest and latest start and finish times of activity j, denoted by ES
                     
                        j
                     , LS
                     
                        j
                     , EF
                     
                        j
                     , and LF
                     
                        j
                     , are calculated to reduce the number of variables and constraints. T
                     
                        min
                     , a lower bound of the makespan, is subsequently computed. Accordingly, we define 
                        
                           
                              
                                 T
                              
                              
                                 j
                              
                           
                           =
                           {
                           
                              
                                 ES
                              
                              
                                 j
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 LF
                              
                              
                                 j
                              
                           
                           }
                        
                      as the set of feasible processing periods of activity j, and 
                        
                           
                              
                                 ST
                              
                              
                                 j
                              
                           
                           =
                           {
                           
                              
                                 ES
                              
                              
                                 j
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 LS
                              
                              
                                 j
                              
                           
                           }
                        
                      and 
                        
                           
                              
                                 FT
                              
                              
                                 j
                              
                           
                           =
                           {
                           
                              
                                 EF
                              
                              
                                 j
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 LF
                              
                              
                                 j
                              
                           
                           }
                        
                      as the sets of feasible start and finish periods of activity j, respectively. In addition, we define 
                        
                           R
                        
                      as the set of all resources and 
                        
                           
                              
                                 R
                              
                              
                                 j
                              
                           
                           ⊆
                           R
                        
                      as the set of resources required by activity j. Set Ω consists of tuples (k,
                     r,
                     j) linking dependent resource r to principal resource k for activity j. Table 1
                      summarizes all notation used in this paper.

Firstly, we introduce a collection of decision variables that are related to activity 
                        
                           j
                           ∈
                           N
                        
                     , namely processing variable 
                        
                           
                              
                                 z
                              
                              
                                 jt
                              
                           
                           ,
                           t
                           ∈
                           
                              
                                 T
                              
                              
                                 j
                              
                           
                        
                     , start variable 
                        
                           
                              
                                 x
                              
                              
                                 jt
                              
                           
                           ,
                           t
                           ∈
                           
                              
                                 ST
                              
                              
                                 j
                              
                           
                        
                     , and finish variable 
                        
                           
                              
                                 y
                              
                              
                                 jt
                              
                           
                           ,
                           t
                           ∈
                           
                              
                                 FT
                              
                              
                                 j
                              
                           
                        
                     . Specifically, z
                     
                        jt
                     
                     =1 if activity j is being processed in period t, or 0 otherwise, and x
                     
                        jt
                      (y
                     
                        jt
                     )=1 if activity j starts (completes) in the beginning (at the end) of period t, or 0 otherwise. The equivalents of start and finish variables are also introduced here with superscript a (“after”), implying that the variable remains one after the associated event of either start or finish has occurred. 
                        
                           
                              
                                 x
                              
                              
                                 jt
                              
                              
                                 a
                              
                           
                           ,
                           t
                           ∈
                           
                              
                                 T
                              
                              
                                 j
                              
                           
                        
                     , is 1 if activity j has already started before or in the beginning of period t, or 0 otherwise. However, the definition of 
                        
                           
                              
                                 y
                              
                              
                                 jt
                              
                              
                                 a
                              
                           
                           ,
                           t
                           ∈
                           
                              
                                 T
                              
                              
                                 j
                              
                           
                        
                     , is slightly different from that of 
                        
                           
                              
                                 x
                              
                              
                                 jt
                              
                              
                                 a
                              
                           
                        
                     , in that 
                        
                           
                              
                                 y
                              
                              
                                 jt
                              
                              
                                 a
                              
                           
                           =
                           1
                        
                      if activity j has already completed by the end of period t
                     −1, or 0 otherwise. Additionally, continuous variable s
                     
                        j
                      denotes the starting time period of activity 
                        
                           j
                           ∈
                           V
                        
                     .

Let us consider the example resource profiles of activities 1 and 2 in Fig. 2
                     . Activity 1 starts in the beginning of period 2 (s
                     1
                     =2) and ends at the end of period 4, whereas activity 2 starts in period 1 (s
                     2
                     =1) and ends in period 2. Table 2
                      lists the corresponding values of the activity variables associated with activities 1 and 2. Quantity variable q
                     
                        rjt
                      and change variable δ
                     
                        rjt
                      are discussed later in this section.

Note that the activity variables introduced above are not all present in one model. Certain variables used in a model are sufficient to represent meaningful properties of activities, namely the processing status in a time period, durations, starting times, and completion times of activities. Table 3
                      summarizes for each model such properties that can be expressed by specific functions of the activity variables. Although most of these properties do not appear in our proposed models, they are derived at this formulation stage to accommodate possible future model extensions related to time constraints. These time restrictions may arise in practice, such as project deadline, specific time windows on the starting and/or finishing times of an activity, including generalized precedence relations in which any combinations of starting and finishing times of two activities are permitted with minimum and/or maximum time lags. Different time-based objective functions, such as the project tardiness and costs, may also be formulated using these sets of activity variables.

Secondly, we introduce the decision variables related to resource allocations. Recall that quantity variable q
                     
                        rjt
                      denotes the quantity of resource 
                        
                           r
                           ∈
                           
                              
                                 R
                              
                              
                                 j
                              
                           
                        
                      allocated to activity 
                        
                           j
                           ∈
                           N
                        
                      in period 
                        
                           t
                           ∈
                           
                              
                                 T
                              
                              
                                 j
                              
                           
                           ∪
                           {
                           
                              
                                 ES
                              
                              
                                 j
                              
                           
                           -
                           1
                           ,
                           
                              
                                 LF
                              
                              
                                 j
                              
                           
                           +
                           1
                           }
                        
                     . Due to the minimum block length, change variable δ
                     
                        rjt
                      is additionally required to keep track of the number of consecutive periods with a constant resource amount. δ
                     
                        rjt
                     
                     =1 if the quantities of resource 
                        
                           r
                           ∈
                           
                              
                                 R
                              
                              
                                 j
                              
                           
                        
                      for activity 
                        
                           j
                           ∈
                           N
                        
                      in periods t
                     −1 and 
                        
                           t
                           ∈
                           
                              
                                 T
                              
                              
                                 j
                              
                           
                           ∪
                           {
                           
                              
                                 LF
                              
                              
                                 j
                              
                           
                           +
                           1
                           }
                        
                      are different (i.e., q
                     
                        rj,t−1
                     ≠
                     q
                     
                        rjt
                     ), or 0 otherwise. Examples of the corresponding values of quantity and change variables for activities 1 and 2 in Fig. 2 are also shown in the last two rows of Table 2.

Thirdly, we introduce, based on the MILP model of Kolisch et al. (2003), a set of resource constraints which are basically common in all proposed models. Here, as an example, the processing status is simply defined by processing variable z
                     
                        jt
                     . Later, such a status may be replaced by the processing functions of other decision variables applied in each model, as shown in the second column of Table 3. We denote 
                        
                           
                              
                                 
                                    
                                       u
                                    
                                    
                                       ¯
                                    
                                 
                              
                              
                                 rj
                              
                           
                           (
                           
                              
                                 
                                    
                                       u
                                    
                                    
                                       ̲
                                    
                                 
                              
                              
                                 rj
                              
                           
                           )
                        
                      as the positive upper (lower) bound of amount of resource r assigned in a period to activity j, w
                     
                        rj
                      as total requirement of resource r demanded by activity j, b
                     
                        rt
                      as the availability of resource r in period t, and l
                     
                        rj
                      as the minimum block length for resource r and activity j. The resource constraints can now be written as follows:
                        
                           (1)
                           
                              
                                 
                                    q
                                 
                                 
                                    rjt
                                 
                              
                              -
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              
                                 
                                    z
                                 
                                 
                                    jt
                                 
                              
                              ⩽
                              0
                              
                              ∀
                              r
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                              j
                              ∈
                              N
                              ,
                              
                              t
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    j
                                 
                              
                           
                        
                     
                     
                        
                           (2)
                           
                              
                                 
                                    q
                                 
                                 
                                    rjt
                                 
                              
                              -
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ̲
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              
                                 
                                    z
                                 
                                 
                                    jt
                                 
                              
                              ⩾
                              0
                              
                              ∀
                              r
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                              j
                              ∈
                              N
                              ,
                              
                              t
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    j
                                 
                              
                           
                        
                     
                     
                        
                           (3)
                           
                              
                                 
                                    q
                                 
                                 
                                    rjt
                                 
                              
                              ⩾
                              
                                 
                                    α
                                 
                                 
                                    krj
                                 
                              
                              
                                 
                                    q
                                 
                                 
                                    kjt
                                 
                              
                              +
                              
                                 
                                    β
                                 
                                 
                                    krj
                                 
                              
                              
                                 
                                    z
                                 
                                 
                                    jt
                                 
                              
                              
                              ∀
                              (
                              k
                              ,
                              r
                              ,
                              j
                              )
                              ∈
                              Ω
                              ,
                              
                              t
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    j
                                 
                              
                           
                        
                     
                     
                        
                           (4)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       t
                                       ∈
                                       
                                          
                                             T
                                          
                                          
                                             j
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    q
                                 
                                 
                                    rjt
                                 
                              
                              ⩾
                              
                                 
                                    w
                                 
                                 
                                    rj
                                 
                              
                              
                              ∀
                              r
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                              j
                              ∈
                              N
                           
                        
                     
                     
                        
                           (5)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       j
                                       ∈
                                       N
                                    
                                 
                              
                              
                                 
                                    q
                                 
                                 
                                    rjt
                                 
                              
                              ⩽
                              
                                 
                                    b
                                 
                                 
                                    rt
                                 
                              
                              
                              ∀
                              r
                              ∈
                              R
                              ,
                              
                              t
                              ∈
                              T
                           
                        
                     
                     
                        
                           (6)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       τ
                                       =
                                       t
                                    
                                    
                                       t
                                       +
                                       
                                          
                                             l
                                          
                                          
                                             rj
                                          
                                       
                                       -
                                       1
                                    
                                 
                              
                              
                                 
                                    δ
                                 
                                 
                                    rj
                                    τ
                                 
                              
                              ⩽
                              1
                              
                              ∀
                              r
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                              j
                              ∈
                              N
                              ,
                              
                              t
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                                 
                                    l
                                 
                                 
                                    rj
                                 
                              
                              ⩾
                              2
                           
                        
                     
                     
                        
                           (7)
                           
                              
                                 
                                    q
                                 
                                 
                                    rjt
                                 
                              
                              -
                              
                                 
                                    q
                                 
                                 
                                    rj
                                    ,
                                    t
                                    -
                                    1
                                 
                              
                              -
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              
                                 
                                    δ
                                 
                                 
                                    rjt
                                 
                              
                              ⩽
                              0
                              
                              ∀
                              r
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                              j
                              ∈
                              N
                              ,
                              
                              t
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    j
                                 
                              
                              ∪
                              {
                              
                                 
                                    LF
                                 
                                 
                                    j
                                 
                              
                              +
                              1
                              }
                           
                        
                     
                     
                        
                           (8)
                           
                              
                                 
                                    q
                                 
                                 
                                    rj
                                    ,
                                    t
                                    -
                                    1
                                 
                              
                              -
                              
                                 
                                    q
                                 
                                 
                                    rjt
                                 
                              
                              -
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              
                                 
                                    δ
                                 
                                 
                                    rjt
                                 
                              
                              ⩽
                              0
                              
                              ∀
                              r
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                              j
                              ∈
                              N
                              ,
                              
                              t
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    j
                                 
                              
                              ∪
                              {
                              
                                 
                                    LF
                                 
                                 
                                    j
                                 
                              
                              +
                              1
                              }
                           
                        
                     
                     
                        
                           (9)
                           
                              
                                 
                                    q
                                 
                                 
                                    rj
                                    ,
                                    
                                       
                                          ES
                                       
                                       
                                          j
                                       
                                    
                                    -
                                    1
                                 
                              
                              =
                              
                                 
                                    q
                                 
                                 
                                    rj
                                    ,
                                    
                                       
                                          LF
                                       
                                       
                                          j
                                       
                                    
                                    +
                                    1
                                 
                              
                              =
                              0
                              
                              ∀
                              r
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                              j
                              ∈
                              N
                           
                        
                     
                     
                        
                           (10)
                           
                              
                                 
                                    q
                                 
                                 
                                    rjt
                                 
                              
                              ⩾
                              0
                              
                              ∀
                              r
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                              j
                              ∈
                              N
                              ,
                              
                              t
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    j
                                 
                              
                           
                        
                     
                     
                        
                           (11)
                           
                              
                                 
                                    δ
                                 
                                 
                                    rjt
                                 
                              
                              ∈
                              {
                              0
                              ,
                              1
                              }
                              
                              ∀
                              r
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                              j
                              ∈
                              N
                              ,
                              
                              t
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    j
                                 
                              
                              ∪
                              {
                              
                                 
                                    LF
                                 
                                 
                                    j
                                 
                              
                              +
                              1
                              }
                           
                        
                     
                  

Constraints (1) and (2), respectively, enforce the upper and lower bounds on resource quantity that may be allocated to each activity in each period. Constraint (3), as mentioned earlier, expresses q
                     
                        rjt
                      of dependent resource r as a linear resource function of q
                     
                        kjt
                      of its principal resource k. Resource requirement constraint (4) guarantees that sufficient amount of resources be allocated to satisfy the total requirement, while resource availability constraint (5) assures total resource usages in each period to be within the availability limit. Constraint (6) taken from Fündeling (2006) enforces the minimum block length for continuity of constant resource amounts, while the definition of δ
                     
                        rjt
                      for a change in quantity either up or down from one period to the next is expressed in constraints (7) and (8). Constraint (9) initializes zero resource quantity before the earliest start and after the latest finish times. Constraints (10) and (11) specify the types of variables q
                     
                        rjt
                      and δ
                     
                        rjt
                     , respectively.

In the next subsections, four MILP models, namely FP-DT1 to FP-DT4, are proposed in details. Table 4
                      summarizes for each proposed model the decision variables to be applied as well as the literature on which the formulation concept is based. Note that the makespan variable C
                     
                        max
                      and the resource variables q
                     
                        rjt
                      and δ
                     
                        rjt
                      are commonly used in all models. The reader may refer to Table 1 for a summary of notation.

Models FP-DT1 is partly inspired by the RCPSP formulation 2 of Klein (2000) which utilizes z
                        
                           jt
                         to indicate the processing status of activity j in period t. Together with common resource variables q
                        
                           rjt
                         and δ
                        
                           rjt
                        , resource constraints (1)–(11) can be applied in Model FP-DT1 directly. The same set of binary variables but different nonpreemption and precedence constraints can also be found in Baumann and Trautmann (2013).


                        Model FP-DT1
                        
                           
                              (12)
                              
                                 
                                 Minimize
                                 
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                 
                              
                           
                        
                        
                           
                              
                                 
                                 subject to
                                 :
                                 
                                 
                                    (1)–(11)
                                 
                              
                           
                        
                        
                           
                              (13)
                              
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                 
                                 ⩾
                                 
                                    
                                       T
                                    
                                    
                                       min
                                    
                                 
                              
                           
                        
                        
                           
                              (14)
                              
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                 
                                 ⩾
                                 
                                    
                                       tz
                                    
                                    
                                       jt
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (15)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          τ
                                          ⩽
                                          t
                                       
                                    
                                 
                                 
                                    
                                       z
                                    
                                    
                                       j
                                       τ
                                    
                                 
                                 ⩽
                                 
                                    
                                       
                                          
                                             d
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       j
                                    
                                 
                                 (
                                 1
                                 -
                                 
                                    
                                       z
                                    
                                    
                                       it
                                    
                                 
                                 )
                                 
                                 ∀
                                 (
                                 i
                                 ,
                                 j
                                 )
                                 ∈
                                 E
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       i
                                       ∩
                                    
                                 
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (16)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          τ
                                          ⩾
                                          t
                                          +
                                          1
                                       
                                    
                                 
                                 
                                    
                                       z
                                    
                                    
                                       j
                                       τ
                                    
                                 
                                 +
                                 
                                    
                                       
                                          
                                             d
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       j
                                    
                                 
                                 (
                                 
                                    
                                       z
                                    
                                    
                                       jt
                                    
                                 
                                 -
                                 
                                    
                                       z
                                    
                                    
                                       j
                                       ,
                                       t
                                       +
                                       1
                                    
                                 
                                 )
                                 ⩽
                                 
                                    
                                       
                                          
                                             d
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       j
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (17)
                              
                                 
                                    
                                       z
                                    
                                    
                                       jt
                                    
                                 
                                 ∈
                                 {
                                 0
                                 ,
                                 1
                                 }
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                     

Objective function (12) is to minimize the project makespan, while constraint (13) defines T
                        
                           min
                        , a positive integer, as a lower bound, also implying nonnegativity of C
                        
                           max
                        . Constraint (14) on the other hand defines the value of C
                        
                           max
                         obtained from the last period in which a nondummy activity is being processed. Precedence relation between activities i and j 
                        (15) states that if activity i is processed in period t, activity j cannot be processed before or in period t. Nonpreemption constraint (16) assures that if activity j is completed in period t, i.e. z
                        
                           jt
                        
                        =1 and z
                        
                           j,t+1
                        =0, it cannot be restarted again after period t, i.e. z
                        
                           jτ
                        
                        =0, for all τ
                        ⩾
                        t
                        +1. Since the duration of each activity is unknown in the FRCPSP, 
                           
                              
                                 
                                    
                                       
                                          d
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    j
                                 
                              
                           
                         denoting an upper bound of duration of activity j is used in constraints (15) and (16) instead.

Indeed, Kolisch et al. (2003) also propose different precedence and nonpreemption constraints as functions of q
                        
                           rjt
                         and δ
                        
                           rjt
                         only (not shown here). A preliminary test, however, suggests that constraints (15) and (16) yield stronger inequalities for the model. Intuitively, inequalities that are functions of binary variables can facilitate for each branch in fixing more binary variables, thus likely to result in a smaller branch and bound tree.

Model FP-DT2 applies the combination of activity variables x
                        
                           jt
                         and y
                        
                           jt
                         based on Ranjbar and Kianfar (2010). Common resource variables q
                        
                           rjt
                         and δ
                        
                           rjt
                         are also used here. However, resource constraints (1)–(3) must be modified accordingly by replacing the processing status z
                        
                           jt
                         with 
                           
                              
                                 
                                    ∑
                                 
                                 
                                    τ
                                    ⩽
                                    t
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    j
                                    τ
                                 
                              
                              -
                              
                                 
                                    ∑
                                 
                                 
                                    τ
                                    ⩽
                                    t
                                    -
                                    1
                                 
                              
                              
                                 
                                    y
                                 
                                 
                                    j
                                    τ
                                 
                              
                           
                         , while resource constraints (4)–(11) can be directly incorporated here.


                        Model FP-DT2
                     

Minimize (12).

subject to: (13), (4)–(11), and
                           
                              (18)
                              
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                 
                                 ⩾
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          t
                                          ∈
                                          
                                             
                                                FT
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       ty
                                    
                                    
                                       jt
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                              
                           
                        
                        
                           
                              (19)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          t
                                          ∈
                                          
                                             
                                                ST
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       jt
                                    
                                 
                                 =
                                 1
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                              
                           
                        
                        
                           
                              (20)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          t
                                          ∈
                                          
                                             
                                                FT
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       y
                                    
                                    
                                       jt
                                    
                                 
                                 =
                                 1
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                              
                           
                        
                        
                           
                              (21)
                              
                                 
                                    
                                       y
                                    
                                    
                                       jt
                                    
                                 
                                 ⩽
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          τ
                                          ⩽
                                          t
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       j
                                       τ
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ∩
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (22)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          τ
                                          ⩽
                                          t
                                       
                                    
                                 
                                 
                                    
                                       y
                                    
                                    
                                       i
                                       τ
                                    
                                 
                                 ⩾
                                 
                                    
                                       x
                                    
                                    
                                       j
                                       ,
                                       t
                                       +
                                       1
                                    
                                 
                                 
                                 ∀
                                 (
                                 i
                                 ,
                                 j
                                 )
                                 ∈
                                 E
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ∩
                                 
                                    
                                       FT
                                    
                                    
                                       i
                                    
                                 
                              
                           
                        
                        
                           
                              (23a)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rj
                                       ,
                                       t
                                       -
                                       1
                                    
                                 
                                 ⩽
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (23b)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rj
                                       ,
                                       t
                                       -
                                       1
                                    
                                 
                                 ⩽
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 (
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 +
                                 
                                    
                                       y
                                    
                                    
                                       j
                                       ,
                                       t
                                       -
                                       1
                                    
                                 
                                 )
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 {
                                 
                                    
                                       EF
                                    
                                    
                                       j
                                    
                                 
                                 }
                              
                           
                        
                        
                           
                              (24a)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          τ
                                          ⩽
                                          t
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       j
                                       τ
                                    
                                 
                                 ⩽
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (24b)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   τ
                                                   ⩽
                                                   t
                                                
                                             
                                          
                                          
                                             
                                                x
                                             
                                             
                                                j
                                                τ
                                             
                                          
                                          -
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   τ
                                                   ⩽
                                                   t
                                                   -
                                                   1
                                                
                                             
                                          
                                          
                                             
                                                y
                                             
                                             
                                                j
                                                τ
                                             
                                          
                                       
                                    
                                 
                                 ⩽
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ∩
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (24c)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       
                                          1
                                          -
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   τ
                                                   ⩽
                                                   t
                                                   -
                                                   1
                                                
                                             
                                          
                                          
                                             
                                                y
                                             
                                             
                                                j
                                                τ
                                             
                                          
                                       
                                    
                                 
                                 ⩽
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (25a)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ̲
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          τ
                                          ⩽
                                          t
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       j
                                       τ
                                    
                                 
                                 ⩾
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (25b)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ̲
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   τ
                                                   ⩽
                                                   t
                                                
                                             
                                          
                                          
                                             
                                                x
                                             
                                             
                                                j
                                                τ
                                             
                                          
                                          -
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   τ
                                                   ⩽
                                                   t
                                                   -
                                                   1
                                                
                                             
                                          
                                          
                                             
                                                y
                                             
                                             
                                                j
                                                τ
                                             
                                          
                                       
                                    
                                 
                                 ⩾
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ∩
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (25c)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ̲
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       
                                          1
                                          -
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   τ
                                                   ⩽
                                                   t
                                                   -
                                                   1
                                                
                                             
                                          
                                          
                                             
                                                y
                                             
                                             
                                                j
                                                τ
                                             
                                          
                                       
                                    
                                 
                                 ⩾
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (26)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 ⩽
                                 
                                    
                                       α
                                    
                                    
                                       krj
                                    
                                 
                                 
                                    
                                       q
                                    
                                    
                                       kjt
                                    
                                 
                                 +
                                 
                                    
                                       β
                                    
                                    
                                       krj
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   τ
                                                   ⩽
                                                   t
                                                
                                             
                                          
                                          
                                             
                                                x
                                             
                                             
                                                j
                                                τ
                                             
                                          
                                          -
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   τ
                                                   ⩽
                                                   t
                                                   -
                                                   1
                                                
                                             
                                          
                                          
                                             
                                                y
                                             
                                             
                                                j
                                                τ
                                             
                                          
                                       
                                    
                                 
                                 
                                 ∀
                                 (
                                 k
                                 ,
                                 r
                                 ,
                                 j
                                 )
                                 ∈
                                 Ω
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (27)
                              
                                 
                                    
                                       x
                                    
                                    
                                       jt
                                    
                                 
                                 ∈
                                 {
                                 0
                                 ,
                                 1
                                 }
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (28)
                              
                                 
                                    
                                       y
                                    
                                    
                                       jt
                                    
                                 
                                 ∈
                                 {
                                 0
                                 ,
                                 1
                                 }
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                     

Constraint (18) defines the makespan as the maximum completion time of all activities. Constraints (19) and (20) require that each activity be started and completed once, while constraint (21) assures that activity j can be completed in period t only after it has been started in t or earlier. Precedence constraint (22) states that activity j can only start after its immediate predecessor i has finished. Here, it may be worthwhile to mention that, as alternatives, we also consider in this model precedence constraint (29) which is a modification of that of Pritsker et al. (1969) and constraint (30) which is a modification of a stronger version of Christofides et al. (1987).
                           
                              (29)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          t
                                          =
                                          
                                             
                                                ST
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       tx
                                    
                                    
                                       jt
                                    
                                 
                                 ⩾
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          t
                                          ∈
                                          
                                             
                                                FT
                                             
                                             
                                                i
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       ty
                                    
                                    
                                       it
                                    
                                 
                                 +
                                 1
                                 
                                 ∀
                                 (
                                 i
                                 ,
                                 j
                                 )
                                 ∈
                                 E
                              
                           
                        
                        
                           
                              (30)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          τ
                                          ⩾
                                          t
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       i
                                       τ
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          τ
                                          =
                                          
                                             
                                                ES
                                             
                                             
                                                j
                                             
                                          
                                       
                                       
                                          min
                                          (
                                          
                                             
                                                LS
                                             
                                             
                                                j
                                             
                                          
                                          ,
                                          t
                                          +
                                          
                                             
                                                
                                                   
                                                      d
                                                   
                                                   
                                                      ̲
                                                   
                                                
                                             
                                             
                                                i
                                             
                                          
                                          -
                                          1
                                          )
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       j
                                       τ
                                    
                                 
                                 ⩽
                                 1
                                 
                                 ∀
                                 (
                                 i
                                 ,
                                 j
                                 )
                                 ∈
                                 E
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       i
                                    
                                 
                              
                           
                        Due to unknown activity durations, a simple lower bound of duration 
                           d
                        
                        
                           j
                         is applied to constraint (30). Both constraints are found weaker than constraint (22) in our preliminary test runs.

Nonpremption constraint (23b), adapted from that of Fündeling (2006), enforces that q
                        
                           rjt
                        
                        ⩾0, when y
                        
                           j,t−1
                        =0, i.e. activity j is either not started yet or being processed in period t
                        −1. Specifically, in the latter case, q
                        
                           rjt
                         must be positive to ensure the continuation of activity j. However, by taking into account that 
                           
                              
                                 
                                    y
                                 
                                 
                                    jt
                                 
                              
                              =
                              0
                              ,
                              ∀
                              j
                              ∈
                              N
                              ,
                              t
                              ∈
                              
                                 
                                    ST
                                 
                                 
                                    j
                                 
                              
                              ⧹
                              
                                 
                                    FT
                                 
                                 
                                    j
                                 
                              
                           
                        , constraint (23b) can be reduced to (23a). By substituting the variables in the common resource constraints accordingly, sets of constraints (24) and (25) are, indeed, the reformulations of resource constraints (1) and (2) that impose the upper and lower bounds on resource usages, respectively. Inspired by a strong formulation of the precedence constraints proposed by Kis (2005), constraint (24) is expanded into three subconstraints (24a)–(24c). Constraint (24b) is obtained directly from the substitution. Since 
                           
                              
                                 
                                    ∑
                                 
                                 
                                    τ
                                    ⩽
                                    t
                                    -
                                    1
                                 
                              
                              
                                 
                                    y
                                 
                                 
                                    j
                                    τ
                                 
                              
                              =
                              0
                              ,
                              ∀
                              j
                              ∈
                              N
                              ,
                              t
                              ∈
                              
                                 
                                    ST
                                 
                                 
                                    j
                                 
                              
                              ⧹
                              
                                 
                                    FT
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                                 
                                    ∑
                                 
                                 
                                    τ
                                    ⩽
                                    t
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    j
                                    τ
                                 
                              
                              -
                              
                                 
                                    ∑
                                 
                                 
                                    τ
                                    ⩽
                                    t
                                    -
                                    1
                                 
                              
                              
                                 
                                    y
                                 
                                 
                                    j
                                    τ
                                 
                              
                           
                         is reduced to 
                           
                              
                                 
                                    ∑
                                 
                                 
                                    τ
                                    ⩽
                                    t
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    j
                                    τ
                                 
                              
                           
                        , resulting in constraint (24a). On the contrary, since 
                           
                              
                                 
                                    ∑
                                 
                                 
                                    τ
                                    ⩽
                                    t
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    j
                                    τ
                                 
                              
                              =
                              1
                              ,
                              ∀
                              j
                              ∈
                              N
                              ,
                              t
                              ∈
                              
                                 
                                    FT
                                 
                                 
                                    j
                                 
                              
                              ⧹
                              
                                 
                                    ST
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                                 
                                    ∑
                                 
                                 
                                    τ
                                    ⩽
                                    t
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    j
                                    τ
                                 
                              
                              -
                              
                                 
                                    ∑
                                 
                                 
                                    τ
                                    ⩽
                                    t
                                    -
                                    1
                                 
                              
                              
                                 
                                    y
                                 
                                 
                                    j
                                    τ
                                 
                              
                           
                         is reduced to 
                           
                              1
                              -
                              
                                 
                                    ∑
                                 
                                 
                                    τ
                                    ⩽
                                    t
                                    -
                                    1
                                 
                              
                              
                                 
                                    y
                                 
                                 
                                    j
                                    τ
                                 
                              
                           
                        , resulting in constraint (24c). The same explanations can also be applied to constraints (25a)–(25c). Constraint (26) expresses a dependent resource function. Constraints (27) and (28) indicate the binary types of activity variables.

Based on the RCPSP model of Bianco and Caramia (2013) who generalize formulation 4 of Klein (2000) and the original variable intensity model of Kis (2005), Model FP-DT3 uses activity variables 
                           
                              
                                 
                                    x
                                 
                                 
                                    jt
                                 
                                 
                                    a
                                 
                              
                           
                         and 
                           
                              
                                 
                                    y
                                 
                                 
                                    jt
                                 
                                 
                                    a
                                 
                              
                           
                         as previously defined. Consequently, function 
                           
                              
                                 
                                    
                                       
                                          
                                             x
                                          
                                          
                                             jt
                                          
                                          
                                             a
                                          
                                       
                                       -
                                       
                                          
                                             y
                                          
                                          
                                             jt
                                          
                                          
                                             a
                                          
                                       
                                    
                                 
                              
                           
                         is used to represent the processing status of activity j in period t in common resource constraints (1)–(3). In addition, the cumulative intensity variable 
                           
                              
                                 
                                    v
                                 
                                 
                                    jt
                                 
                                 
                                    c
                                 
                              
                           
                         denotes for activity j the cumulative percentage of completion until the end of period t, where 0 
                           
                              ⩽
                              
                                 
                                    v
                                 
                                 
                                    jt
                                 
                                 
                                    c
                                 
                              
                              ⩽
                              1
                              ,
                              ∀
                              j
                              ∈
                              N
                              ,
                              
                              t
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    j
                                 
                              
                              ∪
                              {
                              
                                 
                                    ES
                                 
                                 
                                    j
                                 
                              
                              -
                              1
                              }
                           
                        . Note that the corresponding amount of resources allocated must also be proportional to the intensity of the activity. This concept is, however, applied only to its principal resources, while allowing independent resources to be freely managed, and dependent resources to be controlled by their corresponding resource functions. As such, resource constraint (4) must also be reformulated accordingly. Model FP-DT3 is now presented below:


                        Model FP-DT3
                     

Minimize (12).

subject to: (13), (5)–(11), and
                           
                              (31)
                              
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                 
                                 ⩾
                                 
                                    
                                       LF
                                    
                                    
                                       j
                                    
                                 
                                 -
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          t
                                          ∈
                                          
                                             
                                                T
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       y
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                              
                           
                        
                        
                           
                              (32)
                              
                                 
                                    
                                       v
                                    
                                    
                                       jt
                                    
                                    
                                       c
                                    
                                 
                                 ⩽
                                 
                                    
                                       x
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (33)
                              
                                 
                                    
                                       v
                                    
                                    
                                       j
                                       ,
                                       t
                                       -
                                       1
                                    
                                    
                                       c
                                    
                                 
                                 ⩾
                                 
                                    
                                       y
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (34)
                              
                                 
                                    
                                       x
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 ⩽
                                 
                                    
                                       y
                                    
                                    
                                       it
                                    
                                    
                                       a
                                    
                                 
                                 
                                 ∀
                                 (
                                 i
                                 ,
                                 j
                                 )
                                 ∈
                                 E
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ∩
                                 
                                    
                                       FT
                                    
                                    
                                       i
                                    
                                 
                              
                           
                        
                        
                           
                              (35)
                              
                                 
                                    
                                       v
                                    
                                    
                                       j
                                       ,
                                       t
                                       -
                                       1
                                    
                                    
                                       c
                                    
                                 
                                 ⩽
                                 
                                    
                                       v
                                    
                                    
                                       jt
                                    
                                    
                                       c
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (36)
                              
                                 
                                    
                                       x
                                    
                                    
                                       j
                                       ,
                                       t
                                       -
                                       1
                                    
                                    
                                       a
                                    
                                 
                                 ⩽
                                 
                                    
                                       x
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 {
                                 
                                    
                                       ES
                                    
                                    
                                       j
                                    
                                 
                                 }
                              
                           
                        
                        
                           
                              (37)
                              
                                 
                                    
                                       y
                                    
                                    
                                       j
                                       ,
                                       t
                                       -
                                       1
                                    
                                    
                                       a
                                    
                                 
                                 ⩽
                                 
                                    
                                       y
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 {
                                 
                                    
                                       ES
                                    
                                    
                                       j
                                    
                                 
                                 }
                              
                           
                        
                        
                           
                              (38)
                              
                                 
                                    
                                       v
                                    
                                    
                                       j
                                       ,
                                       
                                          
                                             ES
                                          
                                          
                                             j
                                          
                                       
                                       -
                                       1
                                    
                                    
                                       c
                                    
                                 
                                 =
                                 0
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                              
                           
                        
                        
                           
                              (39)
                              
                                 
                                    
                                       v
                                    
                                    
                                       j
                                       ,
                                       
                                          
                                             LF
                                          
                                          
                                             j
                                          
                                       
                                    
                                    
                                       c
                                    
                                 
                                 =
                                 1
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                              
                           
                        
                        
                           
                              (40)
                              
                                 
                                    
                                       x
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 =
                                 1
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 
                                    
                                       LS
                                    
                                    
                                       j
                                    
                                 
                                 ⩽
                                 t
                                 ⩽
                                 
                                    
                                       LF
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (41)
                              
                                 
                                    
                                       y
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 =
                                 0
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 
                                    
                                       ES
                                    
                                    
                                       j
                                    
                                 
                                 ⩽
                                 t
                                 ⩽
                                 
                                    
                                       EF
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (42a)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 ⩽
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (42b)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                             
                                                jt
                                             
                                             
                                                a
                                             
                                          
                                          -
                                          
                                             
                                                y
                                             
                                             
                                                jt
                                             
                                             
                                                a
                                             
                                          
                                       
                                    
                                 
                                 ⩽
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ∩
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (42c)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       
                                          1
                                          -
                                          
                                             
                                                y
                                             
                                             
                                                jt
                                             
                                             
                                                a
                                             
                                          
                                       
                                    
                                 
                                 ⩽
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (43a)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ̲
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 ⩾
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (43b)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ̲
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                             
                                                jt
                                             
                                             
                                                a
                                             
                                          
                                          -
                                          
                                             
                                                y
                                             
                                             
                                                jt
                                             
                                             
                                                a
                                             
                                          
                                       
                                    
                                 
                                 ⩾
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                                 ∩
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (43c)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ̲
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 
                                    
                                       
                                          1
                                          -
                                          
                                             
                                                y
                                             
                                             
                                                jt
                                             
                                             
                                                a
                                             
                                          
                                       
                                    
                                 
                                 ⩾
                                 0
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       FT
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 
                                    
                                       ST
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (44)
                              
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 ⩾
                                 
                                    
                                       α
                                    
                                    
                                       krj
                                    
                                 
                                 
                                    
                                       q
                                    
                                    
                                       kjt
                                    
                                 
                                 +
                                 
                                    
                                       β
                                    
                                    
                                       krj
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                             
                                                jt
                                             
                                             
                                                a
                                             
                                          
                                          -
                                          
                                             
                                                y
                                             
                                             
                                                jt
                                             
                                             
                                                a
                                             
                                          
                                       
                                    
                                 
                                 
                                 ∀
                                 (
                                 k
                                 ,
                                 r
                                 ,
                                 j
                                 )
                                 ∈
                                 Ω
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (45)
                              
                                 
                                    
                                       q
                                    
                                    
                                       
                                          
                                             r
                                          
                                          
                                             j
                                          
                                          
                                             ∗
                                          
                                       
                                       ,
                                       jt
                                    
                                 
                                 ⩾
                                 
                                    
                                       w
                                    
                                    
                                       
                                          
                                             r
                                          
                                          
                                             j
                                          
                                          
                                             ∗
                                          
                                       
                                       ,
                                       j
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                v
                                             
                                             
                                                jt
                                             
                                             
                                                c
                                             
                                          
                                          -
                                          
                                             
                                                v
                                             
                                             
                                                j
                                                ,
                                                t
                                                -
                                                1
                                             
                                             
                                                c
                                             
                                          
                                       
                                    
                                 
                                 
                                 ∀
                                 
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (46)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          t
                                          ∈
                                          
                                             
                                                T
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       q
                                    
                                    
                                       rjt
                                    
                                 
                                 ⩾
                                 
                                    
                                       w
                                    
                                    
                                       rj
                                    
                                 
                                 
                                 ∀
                                 r
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       j
                                    
                                 
                                 ⧹
                                 
                                    
                                       
                                          
                                             
                                                r
                                             
                                             
                                                j
                                             
                                             
                                                ∗
                                             
                                          
                                       
                                    
                                 
                                 ,
                                 
                                 j
                                 ∈
                                 N
                              
                           
                        
                        
                           
                              (47)
                              
                                 0
                                 ⩽
                                 
                                    
                                       v
                                    
                                    
                                       jt
                                    
                                    
                                       c
                                    
                                 
                                 ⩽
                                 1
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (48)
                              
                                 
                                    
                                       x
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 ∈
                                 {
                                 0
                                 ,
                                 1
                                 }
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (49)
                              
                                 
                                    
                                       y
                                    
                                    
                                       jt
                                    
                                    
                                       a
                                    
                                 
                                 ∈
                                 {
                                 0
                                 ,
                                 1
                                 }
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                     

Constraint (31) is reformulated to define the makespan as the maximum completion time which is now written as a function of 
                           
                              
                                 
                                    y
                                 
                                 
                                    jt
                                 
                                 
                                    a
                                 
                              
                           
                        . Constraints (32) and (33), respectively, assure that an activity is processed with a positive variable intensity in or after the starting period and can be stopped only after the intensity has reached 100%. Precedence relation (34) enforces that the start of activity j be after the completion of activity i. Nonpreemption constraints (35)–(37) collectively ensure the continuity of each activity by the increasing values of the intensity and two activity variables over time periods. In other words, once the activity is started in period t, i.e. 
                           
                              
                                 
                                    v
                                 
                                 
                                    jt
                                 
                                 
                                    c
                                 
                              
                              ,
                              
                                 
                                    x
                                 
                                 
                                    jt
                                 
                                 
                                    a
                                 
                              
                              ,
                              
                                 
                                    y
                                 
                                 
                                    jt
                                 
                                 
                                    a
                                 
                              
                              >
                              0
                           
                        , their values in subsequent periods cannot be reduced. According to their definitions, decision variables are explicitly initialized to known values of zeros or ones by constraints (38)–(41).

Resource usage bounds (42a)–(42c) and (43a)–(43c) are accordingly reformulated, since 
                           
                              
                                 
                                    y
                                 
                                 
                                    jt
                                 
                                 
                                    a
                                 
                              
                              =
                              0
                              ,
                              ∀
                              j
                              ∈
                              N
                              ,
                              t
                              ∈
                              
                                 
                                    ST
                                 
                                 
                                    j
                                 
                              
                              ⧹
                              
                                 
                                    FT
                                 
                                 
                                    j
                                 
                              
                           
                         and 
                           
                              
                                 
                                    x
                                 
                                 
                                    jt
                                 
                                 
                                    a
                                 
                              
                              =
                              1
                              ,
                              ∀
                              j
                              ∈
                              N
                              ,
                              t
                              ∈
                              
                                 
                                    FT
                                 
                                 
                                    j
                                 
                              
                              ⧹
                              
                                 
                                    ST
                                 
                                 
                                    j
                                 
                              
                           
                        . Dependent resource function (3) is rewritten into (44). Resource constraint (4) is replaced here by constraints (45) and (46). Given 
                           
                              
                                 
                                    r
                                 
                                 
                                    j
                                 
                                 
                                    ∗
                                 
                              
                           
                        , the principal resource of activity j, principal resource constraint (45) is imposed for each activity to guarantee that resource amounts are allocated proportionally to its intensity in each period. Resource requirements of dependent and independent resources are instead enforced by constraint (46), since enforcing amounts of all resources to be proportional to the intensity level yields a too strong condition when coupled with resource functions. This strong, but not obvious, condition often leads to suboptimal or even infeasible solutions, especially when resources are scarce, as evidently found in our preliminary tests. Variable types are finally defined by the remaining constraints (47)–(49).

One may consider the geometrical model of the MRCPSP proposed by Sabzehparvar and Seyed-Hosseini (2008), who define for each activity a multi-dimensional rectangle or a hyperrectangle whose dimensions along the time axis and the resource axes are the fixed duration and the uniform amount of resources over the entire duration. Based on the hyperrectangle analogy, Sabzehparvar and Seyed-Hosseini (2008) formulate a model using two types of decision variables. The first variable is continuous and defines the starting position of each hyperrectangle, while the second is binary and defines the relative preceding or sequential order between two hyperrectangles. In our FRCPSP with predefined discrete time grids, we can fix the time dimension of each hyperrectangle to one time period, and each hyperrectangle is pre-assigned to a fixed location or equivalently time period. Positive resource dimensions, which are decision variables, are then used to indicate if a particular hyperrectangle is required or not. As such, the resulting model can remain linear and be simplified further with the removal of the unnecessary, sequential binary variables, since the sequence of hyperrectangles is implicitly fixed in the time dimension, while the sequence of hyperrectangles along the resource dimensions does not matter.

To be consistent with all other earlier models, each hyperrectangle is associated with tuple 
                           
                              (
                              j
                              ,
                              t
                              )
                              ,
                              ∀
                              j
                              ∈
                              N
                              ,
                              t
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    j
                                 
                              
                           
                        , while each of its resource dimension is associated with decision variable q
                        
                           rjt
                        . Consequently, the processing variable z
                        
                           jt
                         is required (=1) to identify if hyperrectangle (j,
                        t) is active and to be allocated necessary resources, or otherwise (=0). Due to nonpreemption, we do not need the starting positions of hyperrectangles, but rather the starting time of activity j denoted by s
                        
                           j
                        , 
                           
                              ∀
                              j
                              ∈
                              V
                           
                        . Note that to accommodate
                        
                           
                              
                                 
                                    s
                                 
                                 
                                    j
                                 
                              
                              ,
                              
                                 
                                    z
                                 
                                 
                                    jt
                                 
                              
                              ,
                              ∀
                              j
                              ∈
                              V
                              ,
                              t
                              ∈
                              {
                              
                                 
                                    ES
                                 
                                 
                                    j
                                 
                              
                              -
                              1
                              ,
                              …
                              ,
                              
                                 
                                    LF
                                 
                                 
                                    j
                                 
                              
                              +
                              1
                              }
                           
                         is also defined for dummy nodes. Although this simplified analogy results in a model similar to Model FP-DT1, the challenge remains to see if additional starting time s
                        
                           j
                         and additional constraints could contribute to the model efficiency over Model FP-DT1.


                        Model FP-DT4
                     

Minimize (12).

subject to: (1)–(11), (13), (14), (16), (17), and
                           
                              (50)
                              
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                 
                                 ⩾
                                 
                                    
                                       s
                                    
                                    
                                       n
                                       +
                                       1
                                    
                                 
                                 -
                                 1
                              
                           
                        
                        
                           
                              (51)
                              
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                 
                                 ⩽
                                 (
                                 
                                    
                                       LS
                                    
                                    
                                       j
                                    
                                 
                                 +
                                 
                                    
                                       ES
                                    
                                    
                                       j
                                    
                                 
                                 -
                                 2
                                 t
                                 -
                                 1
                                 )
                                 (
                                 1
                                 -
                                 
                                    
                                       z
                                    
                                    
                                       jt
                                    
                                 
                                 )
                                 -
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          τ
                                          =
                                          
                                             
                                                ES
                                             
                                             
                                                j
                                             
                                          
                                          -
                                          1
                                       
                                       
                                          t
                                          -
                                          1
                                       
                                    
                                 
                                 (
                                 
                                    
                                       z
                                    
                                    
                                       jt
                                    
                                 
                                 -
                                 
                                    
                                       z
                                    
                                    
                                       j
                                       τ
                                    
                                 
                                 )
                                 +
                                 2
                                 t
                                 -
                                 
                                    
                                       ES
                                    
                                    
                                       j
                                    
                                 
                                 +
                                 1
                                 ,
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (52)
                              
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                 
                                 ⩾
                                 (
                                 t
                                 -
                                 
                                    
                                       ES
                                    
                                    
                                       j
                                    
                                 
                                 )
                                 (
                                 
                                    
                                       z
                                    
                                    
                                       jt
                                    
                                 
                                 -
                                 
                                    
                                       z
                                    
                                    
                                       j
                                       ,
                                       t
                                       -
                                       1
                                    
                                 
                                 )
                                 +
                                 
                                    
                                       ES
                                    
                                    
                                       j
                                    
                                 
                                 
                                 ∀
                                 j
                                 ∈
                                 N
                                 ,
                                 
                                 t
                                 ∈
                                 
                                    
                                       T
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                        
                           
                              (53)
                              
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                 
                                 -
                                 
                                    
                                       s
                                    
                                    
                                       i
                                    
                                 
                                 ⩾
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          t
                                          ∈
                                          
                                             
                                                T
                                             
                                             
                                                i
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       z
                                    
                                    
                                       it
                                    
                                 
                                 
                                 ∀
                                 (
                                 i
                                 ,
                                 j
                                 )
                                 ∈
                                 E
                              
                           
                        
                        
                           
                              (54)
                              
                                 
                                    
                                       z
                                    
                                    
                                       j
                                       ,
                                       
                                          
                                             ES
                                          
                                          
                                             j
                                          
                                       
                                       -
                                       1
                                    
                                 
                                 =
                                 
                                    
                                       z
                                    
                                    
                                       j
                                       ,
                                       
                                          
                                             LF
                                          
                                          
                                             j
                                          
                                       
                                       +
                                       1
                                    
                                 
                                 =
                                 0
                                 
                                 ∀
                                 j
                                 ∈
                                 V
                                 ⧹
                                 {
                                 0
                                 }
                              
                           
                        
                        
                           
                              (55)
                              
                                 
                                    
                                       z
                                    
                                    
                                       00
                                    
                                 
                                 =
                                 1
                                 ,
                                 
                                 
                                    
                                       s
                                    
                                    
                                       0
                                    
                                 
                                 =
                                 0
                              
                           
                        
                        
                           
                              (56)
                              
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                 
                                 ⩾
                                 0
                                 
                                 ∀
                                 j
                                 ∈
                                 V
                              
                           
                        
                     

Additional constraints include makespan constraint (50) defined by the starting time of the dummy sink, constraints (51) and (52) that coordinate values between the starting time and processing status of each activity, and constraint (53) that enforces, instead of (15), the starting times of i and j to respect their precedence relationships. Constraint (54) initializes zero processing status of activities outside their feasible time periods, while constraint (55) initializes the processing status and starting time of the dummy source. Constraint (56) indicates nonnegativity of s
                        
                           j
                        .

Since the problem size of the discrete-time model is pseudo-polynomial in the number of planning time periods T, we devise, in this section, a simple preprocessing and a priority-rule-based heuristic. The heuristic algorithm, based on those of Kolisch et al. (2003) and Fündeling and Trautmann (2010), yields an upper bound of the makespan T
                     
                        max
                     , defining the number of planning periods T
                     =
                     T
                     
                        max
                     
                     +1, which, in turn, is used by the preprocessing to determine the feasible time windows and other relevant parameters of activities.

Before we proceed to modeling and solving each problem instance, certain parameters must firstly be calculated, most importantly for each activity the earliest and latest start and finish times as well as bounds of its duration. T
                        
                           min
                        , a lower bound of the project makespan, is also computed to help reducing the solution space and runtime. Some parameters may be strengthened, specifically to increase lower bounds and to decrease upper bounds.

In RCPSPs, the forward and backward calculations are normally used to calculate the earliest and latest start and completion times of activities. Given fixed activity durations, while assuming unconstrained resources, these calculations may be based on precedence requirements specified by a project network. Since in FRCPSPs, activity durations are unknown a priori, a lower bound of duration 
                           d
                        
                        
                           j
                         is applied in the forward calculations:
                           
                              (57)
                              
                                 
                                    
                                       EF
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 
                                    
                                       ES
                                    
                                    
                                       j
                                    
                                 
                                 +
                                 
                                    
                                       
                                          
                                             d
                                          
                                          
                                             ̲
                                          
                                       
                                    
                                    
                                       j
                                    
                                 
                                 -
                                 1
                              
                           
                        and the backward calculations:
                           
                              (58)
                              
                                 
                                    
                                       LS
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 
                                    
                                       LF
                                    
                                    
                                       j
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             d
                                          
                                          
                                             ̲
                                          
                                       
                                    
                                    
                                       j
                                    
                                 
                                 +
                                 1
                                 .
                              
                           
                        To strengthen the precedence-based calculations, we apply an extension of the resource-based calculations of Schrage (1970) that incorporate limited resource availability. Define 
                           
                              
                                 
                                    A
                                 
                                 
                                    j
                                 
                                 
                                    p
                                 
                              
                           
                         as the set of all (transitive) predecessors of activity j. 
                           
                              
                                 
                                    ∑
                                 
                                 
                                    i
                                    ∈
                                    
                                       
                                          A
                                       
                                       
                                          j
                                       
                                       
                                          p
                                       
                                    
                                 
                              
                              
                                 
                                    w
                                 
                                 
                                    ri
                                 
                              
                           
                         is, thus, the total amount of resource r required by all predecessors of activity j. One can logically see that the number of periods to process all predecessors of j is bounded below by 
                           
                              
                                 
                                    t
                                 
                                 
                                    r
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      i
                                                      ∈
                                                      
                                                         
                                                            A
                                                         
                                                         
                                                            j
                                                         
                                                         
                                                            p
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      w
                                                   
                                                   
                                                      ri
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             ∑
                                          
                                          
                                             1
                                             ⩽
                                             τ
                                             ⩽
                                             
                                                
                                                   t
                                                
                                                
                                                   r
                                                
                                             
                                          
                                       
                                       
                                          
                                             b
                                          
                                          
                                             r
                                             τ
                                          
                                       
                                    
                                 
                              
                           
                        . Taking into account both the precedence-based and resource-based calculations, the earliest start time of j can be computed as in (59) where the first term in the bracket is derived from the precedence relations and the second from the resource limitations.
                           
                              (59)
                              
                                 
                                    
                                       ES
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 
                                    max
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   max
                                                
                                                
                                                   (
                                                   i
                                                   ,
                                                   j
                                                   )
                                                   ∈
                                                   E
                                                
                                             
                                          
                                          
                                          
                                             
                                                EF
                                             
                                             
                                                i
                                             
                                          
                                          ,
                                          
                                             
                                                
                                                   max
                                                
                                                
                                                   r
                                                   ∈
                                                   
                                                      
                                                         R
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                          
                                          
                                          
                                             
                                                t
                                             
                                             
                                                r
                                             
                                          
                                       
                                    
                                 
                                 +
                                 1
                                 .
                              
                           
                        
                     

For the backward calculations, we define 
                           
                              
                                 
                                    A
                                 
                                 
                                    j
                                 
                                 
                                    s
                                 
                              
                           
                         as the set of all (transitive) successors of j. The number of periods required to process all successors of j is also bounded below by 
                           
                              
                                 
                                    t
                                 
                                 
                                    r
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      i
                                                      ∈
                                                      
                                                         
                                                            A
                                                         
                                                         
                                                            j
                                                         
                                                         
                                                            s
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      w
                                                   
                                                   
                                                      ri
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             ∑
                                          
                                          
                                             T
                                             -
                                             
                                                
                                                   t
                                                
                                                
                                                   r
                                                
                                             
                                             +
                                             1
                                             ⩽
                                             τ
                                             ⩽
                                             T
                                          
                                       
                                       
                                          
                                             b
                                          
                                          
                                             r
                                             τ
                                          
                                       
                                    
                                 
                              
                           
                        . Therefore,
                           
                              (60)
                              
                                 
                                    
                                       LF
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 
                                    min
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   min
                                                
                                                
                                                   (
                                                   j
                                                   ,
                                                   i
                                                   )
                                                   ∈
                                                   E
                                                
                                             
                                          
                                          
                                          
                                             
                                                LS
                                             
                                             
                                                i
                                             
                                          
                                          ,
                                          
                                          (
                                          T
                                          -
                                          
                                             
                                                
                                                   max
                                                
                                                
                                                   r
                                                   ∈
                                                   
                                                      
                                                         R
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                          
                                          
                                          
                                             
                                                t
                                             
                                             
                                                r
                                             
                                          
                                          )
                                       
                                    
                                 
                                 -
                                 1
                                 .
                              
                           
                        The following steps summarize our preprocessing procedures.


                        Step 1: (Parameter tightening) A simple preprocessing is done to strengthen certain parameters. Firstly, based on each dependent resource function, lower (upper) bounds of usage amounts of the principal or dependent resource may be strengthened, if the original values are smaller (larger) than the corresponding ones obtained from the resource function. For example, let us consider resource function q
                        
                           rjt
                        
                        =
                        q
                        
                           kjt
                        , where resource r is dependent on principal resource k and [2,4] and [1,3] as the lower and upper bounds of usages of resources r and k, respectively. The bounds can, therefore, be tightened to [2,3] for both resources according to the resource function. Such an adjustment is repeated, until no more change is possible. In this respect, the principal resource is also affected by its dependent resources.

Secondly, the lower and upper bounds of activity durations are calculated as:
                           
                              
                                 
                                    
                                       
                                          
                                             d
                                          
                                          
                                             ̲
                                          
                                       
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 
                                    
                                       
                                          max
                                       
                                       
                                          r
                                          ∈
                                          
                                             
                                                R
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                 
                                 ⌈
                                 
                                    
                                       w
                                    
                                    
                                       rj
                                    
                                 
                                 /
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       rj
                                    
                                 
                                 ⌉
                                 
                                 and
                                 
                                 
                                    
                                       
                                          
                                             d
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 
                                    max
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      d
                                                   
                                                   
                                                      ̲
                                                   
                                                
                                             
                                             
                                                j
                                             
                                          
                                          ,
                                          
                                             
                                                
                                                   max
                                                
                                                
                                                   r
                                                   ∈
                                                   
                                                      
                                                         R
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                          
                                          ⌈
                                          
                                             
                                                w
                                             
                                             
                                                rj
                                             
                                          
                                          /
                                          
                                             
                                                
                                                   
                                                      u
                                                   
                                                   
                                                      ̲
                                                   
                                                
                                             
                                             
                                                rj
                                             
                                          
                                          ⌉
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

Thirdly, the minimum resource requirement is revised: 
                           
                              
                                 
                                    w
                                 
                                 
                                    rj
                                 
                              
                              =
                              max
                              {
                              
                                 
                                    w
                                 
                                 
                                    rj
                                 
                              
                              ,
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ̲
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              
                                 
                                    
                                       
                                          d
                                       
                                       
                                          ̲
                                       
                                    
                                 
                                 
                                    j
                                 
                              
                              }
                           
                        .


                        Step 2: (Forward calculations) The earliest start and finish times of each activity can be calculated by recursive formulae (59) and (57), where the initial conditions are: ES
                        0
                        =
                        EF
                        0
                        =0 where activity 0 is dummy; ES
                        1
                        =1 and EF
                        1
                        =
                        ES
                        1
                        +
                        
                           d
                        
                        1
                        −1.


                        Step 3: (Computations for T
                        
                           min
                        ) Applying the modified version of Fündeling and Trautmann (2010)’s lower bound of the makespan, we calculate for resource r and activity j a lower bound of the remaining resource requirement starting from period ES
                        
                           j
                         as:
                           
                              
                                 
                                    
                                       φ
                                    
                                    
                                       rj
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          N
                                       
                                    
                                 
                                 
                                    max
                                 
                                 {
                                 
                                    
                                       w
                                    
                                    
                                       ri
                                    
                                 
                                 -
                                 
                                    max
                                 
                                 [
                                 (
                                 
                                    
                                       ES
                                    
                                    
                                       j
                                    
                                 
                                 -
                                 
                                    
                                       ES
                                    
                                    
                                       i
                                    
                                 
                                 )
                                 
                                    
                                       
                                          
                                             u
                                          
                                          
                                             ¯
                                          
                                       
                                    
                                    
                                       ri
                                    
                                 
                                 ,
                                 0
                                 ]
                                 ,
                                 0
                                 }
                                 .
                              
                           
                        Consequently, 
                           
                              
                                 
                                    T
                                 
                                 
                                    min
                                 
                              
                              =
                              max
                              {
                              (
                              
                                 
                                    ES
                                 
                                 
                                    n
                                    +
                                    1
                                 
                              
                              +
                              
                                 
                                    
                                       
                                          d
                                       
                                       
                                          ̲
                                       
                                    
                                 
                                 
                                    n
                                    +
                                    1
                                 
                              
                              )
                              ,
                              
                                 
                                    max
                                 
                                 
                                    j
                                    ∈
                                    N
                                 
                              
                              (
                              
                                 
                                    ES
                                 
                                 
                                    j
                                 
                              
                              +
                              
                                 
                                    max
                                 
                                 
                                    r
                                    ∈
                                    
                                       
                                          R
                                       
                                       
                                          j
                                       
                                    
                                 
                              
                              
                                 
                                    t
                                 
                                 
                                    r
                                 
                              
                              )
                              }
                              -
                              1
                           
                        , where t
                        
                           r
                         is the smallest number of periods required to complete j and its successors. Indeed, a similar resource-based concept is applied backward to tighten the lower bound of makespan.


                        Step 4: (Backward calculations) After the priority-rule heuristic, to be presented in Section 5.2, has obtained T
                        
                           max
                        , an upper bound of the makespan, the latest start and finish times of each activity is calculated in the backward fashion of Step 2. Firstly, T
                        =
                        T
                        
                           max
                        
                        +1. The initial conditions are: LS
                        
                           n+1
                        =
                        LF
                        
                           n+1
                        =
                        T, if node n
                        +1 is dummy, or LF
                        
                           n+1
                        =
                        T and LS
                        
                           n+1
                        =
                        LF
                        
                           n+1
                        −
                        
                           d
                        
                        
                           n+1
                        +1, otherwise. The latest finish and start times of activity j can be computed using recursive formulae (60) and (58), respectively.

In order to reduce the problem size, we apply the priority-rule heuristic method under the serial schedule generation scheme (Kolisch, 1996) to generate T
                        
                           max
                        , an upper bound of the makespan. Since the longest path following (LPF) rule yields, according to Fündeling and Trautmann (2010), the best heuristic performance among the other two rules tested, the LPF criterion is applied here. The LPF value represents a lower bound of the remaining number of periods required to process all successors of activity i, counting from the start time of activity i. The following recursive formula is used to calculate the LPF values of activity i:
                           
                              
                                 
                                    
                                       LPF
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             d
                                          
                                          
                                             ̲
                                          
                                       
                                    
                                    
                                       i
                                    
                                 
                                 +
                                 
                                    
                                       
                                          max
                                       
                                       
                                          (
                                          i
                                          ,
                                          j
                                          )
                                          ∈
                                          E
                                       
                                    
                                 
                                 {
                                 
                                    
                                       LPF
                                    
                                    
                                       j
                                    
                                 
                                 }
                                 ,
                                 
                                 where
                                 
                                 
                                    
                                       LPF
                                    
                                    
                                       n
                                       +
                                       1
                                    
                                 
                                 =
                                 0
                                 .
                              
                           
                        
                     

Provided that j is the activity to be scheduled according to the priority rule LPF, the heuristic algorithm starts from period t right after all predecessors have been completed and sufficient amounts of resources remain. In period t, each required resource is assigned in this particular order, starting from the principal resource, then dependent, and independent resources and always checked for any applicable resource functions. Similar to Kolisch et al. (2003), the resource assignment algorithm is essentially based on the greedy concept of allocating as much resource as possible, while observing resource bounds and availability in each period as well as the minimum block length. When any constraint is found violated, the algorithm backtracks to the latest possible period and reassign resources accordingly. Fig. 3
                         summarizes the resource assignment module that checks all constraints and provides corresponding corrective actions, either to revise the resource amounts or to change the starting periods. As a result, the heuristic method would always give a feasible solution.

At the start of the resource assignment module, a proposed resource amount q is set by default to the quantity assigned in the previous period, if available. If not available, 
                           
                              q
                              =
                              max
                              {
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ̲
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              min
                              (
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              ,
                              φ
                              )
                              }
                           
                         for principal and independent resources, where φ is the remaining availability of resource r in period t. For a dependent resource, q is set according to its resource function. Different cases which may occur and their actions in Fig. 3 are explained as follows:


                        Case 1 When φ is sufficient to accommodate q, two possible actions are:


                        Case 1.1 When either r is dependent or r is principal or independent but its current block length does not allow an increment in quantity, q is accepted and assigned, and φ is updated accordingly.


                        Case 1.2 For principal and independent resources, when the current block length meets the minimum block length, it makes sense to increase the resource amount, but only when the remaining resource requirement is reasonably large enough to accommodate a new block length. Given that ζ is the remaining resource requirement, 
                           
                              
                                 
                                    q
                                 
                                 
                                    ′
                                 
                              
                              =
                              max
                              {
                              q
                              ,
                              min
                              (
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              ,
                              φ
                              ,
                              ζ
                              /
                              
                                 
                                    l
                                 
                                 
                                    rj
                                 
                              
                              )
                              }
                           
                         is accepted only when (1) q′l
                        
                           rj
                        
                        ⩽ 
                        ζ and (2) ⌈ζ/q′⌉<⌈ζ/q⌉. The first condition requires that the next block length be possible and not oversupply, while the second condition requires that the number of periods in a block length is strictly shorter. If q′ is accepted, a new block starts; otherwise, q is accepted. The assignment then continues with the next resource.


                        Case 2 When there is no sufficient amount to accommodate q, q must be changed. It is only possible, when the current block length of r meets its minimum block length. However, if r is dependent, the current block length of its principal resource must also satisfy the minimum block length. In such a case, the reduction is explained in Case 2.1. When the current block length is not long enough, the backtracking must be done in Case 2.2.


                        Case 2.1 In this case, we set q
                        =min{q,
                        φ}. If r is dependent, the amounts of principal and dependent resources previously assigned must also be revised according to the relevant resource function. A new block is then started and the next resource is considered.


                        Case 2.2 Since a new block cannot be started, the algorithm backtracks to the start of the current block and restarts the assignment procedure with the principal resource, using φ to derive accordingly the maximum quantity possible.


                        Case 3 occurs when there is no sufficient resource to accommodate even the minimum usage 
                           u
                        
                        
                           rj
                        . Due to the nonpreemption, activity j must be restarted with its resource assignments, regardless of the current resource type. Consequently, the current period t is considered as the potential starting period of j and the resource assignment procedure is repeated, starting from its principal resource.

Benchmarks are conducted on the 3.4gigahertz Intel Core i7-3770 processor with 4 cores and 16gigabytes of RAM under the 64-bit Windows 7 operating system. All models are generated by the OPL using the IBM ILOG scripts and solved by the IBM ILOG CPLEX 12.5 utilizing up to 8 threads with a tree memory limit of 10gigabytes. All CPLEX parameters are set at their default values, and the CPLEX solver applies the branch-and-cut method in solving each proposed model, by default, with the same (1) preprocessing and probing to remove redundant constraints and to fix variables, (2) heuristics to obtain integer solutions, and (3) standard cuts, such as cover, clique, flow cover, and mix-integer rounding inequalities. A single-thread CPU time for each model is limited to 7200seconds. The interfaces between the OPL modeling and the CPLEX solver parts are implemented using the Concert Technology in a C++ program.

The test instances are obtained from Fündeling and Trautmann (2010) without modification. Specifically, their test set A derived from the PSPLIB RCPSP instances and test set B of 10, 20, and 40 activities are used here as benchmark problems without any modification. In both test sets, only one and the same principal resource is specified for all activities, while the other resources are dependent. For each PSPLIB instance, a principal resource r
                        ∗ is selected one at a time to generate a potential instance of test set A, and the information of activities and their resource requirements, precedence network, and constant resource capacity b
                        
                           r
                         are either directly taken or subsequently derived from the PSPLIB instance. The minimum block length l
                        
                           rj
                         for each activity is randomly selected from {2,3,4}, while the lower and upper bounds 
                           
                              [
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ̲
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              ,
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              ]
                           
                         are randomly selected such that they are less than w
                        
                           rj
                         and b
                        
                           r
                         with the minimum value of 2 and the maximum range of 10. The potential instances that are found infeasible are dropped from test set A. For test set B with a specific number of activities, test instances are generated using three factors, namely the order strength OS defined as the ratio between the number of transitive arcs and the maximum number of possible arcs (Thesen, 1977), the resource factor RF defined as the average proportion of the number of different resources required per activity regardless of the amount of resources required (Kolisch et al., 1995), and the resource strength RS signifying the scarcity level of resources (Kolisch et al., 1995). The reader may refer to Fündeling and Trautmann (2010) for details of the test instance generation.

Note that we assign any nonprincipal resources that have equal minimum and maximum resource usages as independent resources. We also calculate for each resource function, the constant and coefficient of dependent resource r as: 
                           
                              
                                 
                                    α
                                 
                                 
                                    
                                       
                                          r
                                       
                                       
                                          ∗
                                       
                                    
                                    rj
                                 
                              
                              =
                              (
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              -
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ̲
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              /
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    
                                       
                                          r
                                       
                                       
                                          ∗
                                       
                                    
                                    j
                                 
                              
                              -
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ̲
                                       
                                    
                                 
                                 
                                    
                                       
                                          r
                                       
                                       
                                          ∗
                                       
                                    
                                    j
                                 
                              
                           
                        ) and 
                           
                              
                                 
                                    β
                                 
                                 
                                    
                                       
                                          r
                                       
                                       
                                          ∗
                                       
                                    
                                    rj
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ̲
                                       
                                    
                                 
                                 
                                    rj
                                 
                              
                              -
                              
                                 
                                    
                                       
                                          u
                                       
                                       
                                          ̲
                                       
                                    
                                 
                                 
                                    
                                       
                                          r
                                       
                                       
                                          ∗
                                       
                                    
                                    j
                                 
                              
                              
                                 
                                    α
                                 
                                 
                                    
                                       
                                          r
                                       
                                       
                                          ∗
                                       
                                    
                                    rj
                                 
                              
                           
                         to ensure that the amount of resource r is valid with respect to its bounds and that of r
                        ∗.

Each test instance from both test sets is firstly preprocessed and solved by the preprocessing and priority-rule heuristic methods as described in Section 5. As a part of the heuristic procedure, redundant precedence arcs, if any, are also eliminated from the project network and all resources are assumed here continuous. The instances with T
                        
                           min
                        
                        =
                        T
                        
                           max
                         are considered solved to optimality by the heuristic, and are eliminated from the test sets. These are 35 (6.4%) instances in the test set A and 110 (22.9%), 100 (20.8%), and 65 (13.5%) in the test set B with 10, 20, and 40 activities, respectively. Additionally, due to the limited memory available on our PC, we limit the instances of test set A only to those with the number of activities up to 55, including 2 dummy nodes. The final test set A used in this experiment, thus, consists of 509 instances of 4–55 activities out of 543 original instances, while the final test set B consists of 370, 380, and 414 instances with 10, 20, and 40 activities out of 480 original instances, respectively. All 1673 test instances may be classified based on the number of nondummy activities as follows: Group 1 consists of 551 instances with 2–10 activities; Group 2, 569 instances with 11–20 activities; Group 3, 553 instances with 21–53 activities.

By regrouping the test instances based on the numbers of nondummy activities, Table 5
                         reports for each of the models proposed in Section 4 the average numbers of binary variables, continuous variables, rows, and nonzero A-elements. The minimum value in each row is indicated in bold. Model FP-DT1 yields the smallest numbers of decision variables and constraints, while the variable-intensity-based model FP-DT3 requires the largest number of variables and constraints, due to the additional intensity variables and the constraints enforcing their relationships with the activity variables. Despite the largest number of constraints, its A-matrix is the sparsest matrix, since most of these constraints describe the simple relations shown in (32)–(41).

To compare the model efficiency, the performance measures are summarized for each model in Table 6
                         in the following prioritized order: (1) the percentage of instances that attain optimality proven by the branch-and-cut method of CPLEX, (2) the percentage of instances that attain either optimal or near-optimal (within 5% of optimality) solutions, (3) the percentage of instances that attain feasible solutions, (4) the average percentage of the gaps between the makespans obtained and the optimal or best-known makespans, (5) the average percentage of the gaps between the objective function values of the LP relaxations at the root nodes obtained before branching and the optimal or best-known makespans, and (6) the percentage of instances whose LP relaxations attain the strongest lower bounds equal to the optimal or best known values. In the fifth criterion, the average gap between the heuristic lower bound T
                        
                           min
                         and the optimal or best-known makespans is also reported in parentheses as a reference value, while a lower gap value indicates a tighter bound attained by its LP relaxation. Note that the tighter lower bounds are also contributed by the default preprocessing, probing, and cuts performed at the root node by CPLEX.

The results clearly show in Table 6 the significant dominance in all performance measures (in bold figures) of the variable-intensity-based model FP-DT3 for all sizes of instances. For ease of comparisons, we convert each value (x) of the first three criteria to its complementary value of (1−
                        x), so that the criteria above can be consistently compared, as the smaller signifies the better. Using the first five criteria, Fig. 4
                         illustrates a performance comparison chart for small instances up to 20 activities, while Fig. 5
                         illustrates the comparison chart for all instances. The two figures show consistent outcomes, in that the most inner ring of Models FP-DT3 is clearly distinguished from the others. Giving the lowest priority to the LP-best known gap criterion, we can also clearly categorize Model FP-DT2 as the least performing model and the ranking FP-DT3, FP-DT1, FP-DT4, and FP-DT2 can be evidently concluded.

Since Model FP-DT3 yields, in most cases, the best-known solutions which may or may not be optimal, the average gap of 0.03% between their best solutions attained and the best- known solutions is extremely low. This gap, however, does not imply the average gap to optimality. Its average gap of 2.41% between the LP relaxation and the best known solutions is likewise low, while the actual gap between the LP relaxation and the optimum can indeed be even lower. This circumstance is attributed by not only the model strength but also the efficiency of the CPLEX solver, especially its preprocessing, heuristics, and cuts employed. As such, Model FP-DT3 can certainly enjoy the benefits of fast solutions, as it provides a model for the CPLEX solver to exploit its capability to the full extent.

Between Models FP-DT1 and FP-DT4, the first clearly dominates the latter in all criteria. The addition of continuous variables s
                        
                           j
                         representing starting times of activities, their constraints and the makespan function of s
                        
                           N+1
                         does not at all contribute in tightening Model FP-DT1, but rather unnecessarily increase the model size and, in turn, the computational time. Especially, precedence constraint (53), although simple and easy to understand, seems inferior than its counterpart (15) in Model FP-DT1. It is also worthwhile to mention that while the other types of cuts are used in relatively same degrees between the two models, the average number of clique cuts employed in solving Model FP-DT1 is 108, which is much higher than 21 employed in Model FP-DT4, most likely due to precedence constraint (15) that suggests an embedded structure of the node packing problem.

The solution time is measured for each instance in a single-thread CPU time in seconds. When a model is unable to solve an instance to optimality within a time limit of 2hours, the solution time is subsequently reported at the time limit. Table 7
                         reports for each model and for each problem size the average CPU times and the average CPU times to optimality. The latter considers only the CPU times of instances that are optimally solved by all models. Once again, the average runtimes confirms the model ranking and the significant superiority of Model FP-DT3 in all instance groups in bold figures. Fig. 6
                         shows for each model the numbers and percentages of all instances classified based on runtimes. Approximately 53–71% of instances are solved to optimality within 1minute and about 69–84% up to 15minutes. Between 5% and 9% of instances converge to optimality after 15minutes to 2hours, suggesting a slow convergence of solutions after 15minutes. Between 12% and 22% of instances, however, cannot reach optimality within the time limit. Approximately 83% of instances can be solved to optimality using Model FP-DT3 within 15minutes.

Statistical analyses at the 5% level of significance on runtimes of instances that are optimally solved by all models are also conducted. Firstly, the one-factor ANOVA on runtimes of 1290 observations statistically confirms that the average runtimes of all four models are significantly different. Additionally, the two-sample, one-sided t-tests accordingly verify our ranking of runtimes that the variable-intensity-based model FP-DT3 solves instances to optimality statistically significantly faster than the other models FP-DT2, FP-DT4, and FP-DT3, in this order.

Moreover, the CPU time is found positively correlated to the width of heuristic bounds, (T
                        
                           max
                        
                        −
                        T
                        
                           min
                        ), by the correlation coefficients of 0.67 (FP-DT2), 0.7 (FP-DT4), 0.72 (FP-DT3), and 0.73 (FP-DT1). Such a positive correlation corroborates the importance of the tight bounds on the model size and, in turn, the efficiency of each model formulation.

To demonstrate effects of the preprocessing and priority-rule heuristic on the performance of each model, we randomly solve 10 instances of 10 activities and 10 of 20 activities, without preprocessing the parameters and heuristic bounds. Rather, the time parameters are set as follows: 
                           
                              
                                 
                                    T
                                 
                                 
                                    min
                                 
                              
                              =
                              
                                 
                                    ES
                                 
                                 
                                    j
                                 
                              
                              =
                              1
                              ,
                              ∀
                              j
                              ∈
                              N
                           
                        , and 
                           
                              
                                 
                                    T
                                 
                                 
                                    max
                                 
                              
                              =
                              
                                 
                                    LF
                                 
                                 
                                    j
                                 
                              
                              =
                              
                                 
                                    ∑
                                 
                                 
                                    i
                                    ∈
                                    N
                                 
                              
                              
                                 
                                    
                                       
                                          d
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    i
                                 
                              
                              ,
                              ∀
                              j
                              ∈
                              N
                           
                        . Note that these instances are earlier solved to optimality by all models.


                        Table 8
                         summarizes the performance of each model with (+PH) and without (−PH) running the preprocessing and heuristic algorithms. Given the average maximum gap (T
                        
                           max
                        
                        −
                        T
                        
                           min
                        ) of 29 times shown in the −PH columns, the numbers of variables and rows are increased approximately 10 times of those in the +PH columns. Just like all other MILPs, the problem intractability is increased exponentially, despite small instances. The computational results confirm the substantial impact of the preprocessing and heuristic algorithms on the model efficiency. Consistent performances among different models are nonetheless evident, that is, regardless of the bound quality, Model FP-DT3 still significantly outperforms the others, although all −PH take much longer computational times than +PH as predicted.

Motivated by the increasing computational power and advancement in exact methods, such as the branch-and-cut, we propose and evaluate, in this paper, four different discrete-time model formulations for the RCPSP with flexible resource profiles, as to which model is the best or “strongest” formulation, considering solution quality, gaps, and runtimes, when they are solved by a commercial solver, IBM ILOG CPLEX. The computational results show that the so-called variable-intensity-based Model FP-DT3 based on the RCPSP models of Bianco and Caramia (2013) and Kis (2005) dominates the others in all criteria. However, its superiority comes at the cost of larger numbers of variables and constraints, which, under a limited memory capacity, can restrict the problem size that can be handled by the commercial solver. To that extent, further research may continue on improving its model formulation, including applications of stronger valid inequalities for its specific polyhedral structure and dominance rules. A more efficient solution method, both exact and heuristic methods for real-world applications, may also be further studied.

@&#ACKNOWLEDGEMENTS@&#

This research is funded by the German Research Foundation (Deutsche Forschungsgemeinschaft, DFG) of the German government. The authors would also like to thank Norbert Trautmann for the provision of the test instances and clarifications.

@&#REFERENCES@&#

