@&#MAIN-TITLE@&#Analyzing depression tendency of web posts using an event-driven depression tendency warning model

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We define four depression tendency factors and collected seed lexicons for them.


                        
                        
                           
                           We proposed three automatic negative event extraction methods.


                        
                        
                           
                           Predict depression tendency via proposed event-driven depression tendency warning model.


                        
                        
                           
                           Drawing trend char to track the depression tendency score.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Part of speech pattern

Negative event

Negative emotion

Depression tendency

@&#ABSTRACT@&#


               
               
                  Objective
                  The Internet has become a platform to express individual moods/feelings of daily life, where authors share their thoughts in web blogs, micro-blogs, forums, bulletin board systems or other media. In this work, we investigate text-mining technology to analyze and predict the depression tendency of web posts.
               
               
                  Methods
                  In this paper, we defined depression factors, which include negative events, negative emotions, symptoms, and negative thoughts from web posts. We proposed an enhanced event extraction (E3) method to automatically extract negative event terms. In addition, we also proposed an event-driven depression tendency warning (EDDTW) model to predict the depression tendency of web bloggers or post authors by analyzing their posted articles.
               
               
                  Results
                  We compare the performance among the proposed EDDTW model, negative emotion evaluation (NEE) model, and the diagnostic and statistical manual of mental disorders-based depression tendency evaluation method. The EDDTW model obtains the best recall rate and F-measure at 0.668 and 0.624, respectively, while the diagnostic and statistical manual of mental disorders-based method achieves the best precision rate of 0.666. The main reason is that our enhanced event extraction method can increase recall rate by enlarging the negative event lexicon at the expense of precision. Our EDDTW model can also be used to track the change or trend of depression tendency for each post author. The depression tendency trend can help doctors to diagnose and even track depression of web post authors more efficiently.
               
               
                  Conclusions
                  This paper presents an E3 method to automatically extract negative event terms in web posts. We also proposed a new EDDTW model to predict the depression tendency of web posts and possibly help bloggers or post authors to early detect major depressive disorder.
               
            

@&#INTRODUCTION@&#

The World Health Organization [1] predicts depression disorder will become a widespread disease in the next 20 years. In modern times, diagnoses of dysphoria, dysthymia, and persistent depressive disorder have gradually increased. These disorders may affect a person's general health and habits in areas such as altered sleeping and eating patterns in addition to their interpersonal relationships and their work or school life. The American Psychiatric Association published a clinical diagnosis guideline called the fourth text revision of the diagnostic and statistical manual of mental disorders (DSM-IV-TR) [2], which gives specific criteria for classification. There exist some useful self-diagnosis tools such as the Goldberg depression scale [3], patient health questionnaire (PHQ-9) [4], and Beck Depression Inventory. There are also culturally specific tools like the Chinese depression inventories provided from the John Tung Foundation for self-diagnosis [5].

The Internet has become a platform to express individual moods/feelings of daily life, where authors share their thoughts in web blogs, micro-blogs, forums, bulletin board systems or other media. Large amounts of web posts are published each day. In this work, we investigate text-mining technology to analyze and predict the depression tendency of web posts. The Center of Healthy Living of Western Washington University characterizes depression as prolonged feelings of sadness, dejection and hopelessness. Sometimes, depression can be triggered by something as simple as a terrible day at work or being slighted by a friend.

After our observations on a large number of collected web posts, we found when some people encounter negative events, these individuals will also express negative emotions. The negative emotions trigger some symptoms and negative thoughts. These people may fall into depression easier than others. Thus, they intend to express negative emotions, symptoms, and negative thoughts simultaneously in the same post. Fig. 1
                      shows that emotions, symptoms, and depressive thinking play major roles in the key path of a depression cycle [6]. This is consistent with our observations from the web posts of authors with major depressive disorder. Based on diagnosis criteria of major depression disorder from the DSM-IV-TR (see Table 1
                      in Section 2), we categorized four depression factors which include negative event factor, negative emotion factor, symptom factor, and negative thought factor as in our previous work [7]. In the previous work, we proposed a negative emotion evaluation (NEE) model to predict the depression tendency of web posts and negative event terms were extracted manually from web posts. In this paper, to address the problem of extracting event terms, we propose an enhanced event extraction (E3) method to automatically extract negative event terms. In addition, we also propose an event-driven depression tendency warning (EDDTW) model to predict the depression tendency of post authors by analyzing their posted content. This work focuses on finding negative sentiment in web posts that could be triggered by life events. Our experimental results show that the proposed EDDTW model obtains over 60% precision.

In this paper, we address the important issue of analyzing and predicting depression tendency of post authors. The main contributions of this paper are listed as follows:
                        
                           •
                           We enhanced lexicon terms for the depressive factors that proposed in our previous work.

Assert negative event factor is the root cause of depression tendency.

Negative emotion, symptom, and negative thought factors are mapped to the criteria of major depressive disorder defined in DSM-IV-TR.

Propose three event extraction features to automatically extract negative event terms.

Propose an effective event-driven depression tendency warning model to improve upon our previous negative emotion evaluation model.

Collection of nearly 18,000 depression related posts, which could be used on other related research works.

The rest of this paper is organized as follows: Section 2 summarizes previous works on clinical diagnosis and methods for dealing with depressive factors analysis in web posts. Section 3 describes the proposed model and lexicons, as well as the methodology followed. Section 4 presents the experimental results. Finally, Section 5 concludes the paper.

@&#RELATED WORK@&#

To diagnose major depressive disorder for a patient, psychiatrists usually refer to DSM-IV-TR. According to the nine criteria of major depressive disorder in the DSM-IV-TR, a typical patient has experienced at least 2 weeks of depressed mood and/or anhedonia, and at the same time is accompanied with at least four additional criteria from the following: (1) depressed mood most of the day, (2) diminished interest or pleasure in all or most activities, (3) significant unintentional weight loss or gain, (4) insomnia or sleeping too much, (5) agitation or psychomotor retardation noticed by others, (6) fatigue or loss of energy, (7) feelings of worthlessness or excessive guilt, (8) diminished ability to think or concentrate, or indecisiveness, and (9) recurrent thoughts of death.

In this work, we reduce the complexity of depression diagnosis by proposing only four depression features: negative event feature, negative emotion feature, symptom feature, and negative thought feature. According to our observations, negative event feature play an important role in triggering depression tendency. However, there is no definition for negative event feature in major depressive disorder. Only three features: negative emotion, symptom, and negative thought can be mapped to the diagnosis criteria for the major depressive disorder. Table 1 shows how mental health professionals and physicians diagnose major depressive disorder and how our proposed depression factors in this work are mapped to the nine diagnosis criteria of major depressive disorder.

Besides major depressive disorder clinical diagnosis guidelines, there are several questionnaires provided for individuals to self-diagnose. The PHQ-9 is aligned to the DSM-IV-TR criteria. The test asks users to score the frequency of nine situations occurring in the last two weeks. The Goldberg depression scale is a questionnaire developed by American psychiatrist Ivan K. Goldberg. Individuals can use it to track their moods weekly. The test consists of 18 questions about feelings and behavior during the past week. These self-diagnosis questionnaires require users to actively answer all questions and then calculate a score. In contrast, our proposed EDDTW model adopts natural language processing (NLP) and information retrieval (IR) technologies to automatically evaluate depression tendency. Thus, our EDDTW model can analyze the depression tendency from online web posts without extra user input.

Major depressive disorder is difficult to detect early due to the lack of obvious symptoms. Some related studies have pointed out that the Internet [8,9] and psychological intervention [10] can prevent the onset of depression, but the effect is still not clear in practice. Four decades ago, Engel [11] proposed the biopsychosocial (BPS) model that points out social factors are also important when analyzing the causes of diseases. It was a new medical concept at the time embodying the holistic treatment of diseases combining biological, psychological and social interactions. In later studies, researchers [12,13] found cases which support biopsychosocial where disease caused biological, psychological and even behavioral problems.

Developing techniques for analyzing negative emotions or depression tendency is a crucial issue. Our previous work [7] collected about 20,000 forum posts which were categorized under the nine criteria of major depressive disorder in the DSM-IV-TR to develop the negative emotion evaluation model for predicting the depression tendency of the posters. Cha et al. [14] collected Twitter messages for two-months to analyze the user's depressed feelings, status, as well as past history.

Negative life events play an important role in triggering depressive episodes. The event extraction methods in other studies applied data mining techniques. Huang et al. [15,16] used unstructured data and structured query language (SQL) statements to identify at-risk blog authors. However, the fixed SQL statements might not extract the newest event terms. Some researchers used clustering techniques to extract events from daily news which obtained good performance. Yu et al. [17] proposed association language patterns to classify instances of negative life events. Okamoto et al. [18] provided a new approach, called hierarchical clustering, to capture local events. Liu et al. [19] proposed a bipartite graph-based clustering method to extract daily news events. Tanev et al. [20] also used clustering methods to extract disaster and violent events from the news. Natural language processing techniques are also applied to extract event terms for a specific domain. Yakushiji et al. [21] proposed a general-purpose parser and grammar to extract events in the biomedical domain. Chun et al. [22] used lexicon-syntactic and co-occurrences to extract events from biomedical domain. Lee et al. [23] combined ontology-based and part-of-speech tagging to extract events from Chinese e-commerce news.

In this work, we extended the negative event lexicon by using an enhanced event extraction method to obtain negative event terms from posts.

Web resources such as reviews, blogs, and forums play an important role when people are seeking an opinion or the reputation of products or services. Sentiment analysis research is a popular field to use natural language processing and text mining. Several approaches have been proposed for opinion extraction. Hu and Liu et al. [24,25] extracted adjectives as opinion words from customer review of products sold online. The average precision of their experimental results achieve above 60%, but some noun, verb and adverb opinion words were not extracted. To enhance precision of opinion word extraction, Popescu et al. [26] introduced an unsupervised information extraction system called OPINE to extract possible opinion words. Liu et al. [27] used the relationship between topics or product features and sentiment words to extract new sentiment words in Chinese. Although their method can increase precision by using a rule-based approach, it isn’t suitable for other languages. Ku et al. [28] adopted a character-based approach suitable for Chinese to identify opinion words. They calculated opinion score by considering the percentage of characters in the corpus. Liu [29] used regular sentiment/opinion expression on some target entities to find direct or indirect sentiments.

In this work, we follow criteria 1 and 2 in Table 1 to extract negative emotion terms. We classify the extracted negative emotion terms into intensity levels based on Plutchik's outcome [30]. The intensity level can help to extract negative event terms.

@&#METHOD@&#

In this pilot study, we apply the techniques in the fields of natural language processing, information retrieval, and text mining to transfer expert knowledge and then enhance the analysis and prediction of depression tendency of web posts. In this section, we introduce how our proposed enhanced event extraction method can expand negative event lexicon automatically and how the proposed EDDTW model can effectively measure depression tendency of web posts by calculating depression tendency score.


                        Fig. 2
                         shows the framework of our proposed approach for analyzing web posts content to predict the depression tendency. Each post was categorized into four types of depression features using the module of depression feature extraction, which utilizes four types of depression lexicons, namely negative event lexicon, negative emotion lexicon, symptoms lexicon, and negative thought lexicon. In this work, we proposed an enhanced event extraction method to extract the negative event lexicon automatically. Finally, based on our proposed EDDTW model, each post can be calculated with a depression tendency score.

We define four key factors for depression tendency analysis, i.e., negative event, negative emotion, symptom, and negative thought factors. To make more effective analysis and prediction of depression tendency on web posts, we also referred to the diagnosis criteria for major depressive disorder in the DSM-IV-TR and discussed with counselors and psychologists to manually generate four types of depression seed lexicons, namely negative event lexicon, negative emotion lexicon, symptoms lexicon, and negative thought lexicon [7].


                        Table 2
                         lists some examples of depression-related sentences and terms in the collected web posts for four depression tendency factors. For negative emotion factor, “疲倦/tired” and “苦痛/agony” were labeled based on the first criterion of major depressive disorder (see Table 1). For symptom factor, the related terms “一直睡/always sleeping” and “體重降低/weight loss” belong to criteria 5 and 4 in Table 1. The terms “不想活/I want to die”, “跳樓/jump off a building”, “結束這一生/end my life” are related to negative thought factor (Criterion 9 in Table 1). Differing from the above three factors, negative event factor is important to depression tendency analysis based on our observations, but no such factor has been described in the nine diagnosis criteria of major depressive disorder. Examples of negative event-related terms like “離婚” (divorce) are shown in Table 2.
                           
                              •
                              Negative event lexicon

After examining all terms in the manually generated negative event lexicon from our previous work [7], we found that a number of event terms in the lexicon are not relevant to negative emotions such as “爸爸/papa”, “媽媽/mama”, “祖父/grandpa”. Thus, we remove unsuitable event terms and add suitable negative event terms collected from the web posts into the lexicon. Furthermore, we considered the importance of phrases in language processing, and applied the concept of word n-gram model to manually extract more suitable negative event terms such as unigram (e.g., “離職/job resignation”), bigram (e.g., “傷害我/hurt me”) and trigram (e.g., “對我說謊/lie to me”).

Negative emotion lexicon

This research combines the first two criteria of DSM-IV-TR and emotion lexicons provided from [31] to analyze depression tendency of web posts. Duplicate lexicon terms were removed and the lexicon was extended with new emotion terms from depression related posts from web. Following emotion classification rules proposed by [31], each negative emotion term is assigned an intensity level among level 1 “無聊/boredom” (weight: 0.25), level 2 “厭惡/disgust” (weight: 0.5), or level 3 “憎恨/loathing” (weight: 0.75).

Symptom lexicon

We follow criteria 3 to 7 of the diagnosis of major depressive disorder to extract symptom terms manually. Moreover, to add more symptom terms, we manually selected terms from Chinese-English bilingual mesh [32,33], google suggestions, and wikipedia. The collected terms were vetted by two psychologists. Table 3
                                  lists a few symptom-related terms in the symptom lexicon.

Negative thought lexicon

Negative thought terms are different from the negative emotion terms. We found that some patients suffering major depressive disorder disclose suicide intentions or even acts of attempted suicide in their posts. We extracted concentration problem, memory difficulty, and other suicide related terms from web forum posts, e.g., “罪惡感/guilt”, “自殺/suicide”, “割腕/slit wrists” to generate the negative thought lexicon.

The effectiveness of negative event terms for depression tendency analysis is shown in our previous work [7]. However, these negative event terms were manually annotated from web posts. It is time consuming and inefficient for a large number of web posts. Therefore, in this work, we proposed an automatic event term extraction method called enhanced event extraction method, which utilizes three features functions, including event term feature function 
                           
                              
                                 
                                    
                                       f
                                       
                                          
                                             E
                                             T
                                          
                                       
                                    
                                 
                              
                           
                        , event pos pattern feature function 
                           
                              
                                 
                                    
                                       f
                                       
                                          
                                             E
                                             
                                                POS
                                             
                                          
                                       
                                    
                                 
                              
                           
                        , and event–emotion pair feature function 
                           
                              
                                 
                                    
                                       f
                                       
                                          
                                             E
                                             v
                                          
                                          −
                                          
                                             E
                                             m
                                          
                                       
                                    
                                 
                              
                           
                        . Detailed explanations about the three functions are described below.

According to our statistical analysis on the distribution of all terms in the negative event terms from web posts with depression tendency, long multi-logogram negative event terms may be more important but have lower occurrence frequency. Thus we use the length of the event term to scale the importance. The importance score of a negative event term is calculated by the multiplication of frequency ratio and length as follows:
                              
                                 (1)
                                 
                                    
                                       
                                          f
                                          
                                             
                                                E
                                                T
                                             
                                          
                                       
                                       
                                          
                                             
                                                e
                                                i
                                             
                                             ,
                                             
                                                P
                                                W
                                             
                                          
                                       
                                       =
                                       
                                          
                                             freq
                                             
                                                
                                                   
                                                      e
                                                      i
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   e
                                                   ∈
                                                   
                                                      E
                                                      T
                                                   
                                                
                                             
                                             freq
                                             
                                                e
                                             
                                          
                                       
                                       ×
                                       len
                                       
                                          
                                             
                                                e
                                                i
                                             
                                          
                                       
                                    
                                 
                              
                           where 
                              
                                 
                                    E
                                    T
                                 
                                 =
                                 
                                    
                                       
                                          e
                                          1
                                       
                                       ,
                                       
                                          e
                                          2
                                       
                                       ,
                                       …
                                       ,
                                       
                                          e
                                          n
                                       
                                    
                                 
                              
                            represents the negative event lexicon, P
                           
                              w
                            indicates a web post, freq(e
                           
                              i
                           ) is the frequency of e
                           
                              i
                           , and 
                              
                                 len
                                 
                                    
                                       
                                          e
                                          i
                                       
                                    
                                 
                              
                            is the number of words in the event e
                           
                              i
                           . Table 4
                            shows some example importance scores for negative event terms.

Part of speech (POS) is a useful feature for phrase identification [34]. We are interested in finding frequent pos patterns from the manually generated negative event lexicon. A total of 59 pos patterns can be found from 221 negative event terms in the lexicon. Table 5
                            shows some examples of pos patterns. The importance score of event pos is calculated as
                              
                                 (2)
                                 
                                    
                                       
                                          f
                                          
                                             
                                                E
                                                
                                                   POS
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                e
                                                i
                                             
                                             ,
                                             
                                                P
                                                W
                                             
                                          
                                       
                                       =
                                       
                                          
                                             freq
                                             
                                                
                                                   pos
                                                   
                                                      
                                                         
                                                            e
                                                            i
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ∑
                                                
                                                   
                                                      e
                                                      i
                                                   
                                                   ∈
                                                   
                                                      E
                                                      
                                                         pos
                                                      
                                                   
                                                
                                             
                                             
                                                freq
                                             
                                             
                                                
                                                   pos
                                                   
                                                      
                                                         
                                                            e
                                                            i
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where 
                              
                                 
                                    E
                                    
                                       POS
                                    
                                 
                                 =
                                 
                                    
                                       
                                          pos
                                          1
                                       
                                       ,
                                       
                                          pos
                                          2
                                       
                                       ,
                                       …
                                       ,
                                       
                                          pos
                                          m
                                       
                                    
                                 
                              
                            is the set of pos pattern of negative event lexicon, and P
                           
                              w
                            indicates a web post.

According to our observations on collected web posts, negative emotion terms frequently occur in the context of negative event terms, e.g., the emotion term “anxiety” and “parent's divorce” in the sentence “a child was filled with anxiety about his parent's divorce”. Thus, we assume that emotion terms should be a useful clue to identify negative event terms. If an emotion term has been identified in a post, a negative event term might appear in its context. We intend to model the co-occurrence relationship between an emotion term m
                           
                              j
                            and negative event term e
                           
                              i
                            by computing word distance, which is defined as
                              
                                 (3)
                                 
                                    
                                       dis
                                       
                                          
                                             
                                                e
                                                i
                                             
                                             ,
                                             
                                                m
                                                j
                                             
                                          
                                       
                                       =
                                       Loc
                                       
                                          
                                             
                                                m
                                                j
                                             
                                          
                                       
                                       −
                                       Loc
                                       
                                          
                                             
                                                e
                                                i
                                             
                                          
                                       
                                    
                                 
                              
                           where Loc (x) represents the word position of word x in a post.

Additionally, we integrate intensity of an emotion term into the event–emotion pair feature function, which is modeled as follows:
                              
                                 (4)
                                 
                                    
                                       
                                          f
                                          
                                             
                                                E
                                                v
                                             
                                             −
                                             
                                                E
                                                m
                                             
                                          
                                       
                                       
                                          
                                             
                                                e
                                                i
                                             
                                             ,
                                             
                                                m
                                                j
                                             
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            ∑
                                                            
                                                               
                                                                  m
                                                                  j
                                                               
                                                               ∈
                                                               M
                                                            
                                                         
                                                         
                                                            ND
                                                            
                                                               
                                                                  dis
                                                                  
                                                                     
                                                                        
                                                                           e
                                                                           i
                                                                        
                                                                        ,
                                                                        
                                                                           m
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                            ×
                                                            int
                                                            
                                                               
                                                                  
                                                                     m
                                                                     j
                                                                  
                                                               
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         if
                                                            
                                                         
                                                            m
                                                            j
                                                         
                                                            
                                                         exists
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         0
                                                         ,
                                                      
                                                   
                                                   
                                                      
                                                         otherwise
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where 
                              
                                 M
                                 =
                                 
                                    
                                       
                                          m
                                          1
                                       
                                       ,
                                       
                                          m
                                          2
                                       
                                       ,
                                       …
                                       ,
                                       
                                          m
                                          k
                                       
                                    
                                 
                              
                            is the set of all emotion terms around the negative event term e
                           
                              i
                           , ND indicates the normal distribution, dis(e
                           
                              i
                           ,m
                           
                              j
                           ) represents the distance relationship between two variables e
                           
                              i
                            and m
                           
                              j
                           , and 
                              
                                 int
                                 
                                    
                                       
                                          m
                                          j
                                       
                                    
                                 
                              
                            represents the intensity of emotion term m
                           
                              j
                           .

From our observations on collected web posts, the negative emotion of an author is usually a result of a certain negative event and is associated with some symptoms and consequent negative thoughts. Thus, based on the proposed four depression factors, we propose the event-driven depression tendency warning model to analyze or even predict the web post author's depression tendency.

Given a web post P
                        
                           W
                        , we analyze depression tendency D
                        
                           T
                         of P
                        
                           W
                         by computing the probability 
                           
                              P
                              
                                 
                                    
                                       D
                                       T
                                    
                                    |
                                    
                                       P
                                       W
                                    
                                 
                              
                           
                        . As mentioned above, we try to utilize depression factors P
                        
                           f
                         to estimate the depression tendency score for P
                        
                           W
                        , thus
                           
                              (5)
                              
                                 
                                    P
                                    
                                       
                                          
                                             D
                                             T
                                          
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    =
                                    P
                                    
                                       
                                          
                                             P
                                             f
                                          
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The depression factors P
                        
                           f
                         can be represented as a 4-tuple (E, M, S, T), where E, M, S, T are negative event factor, negative emotion factor, symptom factor, and negative thought factor, respectively. Thus, Eq. (5) can be replaced by the following equation:
                           
                              (6)
                              
                                 
                                    P
                                    
                                       
                                          
                                             P
                                             f
                                          
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    =
                                    P
                                    
                                       
                                          E
                                          ,
                                          M
                                          ,
                                          S
                                          ,
                                          T
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                 
                              
                           
                        
                     

As shown in Fig. 2, we assume that negative event and negative emotion factors are major factors to impact depression tendency, and adopt chain rule to modify Eq. (6) into Eq. (7).
                           
                              (7)
                              
                                 
                                    P
                                    
                                       
                                          M
                                          ,
                                          E
                                          ,
                                          S
                                          ,
                                          T
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    =
                                    P
                                    
                                       
                                          E
                                          ,
                                          M
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    P
                                    
                                       
                                          S
                                          ,
                                          T
                                          |
                                          E
                                          ,
                                          M
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The first term 
                           
                              P
                              
                                 
                                    E
                                    ,
                                    M
                                    |
                                    
                                       P
                                       W
                                    
                                 
                              
                           
                         of Eq. (7) computes the probabilities of the negative event and negative emotion factors in a post. The negative event factor E is related to the negative event term feature E
                        
                           T
                         and the event part of speech pattern feature E
                        POS. We also found the distance relationship between negative event factor E and negative emotion M. Thus, 
                           
                              P
                              
                                 
                                    E
                                    ,
                                    M
                                    |
                                    
                                       P
                                       W
                                    
                                 
                              
                           
                         can be rewritten as the following:
                           
                              (8)
                              
                                 
                                    P
                                    
                                       
                                          E
                                          ,
                                          M
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    =
                                    P
                                    
                                       
                                          E
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    P
                                    
                                       
                                          M
                                          |
                                          E
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    =
                                    P
                                    
                                       
                                          
                                             E
                                             T
                                          
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    P
                                    
                                       
                                          
                                             E
                                             
                                                POS
                                             
                                          
                                          |
                                          
                                             E
                                             T
                                          
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    P
                                    
                                       
                                          M
                                          |
                                          E
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The second term 
                           
                              P
                              
                                 
                                    S
                                    ,
                                    T
                                    |
                                    E
                                    ,
                                    M
                                    ,
                                    
                                       P
                                       W
                                    
                                 
                              
                           
                         of Eq. (7) computes the probabilities of the symptom and negative thought factors in a post. This is based on our assumption in that a negative event causes negative emotion, which results in negative thoughts or symptoms. It is reasonable to further assume symptom factor S and negative thought factor T are independent. Thus 
                           
                              P
                              
                                 
                                    S
                                    ,
                                    T
                                    |
                                    E
                                    ,
                                    M
                                    ,
                                    
                                       P
                                       W
                                    
                                 
                              
                           
                         can be derived as follows:
                           
                              (9)
                              
                                 
                                    P
                                    
                                       
                                          S
                                          ,
                                          T
                                          |
                                          E
                                          ,
                                          M
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    =
                                    P
                                    
                                       
                                          S
                                          |
                                          E
                                          ,
                                          M
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    P
                                    
                                       
                                          T
                                          |
                                          E
                                          ,
                                          M
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Eqs. (6)–(9) can be reintegrated into Eq. (5), thus P(D
                        
                           T
                        |P
                        
                           W
                        ) can be estimated as
                           
                              (10)
                              
                                 
                                    P
                                    
                                       
                                          
                                             D
                                             T
                                          
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    ≈
                                    P
                                    
                                       
                                          
                                             E
                                             T
                                          
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    P
                                    
                                       
                                          
                                             E
                                             
                                                P
                                                O
                                                S
                                             
                                          
                                          |
                                          
                                             E
                                             T
                                          
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    P
                                    
                                       
                                          M
                                          |
                                          E
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    P
                                    
                                       
                                          S
                                          |
                                          E
                                          ,
                                          M
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    P
                                    
                                       
                                          T
                                          |
                                          E
                                          ,
                                          M
                                          ,
                                          
                                             P
                                             W
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Eq. (10) is the proposed EDDTW model. Based on the EDDTW model, each web post can be calculated with a depressive tendency score.

Finally, a log-linear model [35,36] has been introduced to compute the maximum likelihood estimate for each feature f
                        
                           i
                         of P(D
                        
                           T
                        |P
                        
                           W
                        ) as
                           
                              (11)
                              
                                 
                                    P
                                    
                                       
                                          
                                             D
                                             T
                                          
                                          |
                                          
                                             P
                                             W
                                          
                                       
                                    
                                    =
                                    
                                       
                                          exp
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      
                                                         f
                                                         i
                                                      
                                                      ∈
                                                      F
                                                   
                                                
                                                
                                                   
                                                      ω
                                                      i
                                                   
                                                   
                                                      f
                                                      i
                                                   
                                                   
                                                      
                                                         E
                                                         ,
                                                         M
                                                         ,
                                                         S
                                                         ,
                                                         T
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             ∑
                                             
                                                d
                                                ∈
                                                D
                                             
                                          
                                          
                                             exp
                                             
                                                
                                                   
                                                      ∑
                                                      
                                                         
                                                            f
                                                            i
                                                         
                                                         ∈
                                                         F
                                                      
                                                   
                                                   
                                                      
                                                         ω
                                                         i
                                                      
                                                      
                                                         f
                                                         i
                                                      
                                                      
                                                         
                                                            E
                                                            ,
                                                            M
                                                            ,
                                                            S
                                                            ,
                                                            T
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where ω
                        
                           i
                         is the weight parameter, D
                        ={P,N} is the set of positive or negative depression tendency of a post, and 
                           
                              F
                              =
                              
                                 
                                    
                                       f
                                       
                                          
                                             E
                                             L
                                          
                                       
                                    
                                    ,
                                    
                                       f
                                       
                                          
                                             E
                                             
                                                POS
                                             
                                          
                                       
                                    
                                    ,
                                    
                                       f
                                       
                                          
                                             E
                                             v
                                          
                                          −
                                          
                                             E
                                             m
                                          
                                       
                                    
                                    ,
                                    
                                       f
                                       
                                          sym
                                       
                                    
                                    ,
                                    
                                       f
                                       
                                          NT
                                       
                                    
                                 
                              
                           
                         are the five main feature functions for the proposed EDDTW model. We will introduce the weight parameter estimation below and the feature functions in next section.

There are several sophisticated ways to train the weights. In this work, we adopted stochastic gradient descent to estimate the weight ω
                        
                           i
                         of the feature functions in the proposed EDDTW model. This method changes the parameter values (learning rate) to increase the log likelihood estimation based on one training sample at a time. Thus, given a training web post P
                        
                           w
                        , we can iteratively adjust the weight ω
                        
                           i
                         by the corresponding feature function F and the ratio γ of training data with depression tendency. The formula of weight training is described in Eq. (12).
                           
                              (12)
                              
                                 
                                    
                                       
                                          ω
                                          ′
                                       
                                       i
                                    
                                    =
                                    
                                       ω
                                       i
                                    
                                    +
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            γ
                                                            −
                                                            1
                                                         
                                                      
                                                      F
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      if
                                                         
                                                      F
                                                         
                                                      is
                                                         
                                                      labeled
                                                         
                                                      as
                                                         
                                                      depression
                                                         
                                                      tendency
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      γ
                                                      F
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      otherwise
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Among the five main feature functions for the proposed EDDTW model, the first three event-related feature functions, event term feature function 
                           
                              
                                 
                                    
                                       f
                                       
                                          
                                             E
                                             T
                                          
                                       
                                    
                                 
                              
                           
                        , event pos pattern feature function 
                           
                              
                                 
                                    
                                       f
                                       
                                          
                                             E
                                             
                                                POS
                                             
                                          
                                       
                                    
                                 
                              
                           
                        , and event–emotion pair feature function 
                           
                              
                                 
                                    
                                       f
                                       
                                          
                                             E
                                             v
                                          
                                          −
                                          
                                             E
                                             m
                                          
                                       
                                    
                                 
                              
                           
                         are not only used to extract negative event terms by the enhanced event extraction method, but also used to analyze depression tendency of web posts. They were described in detail in Sections 3.3.1–3.3.3. The other two feature functions are described below.

If any symptom term can be identified in a web post, it may also assist in understanding the emotional status of the author. Thus, we also consider symptoms as a feature of our EDDTW model. The symptom feature function is modeled using the distance relationship given an event term and an emotion term.
                              
                                 (13)
                                 
                                    
                                       
                                          f
                                          
                                             Sym
                                          
                                       
                                       
                                          
                                             
                                                s
                                                x
                                             
                                             |
                                             
                                                e
                                                i
                                             
                                             ,
                                             m
                                          
                                       
                                       =
                                       
                                          ∑
                                          
                                             
                                                s
                                                x
                                             
                                             ∈
                                             S
                                          
                                       
                                       
                                          
                                             
                                                dis
                                                
                                                   
                                                      
                                                         e
                                                         i
                                                      
                                                      ,
                                                      
                                                         s
                                                         x
                                                      
                                                   
                                                
                                                +
                                                dis
                                                
                                                   
                                                      m
                                                      ,
                                                      
                                                         s
                                                         x
                                                      
                                                   
                                                
                                             
                                             
                                                2
                                                ×
                                                dis
                                                
                                                   
                                                      
                                                         e
                                                         i
                                                      
                                                      ,
                                                      
                                                         s
                                                         x
                                                      
                                                   
                                                
                                                ×
                                                dis
                                                
                                                   
                                                      m
                                                      ,
                                                      
                                                         s
                                                         x
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where the distance dis(s
                           
                              x
                           |e
                           
                              i
                           ,m
                           
                              j
                           ) is calculated from Eq. (3) and s
                           
                              x
                            represents the symptom, e
                           
                              i
                            represents the negative event term, and m is the negative emotion term.

If a negative thinking term can be identified, we also consider utilizing it to enhance our EDDTW model. Thus, the negative thought feature function is modeled in the same way as the symptom feature function:
                              
                                 (14)
                                 
                                    
                                       
                                          f
                                          
                                             NT
                                          
                                       
                                       
                                          
                                             
                                                t
                                                y
                                             
                                             |
                                             
                                                e
                                                i
                                             
                                             ,
                                             m
                                          
                                       
                                       =
                                       
                                          ∑
                                          
                                             
                                                t
                                                y
                                             
                                             ∈
                                             T
                                          
                                       
                                       
                                          
                                             
                                                dis
                                                
                                                   
                                                      
                                                         e
                                                         i
                                                      
                                                      ,
                                                      
                                                         t
                                                         y
                                                      
                                                   
                                                
                                                +
                                                dis
                                                
                                                   
                                                      m
                                                      ,
                                                      
                                                         t
                                                         y
                                                      
                                                   
                                                
                                             
                                             
                                                2
                                                ×
                                                dis
                                                
                                                   
                                                      
                                                         e
                                                         i
                                                      
                                                      ,
                                                      
                                                         t
                                                         y
                                                      
                                                   
                                                
                                                ×
                                                dis
                                                
                                                   
                                                      m
                                                      ,
                                                      
                                                         t
                                                         y
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where t
                           
                              y
                            indicates the negative thought term.

@&#EXPERIMENTAL RESULTS@&#

We collected about 18,000 Chinese web posts between March, 2004 and September, 2011 from the discussion forum PTT (http://www.ptt.cc/man/prozac/) (Accessed: 29 June 2015) in Taiwan. We selected web posts from the top 30 posters and excluded advertisements. A total of 724 posts were selected as training/test data. First, we use a high-accuracy Chinese word segmentation and part-of speech tagging tool to segment and tag the web posts. Second, each post was annotated as true or false for depression tendency by three master's students from the Institute of Behavioral Medicine College of Medicine, National Cheng Kung University.

In this study, only two possible outcomes are used to predict depression tendency. Cochran's Q test was adopted to evaluate consistency among the posts for each author. We adopted majority voting to solve the problem of annotation inconsistency for each post. Table 6
                         shows the labeling results of depression tendency for the posts of a single author. The ‘+’ symbol denotes positive depression tendency of a post and ‘−’ is negative depression tendency.

As described in Section 3.2, to build the four types of depression lexicons, we categorized the four types of terms related to depression from the 829 collected posts labeled with strong depression tendency, and then asked three psychologists to verify the depressive lexicon terms. In all, we generated 221 negative event terms, 1316 negative emotion terms, 58 depression symptom terms, and 31 negative thought terms. Table 7
                         shows the total number of terms for each lexicon.

To determine the effectiveness of our enhanced method of negative event extraction, we conduct an experiment to compare the performance of the three proposed features. Table 8
                         illustrates the results. The F-measure comparison of individual features shows that event–lexicon has the best performance (0.441). However, a combination of all three features gives the best result (0.514). Thus, in this work, we adopt these three features to automatically extract negative event terms from web posts. Table 8 shows a low accuracy of 0.549. However, to our knowledge, we are the first to attempt to address the difficult and important problem of automatically extracting negative event terms.

To further realize which pos patterns are really effective, we made the following analysis. Table 9
                         shows the accuracy of the top six pos patterns. The best accuracy can be achieved by using the pattern VC+Nh. The accuracy of patterns (Vc+Nh) and (Na+Na) are both over 50%. This demonstrates pos pattern is a useful feature to extract negative event terms. The 181 correctly extracted event terms were added into the negative event lexicon to enhance our EDDTW model.

In this work, we calculate the word distance between event and emotion terms (Fig. 3
                        ). Most of the event–emotion pairs occurred within 10 terms.

We adopted precision, recall, F-measure, and accuracy to evaluate our proposed EDDTW model. In pattern recognition and information retrieval with binary classification, precision is the fraction of retrieved instances that are relevant while recall is the fraction of relevant instances that are retrieved. The F-measure is a measure of a test's accuracy. It can be interpreted as a weighted harmonic mean of precision and recall, and calculated as
                           
                              
                                 
                                    F
                                    =
                                    
                                       
                                          2
                                          ×
                                          precision
                                          ×
                                          recall
                                       
                                       
                                          precision
                                          +
                                          recall
                                       
                                    
                                    .
                                 
                              
                           
                        
                     

Accuracy is the proximity of the measurement result of depression tendency to the true value.

As shown in the above section, the three event-related features functions, event term 
                           
                              
                                 
                                    
                                       f
                                       
                                          
                                             E
                                             T
                                          
                                       
                                    
                                 
                              
                           
                        , pos pattern matching 
                           
                              
                                 
                                    
                                       f
                                       
                                          
                                             E
                                             
                                                POS
                                             
                                          
                                       
                                    
                                 
                              
                           
                        , and event-emotion pair matching 
                           
                              
                                 
                                    
                                       f
                                       
                                          
                                             E
                                             v
                                          
                                          −
                                          
                                             E
                                             m
                                          
                                       
                                    
                                 
                              
                           
                         are useful to extract negative event terms. In this work, the other two features, symptom 
                           
                              
                                 
                                    
                                       f
                                       
                                          sym
                                       
                                    
                                 
                              
                           
                         and negative thought 
                           
                              
                                 
                                    
                                       f
                                       
                                          NT
                                       
                                    
                                 
                              
                           
                        , are added to our EDDTW model to calculate the depression tendency score for a web post. We also adopted 10-fold cross validation to evaluate our proposed EDDTW model, and trained the average weight parameters of five feature functions 
                           
                              
                                 f
                                 
                                    
                                       E
                                       T
                                    
                                 
                              
                           
                        , 
                           
                              
                                 f
                                 
                                    
                                       E
                                       
                                          POS
                                       
                                    
                                 
                              
                           
                        , 
                           
                              
                                 f
                                 
                                    
                                       E
                                       v
                                    
                                    −
                                    
                                       E
                                       m
                                    
                                 
                              
                           
                        , f
                        sym, f
                        NT in the EDDTW model as 0.2652, 0.237, 0.0681, 0.1958, and 0.2334, respectively.

Moreover, the average F-measure of 10-fold cross validation can be raised to 0.624 while simultaneously integrating symptom and negative thought features into the EDDTW model. According to our analysis, the increased performance of the EDDTW model is due to a few important depression-related terms identified in the web posts, e.g., symptom term “失眠” (Insomnia) and negative thought terms “想死” (Want to die), “上吊” (hanged himself), “自殺” (Suicide), etc.

We compare the performance among the proposed EDDTW model, NEE model, and the DSM-based depression tendency evaluation method. The NEE model proposed in our previous work [7] is the first attempt at analyzing depression tendency of bloggers by calculating the negative emotion score of their blog posts. The evaluation performance of the DSM-based depression tendency analysis method is considered as an elevation reference (benchmark) in this work. A web post is analyzed for depression tendency by manually labeling terms which are related to the nine criteria of diagnosis of major depressive disorder.


                        Table 10
                         shows the evaluation results based on the metrics of precision, recall, and F-measure. The EDDTW model obtains the best recall rate and F-measure at 0.668 and 0.624, respectively, while the DSM-based method achieves the best precision rate of 0.666. The main reason is that our enhanced event extraction method can increase recall rate by enlarging the negative event lexicon at the expense of precision.

In the following, we provide examples of depression tendency analysis using the proposed EDDTW model. Table 11
                         shows that the negative event term “閱讀障礙/dyslexia” is extracted by the pos pattern “VC+Na”, the Chinese term “閱讀障礙” consists of the two words “閱讀/reading” (VC) and “障礙/obstacle” (Na). Two negative emotion terms are also identified, which are “擔心/worried about” and “崩潰/collapse”. Our EDDTW model obtains a correct result of positive analysis of depression tendency.

For the depression tendency analysis, the most important thing is to determine the negative event correctly. In this work, we combined lexicon feature, pos pattern, and event–emotion pair to extract negative events. But sometimes incorrect events were extracted. For the example in Table 12
                        , the negative event “談病情/discuss the condition” was tagged from the (VE+Na) pos pattern. After training on our collected training data (724 Chinese web posts), the term “condition” got high importance score by Eq. (1) then the EDDTW model predicted that the depression tendency risk of this article was high.

@&#DISCUSSION@&#


                        
                           
                              •
                              
                                 Strength and weakness: In our previous work, we proposed four types of depression features and manually generated depression lexicons, namely negative event lexicon, negative emotion lexicon, symptoms lexicon, and negative thought lexicon to analyze and predict the depression tendency of web posts. In this work, we proposed an enhanced event extraction method to extend the negative event lexicon. Although this method currently cannot obtain a perfect result, it is the first attempt to automatically extract negative event terms. Relying only on three features should be not enough, thus, we still need more features or rules to improve performance for the E3 method. Based on the annotated training data supplied by mental health professionals, this work attempts to train an effective depression tendency analysis model to predict depression tendency for web posts automatically. The EDDTW model can obtain nearly the same performance as the DSM-based method (benchmark). However, our EDDTW model still suffers from a few issues. For example, the method has a bias against short posts which contain less terms related to the four depression factors. We aim to solve this problem in future work. Also, we note that time, season, or weather may have partial effect on the analysis of depression tendency.


                                 Extension and application: Our EDDTW model can also be used to track the change or trend of depression tendency for each post author. Fig. 4
                                  illustrates an example of the trend of depression tendency for a post author between 2006/4/30 and 2006/7/1. In the clinical diagnosis, a doctor usually asks the patient about how they feel and expects feedback. However, some patients may not recall clearly and forget details. The depression tendency trend can help doctors to diagnose and even track depression of web post authors more efficiently.

@&#CONCLUSIONS@&#

This paper presents an enhanced event extraction method to automatically extract negative event terms in web posts, which improves upon the manual extraction of event terms in our previous work. We also proposed a new event-driven depression tendency warning model to predict the depression tendency of web posts and possibly help bloggers or post authors to early detect major depressive disorder. The experimental results show our proposed EDDTW model obtains over 60% precision.

In the future, we hope to increase the accuracy of negative event extraction by introducing some advanced natural language processing techniques. The number of lexicon terms is unbalanced among the negative event, negative emotion, symptom, and negative thinking lexicons. We plan to keep adding more depression related terms into each lexicon and increasing the quality of lexicon corpus. Finally, we will utilize big data techniques with our proposed model to deal with huge datasets from online social media like Facebook or Twitter, etc.

@&#REFERENCES@&#

