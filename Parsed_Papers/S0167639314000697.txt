@&#MAIN-TITLE@&#CheapTrick, a spectral envelope estimator for high-quality speech synthesis

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           A spectral envelope estimator is presented for high-quality speech synthesis.


                        
                        
                           
                           The proposed algorithm enables us to obtain the temporally stable spectral envelope.


                        
                        
                           
                           Objective results showed the proposed algorithm was better than other algorithms.


                        
                        
                           
                           Subjective results showed that the proposed algorithm can synthesize natural speech.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Speech synthesis

Speech analysis

Spectral envelope

Time-varying component

@&#ABSTRACT@&#


               
               
                  A spectral envelope estimation algorithm is presented to achieve high-quality speech synthesis. The concept of the algorithm is to obtain an accurate and temporally stable spectral envelope. The algorithm uses fundamental frequency (F0) and consists of F0-adaptive windowing, smoothing of the power spectrum, and spectral recovery in the quefrency domain. Objective and subjective evaluations were carried out to demonstrate the effectiveness of the proposed algorithm. Results of both evaluations indicated that the proposed algorithm can obtain a temporally stable spectral envelope and synthesize speech with higher sound quality than speech synthesized with other algorithms.
               
            

@&#INTRODUCTION@&#

A speech analysis, manipulation, and synthesis framework is an important research topic ranging from singing synthesis (Kenmochi, 2012) to voice conversion. The origin of this framework was based on the idea of Vocoder (Dudley, 1939), and its framework consists of the fundamental frequency (F0) and spectral envelope estimators. In particular, since spectral envelope estimation was important for speech synthesis, several estimation algorithms such as Cepstrum (Noll, 1964; Oppenheim, 1969) and linear predictive coding (LPC) (Atal and Hanauer, 1969) have been proposed. Many improved algorithms have been proposed to estimate spectral envelopes accurately, such as discrete all-pole modeling (El-Jaroudi and Makhoul, 1991), weighted maximum likelihood autoregressive and moving average modeling (Badeau and David, 2009), and penalized likelihood approach (Campedel-Oudot et al., 2001). However, the sound quality of the speech synthesized by using these algorithms was less than that by using waveform-based synthesis such as PSOLA (Moulines and Charpentier, 1990). Sinusoidal models (McAulay and Quatieri, 1986) are also effective for high-quality speech synthesis, but it is difficult for them to achieve high-quality voice conversion. Spectral envelope is still useful for the flexible voice conversion such as eigenvoice conversion (Ohtani et al., 2010) and voice morphing (Kawahara et al., 2009).

Statistical parametric speech synthesis (Zen et al., 2009) is focused on for achieving a high-quality text-to-speech synthesis system. Several approaches have been proposed such as deep neural networks (Zen et al., 2013) and Gaussian process regression (Koriyama et al., 2014), and they require the accurate spectral envelope as the training data. Alternatively, a spectral envelope estimation method using a statistical approach (Toda and Tokuda, 2008) was also proposed for the statistical parametric speech synthesis.

A modern framework STRAIGHT (Kawahara et al., 1999) was proposed as an effective framework for high-quality speech synthesis. STRAIGHT achieved not only the high-quality speech synthesis but also F0 and spectral envelope manipulation without deterioration and has been used for voice conversion and singing synthesis. In particular, the spectral envelope estimated by STRAIGHT has been widely used for the statistical parametric speech synthesis. To reduce the computational cost while maintaining the sound quality, we proposed TANDEM-STRAIGHT (Kawahara et al., 2008; Kawahara and Morise, 2011) as an improved version of STRAIGHT. TANDEM-STRAIGHT made it possible to achieve the real-time application (Morise et al., 2009) and statistical analysis with a huge database.

High-quality speech synthesis has recently been focused on, and several spectral envelope estimation algorithms have been proposed (Morise, 2013; Nakano and Goto, 2012) for high-quality speech synthesis. In this paper, a simple algorithm for high-quality speech synthesis is introduced that is superior to conventional ones both objectively and subjectively.

The rest of this paper is organized as follows. In Section 2, we describe the problems facing the spectral envelope estimation. In Section 3, we propose a spectral envelope estimation method, named CheapTrick. In Section 4, we evaluate the proposed algorithm in objective and subjective evaluations. We conclude in Section 5 with a brief summary and a mention of future work.

According to the idea of STRAIGHT, which is an improvement of Vocoder, the voiced sound contains the F0, spectral envelope, and aperiodicity information. To simplify the discussion, we only deal with the fixed F0 and spectral envelope and leave out aperiodicity. The requirement is to obtain an accurate spectral envelope from speech waveform regardless of the temporal position for windowing.

Voiced sound 
                        
                           y
                           (
                           t
                           )
                        
                      is approximated to the convolution of an impulse response 
                        
                           h
                           (
                           t
                           )
                        
                      and periodic impulses. The spectrum of the waveform 
                        
                           Y
                           (
                           ω
                           )
                        
                      is given by
                        
                           (1)
                           
                              y
                              (
                              t
                              )
                              =
                              h
                              (
                              t
                              )
                              ∗
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       n
                                       =
                                       -
                                       ∞
                                    
                                    
                                       ∞
                                    
                                 
                              
                              δ
                              (
                              t
                              -
                              
                                 
                                    nT
                                 
                                 
                                    0
                                 
                              
                              )
                              ,
                           
                        
                     
                     
                        
                           (2)
                           
                              Y
                              (
                              ω
                              )
                              =
                              
                                 
                                    2
                                    π
                                 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          0
                                       
                                    
                                 
                              
                              H
                              (
                              ω
                              )
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       n
                                       =
                                       -
                                       ∞
                                    
                                    
                                       ∞
                                    
                                 
                              
                              δ
                              (
                              ω
                              -
                              n
                              
                                 
                                    ω
                                 
                                 
                                    0
                                 
                              
                              )
                              ,
                           
                        
                     where, symbol ∗ represents the convolution, 
                        
                           
                              
                                 T
                              
                              
                                 0
                              
                           
                        
                      represents the fundamental period, and 
                        
                           
                              
                                 ω
                              
                              
                                 0
                              
                           
                        
                      represents fundamental angular frequency (
                        
                           =
                           2
                           π
                           /
                           
                              
                                 T
                              
                              
                                 0
                              
                           
                        
                     ). 
                        
                           H
                           (
                           ω
                           )
                        
                      is the spectral envelope that is the estimation target. This equation shows that the target is discretized by convolving the periodic impulses in the time domain. On the other hand, Eq. (2) also shows that powers at 
                        
                           n
                           
                              
                                 ω
                              
                              
                                 0
                              
                           
                        
                     
                     Hz (n: integer value) have exact values, which a spectral envelope estimation algorithm should therefore obtain. The spectral recovery is also required for compensating for the influence of discretization. Since the power spectrum of windowed waveform depends on the temporal position of the window function, this influence (time-varying component in this paper) should also be removed.

Conventional algorithms other than STRAIGHT and TANDEM-STRAIGHT cannot fulfill two requirements in the estimation performance and remove the time-varying component. This paper introduces an algorithm named CheapTrick that fulfills these requirements and is superior to conventional algorithms both objectively and subjectively. The name CheapTrick comes from its cheap and tricky design based on the conventional algorithms such as F0-adaptive windowing and the cepstrum method.

CheapTrick consists of three steps: F0-adaptive windowing, smoothing of the power spectrum, and a liftering processing for smoothing and spectral recovery.

The first step is designing a window function on the basis of the ideal of pitch synchronous analysis (Mathews et al., 1961). A Hanning window with a length of 
                           
                              3
                              
                                 
                                    T
                                 
                                 
                                    0
                                 
                              
                           
                         is used in the proposed algorithm. The power of the window at 
                           
                              
                                 
                                    ω
                                 
                                 
                                    0
                                 
                              
                           
                        
                        Hz is 30dB lower than that of the main lobe (0Hz), which suggests that a harmonic structure influences the neighboring structure at below 30dB. Since the actual speech contains temporal fluctuation, aperiodicity, and noise, we assumed that 30dB was small enough.

The overall power of a periodic signal 
                           
                              y
                              (
                              t
                              )
                           
                         windowed by the Hanning window 
                           
                              w
                              (
                              t
                              )
                           
                         is calculated as follows;
                           
                              (3)
                              
                                 
                                    ∫
                                    
                                       0
                                    
                                    
                                       3
                                       
                                          
                                             T
                                          
                                          
                                             0
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             y
                                             (
                                             t
                                             )
                                             w
                                             (
                                             t
                                             )
                                          
                                       
                                    
                                    
                                       2
                                    
                                 
                                 dt
                                 =
                                 
                                    ∫
                                    
                                       0
                                    
                                    
                                       
                                          
                                             T
                                          
                                          
                                             0
                                          
                                       
                                    
                                 
                                 
                                    
                                       y
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 t
                                 )
                                 
                                    
                                       w
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 t
                                 )
                                 dt
                                 +
                                 
                                    ∫
                                    
                                       0
                                    
                                    
                                       
                                          
                                             T
                                          
                                          
                                             0
                                          
                                       
                                    
                                 
                                 
                                    
                                       y
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 t
                                 )
                                 
                                    
                                       w
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 t
                                 +
                                 
                                    
                                       T
                                    
                                    
                                       0
                                    
                                 
                                 )
                                 dt
                                 +
                                 
                                    ∫
                                    
                                       0
                                    
                                    
                                       
                                          
                                             T
                                          
                                          
                                             0
                                          
                                       
                                    
                                 
                                 
                                    
                                       y
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 t
                                 )
                                 
                                    
                                       w
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 t
                                 +
                                 2
                                 
                                    
                                       T
                                    
                                    
                                       0
                                    
                                 
                                 )
                                 dt
                                 ,
                                 =
                                 
                                    ∫
                                    
                                       0
                                    
                                    
                                       
                                          
                                             T
                                          
                                          
                                             0
                                          
                                       
                                    
                                 
                                 
                                    
                                       y
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 t
                                 )
                                 
                                    
                                       
                                          
                                             
                                                w
                                             
                                             
                                                2
                                             
                                          
                                          (
                                          t
                                          )
                                          +
                                          
                                             
                                                w
                                             
                                             
                                                2
                                             
                                          
                                          (
                                          t
                                          +
                                          
                                             
                                                T
                                             
                                             
                                                0
                                             
                                          
                                          )
                                          +
                                          
                                             
                                                w
                                             
                                             
                                                2
                                             
                                          
                                          (
                                          t
                                          +
                                          2
                                          
                                             
                                                T
                                             
                                             
                                                0
                                             
                                          
                                          )
                                       
                                    
                                 
                                 dt
                                 ,
                                 =
                                 1.125
                                 
                                    ∫
                                    
                                       0
                                    
                                    
                                       
                                          
                                             T
                                          
                                          
                                             0
                                          
                                       
                                    
                                 
                                 
                                    
                                       y
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 t
                                 )
                                 dt
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    T
                                 
                                 
                                    0
                                 
                              
                           
                         represents the period of the signal 
                           
                              y
                              (
                              t
                              )
                           
                        . This equation shows that the overall power of the periodic signal windowed by the window is temporally stable.

The second step is the frequency domain smoothing of the power spectrum calculated in the first step. This step is positioned as the pre-processing of the third step carried out in the quefrency domain. A logarithmic power spectrum is used for the processing in the quefrency domain, but the zero of the power spectrum indicates 
                           
                              -
                              ∞
                           
                         in logarithmic power and causes a fatal error. This step is carried out to ensure that the power spectrum has no zeros. The smoothing is carried out by simple filtering with a rectangular window given by
                           
                              (4)
                              
                                 
                                    
                                       P
                                    
                                    
                                       s
                                    
                                 
                                 (
                                 ω
                                 )
                                 =
                                 
                                    
                                       3
                                    
                                    
                                       2
                                       
                                          
                                             ω
                                          
                                          
                                             0
                                          
                                       
                                    
                                 
                                 
                                    ∫
                                    
                                       -
                                       
                                          
                                             
                                                
                                                   ω
                                                
                                                
                                                   0
                                                
                                             
                                          
                                          
                                             3
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   ω
                                                
                                                
                                                   0
                                                
                                             
                                          
                                          
                                             3
                                          
                                       
                                    
                                 
                                 P
                                 (
                                 ω
                                 +
                                 λ
                                 )
                                 d
                                 λ
                                 ,
                              
                           
                        where, 
                           
                              P
                              (
                              ω
                              )
                           
                         represents the power spectrum calculated from the waveform windowed by the Hanning window. Since the width of the rectangular window is 
                           
                              2
                              
                                 
                                    ω
                                 
                                 
                                    0
                                 
                              
                              /
                              3
                           
                        , this step ensures that the influence between the neighboring structures is below 30dB as in the first step.

The third step is liftering in the quefrency domain to remove the frequency fluctuation caused by discretization. The spectral recovery is also carried out at the same time. The time-varying component is caused by convolving the periodic impulses and windowing the waveform. Since the spectrum of periodic impulses with a period of 
                           
                              
                                 
                                    T
                                 
                                 
                                    0
                                 
                              
                           
                         is the periodic impulses with a period of 
                           
                              
                                 
                                    ω
                                 
                                 
                                    0
                                 
                              
                           
                        , its cepstrum representation is also the periodic impulses with a period of 
                           
                              
                                 
                                    T
                                 
                                 
                                    0
                                 
                              
                           
                         in the quefrency domain. Fig. 1
                         shows an example in the time-varying component calculated in periodic impulses. The horizontal axis represents the normalized quefrency, and the vertical axis represents the standard deviation of the time series of cepstrum. To definitely calculate the time-varying component at 
                           
                              
                                 
                                    nT
                                 
                                 
                                    0
                                 
                              
                           
                        , the sampling frequency of the signal is 65,536Hz, F0 is 128Hz, FFT length is 65,536, the length of the signal is 1s, and the length of frame shift is one sample. Fig. 1 shows that the time-varying component converges at 
                           
                              
                                 
                                    nT
                                 
                                 
                                    0
                                 
                              
                           
                        . To remove the time-varying component and to extract the low quefrency components, we employed a sinc function as the liftering that fulfills the requirements.

Spectral recovery is carried out on the basis of consistent sampling (Unser, 2000). Consistent sampling theory is the expansion of sampling theory and requires that the digital signal after AD conversion must equal the digital signal after AD/DA/AD conversion. This sampling enables the design of the linear filter to fulfill this requirement. In the proposed algorithm, the liftering function is designed as the compensation filter on the basis of consistent sampling. This function can compensate for the errors at 
                           
                              n
                              
                                 
                                    ω
                                 
                                 
                                    0
                                 
                              
                           
                        
                        Hz, which are the sampling points caused by smoothing in both the second and third steps.

The spectral recovery based on consistent sampling has been carried out on the frequency domain in the TANDEM-STRAIGHT (Kawahara et al., 2008) as follows.
                           
                              (5)
                              
                                 
                                    
                                       P
                                    
                                    
                                       l
                                    
                                 
                                 (
                                 ω
                                 )
                                 =
                                 exp
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      q
                                                   
                                                   
                                                      ̃
                                                   
                                                
                                             
                                             
                                                0
                                             
                                          
                                          log
                                          (
                                          P
                                          (
                                          ω
                                          )
                                          )
                                          +
                                          
                                             
                                                
                                                   
                                                      q
                                                   
                                                   
                                                      ̃
                                                   
                                                
                                             
                                             
                                                1
                                             
                                          
                                          log
                                          
                                             
                                                
                                                   P
                                                   (
                                                   ω
                                                   +
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         0
                                                      
                                                   
                                                   )
                                                   P
                                                   (
                                                   ω
                                                   -
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         0
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    P
                                 
                                 
                                    l
                                 
                              
                              (
                              ω
                              )
                           
                         represents the output of spectral recovery processing, and 
                           
                              P
                              (
                              ω
                              )
                           
                         represents the power spectrum including the influence by smoothing. In this study, both the smoothing and spectral recovery were carried out in the quefrency domain. The final spectral envelope 
                           
                              
                                 
                                    P
                                 
                                 
                                    l
                                 
                              
                              (
                              ω
                              )
                           
                         is given by
                           
                              (6)
                              
                                 
                                    
                                       P
                                    
                                    
                                       l
                                    
                                 
                                 (
                                 ω
                                 )
                                 =
                                 exp
                                 
                                    
                                       
                                          F
                                          
                                             
                                                
                                                   
                                                      
                                                         l
                                                      
                                                      
                                                         s
                                                      
                                                   
                                                   (
                                                   τ
                                                   )
                                                   
                                                      
                                                         l
                                                      
                                                      
                                                         q
                                                      
                                                   
                                                   (
                                                   τ
                                                   )
                                                   
                                                      
                                                         p
                                                      
                                                      
                                                         s
                                                      
                                                   
                                                   (
                                                   τ
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (7)
                              
                                 
                                    
                                       l
                                    
                                    
                                       s
                                    
                                 
                                 (
                                 τ
                                 )
                                 =
                                 
                                    
                                       sin
                                       (
                                       π
                                       
                                          
                                             f
                                          
                                          
                                             0
                                          
                                       
                                       τ
                                       )
                                    
                                    
                                       π
                                       
                                          
                                             f
                                          
                                          
                                             0
                                          
                                       
                                       τ
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (8)
                              
                                 
                                    
                                       l
                                    
                                    
                                       q
                                    
                                 
                                 (
                                 τ
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             q
                                          
                                          
                                             ̃
                                          
                                       
                                    
                                    
                                       0
                                    
                                 
                                 +
                                 2
                                 
                                    
                                       
                                          
                                             q
                                          
                                          
                                             ̃
                                          
                                       
                                    
                                    
                                       1
                                    
                                 
                                 cos
                                 
                                    
                                       
                                          
                                             
                                                2
                                                π
                                                τ
                                             
                                             
                                                
                                                   
                                                      T
                                                   
                                                   
                                                      0
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (9)
                              
                                 
                                    
                                       p
                                    
                                    
                                       s
                                    
                                 
                                 (
                                 τ
                                 )
                                 =
                                 
                                    
                                       F
                                    
                                    
                                       -
                                       1
                                    
                                 
                                 
                                    
                                       
                                          log
                                          
                                             
                                                
                                                   
                                                      
                                                         P
                                                      
                                                      
                                                         s
                                                      
                                                   
                                                   (
                                                   ω
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        where, 
                           
                              
                                 
                                    l
                                 
                                 
                                    s
                                 
                              
                              (
                              τ
                              )
                           
                         represents the liftering function for smoothing and 
                           
                              
                                 
                                    l
                                 
                                 
                                    q
                                 
                              
                              (
                              τ
                              )
                           
                         represents the liftering function for spectral recovery derived from Eq. (5). 
                           
                              
                                 
                                    
                                       
                                          q
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    0
                                 
                              
                           
                         and 
                           
                              
                                 
                                    
                                       
                                          q
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    1
                                 
                              
                           
                         are the parameters for spectral recovery. Symbol 
                           
                              F
                              [
                              ]
                           
                         and 
                           
                              
                                 
                                    F
                                 
                                 
                                    -
                                    1
                                 
                              
                              [
                              ]
                           
                         represent Fourier transform and its inverse transform.


                        
                           
                              
                                 
                                    l
                                 
                                 
                                    s
                                 
                              
                              (
                              τ
                              )
                           
                         shows that the smoothing is carried out by convolving the rectangular window on the frequency domain. This window has zeros at 
                           
                              
                                 
                                    nT
                                 
                                 
                                    0
                                 
                              
                           
                         in the quefrency domain shown in Fig. 2
                        . To determine the two parameters in 
                           
                              
                                 
                                    l
                                 
                                 
                                    q
                                 
                              
                              (
                              τ
                              )
                           
                        , an exploratory evaluation was carried out. The conditions were same as the following objective evaluation. As a result, 1.18 and −0.09 are obtained as the values of 
                           
                              
                                 
                                    
                                       
                                          q
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    0
                                 
                              
                           
                         and 
                           
                              
                                 
                                    
                                       
                                          q
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    1
                                 
                              
                           
                        , respectively, and used in the following evaluation.

Each processing is carried out on discrete time–frequency representation. 
                           
                              
                                 
                                    P
                                 
                                 
                                    l
                                 
                              
                              (
                              k
                              ,
                              n
                              )
                           
                         discretized on both time and frequency domains is therefore used, where k represents discrete frequency index and n represents the frame number.

To verify the effectiveness of the proposed algorithm (CheapTrick), both objective and subjective evaluations were carried out. The TANDEM-STRAIGHT and STAR (Morise, 2013) were used for comparison. The objective evaluation used two evaluation indexes in the estimation accuracy and time-varying component. In the subjective evaluation, a MUSHRA-based evaluation and a Thurstone’s paired comparison were carried out to demonstrate the effectiveness of the proposed algorithm in terms of sound quality of not only the re-synthesized but also the F0-manipulated speech.

The index for evaluating the estimation accuracy is given by
                              
                                 (10)
                                 
                                    
                                       
                                          E
                                       
                                       
                                          f
                                       
                                    
                                    =
                                    
                                       
                                          1
                                       
                                       
                                          N
                                       
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             n
                                             =
                                             0
                                          
                                          
                                             N
                                             -
                                             1
                                          
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          f
                                       
                                    
                                    (
                                    n
                                    )
                                    ,
                                 
                              
                           
                           
                              
                                 (11)
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          f
                                       
                                       
                                          2
                                       
                                    
                                    (
                                    n
                                    )
                                    =
                                    
                                       
                                          1
                                       
                                       
                                          K
                                       
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             k
                                             =
                                             0
                                          
                                          
                                             K
                                             -
                                             1
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      e
                                                   
                                                
                                                (
                                                k
                                                ,
                                                n
                                                )
                                                -
                                                
                                                   
                                                      1
                                                   
                                                   
                                                      K
                                                   
                                                
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         l
                                                         =
                                                         0
                                                      
                                                      
                                                         K
                                                         -
                                                         1
                                                      
                                                   
                                                
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      e
                                                   
                                                
                                                (
                                                l
                                                ,
                                                n
                                                )
                                             
                                          
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                 
                              
                           
                           
                              
                                 (12)
                                 
                                    
                                       
                                          P
                                       
                                       
                                          e
                                       
                                    
                                    (
                                    k
                                    ,
                                    n
                                    )
                                    =
                                    10
                                    
                                       
                                          log
                                       
                                       
                                          10
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   P
                                                
                                                
                                                   l
                                                
                                             
                                             (
                                             k
                                             ,
                                             n
                                             )
                                          
                                       
                                    
                                    -
                                    10
                                    
                                       
                                          log
                                       
                                       
                                          10
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   P
                                                
                                                
                                                   t
                                                
                                             
                                             (
                                             k
                                             )
                                          
                                       
                                    
                                    ,
                                 
                              
                           where N represents the number of frames and K represents the half value of FFT length. 
                              
                                 
                                    
                                       P
                                    
                                    
                                       t
                                    
                                 
                                 (
                                 k
                                 )
                              
                            represents the target spectral envelope. 
                              
                                 
                                    
                                       E
                                    
                                    
                                       f
                                    
                                 
                              
                            indicates 0, provided that the estimation result equals the target.

The other index for evaluating the amount of time-varying component is given by
                              
                                 (13)
                                 
                                    
                                       
                                          E
                                       
                                       
                                          t
                                       
                                    
                                    =
                                    
                                       
                                          1
                                       
                                       
                                          K
                                       
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             k
                                             =
                                             0
                                          
                                          
                                             K
                                             -
                                             1
                                          
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          t
                                       
                                    
                                    (
                                    k
                                    )
                                    ,
                                 
                              
                           
                           
                              
                                 (14)
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          t
                                       
                                       
                                          2
                                       
                                    
                                    (
                                    k
                                    )
                                    =
                                    
                                       
                                          1
                                       
                                       
                                          N
                                       
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             n
                                             =
                                             0
                                          
                                          
                                             N
                                             -
                                             1
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      e
                                                   
                                                
                                                (
                                                k
                                                ,
                                                n
                                                )
                                                -
                                                
                                                   
                                                      1
                                                   
                                                   
                                                      N
                                                   
                                                
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         m
                                                         =
                                                         0
                                                      
                                                      
                                                         N
                                                         -
                                                         1
                                                      
                                                   
                                                
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      e
                                                   
                                                
                                                (
                                                k
                                                ,
                                                m
                                                )
                                             
                                          
                                       
                                       
                                          2
                                       
                                    
                                    .
                                 
                              
                           
                        


                           
                              
                                 
                                    
                                       E
                                    
                                    
                                       t
                                    
                                 
                              
                            also indicates 0, provided that the time-varying component was completely removed. The algorithm that can minimize both 
                              
                                 
                                    
                                       E
                                    
                                    
                                       f
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       E
                                    
                                    
                                       t
                                    
                                 
                              
                            is the best one in this paper.

In the experiment 1, the test signals were designed to confirm the robustness of the F0 change because the F0 of speech is time-varying. In this experiment, test signals were used that were designed using the following equation including the parameter for controlling the gradient.
                              
                                 (15)
                                 
                                    
                                       
                                          f
                                       
                                       
                                          0
                                       
                                    
                                    (
                                    t
                                    )
                                    =
                                    
                                       
                                          f
                                       
                                       
                                          c
                                       
                                    
                                    +
                                    
                                       
                                          α
                                          
                                             
                                                f
                                             
                                             
                                                c
                                             
                                          
                                       
                                    
                                    cos
                                    
                                       
                                          
                                             
                                                
                                                   α
                                                   
                                                      
                                                         f
                                                      
                                                      
                                                         c
                                                      
                                                   
                                                
                                             
                                             t
                                             +
                                             θ
                                          
                                       
                                    
                                    ,
                                 
                              
                           where 
                              
                                 
                                    
                                       f
                                    
                                    
                                       c
                                    
                                 
                              
                            represents the standard F0, 
                              
                                 θ
                              
                            represents the phase, and 
                              
                                 α
                              
                            represents the parameter for controlling the gradient. In this F0 contour, the maximum gradient is 
                              
                                 α
                                 
                                    
                                       f
                                    
                                    
                                       c
                                    
                                 
                              
                           . We used the standard F0s of 100, 200, and 400Hz to confirm the dependency of F0; 
                              
                                 α
                              
                            from 0.0 to 36.0 was used. 
                              
                                 θ
                              
                            from 0.0 to 
                              
                                 2
                                 π
                              
                            was used to calculate evaluation indexes at a temporal position, and results calculated in all 
                              
                                 θ
                              
                            were averaged to obtain the definitive result.

Since the signal for experiment is an aperiodic impulse train, the target spectrum is flat without depending on the temporal position for windowing. The sampling frequency of the signal is 48kHz, FFT length is 4096 samples, and the length of the signal is 1s. The value of the frame shift is 1ms, and the number of frames is 1000.


                           Figs. 3 and 4
                           
                            illustrate the evaluation results of estimation accuracy and the time-varying component, respectively. The results show that the STAR was clearly inferior to the other algorithms in both evaluation indexes. In all results, the errors in higher F0 are smaller than those in lower F0. CheapTrick outperformed both other algorithms in estimation accuracy regardless of 
                              
                                 α
                              
                            and standard F0. From the results of the time-varying component, CheapTrick was the best in the standard F0 of 100Hz. CheapTrick and TANDEM-STRAIGHT exhibited almost the same performance for other standard F0s.

In experiment 2, the test signals were designed to confirm the relationship between the estimation performance and the spectral slope. The target spectral envelope has spectral slope of 
                              
                                 -
                                 β
                              
                           
                           dB/oct from 100Hz. 
                              
                                 β
                              
                            from 0.0 to 10.0 was used, and Eq. (15) with 
                              
                                 α
                              
                            of 10 was used to generate the F0 contour. 
                              
                                 α
                              
                            was set for comparing results under realistic conditions because F0 of real speech is time-varying. Since the same tendencies were observed in the experiment, a standard F0 of 100Hz was employed. Other conditions were the same as those for experiment 1.


                           Fig. 5
                            illustrates the relationship between the parameter 
                              
                                 β
                              
                            and the evaluation indexes. In the time-varying component, CheapTrick was superior to other algorithms, and it was relatively better than TANDEM-STRAIGHT, provided that 
                              
                                 β
                              
                            was above 8.5. In the estimation error, all algorithms performed almost the same, provided that 
                              
                                 β
                              
                            was above 8.5. These results suggested that the proposed algorithm was superior for estimating the spectral envelope including sharp formants.

Two subjective evaluations were carried out to verify the sound quality of not only the re-synthesized but also the F0-manipulated speech. Since the F0 and the aperiodicity estimated by TANDEM-STRAIGHT are used in the evaluation, the sound quality of the speech only depends on the estimated spectral envelope. The speech used for the evaluation was of three males and three females from a DVD of a Japanese-language textbook. The sampling was 44.1kHz/16bit, and an anechoic room was used for the recording. The speech was five Japanese vowels /aiueo/ continuously uttered by all speakers and did not include consonants because all algorithms were for the spectral envelope estimation of voiced speech. In the subjective evaluations, a sound proof room with the A-weighted SPL of 16-dB was used. Ten subjects with normal hearing ability participated in both evaluations.

A MUSHRA evaluation based on the ITU-R recommendation BS.1534-1 was carried out to compare the sound quality of original and re-synthesized speech. Since MUSHRA uses the 0–100 scale, subjects can rate smaller differences than when using MOS evaluation. The subjects evaluated all speech by using a GUI that displayed four kinds of stimuli (the original speech and speech synthesized with TANDEM-STRAIGHT, STAR, and CheapTrick) at the same time. Therefore, the subjects could evaluate speech uttered by the same speaker. When evaluating the four sets of speech by the GUI is defined as one set of stimuli, the number of sets is six.

A Thurstone’s paired comparison was carried out by using not only the re-synthesized but also the F0-manipulated speech. In this evaluation, the subjects were instructed to select the stimulus with higher sound quality. Three types of F0 (F0, 1.25 F0, and 0.75 F0) were used to demonstrate the robustness against F0-manipulation. In the three sets of speech synthesized with the same F0, all combinations excluding the same stimulus pairs were used. The order effect is counterbalanced by using both A–B and B–A pairs. The stimulus pairs numbered 108, and all were randomized.

@&#RESULTS AND DISCUSSION@&#


                        Figs. 6 and 7
                        
                         illustrate the experimental results. The MUSHRA evaluation results showed that three algorithms cannot synthesize speech as natural as the input speech, but each algorithm achieves more than 90. In female speech, the input speech did not significantly differ from the speech synthesized with CheapTrick. On the other hand, the input speech significantly differed from the speech synthesized with other algorithms. In all conditions, the three algorithms had no significant differences. This result showed that all algorithms can synthesize high-quality speech equally.

The results of Thurstone’s paired comparison showed CheapTrick was superior to the other algorithms in terms of sound quality regardless of gender. Since the results include the sound quality of not only the re-synthesized speech but also the F0-manipulated speech, they suggested that CheapTrick was robust against F0 manipulation. The difference in sound quality in female speech was smaller than that in male speech, and this difference is associated with the objective evaluation results in which the error in higher F0 was smaller than that in lower F0.

Although we evaluated synthetic speech of continuously uttered vowels, the synthetic speech must be evaluated for not only the vowels but also the consonants. However, the proposed algorithm is for the voiced sound that has a period, and general vocoder processes the voiced and unvoiced sound separately. Since the processing for unvoiced sound affects the sound quality, we did not conduct the evaluation using speech including consonants to avoid the influence caused by any methods other than spectral envelope estimation. An algorithm needs to be developed to estimate the spectral envelope of consonants, and algorithms need to be evaluated with vowels and consonants.

A spectral envelope estimation algorithm was proposed for high-quality speech synthesis. This paper started by examining the well-known problem of the spectral envelope estimation and discussed the concept of the proposed algorithm named CheapTrick. CheapTrick consists of power spectrum estimation with the F0-adaptive Hanning window, the smoothing of the power spectrum, and spectral recovery in the quefrency domain. The algorithm can obtain an accurate and temporally stable spectral envelope by objective evaluations.

The subjective evaluations demonstrated that CheapTrick was superior to the conventional algorithms. In particular, CheapTrick synthesized the F0-manipulated speech more robustly than the other algorithms. Applying CheapTrick for voice morphing and statistical parametric speech synthesis is important future work.

@&#ACKNOWLEDGEMENTS@&#

This work was supported by JSPS KAKENHI Grant Nos. 24300073 and 26540087 and the Research Institute of Electrical Communication, Tohoku University (H25/A08).

@&#REFERENCES@&#

