@&#MAIN-TITLE@&#Towards an automated robotic arc-welding-based additive manufacturing system from CAD to finished part

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           An automated arc-welding-based additive manufacturing system was reported.


                        
                        
                           
                           Integrated additive and subtractive manufacturing methodology was developed.


                        
                        
                           
                           Deposition paths and welding parameters were automatically generated.


                        
                        
                           
                           User interface using only CAD models as inputs was developed.


                        
                        
                           
                           The proposed automated system was verified experimentally.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Arc welding

Additive manufacturing

Aerospace components

Metal deposition

Automated process planning

@&#ABSTRACT@&#


               
               
                  Arc welding has been widely explored for additive manufacturing of large metal components over the last three decades due to its lower capital cost, an unlimited build envelope, and higher deposition rates. Although significant improvements have been made, an arc welding process has yet to be incorporated in a commercially available additive manufacturing system. The next step in exploiting “true” arc-welding-based additive manufacturing is to develop the automation software required to produce CAD-to-part capability. This study focuses on developing a fully automated system using robotic gas metal arc welding to additively manufacture metal components. The system contains several modules, including bead modelling, slicing, deposition path planning, weld setting, and post-process machining. Among these modules, bead modelling provides the essential database for process control, and an innovative path planning strategy fulfils the requirements of the automated system. A user friendly interface has been developed for non-experts to operate the developed system. Finally, a thin-walled aluminium structure has been fabricated automatically using only a CAD model as the informational input to the system. This exercise demonstrates that the developed system is a significant contribution towards the ultimate goal of producing a practical and highly automated arc-welding-based additive manufacturing system for industrial application.
               
            

@&#INTRODUCTION@&#

Additive manufacturing (AM) has been used successfully for single-unit production in various sectors, owing to the paradigm shift that the process provides over conventional manufacturing. When it comes to metal AM, aerospace appears to be leading the way, seeing opportunities to produce light-weight components, reduce manufacturing lead-times, and improve the buy-to-fly ratios  [1–5]. While much development is focused on powder-based processes for fine detail in small parts, commercially available equipment is limited in terms of part build envelope and build rate, especially in aerospace applications  [6]. As a consequence, robotic wire-feed AM processes have attracted extensive research interest due to their ability to produce large parts (up to 5.8 m×1.2 m×1.2 m was reported) with high deposition rate (ranges from 3 to 9 kg/h)  [7].

Arc-welding-based additive manufacturing is one of the wire-feed AM technologies, and uses either the gas metal arc welding process (GMAW) or the gas tungsten arc welding process (GTAW)  [8]. The advantages of such a system over existing additive manufacturing systems include lower capital cost, a much larger build envelop, higher production rates, and a strong supply chain capability in industry  [9]. A large amount of work has been done over the previous three decades to develop the ability to produce parts from weld deposits using a layer-by-layer approach. Early studies exploring arc welding for AM have been reported by European researchers  [10–12]. The ability of arc welding to produce high quality near-net shapes has been confirmed. A preliminary automated system for welding-based AM was developed by Zhang et al.  [13]. The deposition parameters, including the travel speed, welding current, and arc voltage were discussed in detail. Hybrid approaches to “3D welding and milling” have been established to fabricate parts with a high quality surface finish  [14,15]. The effects of bead modelling and process optimisation in arc-welding-based AM were also investigated [16–18]. Recently, vision-sensing systems have been designed to on-line monitor and control the robotic arc welding process to deposit the desired geometry  [19–21]. Several other organisations throughout the world continue to work in this exciting field of arc-welding-based AM  [22–27].

Although several advancements have been made, an arc welding process has yet to be incorporated in a commercially available additive manufacturing system. This is due to the lack of an automated process planning strategy that is able to set all of the process parameters  [7]. Process parameters such as deposition path, wire-feed rate, and travel speed, as far as we know, are mainly set by an experienced AM technologist depending upon part geometry, energy source, and the material selected. Accordingly, the next step towards a “true” wire-feed additive manufacturing system is to develop the automation software needed to produce seamless CAD-to-part capability.

This study aims at the development of a fully automated arc-welding-based AM system, which reads only the CAD model as an input and produces the finished part without human intervention. Section  2 introduces briefly the developed automated arc-welding-based AM system. Section  3 establishes bead modelling, followed by the MAT-based path planning in Section  4. Section  5 describes the experiments that validate the system and discusses the result.

An automated process planning algorithm for an arc-welding-based additive manufacturing system from CAD model inputs to finished parts is shown in Fig. 1
                     . Several modules are essential including slicing, path planning, welding parameter setting, post-process machining, and the robot code generation module.

The 3D CAD model in STL format is firstly sliced into a set of 2.5D layers through the slicing module. Slicing algorithm of 3D STL model has been widely reported  [28]. In this paper, a tolerant slicing algorithm was used and detailed information could be found elsewhere  [29].

Then the path planning module generates deposition paths for each of the sliced layers. After the paths are generated, the desired bead geometries along the path are determined accordingly.

Bead modelling controls two of the key slicing and path planning variables, namely layer thickness and step-over distance (to be defined in Section  4), respectively. In addition, it determines the optimum welding parameters corresponding to the desired bead geometry. Welding parameters are mainly wire-feed rate, travel speed, and stick-out length for the GMAW process in this study.

The post-process machining module generates machining tool paths for the post-weld machining process. With the geometries of the sliced layers, the machining paths are easily generated by outside offsetting the boundaries of the layers with the half of the machining tool diameter.

Subsequently, the welding deposition paths together with the automatically-selected welding parameters and the machining tool paths are transformed into an integrated robot code file through the robot code generation module.

Finally, a near-net shape deposit is produced automatically by the robotic arc welding system and the finished component with the desired dimensional tolerances is obtained through robotic machining.

For arc-welding-based processes, the bead geometry is highly dependent on both material and processing parameters. Therefore, accurate bead models are required to be established through experiments. In this study, aluminium material and the GMAW process are chosen as the experimental example. The automated process planning strategy in its current form can be applied to other materials (mainly steels) and also the GTAW deposition process.

In the operation of this automated system, automatic path planning required special attention to accommodate the geometrical complexity of parts that need to be manufactured in practice. Therefore, the bead modelling and path planning modules are selectively presented in the following Sections  3 and 4, respectively.


                        Fig. 2
                         shows the typical weld bead geometry with bead height (
                           h
                        ) and bead width (
                           w
                        ). Through adjusting process parameters such as wire-feed rate and travel speed, different bead profiles can be obtained. Based on the effect on weld bead geometry of aluminium material, the chosen input factors for this study are wire-feed rate (
                           F
                        ), travel speed (
                           S
                        ), and stick-out length (
                           L
                        ); the responses are bead height (
                           h
                        ) and bead width (
                           w
                        ). The values of the chosen process variables at various levels are presented in Table 1
                        .

The artificial neural network has been demonstrated to be a powerful tool for representing complex relations between multiple inputs and responses, especially for the welding process which exhibits strong nonlinearity. In this work, a neural network is used to characterise the relationship between process parameters and aluminium bead geometry, as schematically shown in Fig. 3
                        . The network is composed of an input layer, a hidden layer, and an output layer. Neurons in the hidden layer are computational elements accomplishing nonlinear mapping between process variables and responses. The artificial neural network can find multi-dimensional dependencies between process parameters by learning. However, the data for teaching or training the artificial neural network need to be carefully selected.

The Taguchi method, which is one of the fractional factorial designs, has a good reappearance of experiment concerned only with the main effects of design parameters. Therefore, if the training data for the artificial neural network are selected using an orthogonal array table in the statistical design of experiments, and the process characteristics as output data of the artificial neural network are transformed by the Taguchi method, then this method has been shown to produce more accurate data using a smaller training set than other methods. Using the four levels of inputs selected in Table 1, the optimum parameter design for artificial neural network training is obtained as 16 test runs provided in Table 2
                         denoted in blue. A further 7 parameter test runs (No. 17 to No. 23 denoted in green in Table 2) are randomly chosen to test the performance of the trained network.

One single bead was produced for each parameter set in Table 2. Weld beads deposited for No. 16–23 are shown in Fig. 4
                        (a) as examples. A 3D laser profile scanner with a resolution of 0.02 mm, projecting a laser line on the weld bead cross-section, was used to measure the bead height and width, as shown in Fig. 4(b). The scanner was carried by a robot moving along the deposited weld beads. Each bead having a total length of 60 mm was cross-sectioned three times, i.e. at a length of 15, 30, and 45 mm as shown in Fig. 4(a). Curve fitting with detailed bead cross-sectional measurements instead of only employing the bead height and width was used to model the generated bead geometry. Subsequently, the bead height and bead width are obtained and listed in Table 2 as columns coloured in orange.

The performance of the trained ANN bead model (using data No. 1–16 from Table 2) was evaluated using 7 independent testing data sets (No. 17–23 from Table 2). A comparison of the predicted bead geometry using the trained ANN and measured bead geometry is shown in Fig. 5
                        .

In Fig. 5, the horizontal axis represents the measured bead height and bead width, and the vertical axis represents the predicted bead height and bead width. The linear solid line represents the case where the measured values are equal to the predicted values. It can be seen that most of the data points lie on or near the solid line, indicating the ANN model is able to predict bead height and bead width within the range of reliable accuracy. Note that to train and test the network accurately, all inputs and outputs are normalised within the range of 
                           −
                           1
                         and 
                           +
                           1
                        . The normalised value (
                           
                              
                                 X
                              
                              
                                 i
                              
                           
                        ) for each raw input or output (
                           
                              
                                 R
                              
                              
                                 i
                              
                           
                        ) was calculated as 
                           
                              
                                 
                                    
                                       X
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       2
                                    
                                    
                                       
                                          
                                             R
                                          
                                          
                                             
                                                max
                                             
                                          
                                       
                                       −
                                       
                                          
                                             R
                                          
                                          
                                             
                                                min
                                             
                                          
                                       
                                    
                                 
                                 
                                    (
                                    
                                       
                                          R
                                       
                                       
                                          i
                                       
                                    
                                    −
                                    
                                       
                                          R
                                       
                                       
                                          
                                             min
                                          
                                       
                                    
                                    )
                                 
                                 −
                                 1
                              
                           
                         where, 
                           
                              
                                 R
                              
                              
                                 
                                    max
                                 
                              
                           
                         and 
                           
                              
                                 R
                              
                              
                                 
                                    min
                                 
                              
                           
                         are the maximum and minimum values of the raw data, respectively. The trained ANN bead modelling is used as the essential database to determine the optimum welding parameters corresponding to the desired bead geometry (bead height and bead width).

Besides of single bead modelling, previously developed tangent overlapping model (TOM)  [18] was implemented to determine the optimal step-over distance for multi-bead and multi-layer deposition of complex components. Through depositing multi-bead and multi-layer structures, it was demonstrated that the traditional flat-top overlapping model  [17] tends to under-estimate the optimal step-over distance, while TOM produces more stable deposition. Details of TOM could be found in the Ref.  [18].

One of the crucial requirements for an automated AM system is the development of an elaborate path planning strategy [30–33]. Primarily, path planning must be able to generate reasonable deposit paths automatically for different geometries of layers. Existing popular path planning methods, such as raster paths and contour paths, have been well reported. However, each path planning method is only suitable for a subset of part geometries. The example of a thin-walled structure is shown in Fig. 6
                        . Fig. 6(a) illustrates the 3D CAD model and the coordinates. 
                           z
                         represents the building direction. Through slicing along the building direction, the cross-section of the sliced geometry is shown in Fig. 6(b). Raster paths would contain a number of short discontinuous paths, as shown in Fig. 6(c), requiring the deposition process to start and stop frequently. This behaviour is not desirable in arc-welding-based AM, because the welding process requires a certain time to stabilise and during this time the deposited material does not correspond well to the steady-state bead behaviour that has been modelled. A continuous deposition path is desired.

However, applying a contour path planning algorithm to this example is likely to fail since the thin-walled areas would not allow sufficient width for a contour path to be applied. As shown in Fig. 6(d), after applying contour path planning with a step-over distance of 3 mm (a typical minimum value for the arc welding process), paths for the thin-walled areas are lost. Step-over distance is defined as the distance between a deposition track and the previous one. Typical step-over distance for powder-based AM ranges from 0.1 to 1 mm, while for arc-welding-based AM ranges, from 3 to 8 mm depending on the chosen material and wire diameter. To automatically generate paths for the geometry (as shown in Fig. 6(b)), the challenge is to develop an adaptable strategy that can cater for variable geometry and use the information to produce paths that are appropriate to the limitations of the arc welding deposition process.

Crossings in thin-walled structures make path planning more complex. Thin-walled structures are most commonly seen in aerospace components, which are attractive applications for AM due to their high buy-to-fly ratios. Crossings always exist in the case of these structures, as shown in Fig. 7
                        . Experiments reveal that directly crossing paths produce peaks where the weld beads overlap at the crossing points, as shown in Fig. 7(a). In addition, sharp angles in the intersections can concentrate stresses. The path pattern of opposite angle, as shown in Fig. 7(b), has been demonstrated to produce the best crossings with smooth radii in corners  [34].

An alternative approach is shown in Fig. 7(c) in the red circle  [7]. The crossing is fabricated through one central deposition and two crossing branches. The two branches are always deposited tangentially to existing material, so no crossing occurs. Both strategies solve the issue of crossings, however, it is quite complex to design the program for the path planning algorithm so that it functions automatically and correctly for all situations.

Medial axis transformation (MAT)-based path planning is able to generate a set of closed loop paths which cover entirely the sliced layers. The detailed path planning methodology has been reported in our previous publication  [29]. Here, the path planning strategy is described through an example and its capability of fulfilling the requirements for an arc-welding-based system is explained.

These are the main steps for generating MAT-based paths:


                        Compute the medial axis: The cross-section of a sliced layer with a thin-walled structure is shown in Fig. 8
                        (a). The medial axis or skeleton of the geometry is computed and represented using red lines. The computed skeleton is the crucial information, which describes the shape of the geometry.


                        Decompose the geometry: Using the computed medial axis, the geometry is decomposed into several domains. As the geometry with 
                           N
                         holes needs to be decomposed into 
                           N
                           +
                           1
                         domains  [27], this geometry is decomposed into 10 domains as shown in Fig. 8(b). As displayed in different colours, each domain is bounded by a portion of medial axis (red lines in Fig. 8(a)) and a boundary loop (black line loop in Fig. 8(a)).


                        Generate path for the domain: Deposition paths for each domain are generated by offsetting the medial axis loop (red line loop in Fig. 8(c) for domain 3) towards the corresponding boundary loop (black line loop in Fig. 8(c)) with an appropriate step-over distance. The offsetting is repeated and terminates when the domain is fully covered. Green line loops in Fig. 8(c), represent the generated deposition paths.


                        Complete the deposition paths: A complete set of MAT-based deposition paths is obtained by repeating step 3 for all the decomposed domains. The generated paths are a set of closed loop lines without start/stop sequences, which is preferred for the arc welding system.

From the above description, the MAT-based path planning algorithm for an arc welding process is able to be automated for any complex geometry; just as the existing commercially available raster and contour path planning strategies have been automatically applied to powder-based AM. In addition, the process to form crossings is shown in Fig. 8(d), where no direct crossings occur. The issue of crossings is inherently solved using MAT-based path planning since it produces crossings in a manner similar to opposite angle deposition  [34]. Note that the proposed MAT-based path planning algorithm is universal and particularly feasible for arc-welding-based additive manufacturing of complex geometries.

Experiments were conducted using a robotic welding system and robotic machining system at the University of Wollongong, as shown in Fig. 9
                        . An ABB 1400 industrial robot arm with six degrees of freedom was used to generate the movement of the welding torch relative to the substrate, as shown in Fig. 9(a). A larger ABB 6660 robot was used for post-process machining, since it is able to withstand high process forces and enables high-performance applications of finishing and milling. For a detailed description of this experimental arc welding system, refer to  [18]. The pulse-spray GMAW transfer model was used to minimise the heat input. The wire electrode was aluminium (5% Mg) wire with a diameter of 1.2 mm. Argon shielding gas with a flow rate of 15 L/min was used. The experimental conditions were the same as those used to determine the weld bead model in Section  3.4.

Based on the developed automated process planning described in Section  2, the following user friendly interface has been established for a non-expert operator to use the system. The main interface is shown in Fig. 10
                        . A total of seven steps are required, from loading the STL model to generating the robot code.


                        Step  1, load STL model: The experimental input is a digital 3D STL file. After loading the STL model, the structure is obtained as shown in Fig. 6(a).


                        Step  2, bead modelling: By adding experimental results of weld bead profile tests (as provided in Table 2) into the list, the bead model is trained using the artificial neural network (ANN). The bead database is saved for the following steps.


                        Step  3, slicing: After slicing the 3D STL model, 2D slices (layers) are obtained as shown in Fig. 6(b). The desired component is a thin-walled structure with varied wall thickness. The width of the thinnest wall is approximately 2 mm, while that the thickest wall is almost 12 mm.


                        Step  4, path planning: MAT-based paths are automatically generated with appropriate step-over distances according to the information contained in the bead database. The optimal step-over distance of weld beads is determined to obtain a smooth upper surface for each deposited layer  [18]. The final deposition paths are 15 closed loops, as shown in Fig. 11
                        . Note that it seems the generated paths have not envelope the geometry in some edge areas (such as top left corner), while materials with certain bead width are deposited along the path enables fully covering of the geometry. The optimum step-over distance for each path are listed in Table 3
                        .


                        Step  5, weld setting: Weld settings (wire-feed rate, travel speed, and stick-out length) along each of the generated deposition paths are selected automatically based on the established ANN bead model. The welding parameters for each path are listed in Table 3.


                        Step  6, post-process machining: Machining paths are also generated automatically by offsetting the boundary of the geometry with a distance equal to the half of the diameter of the machining tool. Fig. 12
                         shows the tool path for side milling. This single path indicates that the excess material will be removed in a single cut, and that the machining robot has the capacity to perform this action.


                        Step  7, robot code generation: An integrated file with robot code is generated, where the information of deposition paths, the welding parameters along the paths, and the machining tool paths are included.

@&#RESULTS@&#

After the deposition of 8 layers, the near-net shape with a 20 mm height is automatically fabricated. Fig. 13
                        (a) shows the near-net shape of the produced aluminium component. Details of crossings, start/stop sections and corners are shown in Fig. 13(b) and (c). Fig. 14
                        (a) shows the process of post machining, and the final finished part with the desired dimensional tolerances is shown in Fig. 14(b).

@&#DISCUSSION@&#

The near-net shape part that has been deposited automatically from the CAD model using the robotic arc welding AM system has verified the operation of the proposed automated system. The excellent appearance of the produced shape at crossings (shown in Fig. 13(b) in the red circle) indicates that the path planning algorithm has effectively solved the issues at crossings of thin-walled structures. Height errors at start/stops (shown in Fig. 13(b) in the blue circle) are minimised due to the closed loop of the paths. Good quality deposition is also evident at corners, as shown in Fig. 13(c).

In conducting this experiment, a few observations are worth mentioning. For example, the condition of the substrate, including temperature and geometrical shape, has a remarkable influence on the deposition accuracy and surface quality of the following layers. Furthermore, disturbances to the welding process may occasionally occur, depending on the materials, equipment, and deposition process selected, and also the previously deposited layers. The deposition process is sensitive to disturbances from the surface condition of the previously deposited layer. Consequently, defects may be produced as shown in Fig. 13(a) in the red circles. Further online monitoring and control are required to be integrated to the proposed system for automatic in-process control of the deposition. In the event that a disturbance is detected during the deposition of a layer, an intermediate milling operation is required to maintain the surface quality.

In this study, different robots are used for deposition and machining. This results in additional calibration and re-fixturing steps, which imposes difficulties for post-process machining. Therefore, to produce components with high accuracy it is preferable to have an integrated system with the ability to generate a final part using a single machine.

In this particular case study, the machining process was performed after the near-net shape was completely deposited. For other component designs, it may not be possible to delay all machining until the part is entirely deposited due to the limitations of the machining tool or spindle collision issues. Machining from time to time during the deposition process may be required. This will need to be determined through analysing the geometry of the input CAD parts. So, future work concerning optimisation of the machining process is necessary to further develop CAD-to-part arc-welding-based additive manufacturing systems.

@&#CONCLUSIONS@&#

This study has produced an example of an aircraft component having thin-walled structures of varying thickness and containing several crossings. This structure provides significant challenges for the arc-welding-based additive manufacturing process, which has several specific requirements that should be met for optimum results: 
                        
                           •
                           Continuous deposits should be performed in closed loops to minimise start/stops that can otherwise give rise to height errors over multiple layers. As shown in Fig. 13(b) in the blue circle, where the loops are closed, there are no adverse start/stops effects on the deposited surface.

There should be no cross-over of weld paths that create large localised variations in build height at crossings.

Deposition paths which appropriate step-over distances should be generated automatically without human intervention.

Welding parameters are entirely selected automatically, based on the established ANN bead model for the relevant material and wire diameter.

Automated post weld machining enables the final finished part to meet the dimensional specifications.

A suitable interface should enable a non-expert operator to use the arc welding AM process to additively manufacture metal components directly from the 3D digital model.

The automated path design, welding parameter selection, machining code generation, program code generation, and final deposition and machining of the experimental component in this study indicate that the proposed arc-welding-based additive manufacturing system is capable of producing metal components from CAD models. The resulting deposition using the automated system produces a near-net shape, and a finished part having the required geometrical accuracy is obtained after minimal post-process milling. This entire process is performed automatically, and hence contributes to the ultimate goal of producing a practical, computationally efficient and highly automated system for industrial application.

@&#ACKNOWLEDGEMENTS@&#

The authors would like to thank Professor J. Norrish for his expertise in the welding field. Andrew Short is especially thanked for his assistance with the experiments. This work is supported in part by the State Scholarship Fund of the China Scholarship Council (No. 2011684067).

@&#REFERENCES@&#

