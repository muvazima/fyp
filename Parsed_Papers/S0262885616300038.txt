@&#MAIN-TITLE@&#Degenerate motions in multicamera cluster SLAM with non-overlapping fields of view

@&#HIGHLIGHTS@&#


               
                  
                     
                        
                           
                           Analysis of solution degeneracy in general multicamera cluster SLAM.


                        
                        
                           
                           Decomposition of system determines conditions for degeneracy.


                        
                        
                           
                           Dense sub-matrix reveals geometric structure for futher analysis.


                        
                        
                           
                           Identification of degenerate motions independent of feature constellation.


                        
                        
                           
                           Experiments demonstrate that adding features and cameras decreases degenerate set.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

SLAM

Computer vision

Multicamera cluster

Non-overlapping FOV

Degeneracy analysis

Critical motions

@&#ABSTRACT@&#


               
               
                  An analysis of the relative motion and point feature model configurations leading to solution degeneracy is presented, for the case of a Simultaneous Localization and Mapping system using multicamera clusters with non-overlapping fields-of-view. The SLAM optimization system seeks to minimize image space reprojection error and is formulated for a cluster containing any number of component cameras, observing any number of point features over two keyframes. The measurement Jacobian is transformed to expose a reduced-dimension representation such that the degeneracy of the system can be determined by the rank of a dense submatrix. A set of relative motions sufficient for degeneracy are identified for certain cluster configurations, independent of target model geometry. Furthermore, it is shown that increasing the number of cameras within the cluster and observing features across different cameras over the two keyframes reduces the size of the degenerate motion sets significantly.
               
            

@&#INTRODUCTION@&#

Precise robotic motion and manipulation tasks with respect to unknown target environments and objects require an accurate, real-time measurement of the relative position and orientation of the robot and target. Multicamera systems are often employed for robotic pose and target model estimation, as each camera is an inexpensive, light-weight, and passive device capable of collecting a large amount of environment information at high rates. Many researchers across different fields have investigated the use of cameras for the purpose of estimating motion and scene structure. As a result, many techniques using a variety of camera types and configurations have been detailed in the literature.

A camera cluster is composed of any number of simple perspective cameras mounted rigidly with respect to each other, as shown in Fig. 1
                     , including configurations in which their fields-of-view (FOV) are spatially disjoint [1]. This arrangement makes effective use of the camera sensors to cover a large combined FOV with high resolution, and in general, is able to overcome the limitations of other camera configurations, such as scale and translation-rotation motion ambiguities [2]. Additionally, by arranging the cameras to look in many directions, the pose estimation is made more robust since when certain cameras do not see any point features suitable for tracking, the other cameras in the cluster can maintain the localization. In this scenario, camera arrangements with a smaller collective FOV may become lost causing the tracking operation to fail. Several multicamera cluster Simultaneous Localization and Mapping (SLAM) [3] algorithms have been proposed in the literature (e.g. [4,5,6]).

In order for any pose estimation system to operate successfully, the current state must be uniquely recoverable given the measurable outputs up to, and including the current time step. In the context of a multicamera cluster relative pose system, this means that the image measurements must contain sufficient information to recover the cluster motion and the target model parameters, including the proper global scale metric. Within the SLAM system, the quality of the motion and structure parameter estimates are fundamentally linked. Further the convergence properties and accuracy of the solution depends on the point feature constellation geometry and relative motion trajectory of the camera cluster and target during the estimation. Identifying and avoiding configurations where a solution is difficult to recover is vital to successful application to robotics operations.

Furthermore, the solution must be unique since convergence to a different configuration, which may also agree with the measurements, would likely result in failure of perception and control operations. The visual SLAM system can be considered as a physical mechanism with the geometry and links represented in the parametrization. For the solution to converge to a unique configuration, it must be sufficiently constrained by the bearings-only image measurements or the mechanical system is not rigid and the solution can move without violating these constraints.

When the multicamera cluster is configured such that there is little or no spatial FOV overlap between the component cameras, the sensitivity of the image measurements to the global scale of the reconstructed model is low, particularly around specific motion profiles known as critical motions [7]. When the relative motion of the cluster is at or near critical, the global scale of the solution is extremely difficult, if not impossible, to recover accurately. In the presence of measurement noise, the solution will converge to an incorrect scale value. If the motion and structure estimates are used in a control loop, the incorrect scale could result in inefficient or unstable behaviour.

This work investigates the degenerate configurations when estimating the SLAM system states for a calibrated multicamera cluster over two keyframes while observing a set of point features in each camera and using an iterative optimization or recursive filter-based approach, minimizing the image space reprojection error of point feature measurements. This includes Bundle Adjustment (BA) [8] schemes as well as recursive filters such as an extended Kalman filter [9]. The main contribution is the identification of configurations of motion and target model structure leading to non-unique SLAM solutions.

Determining the system configurations leading to solution degeneracy is closely related to the concept of observability in control systems. In the study of observability for nonlinear systems, the local weak observability of the system can be determined by calculating the observability rank condition about any point in the state space [10]. This involves checking the column rank of a matrix containing the partial derivatives with respect to the system states, for increasing orders of Lie derivatives of the measurement model with respect to the system dynamics. When the matrix has full column rank, the system is locally weakly observable about that point.

For a SLAM system using only the visual measurements from the cluster cameras and a non-stationary target, the system does not have a model of the dynamics for the relative motion and therefore, only the zeroth-order Lie derivatives are non-zero. In this case, evaluating the observability rank condition is equivalent to checking the rank of the measurement Jacobian matrix, as will be done here in the degeneracy analysis in Section 4. If the system were to contain a model of the relative motion dynamics, and the extra information that comes with it, the higher-order Lie derivatives of the measurement model would contain non-zero terms and the added matrix rows would only increase the likelihood that the matrix has full column rank at any point in the state space. However, in this analysis, no such assumptions about the relative motion dynamics are made and the degenerate configurations arising from only using image measurements for a set of point features over two keyframes are identified.

The remainder of this paper is arranged as follows: Section 2 contains a review of the previous analyses for degenerate configurations of the multicamera cluster relative pose system; Section 3 presents the multicamera cluster SLAM system; the degenerate configurations of the pose estimation system are identified in Section 4; and finally, conclusions are drawn in Section 5.

@&#RELATED WORK@&#

Previous analyses identifying cluster motions leading to degenerate system solutions have assumed that the five degrees of freedom describing relative orientation and translation direction of the cluster are known using the well-studied single camera ego-motion estimation techniques (e.g. [8]). These include the work of Kim et al. [11], and Clipp et al. [7] for camera clusters with two component cameras, as well as that of the authors [12] for clusters with three component cameras. Of interest are the conditions when the image measurements from the camera cluster are able to allow for estimation of the final degree of freedom, corresponding to the translation magnitude and therefore, global system scale. The analyses show that when each point feature is seen by only one of the two cameras at both keyframes, the global scale of the solution is recoverable only when the relative translational and rotational motion are both non-zero, and does not result in the optical centres of each camera moving in concentric arcs on circles with a common centre at the intersection of the baselines at each keyframe [7]. When a third non-collinear camera is added to the cluster, the set of degenerate motions is reduced to those which result in all the three cameras moving in parallel [12].

Analyses of degeneracies of the full SLAM solution for multicamera clusters have focused on those associated with solving the generalized camera relative pose problem, either linearly using the Generalized Essential Matrix (GEM) [2], or aligning imaging rays in space for minimal cases of camera poses and points [13]. Sturm [14], Stewenius et al. [13], and Mouragnon et al. [15] discuss some degenerate cases, but Kim and Kanade [16] provide the most complete analysis. They identify the following degenerate configurations for generalized cameras using the seventeen point method [2]:


                     
                        
                           1.
                           All of the observation rays pass through one common point before and after the camera motion.

The camera centres are on a line before and after the motion.

Each corresponding ray pair passes through the same local point in the general camera frame before and after the motion.

For a camera cluster with non-overlapping FOV, it is possible that each component camera observes its own mutually exclusive set of feature points over the two keyframes. In this case, the system satisfies condition 3 and the solution to the seventeen point algorithm is always degenerate. However, it is known from previous results that in certain configurations, other solution methods are able to recover an accurate estimate of the motion and structure. Consequently, the seventeen point algorithm does not always recover a solution when one exists. This problem was noticed by Li et al. [17], who have since modified the algorithm for use with non-overlapping clusters, but the subsequent degeneracy analysis has not been carried out. More importantly, the degenerate configurations are specific to the linear method of estimation. In this work, the minimization of image-space reprojection error is considered and the configurations for which an optimization of this type will fail are identified in the subsequent analysis.

An individual component camera within the cluster is modelled as a simple pin-hole imaging device, which maps 3D points onto a 2D plane called the image plane [18]. An example is shown in Fig. 2
                        . A 3D point 
                           
                              
                                 
                                    
                                       
                                          p
                                       
                                    
                                    ˜
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       i
                                    
                                 
                              
                           
                           =
                           
                              
                                 
                                    
                                       
                                          
                                             x
                                          
                                          
                                             
                                                
                                                   C
                                                
                                                
                                                   i
                                                
                                             
                                          
                                       
                                       
                                       
                                          
                                             y
                                          
                                          
                                             
                                                
                                                   C
                                                
                                                
                                                   i
                                                
                                             
                                          
                                       
                                       
                                       
                                          
                                             z
                                          
                                          
                                             
                                                
                                                   C
                                                
                                                
                                                   i
                                                
                                             
                                          
                                       
                                       
                                       1
                                    
                                 
                              
                              
                                 ⊤
                              
                           
                        , represented in the projective space ℙ3 (refer to Appendix A for a brief introduction), and expressed with respect to the ith camera coordinate frame, C
                        
                           i
                        , is projected onto the image plane I
                        
                           i
                        . The intersection of the point feature ray 
                           
                              
                                 
                                    
                                       
                                          p
                                       
                                    
                                    ˜
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       i
                                    
                                 
                              
                           
                        , through the optical centre, o
                        
                           i
                        , with the image plane occurs at the point, [u v]⊤∈ℝ2. It is assumed that each camera has been intrinsically calibrated using one of the many existing offline techniques [8], such that the measurements are made to match the structure shown.

The camera projection matrix, κ
                        
                           i
                        , maps the point in ℙ3 into ℙ2 on the image plane. It is assumed in this work, without loss of generality, that the projection matrices for all of the cameras have the form, 
                           
                              (1)
                              
                                 
                                    
                                       
                                          κ
                                       
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                −
                                                1
                                             
                                             
                                                0
                                             
                                             
                                                0
                                             
                                             
                                                0
                                             
                                          
                                          
                                             
                                                0
                                             
                                             
                                                −
                                                1
                                             
                                             
                                                0
                                             
                                             
                                                0
                                             
                                          
                                          
                                             
                                                0
                                             
                                             
                                                0
                                             
                                             
                                                1
                                             
                                             
                                                0
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        The point 
                           
                              
                                 
                                    
                                       
                                          p
                                       
                                    
                                    ˜
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       i
                                    
                                 
                              
                           
                         is projected into ℙ2 on the image plane, 
                           
                              (2)
                              
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       
                                          
                                             I
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          κ
                                       
                                    
                                    
                                       i
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        then subsequently mapped to the actual image plane coordinates in ℝ2 through the demotion function 
                           π
                        
                        2 for ℙ2, 
                           
                              (3)
                              
                                 
                                    
                                       
                                          π
                                       
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       
                                          
                                             I
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             
                                                u
                                             
                                          
                                          
                                             
                                                v
                                             
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      −
                                                      
                                                         
                                                            x
                                                         
                                                         
                                                            
                                                               
                                                                  C
                                                               
                                                               
                                                                  i
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            z
                                                         
                                                         
                                                            
                                                               
                                                                  C
                                                               
                                                               
                                                                  i
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      −
                                                      
                                                         
                                                            y
                                                         
                                                         
                                                            
                                                               
                                                                  C
                                                               
                                                               
                                                                  i
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            z
                                                         
                                                         
                                                            
                                                               
                                                                  C
                                                               
                                                               
                                                                  i
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ,
                                 
                                 
                                    
                                       z
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ≠
                                 0
                                 .
                              
                           
                        
                     

Each camera is assumed to have an FOV strictly less than 180 degrees and therefore, is only able to observe points in front of the lens so every point is constrained to have a positive z-axis coordinate, 
                           
                              (4)
                              
                                 
                                    
                                       z
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 >
                                 0
                                 ,
                              
                           
                        which satisfies Eq. (3).

Collectively, the calibrated camera cluster is modelled as a set of n
                        
                           c
                         component pin-hole cameras with known relative coordinate transformations between each camera coordinate frame. Accordingly, a point 
                           
                              
                                 
                                    
                                       
                                          p
                                       
                                    
                                    ˜
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       h
                                    
                                 
                              
                           
                         in the camera frame C
                        
                           h
                        , can be transformed into any other camera frame C
                        
                           i
                         by, 
                           
                              (5)
                              
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              
                                 
                                    T
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       h
                                    
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       i
                                    
                                 
                              
                           
                           ∈
                           S
                           E
                           (
                           3
                           )
                        , 
                           ∀
                           i
                           ,
                           h
                           ∈
                           {
                           1
                           ,
                           …
                           ,
                           
                              
                                 n
                              
                              
                                 c
                              
                           
                           }
                        , is a homogeneous transformation matrix  [19]. Without loss of generality, the coordinate frame for the camera cluster is chosen to coincide with the first camera frame, C
                        1. The transformation from camera h to the cluster frame can be written in shortened form as 
                           
                              
                                 
                                    T
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       h
                                    
                                 
                              
                           
                           ≡
                           
                              
                                 
                                    T
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       h
                                    
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       1
                                    
                                 
                              
                           
                        , where the cluster frame C
                        1 is implied when the superscript is neglected. The transformation is shown in Fig. 3
                        .

The tracked target object or environment, henceforth referred to simply as the target, is a rigid body which contains a set of visible point features. A point feature is a visually distinguishable point on the tracked physical target that corresponds to a unique 3D position in a local target coordinate frame M, and is measurable in a set of camera images through a relative motion sequence. Image measurements of these point features are extracted from the images using image processing techniques, including feature extraction algorithms like the FAST corner detector [20,21], the Scale-Invariant Feature Transform (SIFT) [22], or Speeded-Up Robust Features (SURF) [23].

The target model point features are organized into n
                        
                           k
                         keyframes, each a six degree of freedom pose with respect to the target model reference frame M, along with the n
                        
                           c
                         images from the cluster cameras captured at that location, as in [24] for a single camera. The coordinate frame of camera h at keyframe k is denoted C
                        
                           h
                        
                        K
                        
                           k
                        .

Since the relative position and orientation of each camera within the cluster is fixed at all times, the kth keyframe pose is parameterized by the single homogeneous transformation for the cluster coordinate frame at the keyframe, C
                        1
                        K
                        
                           k
                        , with respect to the target model reference frame, M, resulting in 
                           
                              
                                 
                                    T
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       1
                                    
                                 
                                 
                                    
                                       K
                                    
                                    
                                       k
                                    
                                 
                              
                              
                                 M
                              
                           
                           ∈
                           S
                           E
                           (
                           3
                           )
                        . The C
                        1 and M frames are applied universally in this keyframe pose definition, and therefore, the transformation will be written simply as 
                           
                              
                                 
                                    T
                                 
                              
                              
                                 
                                    
                                       K
                                    
                                    
                                       k
                                    
                                 
                              
                           
                           ≡
                           
                              
                                 
                                    T
                                 
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       1
                                    
                                 
                                 
                                    
                                       K
                                    
                                    
                                       k
                                    
                                 
                              
                              
                                 M
                              
                           
                        . The pose of camera h at keyframe k is easily found as, 
                           
                              (6)
                              
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                       
                                          
                                             K
                                          
                                          
                                             k
                                          
                                       
                                    
                                    
                                       M
                                    
                                 
                                 =
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             k
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

The position of the jth point feature is parameterized by the azimuth and altitude angles of the vector from the origin of the anchor camera coordinate frame through the feature, 
                           μ
                        
                        
                           j
                         =[ϕ
                        
                           j
                        ,θ
                        
                           j
                        ]⊤ where 
                           
                              
                                 ϕ
                              
                              
                                 j
                              
                           
                           ,
                           
                              
                                 θ
                              
                              
                                 j
                              
                           
                           ∈
                           
                              
                                 −
                                 
                                    
                                       π
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       π
                                    
                                    
                                       2
                                    
                                 
                              
                           
                        . The depth along this bearing to the point feature, is the value s
                        
                           j
                         ∈ℝ
                           +. The bearing angles are used to form the unit vector in the camera coordinate frame at the first keyframe, 
                           
                              (7)
                              
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ^
                                       
                                    
                                    
                                       j
                                    
                                    
                                       h
                                       ,
                                       1
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                sin
                                                ⁡
                                                
                                                   
                                                      ϕ
                                                   
                                                   
                                                      j
                                                   
                                                
                                                cos
                                                ⁡
                                                
                                                   
                                                      θ
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                          
                                          
                                             
                                                −
                                                sin
                                                ⁡
                                                
                                                   
                                                      θ
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                          
                                          
                                             
                                                cos
                                                ⁡
                                                
                                                   
                                                      ϕ
                                                   
                                                   
                                                      j
                                                   
                                                
                                                cos
                                                ⁡
                                                
                                                   
                                                      θ
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        and the point feature position is along this bearing at the distance s
                        
                           j
                        , 
                           
                              (8)
                              
                                 
                                    
                                       
                                          p
                                       
                                    
                                    
                                       j
                                    
                                    
                                       h
                                       ,
                                       1
                                    
                                 
                                 =
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ^
                                       
                                    
                                    
                                       j
                                    
                                    
                                       h
                                       ,
                                       1
                                    
                                 
                                 .
                              
                           
                        
                     

The separation of the bearing and range parameters for the point feature coordinates in this parameterization allows for isolating the components of the point position that are readily determined. Since the cameras are bearing-only measurement devices, the bearing to each point feature is found from only one observation. However, the range to the point must be triangulated over multiple observations. This parameterization is similar to the Inverse Depth Parameterization (IDP) by Civera et al. [25].

An example system with a camera cluster composed of n
                        
                           c
                        
                        =2 cameras is shown in Fig. 4
                        . The cameras in this example are arranged back-to-back with the optical axes looking outwards along the green axes of the associated coordinate frames. The jth point feature is anchored in the second camera at the first keyframe, C
                        2
                        K
                        1, and its position with respect to this coordinate frame is represented as 
                           
                              
                                 
                                    p
                                 
                              
                              
                                 j
                              
                              
                                 2
                                 ,
                                 1
                              
                           
                        .

The parameters representing the poses of the keyframes, together with the positions of the point features observed within them, compose the target model, as well as the full system state. These parameters are estimated using the point feature image measurements within the cluster cameras.

This work considers the motion and structure estimation for a cluster of n
                        
                           c
                         cameras observing a set of n
                        
                           f
                         point features over two keyframes. The cameras within the cluster are arranged with little or no overlap in their FOV where each point feature in the target model is visible in only one camera at the first keyframe. Without loss of generality, the target model frame is chosen to coincide with the pose of the first keyframe M ≡ C
                        1
                        K
                        1. This results in the keyframe transformation becoming the identity, 
                           
                              (9)
                              
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             1
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          I
                                       
                                    
                                    
                                       4
                                       ×
                                       4
                                    
                                 
                                 .
                              
                           
                        
                     

Several further assumptions about the system are made to facilitate the analysis in the subsequent sections:


                        
                           Assumption 3.1
                           Each point feature is observed and measured by only one of the component cameras at the first keyframe. The position of the point feature is expressed with respect to the coordinate frame for that camera at the first keyframe. The coordinate frame in which the point feature is parameterized is referred to as the anchor keyframe and camera coordinate frame.


                        
                           Assumption 3.2
                           Each point feature is observed and measured by one or more of the component cameras at the second keyframe. At least one of the observations is by a camera for which its motion is not collinear with the initial bearing to the point feature at the first keyframe. The camera and keyframe in which the observation occurs is called the observing keyframe and camera coordinate frame.


                        
                           Assumption 3.3
                           The point feature positions and keyframe poses are arranged such that if a camera observes a point feature, the feature position expressed in the observing camera coordinate frame has a finite positive non-zero z-axis component, 0 < z < ∞.

For Assumption 3.1, the function 
                           h
                           :
                           {
                           1
                           ,
                           …
                           ,
                           
                              
                                 n
                              
                              
                                 f
                              
                           
                           }
                           →
                           {
                           1
                           ,
                           …
                           ,
                           
                              
                                 n
                              
                              
                                 c
                              
                           
                           }
                         maps the point feature index to the anchor camera index. As a result, the anchor camera for the jth point feature is camera h(j). In the following, when it is obvious from the context, the anchor camera index will be written in the shortened-form by dropping the argument, h ≡ h(j).

Similarly for Assumption 3.2, the jth point feature is observed and measured by n
                        
                           o
                        (j) ∈ℕ
                           + cameras at the second keyframe. The indices of the observing cameras are found using the function 
                           i
                           :
                           {
                           1
                           ,
                           …
                           ,
                           
                              
                                 n
                              
                              
                                 f
                              
                           
                           }
                           ×
                           {
                           1
                           ,
                           …
                           ,
                           
                              
                                 n
                              
                              
                                 o
                              
                           
                           (
                           j
                           )
                           }
                           →
                           {
                           1
                           ,
                           …
                           ,
                           
                              
                                 n
                              
                              
                                 c
                              
                           
                           }
                        , such that the kth observation of the jth point feature at the second keyframe is measured by camera i(j,k). Once again, this will be shortened to exclude the feature index j and observation index k when it is implied by the context, i ≡ i(k) ≡ i(j,k).

The motion of the camera cluster between the two keyframes is parameterized by six values describing the relative translation and orientation of the first keyframe with respect to the second keyframe. The translation parameters, t
                        
                           x
                        , t
                        
                           y
                        , t
                        
                           z
                        , form the relative translation vector, t
                        
                           K
                        
                        =[t
                        
                           x
                        ,t
                        
                           y
                        ,t
                        
                           z
                        ]⊤, and the angle-axis rotation parameters, 
                           ω
                        
                        
                           K
                        
                        =[ω
                        
                           x
                        ,ω
                        
                           y
                        ,ω
                        
                           z
                        ]⊤, form the relative rotation matrix, 
                           
                              
                                 
                                    R
                                 
                              
                              
                                 K
                              
                           
                           ∈
                           S
                           O
                           (
                           3
                           )
                        , using the Rodrigues' rotation formula [8]. Together, the rotation and translation form the transformation, T
                        
                           K
                         ∈ SE(3).

The resulting state vector, x ∈ℝ
                           n
                        , where n
                        =6+3n
                        
                           f
                        , is composed of the parameters for the n
                        
                           f
                         point features, along with the relative translation and orientation states for the cluster motion between the keyframes, 
                           
                              (10)
                              
                                 
                                    x
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                   
                                                   
                                                      2
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                   
                                                   
                                                      3
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              (11)
                              
                                 
                                    
                                       
                                          x
                                       
                                    
                                    
                                       1
                                    
                                 
                                 =
                                 
                                    
                                       [
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       …
                                       ,
                                       
                                          
                                             s
                                          
                                          
                                             
                                                
                                                   n
                                                
                                                
                                                   f
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    
                                       ⊤
                                    
                                 
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       +
                                    
                                    
                                       
                                          
                                             n
                                          
                                          
                                             f
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        are the radial distances to the point features, 
                           
                              (12)
                              
                                 
                                    
                                       
                                          x
                                       
                                    
                                    
                                       2
                                    
                                 
                                 =
                                 
                                    
                                       [
                                       
                                          
                                             
                                                t
                                             
                                          
                                          
                                             K
                                          
                                       
                                       
                                          
                                          
                                             ⊤
                                          
                                       
                                       ,
                                       
                                          
                                             ω
                                          
                                          
                                             K
                                          
                                       
                                       
                                          
                                          
                                             ⊤
                                          
                                       
                                       ]
                                    
                                    
                                       ⊤
                                    
                                 
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       6
                                    
                                 
                                 ,
                              
                           
                        are the relative position and orientation of the first keyframe with respect to the second keyframe and, 
                           
                              (13)
                              
                                 
                                    
                                       
                                          x
                                       
                                    
                                    
                                       3
                                    
                                 
                                 =
                                 
                                    
                                       [
                                       
                                          
                                             
                                                μ
                                             
                                          
                                          
                                             1
                                          
                                       
                                       
                                          
                                          
                                             ⊤
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                μ
                                             
                                          
                                          
                                             2
                                          
                                       
                                       
                                          
                                          
                                             ⊤
                                          
                                       
                                       ,
                                       …
                                       ,
                                       
                                          
                                             
                                                μ
                                             
                                          
                                          
                                             
                                                
                                                   n
                                                
                                                
                                                   f
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             ⊤
                                          
                                       
                                       ]
                                    
                                    
                                       ⊤
                                    
                                 
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       2
                                       
                                          
                                             n
                                          
                                          
                                             f
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        are the bearings to the point features in their respective anchor camera coordinate frames. This state order has been specifically chosen in order to facilitate the analysis of the degeneracies of the solution presented in Section 4.

The system measurement vector, z ∈ℝ
                           m
                        , is formed by stacking the image plane coordinates of all of the point feature observations in all cameras at both keyframes, where m
                        =2(n
                        
                           f
                        
                        +
                        m
                        
                           o
                        ) with 
                           
                              (14)
                              
                                 
                                    
                                       m
                                    
                                    
                                       o
                                    
                                 
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       j
                                       =
                                       1
                                    
                                    
                                       
                                          
                                             n
                                          
                                          
                                             f
                                          
                                       
                                    
                                 
                                 
                                    
                                       n
                                    
                                    
                                       o
                                    
                                 
                                 (
                                 j
                                 )
                                 ,
                              
                           
                        as the total number of observations of all of the point features at the second keyframe.

The measurement model, relating the observed point feature locations in the camera image planes, to the system states, can be written as a series of coordinate transformations. Suppose that the jth point feature, anchored in the coordinate frame C
                        
                           h
                        
                        K
                        1, is measured by camera i at C
                        
                           i
                        
                        K
                        2. An example of this chain of transformations is shown for the simple back-to-back two-camera cluster system in Fig. 4. In this particular case, the point feature j is anchored in C
                        2
                        K
                        1 and observed in C
                        2
                        K
                        2.

The point feature position parameters give the location of the jth feature in its anchor keyframe and camera frame C
                        
                           h
                        
                        K
                        1, resulting in 
                           
                              
                                 
                                    p
                                 
                              
                              
                                 j
                              
                              
                                 h
                                 ,
                                 1
                              
                           
                        . This point feature is first transformed into the target model coordinate frame by, 
                           
                              (15)
                              
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       j
                                    
                                    
                                       M
                                    
                                 
                                 =
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             1
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       j
                                    
                                    
                                       h
                                       ,
                                       1
                                    
                                 
                              
                           
                        
                        
                           
                              (16)
                              
                                 =
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       j
                                    
                                    
                                       h
                                       ,
                                       1
                                    
                                 
                                 ,
                              
                           
                        which is the transformation provided by the known cluster calibration.

The point feature position, with position estimate expressed in the target model reference frame, is transformed into the coordinate frame of the observing keyframe and camera C
                        
                           i
                        
                        K
                        
                           ℓ
                         using the relative keyframe pose transformation, 
                           
                              
                                 
                                    T
                                 
                              
                              
                                 
                                    
                                       K
                                    
                                    
                                       ℓ
                                    
                                 
                              
                           
                        , and the cluster calibration, 
                           
                              (17)
                              
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       ,
                                       ℓ
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            x
                                                         
                                                         
                                                            j
                                                         
                                                         
                                                            i
                                                            ,
                                                            ℓ
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            y
                                                         
                                                         
                                                            j
                                                         
                                                         
                                                            i
                                                            ,
                                                            ℓ
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            z
                                                         
                                                         
                                                            j
                                                         
                                                         
                                                            i
                                                            ,
                                                            ℓ
                                                         
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                              
                           
                        
                        
                           
                              (18)
                              
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      T
                                                   
                                                
                                                
                                                   
                                                      
                                                         C
                                                      
                                                      
                                                         i
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      T
                                                   
                                                
                                                
                                                   
                                                      
                                                         K
                                                      
                                                      
                                                         ℓ
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       j
                                    
                                    
                                       M
                                    
                                 
                              
                           
                        
                        
                           
                              (19)
                              
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      T
                                                   
                                                
                                                
                                                   
                                                      
                                                         C
                                                      
                                                      
                                                         i
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      T
                                                   
                                                
                                                
                                                   
                                                      
                                                         K
                                                      
                                                      
                                                         ℓ
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       j
                                    
                                    
                                       h
                                       ,
                                       1
                                    
                                 
                                 .
                              
                           
                        
                     

Finally, the point is projected into ℙ2 and onto the image plane of camera C
                        
                           i
                         using the corresponding projection matrix, 
                           κ
                        
                        
                           i
                        , 
                           
                              (20)
                              
                                 
                                    
                                       
                                          
                                             
                                                u
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       ,
                                       ℓ
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            u
                                                         
                                                         
                                                            x
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            u
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            u
                                                         
                                                         
                                                            z
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                              
                           
                        
                        
                           
                              (21)
                              
                                 =
                                 
                                    
                                       κ
                                    
                                    
                                       i
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       ,
                                       ℓ
                                    
                                 
                              
                           
                        
                        
                           
                              (22)
                              
                                 =
                                 
                                    
                                       
                                          
                                             
                                                −
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      j
                                                   
                                                   
                                                      i
                                                      ,
                                                      ℓ
                                                   
                                                
                                             
                                          
                                          
                                             
                                                −
                                                
                                                   
                                                      y
                                                   
                                                   
                                                      j
                                                   
                                                   
                                                      i
                                                      ,
                                                      ℓ
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      z
                                                   
                                                   
                                                      j
                                                   
                                                   
                                                      i
                                                      ,
                                                      ℓ
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        which leads to the resulting measurement vector 
                           
                              
                                 
                                    z
                                 
                              
                              
                                 j
                              
                              
                                 i
                                 ,
                                 ℓ
                              
                           
                           ∈
                           
                              
                                 R
                              
                              
                                 2
                              
                           
                         and mapping 
                           
                              
                                 
                                    g
                                 
                              
                              
                                 j
                              
                              
                                 i
                                 ,
                                 ℓ
                              
                           
                           :
                           
                              
                                 R
                              
                              
                                 n
                              
                           
                           →
                           
                              
                                 R
                              
                              
                                 2
                              
                           
                         for the observation of point feature j in camera i at keyframe ℓ, 
                           
                              (23)
                              
                                 
                                    
                                       
                                          z
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       ,
                                       ℓ
                                    
                                 
                                 =
                                 
                                    
                                       
                                          g
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       ,
                                       ℓ
                                    
                                 
                                 (
                                 
                                    x
                                 
                                 )
                                 =
                                 
                                    
                                       π
                                    
                                    
                                       2
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      u
                                                   
                                                
                                                ˜
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             ,
                                             ℓ
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

Each of the intermediate transformations in Eq. (19) can be represented by a rotation matrix and translation vector, 
                           
                              (24)
                              
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         R
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            C
                                                         
                                                         
                                                            h
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         t
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            C
                                                         
                                                         
                                                            h
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      0
                                                   
                                                   
                                                      1
                                                      ×
                                                      3
                                                   
                                                
                                             
                                             
                                                1
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (25)
                              
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ℓ
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         R
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            K
                                                         
                                                         
                                                            ℓ
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         t
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            K
                                                         
                                                         
                                                            ℓ
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         0
                                                      
                                                   
                                                   
                                                      1
                                                      ×
                                                      3
                                                   
                                                
                                             
                                             
                                                1
                                             
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         I
                                                      
                                                   
                                                   
                                                      4
                                                      ×
                                                      4
                                                   
                                                
                                                ,
                                             
                                             
                                                ℓ
                                                =
                                                1
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        R
                                                                     
                                                                  
                                                                  
                                                                     K
                                                                  
                                                                  
                                                                     ⊤
                                                                  
                                                               
                                                            
                                                            
                                                               −
                                                               
                                                                  
                                                                     
                                                                        R
                                                                     
                                                                  
                                                                  
                                                                     K
                                                                  
                                                                  
                                                                     ⊤
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        t
                                                                     
                                                                  
                                                                  
                                                                     K
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        0
                                                                     
                                                                  
                                                                  
                                                                     1
                                                                     ×
                                                                     3
                                                                  
                                                               
                                                            
                                                            
                                                               1
                                                            
                                                         
                                                      
                                                   
                                                
                                                ,
                                             
                                             
                                                ℓ
                                                =
                                                2
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (26)
                              
                                 
                                    
                                       
                                          T
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         R
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            C
                                                         
                                                         
                                                            i
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         t
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            C
                                                         
                                                         
                                                            i
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         0
                                                      
                                                   
                                                   
                                                      1
                                                      ×
                                                      3
                                                   
                                                
                                             
                                             
                                                1
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

When Eqs. (24)–(26) are substituted into Eq. (19) along with Eq. (8), the coordinates of the point feature position in ℝ3 become, 
                           
                              (27)
                              
                                 
                                    
                                       
                                          p
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       ,
                                       ℓ
                                    
                                 
                                 =
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                 
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ℓ
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ^
                                       
                                    
                                    
                                       j
                                    
                                    
                                       h
                                       ,
                                       1
                                    
                                 
                                 −
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ℓ
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          t
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ℓ
                                          
                                       
                                    
                                 
                                 +
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ℓ
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          t
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                                 −
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          t
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (28)
                              
                                 =
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             j
                                          
                                       
                                       
                                          
                                             
                                                R
                                             
                                          
                                          
                                             
                                                
                                                   K
                                                
                                                
                                                   ℓ
                                                
                                             
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             
                                                R
                                             
                                          
                                          
                                             
                                                
                                                   C
                                                
                                                
                                                   h
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      p
                                                   
                                                
                                                ^
                                             
                                          
                                          
                                             j
                                          
                                          
                                             h
                                             ,
                                             1
                                          
                                       
                                       −
                                       
                                          
                                             
                                                R
                                             
                                          
                                          
                                             
                                                
                                                   K
                                                
                                                
                                                   ℓ
                                                
                                             
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             
                                                t
                                             
                                          
                                          
                                             
                                                
                                                   K
                                                
                                                
                                                   ℓ
                                                
                                             
                                          
                                       
                                       +
                                       
                                          
                                             
                                                R
                                             
                                          
                                          
                                             
                                                
                                                   K
                                                
                                                
                                                   ℓ
                                                
                                             
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             
                                                t
                                             
                                          
                                          
                                             
                                                
                                                   C
                                                
                                                
                                                   h
                                                
                                             
                                          
                                       
                                       −
                                       
                                          
                                             
                                                t
                                             
                                          
                                          
                                             
                                                
                                                   C
                                                
                                                
                                                   i
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (29)
                              
                                 =
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          q
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       ,
                                       ℓ
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              (30)
                              
                                 
                                    
                                       
                                          q
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       ,
                                       ℓ
                                    
                                 
                                 =
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                a
                                             
                                          
                                          ^
                                       
                                    
                                    
                                       j
                                       ,
                                       ℓ
                                    
                                 
                                 +
                                 
                                    
                                       
                                          b
                                       
                                    
                                    
                                       ℓ
                                    
                                 
                                 +
                                 
                                    
                                       
                                          c
                                       
                                    
                                    
                                       h
                                       ,
                                       ℓ
                                    
                                 
                                 +
                                 
                                    
                                       
                                          d
                                       
                                    
                                    
                                       i
                                    
                                 
                              
                           
                        with 
                           
                              (31)
                              
                                 
                                    
                                       
                                          
                                             
                                                a
                                             
                                          
                                          ^
                                       
                                    
                                    
                                       j
                                       ,
                                       ℓ
                                    
                                 
                                 =
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ℓ
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                p
                                             
                                          
                                          ^
                                       
                                    
                                    
                                       j
                                    
                                    
                                       h
                                       ,
                                       1
                                    
                                 
                              
                           
                        
                        
                           
                              (32)
                              
                                 
                                    
                                       
                                          b
                                       
                                    
                                    
                                       ℓ
                                    
                                 
                                 =
                                 −
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ℓ
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          t
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ℓ
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (33)
                              
                                 
                                    
                                       
                                          c
                                       
                                    
                                    
                                       h
                                       ,
                                       ℓ
                                    
                                 
                                 =
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ℓ
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          t
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (34)
                              
                                 
                                    
                                       
                                          d
                                       
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 −
                                 
                                    
                                       
                                          t
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                              
                           
                        and 
                           
                              (35)
                              
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               n
                                                            
                                                         
                                                         ^
                                                      
                                                   
                                                   
                                                      i
                                                      ,
                                                      x
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               n
                                                            
                                                         
                                                         ^
                                                      
                                                   
                                                   
                                                      i
                                                      ,
                                                      y
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               n
                                                            
                                                         
                                                         ^
                                                      
                                                   
                                                   
                                                      i
                                                      ,
                                                      z
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ∈
                                 S
                                 O
                                 (
                                 3
                                 )
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    
                                       
                                          n
                                       
                                    
                                    ^
                                 
                              
                              
                                 i
                                 ,
                                 x
                              
                           
                        , 
                           
                              
                                 
                                    
                                       
                                          n
                                       
                                    
                                    ^
                                 
                              
                              
                                 i
                                 ,
                                 y
                              
                           
                        , and 
                           
                              
                                 
                                    
                                       
                                          n
                                       
                                    
                                    ^
                                 
                              
                              
                                 i
                                 ,
                                 z
                              
                           
                         are the orthonormal basis vectors for the observing camera i frame with respect to the camera 1 coordinate frame. An example system consisting of the cameras observing point features over two keyframes is shown in Fig. 5
                         with the intermediate variables labelled.

The set of camera observation vectors for point feature j is defined as the displacements between the anchor camera coordinate frame at the first keyframe, C
                        
                           h
                        
                        K
                        1, and the centres of each of the observing cameras at the second keyframe, C
                        
                           i(k)
                        K
                        2, 
                           ∀
                           k
                           ∈
                           {
                           1
                           ,
                           …
                           ,
                           
                              
                                 n
                              
                              
                                 o
                              
                           
                           (
                           j
                           )
                           }
                        . The set of vectors are, 
                           
                              (36)
                              
                                 V
                                 =
                                 {
                                 
                                    
                                       
                                          v
                                       
                                    
                                    
                                       α
                                       ,
                                       β
                                    
                                 
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       3
                                    
                                 
                                 |
                                 α
                                 ,
                                 β
                                 ∈
                                 
                                    
                                       N
                                    
                                    
                                       +
                                    
                                 
                                 ,
                                 α
                                 ≤
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                                 and
                                 β
                                 ≤
                                 
                                    
                                       n
                                    
                                    
                                       o
                                    
                                 
                                 (
                                 α
                                 )
                                 }
                                 .
                              
                           
                        
                     

Therefore, if it is included in the set V, the camera observation vector can be written as, 
                           
                              (37)
                              
                                 
                                    
                                       
                                          v
                                       
                                    
                                    
                                       α
                                       ,
                                       β
                                    
                                 
                                 =
                                 
                                    
                                       
                                          b
                                       
                                    
                                    
                                       2
                                    
                                 
                                 +
                                 
                                    
                                       
                                          c
                                       
                                    
                                    
                                       h
                                       (
                                       α
                                       )
                                       ,
                                       2
                                    
                                 
                                 +
                                 
                                    
                                       
                                          d
                                       
                                    
                                    
                                       i
                                       (
                                       β
                                       )
                                    
                                 
                                 .
                              
                           
                        and is illustrated in the example system shown in Fig. 6
                        .

The image coordinates of each individual point feature observation measurements are then compiled into a vector for point feature j containing all of the individual observations of that feature at both keyframes, 
                           
                              (38)
                              
                                 
                                    
                                       
                                          z
                                       
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         z
                                                      
                                                   
                                                   
                                                      j
                                                   
                                                   
                                                      i
                                                      (
                                                      1
                                                      )
                                                      ,
                                                      2
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         z
                                                      
                                                   
                                                   
                                                      j
                                                   
                                                   
                                                      i
                                                      (
                                                      
                                                         
                                                            n
                                                         
                                                         
                                                            o
                                                         
                                                      
                                                      )
                                                      ,
                                                      2
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         z
                                                      
                                                   
                                                   
                                                      j
                                                   
                                                   
                                                      h
                                                      ,
                                                      1
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       2
                                       +
                                       2
                                       
                                          
                                             n
                                          
                                          
                                             o
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        where n
                        
                           o
                         ≡ n
                        
                           o
                        (j) > 0 is the number of observations of the jth point feature at the second keyframe.

The full system measurement vector is composed of the observations of the n
                        
                           f
                         point features at both keyframes, 
                           
                              (39)
                              
                                 
                                    z
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         z
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         z
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            n
                                                         
                                                         
                                                            f
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       m
                                    
                                 
                                 .
                              
                           
                        
                     

In this section, degenerate configurations of relative cluster motion and target model point feature geometry are analysed for the multicamera cluster SLAM system. Whether or not the system measurement Jacobian J is full rank, is shown to be determined by whether the dense sub-matrix M
                     2 is full rank. This matrix is a function of both the relative cluster motion and target model geometry. Therefore, the degenerate configurations of the system are those for which rank (M
                     2) < 6.

Furthermore, a set of cluster relative motions that are sufficient for solution degeneracy are identified. This subset of the degenerate configurations depends only on the relative motion and is independent of the point feature constellation.

Finally, some example systems are analysed numerically to offer insight into the complete necessary and sufficient set of degenerate configurations. Though not exhaustive, they serve to demonstrate the decreasing degenerate set size when adding more point feature observations to the SLAM system.

Typical optimization methods attempt to minimize a nonlinear cost function, 
                           c
                           :
                           
                              
                                 R
                              
                              
                                 n
                              
                           
                           →
                           R
                        , and determine the optimal state vector estimate, 
                           
                              
                                 
                                    
                                       x
                                    
                                 
                                 ̆
                              
                              
                                 *
                              
                           
                           ∈
                           
                              
                                 R
                              
                              
                                 n
                              
                           
                        , such that, 
                           
                              (40)
                              
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                          
                                          ̆
                                       
                                    
                                    
                                       *
                                    
                                 
                                 =
                                 
                                    
                                       arg
                                       min
                                    
                                    
                                       
                                          x
                                       
                                    
                                 
                                 
                                 c
                                 (
                                 
                                    x
                                 
                                 )
                                 .
                              
                           
                        
                     

The optimization proceeds iteratively, starting with an initial state estimate, 
                           
                              
                                 
                                    
                                       x
                                    
                                 
                                 ̆
                              
                              0
                           
                           ∈
                           
                              
                                 R
                              
                              
                                 n
                              
                           
                        . Each iteration seeks to update the current state estimate, 
                           
                              
                                 
                                    
                                       x
                                    
                                 
                                 ̆
                              
                              k
                           
                        , with a vector 
                           
                              
                                 
                                    δ
                                 
                              
                              
                                 k
                              
                           
                           ∈
                           
                              
                                 R
                              
                              
                                 n
                              
                           
                        , 
                           
                              (41)
                              
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                          
                                          ̆
                                       
                                    
                                    
                                       k
                                       +
                                       1
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                          
                                          ̆
                                       
                                    
                                    
                                       k
                                    
                                 
                                 +
                                 
                                    
                                       
                                          δ
                                       
                                    
                                    
                                       k
                                    
                                 
                                 ,
                              
                           
                        such that the sequence 
                           {
                           
                              
                                 
                                    
                                       
                                          x
                                       
                                    
                                    ̆
                                 
                              
                              
                                 0
                              
                           
                           ,
                           
                              
                                 
                                    
                                       
                                          x
                                       
                                    
                                    ̆
                                 
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 
                                    
                                       
                                          x
                                       
                                    
                                    ̆
                                 
                              
                              
                                 2
                              
                           
                           ,
                           …
                           
                           }
                           →
                           
                              
                                 
                                    
                                       
                                          x
                                       
                                    
                                    ̆
                                 
                              
                              
                                 *
                              
                           
                        . In this analysis, a cost function relating to the sum of squared measurement error is assumed, 
                           
                              (42)
                              
                                 c
                                 (
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                          
                                          ̆
                                       
                                    
                                    
                                       k
                                    
                                 
                                 )
                                 =
                                 
                                    
                                       1
                                    
                                    
                                       2
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                z
                                             
                                          
                                          ‾
                                       
                                    
                                    
                                       k
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                z
                                             
                                          
                                          ‾
                                       
                                    
                                    
                                       k
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    
                                       
                                          z
                                       
                                    
                                    ‾
                                 
                              
                              
                                 k
                              
                           
                           =
                           
                              z
                           
                           −
                           
                              g
                           
                           (
                           
                              
                                 
                                    
                                       
                                          x
                                       
                                    
                                    ̆
                                 
                              
                              
                                 k
                              
                           
                           )
                           ∈
                           
                              
                                 R
                              
                              
                                 m
                              
                           
                         is the measurement error vector at iteration k.

Commonly-used optimization algorithms include the Levenberg–Marquardt (LM) method [8], Gauss–Newton, gradient descent, or Newton step. Each of these optimization methods can operate using the sum of squared reprojection error and the parameter update δ
                        
                           k
                         is defined as the solution to, 
                           
                              (43)
                              
                                 
                                    N
                                 
                                 
                                    
                                       
                                          δ
                                       
                                    
                                    
                                       k
                                    
                                 
                                 =
                                 
                                    
                                       
                                          J
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                z
                                             
                                          
                                          ‾
                                       
                                    
                                    
                                       k
                                    
                                 
                              
                           
                        where N is the normal matrix, which varies by optimization method, and J is the measurement Jacobian such that, 
                           
                              (44)
                              
                                 
                                    J
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∂
                                                   
                                                      g
                                                   
                                                   (
                                                   
                                                      x
                                                   
                                                   )
                                                
                                                
                                                   ∂
                                                   
                                                      x
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          x
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                
                                                ̆
                                             
                                          
                                          
                                             k
                                          
                                       
                                    
                                 
                                 ∈
                                 
                                    
                                       R
                                    
                                    
                                       m
                                       ×
                                       n
                                    
                                 
                                 .
                              
                           
                        
                     

Solving for 
                           δ
                        
                        
                           k
                        , the solution becomes, 
                           
                              (45)
                              
                                 
                                    
                                       
                                          δ
                                       
                                    
                                    
                                       k
                                    
                                 
                                 =
                                 
                                    
                                       
                                          N
                                       
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    
                                       
                                          J
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                z
                                             
                                          
                                          ‾
                                       
                                    
                                    
                                       k
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    
                                       
                                          z
                                       
                                    
                                    ‾
                                 
                              
                              
                                 k
                              
                           
                           =
                           
                              z
                           
                           −
                           
                              g
                           
                           (
                           
                              
                                 
                                    
                                       
                                          x
                                       
                                    
                                    ̆
                                 
                              
                              
                                 k
                              
                           
                           )
                         is the measurement error. A unique 
                           δ
                        
                        
                           k
                         can be found as long as the matrix N is invertible and the Jacobian has full rank. Therefore, the system in Eq. (43) is degenerate when, 
                           
                              (46)
                              
                                 rank
                                 
                                 (
                                 
                                    J
                                 
                                 )
                                 <
                                 n
                                 ,
                              
                           
                        and the solution is under-constrained. The cases where the system becomes degenerate are the focus of this work and are investigated in the next section.

This section identifies the configurations of the camera cluster geometry, relative motion, and target model structure, for which the Jacobian J falls below full column rank. It is shown that for the assumptions stated previously, the m
                        ×
                        n measurement Jacobian matrix J has full rank if and only if a m
                        
                           o
                        
                        ×6 matrix, M
                        2 has full rank.

To determine the rank of the Jacobian matrix, the structure of the sub-blocks formed for the point feature observations is investigated. Each point feature j is observed by only one camera at the first keyframe. This observation adds two rows to the Jacobian, 
                           
                              (47)
                              
                                 
                                    
                                       
                                          J
                                       
                                    
                                    
                                       j
                                    
                                    
                                       h
                                       ,
                                       1
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∂
                                                   
                                                      
                                                         
                                                            g
                                                         
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         h
                                                         ,
                                                         1
                                                      
                                                   
                                                   (
                                                   
                                                      x
                                                   
                                                   )
                                                
                                                
                                                   ∂
                                                   x
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          x
                                       
                                       =
                                       
                                          
                                             
                                                x
                                             
                                          
                                          ̆
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (48)
                              
                                 =
                                 
                                    
                                       
                                          
                                             
                                                0
                                             
                                          
                                          
                                             2
                                             ×
                                             
                                                
                                                   n
                                                
                                                
                                                   f
                                                
                                             
                                             +
                                             6
                                          
                                       
                                       
                                       
                                       
                                          
                                             
                                                0
                                             
                                          
                                          
                                             2
                                             ×
                                             2
                                             (
                                             j
                                             −
                                             1
                                             )
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         ∂
                                                         
                                                            
                                                               
                                                                  g
                                                               
                                                            
                                                            
                                                               j
                                                            
                                                            
                                                               h
                                                               ,
                                                               1
                                                            
                                                         
                                                         (
                                                         
                                                            x
                                                         
                                                         )
                                                      
                                                      
                                                         ∂
                                                         
                                                            
                                                               
                                                                  μ
                                                               
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                x
                                             
                                             =
                                             
                                                
                                                   
                                                      x
                                                   
                                                
                                                ̆
                                             
                                          
                                       
                                       
                                          
                                             
                                                0
                                             
                                          
                                          
                                             2
                                             ×
                                             2
                                             (
                                             
                                                
                                                   n
                                                
                                                
                                                   f
                                                
                                             
                                             −
                                             j
                                             )
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        where the only non-zero elements are in the 2×2 block relating the measurement coordinates to the point feature bearing states, 
                           
                              (49)
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∂
                                                   
                                                      
                                                         
                                                            g
                                                         
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         h
                                                         ,
                                                         1
                                                      
                                                   
                                                   (
                                                   
                                                      x
                                                   
                                                   )
                                                
                                                
                                                   ∂
                                                   
                                                      
                                                         
                                                            μ
                                                         
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          x
                                       
                                       =
                                       
                                          
                                             
                                                x
                                             
                                          
                                          ̆
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                −
                                                tan
                                                ⁡
                                                
                                                   
                                                      (
                                                      
                                                         
                                                            ϕ
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      )
                                                   
                                                   
                                                      2
                                                   
                                                
                                                −
                                                1
                                             
                                             
                                                0
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      tan
                                                      ⁡
                                                      (
                                                      
                                                         
                                                            ϕ
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      )
                                                      tan
                                                      ⁡
                                                      (
                                                      
                                                         
                                                            θ
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      )
                                                   
                                                   
                                                      cos
                                                      ⁡
                                                      (
                                                      
                                                         
                                                            ϕ
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      )
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      1
                                                   
                                                   
                                                      cos
                                                      ⁡
                                                      (
                                                      
                                                         
                                                            ϕ
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      )
                                                      cos
                                                      ⁡
                                                      
                                                         
                                                            (
                                                            
                                                               
                                                                  θ
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                            )
                                                         
                                                         
                                                            2
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        The non-zero element structure of these rows are shown in Fig. 7
                        .

Each point feature j is also observed and measured by at least one camera at the second keyframe. The Jacobian matrix rows corresponding to the kth observation of point feature j in the second keyframe with camera i(k) are the partial derivatives of the measurement Eq. (23) with respect to the system states, 
                           
                              (50)
                              
                                 
                                    
                                       
                                          J
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       (
                                       k
                                       )
                                       ,
                                       2
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∂
                                                   
                                                      
                                                         
                                                            g
                                                         
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         i
                                                         (
                                                         k
                                                         )
                                                         ,
                                                         2
                                                      
                                                   
                                                   (
                                                   
                                                      x
                                                   
                                                   )
                                                
                                                
                                                   ∂
                                                   
                                                      x
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          x
                                       
                                       =
                                       
                                          
                                             
                                                x
                                             
                                          
                                          ̆
                                       
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (51)
                              
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         ∂
                                                         
                                                            
                                                               
                                                                  π
                                                               
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              u
                                                                           
                                                                        
                                                                        ˜
                                                                     
                                                                  
                                                                  
                                                                     j
                                                                  
                                                                  
                                                                     i
                                                                     (
                                                                     k
                                                                     )
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         ∂
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        u
                                                                     
                                                                  
                                                                  ˜
                                                               
                                                            
                                                            
                                                               j
                                                            
                                                            
                                                               i
                                                               (
                                                               k
                                                               )
                                                               ,
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                x
                                             
                                             =
                                             
                                                
                                                   
                                                      x
                                                   
                                                
                                                ̆
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         ∂
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        u
                                                                     
                                                                  
                                                                  ˜
                                                               
                                                            
                                                            
                                                               j
                                                            
                                                            
                                                               i
                                                               (
                                                               k
                                                               )
                                                               ,
                                                               2
                                                            
                                                         
                                                      
                                                      
                                                         ∂
                                                         
                                                            x
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                x
                                             
                                             =
                                             
                                                
                                                   
                                                      x
                                                   
                                                
                                                ̆
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        using the chain rule. Dropping the implied 
                           
                              x
                           
                           =
                           
                              
                                 
                                    x
                                 
                              
                              ̆
                           
                        , the first term evaluates to, 
                           
                              (52)
                              
                                 
                                    
                                       ∂
                                       
                                          
                                             
                                                
                                                   π
                                                
                                             
                                          
                                          
                                             2
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            u
                                                         
                                                      
                                                      ˜
                                                   
                                                
                                                
                                                   j
                                                
                                                
                                                   i
                                                   (
                                                   k
                                                   )
                                                   ,
                                                   2
                                                
                                             
                                          
                                       
                                    
                                    
                                       ∂
                                       
                                          
                                             
                                                
                                                   
                                                      u
                                                   
                                                
                                                ˜
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       1
                                    
                                    
                                       
                                          
                                             (
                                             
                                                
                                                   u
                                                
                                                
                                                   z
                                                
                                             
                                             )
                                          
                                          
                                             2
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      u
                                                   
                                                   
                                                      z
                                                   
                                                
                                             
                                             
                                                0
                                             
                                             
                                                −
                                                
                                                   
                                                      u
                                                   
                                                   
                                                      x
                                                   
                                                
                                             
                                          
                                          
                                             
                                                0
                                             
                                             
                                                
                                                   
                                                      u
                                                   
                                                   
                                                      z
                                                   
                                                
                                             
                                             
                                                −
                                                
                                                   
                                                      u
                                                   
                                                   
                                                      y
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (53)
                              
                                 =
                                 
                                    
                                       1
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         z
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         i
                                                         (
                                                         k
                                                         )
                                                         ,
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             2
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                0
                                             
                                             
                                                −
                                                1
                                             
                                             
                                                0
                                             
                                          
                                          
                                             
                                                1
                                             
                                             
                                                0
                                             
                                             
                                                0
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            u
                                                         
                                                      
                                                      ˜
                                                   
                                                
                                                
                                                   j
                                                
                                                
                                                   i
                                                   (
                                                   k
                                                   )
                                                   ,
                                                   2
                                                
                                             
                                          
                                       
                                    
                                    
                                       ×
                                    
                                 
                                 ,
                              
                           
                        where [a]
                           × is the skew-symmetric matrix such that [a]
                           ×
                        b = a ×b, ∀a,b ∈ℝ3.

Substituting Eq. (53) back into Eq. (51) and recognizing that, 
                           
                              (54)
                              
                                 
                                    
                                       
                                          
                                             
                                                u
                                             
                                          
                                          ˜
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       (
                                       k
                                       )
                                       ,
                                       2
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                −
                                                1
                                             
                                             
                                                0
                                             
                                             
                                                0
                                             
                                          
                                          
                                             
                                                0
                                             
                                             
                                                −
                                                1
                                             
                                             
                                                0
                                             
                                          
                                          
                                             
                                                0
                                             
                                             
                                                0
                                             
                                             
                                                1
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          q
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       (
                                       k
                                       )
                                       ,
                                       2
                                    
                                 
                                 ,
                              
                           
                        the Jacobian rows can be written as, 
                           
                              (55)
                              
                                 
                                    
                                       
                                          J
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       (
                                       k
                                       )
                                       ,
                                       2
                                    
                                 
                                 =
                                 
                                    
                                       1
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         z
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         i
                                                         (
                                                         k
                                                         )
                                                         ,
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             2
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                0
                                             
                                             
                                                1
                                             
                                             
                                                0
                                             
                                          
                                          
                                             
                                                −
                                                1
                                             
                                             
                                                0
                                             
                                             
                                                0
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            u
                                                         
                                                      
                                                      ˜
                                                   
                                                
                                                
                                                   j
                                                
                                                
                                                   i
                                                   (
                                                   k
                                                   )
                                                   ,
                                                   2
                                                
                                             
                                          
                                       
                                    
                                    
                                       ×
                                    
                                 
                                 
                                    
                                       ∂
                                       
                                          
                                             
                                                
                                                   
                                                      u
                                                   
                                                
                                                ˜
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                    
                                    
                                       ∂
                                       
                                          x
                                       
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (56)
                              
                                 =
                                 
                                    
                                       1
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         z
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         i
                                                         (
                                                         k
                                                         )
                                                         ,
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             2
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                0
                                             
                                             
                                                −
                                                1
                                             
                                             
                                                0
                                             
                                          
                                          
                                             
                                                1
                                             
                                             
                                                0
                                             
                                             
                                                0
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                          
                                       
                                    
                                    
                                       ⊤
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      q
                                                   
                                                
                                                
                                                   j
                                                
                                                
                                                   i
                                                   (
                                                   k
                                                   )
                                                   ,
                                                   2
                                                
                                             
                                          
                                       
                                    
                                    
                                       ×
                                    
                                 
                                 
                                    
                                       ∂
                                       
                                          
                                             
                                                q
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                    
                                    
                                       ∂
                                       
                                          x
                                       
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (57)
                              
                                 =
                                 
                                    
                                       1
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         z
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         i
                                                         (
                                                         k
                                                         )
                                                         ,
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             2
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                −
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                     
                                                                     ^
                                                                  
                                                               
                                                               
                                                                  i
                                                                  (
                                                                  k
                                                                  )
                                                                  ,
                                                                  y
                                                               
                                                            
                                                            ×
                                                            
                                                               
                                                                  
                                                                     q
                                                                  
                                                               
                                                               
                                                                  j
                                                               
                                                               
                                                                  i
                                                                  (
                                                                  k
                                                                  )
                                                                  ,
                                                                  2
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      ⊤
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                     
                                                                     ^
                                                                  
                                                               
                                                               
                                                                  i
                                                                  (
                                                                  k
                                                                  )
                                                                  ,
                                                                  x
                                                               
                                                            
                                                            ×
                                                            
                                                               
                                                                  
                                                                     q
                                                                  
                                                               
                                                               
                                                                  j
                                                               
                                                               
                                                                  i
                                                                  (
                                                                  k
                                                                  )
                                                                  ,
                                                                  2
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      ⊤
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       ∂
                                       
                                          
                                             
                                                q
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                    
                                    
                                       ∂
                                       
                                          x
                                       
                                    
                                 
                                 ,
                              
                           
                        where the partial derivatives of the point feature position at the second keyframe with respect to the system states are written,


                        
                           
                              (58)
                              
                                 
                                    
                                       
                                          
                                             
                                                ∂
                                                
                                                   
                                                      
                                                         q
                                                      
                                                   
                                                   
                                                      j
                                                   
                                                   
                                                      i
                                                      (
                                                      k
                                                      )
                                                      ,
                                                      2
                                                   
                                                
                                             
                                             
                                                ∂
                                                
                                                   x
                                                
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  0
                                                               
                                                            
                                                            
                                                               3
                                                               ×
                                                               (
                                                               j
                                                               −
                                                               1
                                                               )
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               ∂
                                                               
                                                                  
                                                                     
                                                                        q
                                                                     
                                                                  
                                                                  
                                                                     j
                                                                  
                                                                  
                                                                     i
                                                                     (
                                                                     k
                                                                     )
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                            
                                                            
                                                               
                                                                  
                                                                     ∂
                                                                  
                                                                  
                                                                     s
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  0
                                                               
                                                            
                                                            
                                                               3
                                                               ×
                                                               (
                                                               
                                                                  
                                                                     n
                                                                  
                                                                  
                                                                     f
                                                                  
                                                               
                                                               −
                                                               j
                                                               )
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               ∂
                                                               
                                                                  
                                                                     
                                                                        q
                                                                     
                                                                  
                                                                  
                                                                     j
                                                                  
                                                                  
                                                                     i
                                                                     (
                                                                     k
                                                                     )
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                            
                                                            
                                                               ∂
                                                               
                                                                  
                                                                     
                                                                        t
                                                                     
                                                                  
                                                                  
                                                                     K
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               ∂
                                                               
                                                                  
                                                                     
                                                                        q
                                                                     
                                                                  
                                                                  
                                                                     j
                                                                  
                                                                  
                                                                     i
                                                                     (
                                                                     k
                                                                     )
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                            
                                                            
                                                               ∂
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     K
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  0
                                                               
                                                            
                                                            
                                                               3
                                                               ×
                                                               2
                                                               (
                                                               j
                                                               −
                                                               1
                                                               )
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               ∂
                                                               
                                                                  
                                                                     
                                                                        q
                                                                     
                                                                  
                                                                  
                                                                     j
                                                                  
                                                                  
                                                                     i
                                                                     (
                                                                     k
                                                                     )
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                            
                                                            
                                                               ∂
                                                               
                                                                  
                                                                     
                                                                        μ
                                                                     
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  0
                                                               
                                                            
                                                            
                                                               3
                                                               ×
                                                               2
                                                               (
                                                               
                                                                  
                                                                     n
                                                                  
                                                                  
                                                                     f
                                                                  
                                                               
                                                               −
                                                               j
                                                               )
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        with the position change with respect to the radial distance, 
                           
                              (59)
                              
                                 
                                    
                                       ∂
                                       
                                          
                                             
                                                q
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                    
                                    
                                       ∂
                                       
                                          
                                             s
                                          
                                          
                                             j
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                a
                                             
                                          
                                          ^
                                       
                                    
                                    
                                       j
                                       ,
                                       2
                                    
                                 
                                 ,
                              
                           
                        the translation between the keyframes, 
                           
                              (60)
                              
                                 
                                    
                                       ∂
                                       
                                          
                                             
                                                q
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                    
                                    
                                       ∂
                                       
                                          
                                             
                                                t
                                             
                                          
                                          
                                             K
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          I
                                       
                                    
                                    
                                       3
                                       ×
                                       3
                                    
                                 
                                 ,
                              
                           
                        the rotation between the keyframes, 
                           
                              (61)
                              
                                 
                                    
                                       ∂
                                       
                                          
                                             
                                                q
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                    
                                    
                                       ∂
                                       
                                          
                                             ω
                                          
                                          
                                             K
                                          
                                       
                                    
                                 
                                 =
                                 −
                                 
                                    
                                       
                                          
                                             
                                                
                                                   s
                                                
                                                
                                                   j
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            a
                                                         
                                                      
                                                      ^
                                                   
                                                
                                                
                                                   j
                                                   ,
                                                   2
                                                
                                             
                                             +
                                             
                                                
                                                   
                                                      c
                                                   
                                                
                                                
                                                   h
                                                   ,
                                                   2
                                                
                                             
                                          
                                       
                                    
                                    
                                       ×
                                    
                                 
                                 ,
                              
                           
                        and the initial bearings to the point feature, 
                           
                              (62)
                              
                                 
                                    
                                       ∂
                                       
                                          
                                             
                                                q
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                    
                                    
                                       ∂
                                       
                                          
                                             
                                                μ
                                             
                                          
                                          
                                             j
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                 
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       K
                                    
                                 
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       
                                          
                                             C
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                cos
                                                ⁡
                                                
                                                   
                                                      ϕ
                                                   
                                                   
                                                      j
                                                   
                                                
                                                cos
                                                ⁡
                                                
                                                   
                                                      θ
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                             
                                                −
                                                sin
                                                ⁡
                                                
                                                   
                                                      ϕ
                                                   
                                                   
                                                      j
                                                   
                                                
                                                sin
                                                ⁡
                                                
                                                   
                                                      θ
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                          
                                          
                                             
                                                0
                                             
                                             
                                                −
                                                cos
                                                ⁡
                                                
                                                   
                                                      θ
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                          
                                          
                                             
                                                −
                                                sin
                                                ⁡
                                                
                                                   
                                                      ϕ
                                                   
                                                   
                                                      j
                                                   
                                                
                                                cos
                                                ⁡
                                                
                                                   
                                                      θ
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                             
                                                −
                                                cos
                                                ⁡
                                                
                                                   
                                                      ϕ
                                                   
                                                   
                                                      j
                                                   
                                                
                                                sin
                                                ⁡
                                                
                                                   
                                                      θ
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        The structure of the Jacobian rows associated with the observations of point feature j at the second keyframe is shown in Fig. 8
                        .

The full measurement Jacobian is formed by stacking all of the observations of all of the point features at both keyframes, 
                           
                              (63)
                              
                                 
                                    J
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        J
                                                                     
                                                                  
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     i
                                                                     (
                                                                     1
                                                                     ,
                                                                     1
                                                                     )
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               ⋮
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        J
                                                                     
                                                                  
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     i
                                                                     (
                                                                     1
                                                                     ,
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                        
                                                                           o
                                                                        
                                                                     
                                                                     (
                                                                     1
                                                                     )
                                                                     )
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        J
                                                                     
                                                                  
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     h
                                                                     (
                                                                     1
                                                                     )
                                                                     ,
                                                                     1
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ⋮
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        J
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                        
                                                                           f
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     i
                                                                     (
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                        
                                                                           f
                                                                        
                                                                     
                                                                     ,
                                                                     1
                                                                     )
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               ⋮
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        J
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                        
                                                                           f
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     i
                                                                     (
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                        
                                                                           f
                                                                        
                                                                     
                                                                     ,
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                        
                                                                           o
                                                                        
                                                                     
                                                                     (
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                        
                                                                           f
                                                                        
                                                                     
                                                                     )
                                                                     )
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        J
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                        
                                                                           f
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     h
                                                                     (
                                                                     
                                                                        
                                                                           n
                                                                        
                                                                        
                                                                           f
                                                                        
                                                                     
                                                                     )
                                                                     ,
                                                                     1
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

The configurations for which this measurement Jacobian possesses full rank can be identified by checking the rank of a reduced-dimension matrix, as shown in the following Lemma.


                        
                           Lemma 4.1
                           
                              For a multicamera cluster SLAM system satisfying Assumptions
                              3.1, 3.2
                              , and
                              3.3
                              , the rank of the measurement Jacobian matrix
                              J
                              in Eq. (63)
                              is full if and only if the rank of the matrix,
                              
                                 
                                    (64)
                                    
                                       
                                          
                                             M
                                          
                                          
                                             2
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     −
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           1
                                                                           ,
                                                                           2
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    v
                                                                                 
                                                                              
                                                                              
                                                                                 1
                                                                                 ,
                                                                                 1
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           1
                                                                           ,
                                                                           2
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    v
                                                                                 
                                                                              
                                                                              
                                                                                 1
                                                                                 ,
                                                                                 1
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    w
                                                                                 
                                                                              
                                                                              
                                                                                 1
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                  
                                                               
                                                               
                                                                  
                                                                     ⋮
                                                                  
                                                                  
                                                                     ⋮
                                                                  
                                                               
                                                               
                                                                  
                                                                     −
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           1
                                                                           ,
                                                                           2
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    v
                                                                                 
                                                                              
                                                                              
                                                                                 1
                                                                                 ,
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       o
                                                                                    
                                                                                 
                                                                                 (
                                                                                 1
                                                                                 )
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           1
                                                                           ,
                                                                           2
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    v
                                                                                 
                                                                              
                                                                              
                                                                                 1
                                                                                 ,
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       o
                                                                                    
                                                                                 
                                                                                 (
                                                                                 1
                                                                                 )
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    w
                                                                                 
                                                                              
                                                                              
                                                                                 1
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      ⋮
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     −
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           
                                                                              
                                                                                 n
                                                                              
                                                                              
                                                                                 f
                                                                              
                                                                           
                                                                           ,
                                                                           2
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    v
                                                                                 
                                                                              
                                                                              
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       f
                                                                                    
                                                                                 
                                                                                 ,
                                                                                 1
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           
                                                                              
                                                                                 n
                                                                              
                                                                              
                                                                                 f
                                                                              
                                                                           
                                                                           ,
                                                                           2
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    v
                                                                                 
                                                                              
                                                                              
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       f
                                                                                    
                                                                                 
                                                                                 ,
                                                                                 1
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    w
                                                                                 
                                                                              
                                                                              
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       f
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                  
                                                               
                                                               
                                                                  
                                                                     ⋮
                                                                  
                                                                  
                                                                     ⋮
                                                                  
                                                               
                                                               
                                                                  
                                                                     −
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           
                                                                              
                                                                                 n
                                                                              
                                                                              
                                                                                 f
                                                                              
                                                                           
                                                                           ,
                                                                           2
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    v
                                                                                 
                                                                              
                                                                              
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       f
                                                                                    
                                                                                 
                                                                                 ,
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       o
                                                                                    
                                                                                 
                                                                                 (
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       f
                                                                                    
                                                                                 
                                                                                 )
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           
                                                                              
                                                                                 n
                                                                              
                                                                              
                                                                                 f
                                                                              
                                                                           
                                                                           ,
                                                                           2
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    v
                                                                                 
                                                                              
                                                                              
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       f
                                                                                    
                                                                                 
                                                                                 ,
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       o
                                                                                    
                                                                                 
                                                                                 (
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       f
                                                                                    
                                                                                 
                                                                                 )
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              
                                                                                 
                                                                                    w
                                                                                 
                                                                              
                                                                              
                                                                                 
                                                                                    
                                                                                       n
                                                                                    
                                                                                    
                                                                                       f
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                           ]
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       ,
                                    
                                 
                              
                              where
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   w
                                                
                                             
                                             
                                                j
                                             
                                          
                                          =
                                          
                                             
                                                s
                                             
                                             
                                                j
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         a
                                                      
                                                   
                                                   ^
                                                
                                             
                                             
                                                j
                                                ,
                                                2
                                             
                                          
                                          +
                                          
                                             
                                                
                                                   c
                                                
                                             
                                             
                                                h
                                                (
                                                j
                                                )
                                                ,
                                                2
                                             
                                          
                                          ,
                                       
                                    
                                 
                              
                              is full.
                           


                        
                           Proof
                           The strategy is to first show that the columns of J corresponding to the point feature positions (s
                              
                                 j
                              , 
                                 μ
                              
                              
                                 j
                              ) have full rank. Consequently, the only way for the Jacobian to have less than full rank is when the columns corresponding to the keyframe motion (
                                 
                                    
                                       t
                                    
                                    
                                       K
                                    
                                 
                                 ,
                                 
                                    
                                       
                                          R
                                       
                                    
                                    
                                       K
                                    
                                 
                              ) have rank less than six.

By Assumption 3.3, the position of the jth point feature in its anchor camera and keyframe ensures that cos(ϕ
                              
                                 j
                              ) > 0 and cos(θ
                              
                                 j
                              ) > 0. As a result, the block (49) always has a rank of 2 since the determinant is non-zero, 
                                 
                                    (65)
                                    
                                       det
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               ∂
                                                               
                                                                  
                                                                     
                                                                        g
                                                                     
                                                                  
                                                                  
                                                                     j
                                                                  
                                                                  
                                                                     h
                                                                     ,
                                                                     1
                                                                  
                                                               
                                                               (
                                                               
                                                                  x
                                                               
                                                               )
                                                            
                                                            
                                                               ∂
                                                               
                                                                  
                                                                     
                                                                        μ
                                                                     
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      x
                                                   
                                                   =
                                                   
                                                      
                                                         
                                                            x
                                                         
                                                      
                                                      ̆
                                                   
                                                
                                             
                                          
                                       
                                       =
                                       
                                          
                                             −
                                             1
                                          
                                          
                                             cos
                                             ⁡
                                             
                                                
                                                   (
                                                   
                                                      
                                                         ϕ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   )
                                                
                                                
                                                   3
                                                
                                             
                                             cos
                                             ⁡
                                             
                                                
                                                   (
                                                   
                                                      
                                                         θ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   )
                                                
                                                
                                                   2
                                                
                                             
                                          
                                       
                                       ≠
                                       0
                                       .
                                    
                                 
                               Therefore, it is possible to diagonalize the sub-block using elementary row and column operations without changing the rank of the matrix. After diagonalization, the new matrix rows, 
                                 
                                    
                                       
                                          K
                                       
                                    
                                    
                                       j
                                    
                                    
                                       h
                                       ,
                                       1
                                    
                                 
                              , have the structure shown in Fig. 9
                              . As a result, the columns corresponding to the bearing states 
                                 μ
                              
                              
                                 j
                               have full rank for all of the point features.

Additionally, the columns associated with the point feature radial depth parameter s
                              
                                 j
                               for an observation at the second keyframe contain only zeros when, 
                                 
                                    (66)
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      −
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     n
                                                                  
                                                               
                                                               ^
                                                            
                                                         
                                                         
                                                            i
                                                            (
                                                            k
                                                            )
                                                            ,
                                                            y
                                                         
                                                         
                                                            ⊤
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     n
                                                                  
                                                               
                                                               ^
                                                            
                                                         
                                                         
                                                            i
                                                            (
                                                            k
                                                            )
                                                            ,
                                                            x
                                                         
                                                         
                                                            ⊤
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             [
                                             
                                                
                                                   
                                                      v
                                                   
                                                
                                                
                                                   j
                                                   ,
                                                   k
                                                
                                             
                                             ]
                                          
                                          
                                             ×
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      a
                                                   
                                                
                                                ^
                                             
                                          
                                          
                                             j
                                             ,
                                             2
                                          
                                       
                                       =
                                       
                                          
                                             
                                                0
                                             
                                          
                                          
                                             2
                                             ×
                                             1
                                          
                                       
                                       ,
                                    
                                 
                              the displacement between the anchor and observing camera coordinate frames is collinear with the initial bearing to the point feature in the anchor camera frame. In this case, there is no information about the depth of the feature within this measurement since the triangulation baseline has zero length. However, by Assumptions 3.2 and 3.3, there exists an observation 
                                 k
                                 ∈
                                 
                                    
                                       1
                                       ,
                                       …
                                       ,
                                       
                                          
                                             n
                                          
                                          
                                             o
                                          
                                       
                                       (
                                       j
                                       )
                                    
                                 
                               such that, 
                                 
                                    (67)
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            x
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      −
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     n
                                                                  
                                                               
                                                               ^
                                                            
                                                         
                                                         
                                                            i
                                                            (
                                                            k
                                                            )
                                                            ,
                                                            y
                                                         
                                                         
                                                            ⊤
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     n
                                                                  
                                                               
                                                               ^
                                                            
                                                         
                                                         
                                                            i
                                                            (
                                                            k
                                                            )
                                                            ,
                                                            x
                                                         
                                                         
                                                            ⊤
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             [
                                             
                                                
                                                   
                                                      v
                                                   
                                                
                                                
                                                   j
                                                   ,
                                                   k
                                                
                                             
                                             ]
                                          
                                          
                                             ×
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      a
                                                   
                                                
                                                ^
                                             
                                          
                                          
                                             j
                                             ,
                                             2
                                          
                                       
                                       ≠
                                       
                                          
                                             
                                                0
                                             
                                          
                                          
                                             2
                                             ×
                                             1
                                          
                                       
                                       ,
                                    
                                 
                              and therefore, at least one non-zero element in the column. The matrix rows 
                                 
                                    
                                       
                                          J
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       (
                                       k
                                       )
                                       ,
                                       2
                                    
                                 
                               are manipulated using the row operations matrix, 
                                 
                                    (68)
                                    
                                       
                                          
                                             
                                                O
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    n
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           i
                                                                           (
                                                                           k
                                                                           )
                                                                           ,
                                                                           x
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       
                                                                                          q
                                                                                       
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       i
                                                                                       (
                                                                                       k
                                                                                       )
                                                                                       ,
                                                                                       2
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           j
                                                                           ,
                                                                           2
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     0
                                                                  
                                                               
                                                               
                                                                  
                                                                     −
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    n
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           i
                                                                           (
                                                                           k
                                                                           )
                                                                           ,
                                                                           x
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       
                                                                                          q
                                                                                       
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       i
                                                                                       (
                                                                                       k
                                                                                       )
                                                                                       ,
                                                                                       2
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           j
                                                                           ,
                                                                           2
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     −
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    n
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           i
                                                                           (
                                                                           k
                                                                           )
                                                                           ,
                                                                           y
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       
                                                                                          q
                                                                                       
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       i
                                                                                       (
                                                                                       k
                                                                                       )
                                                                                       ,
                                                                                       2
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           j
                                                                           ,
                                                                           2
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      ,
                                                   
                                                   
                                                      if
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            x
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                      ≠
                                                      0
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     0
                                                                  
                                                                  
                                                                     1
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    n
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           i
                                                                           (
                                                                           k
                                                                           )
                                                                           ,
                                                                           x
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       
                                                                                          q
                                                                                       
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       i
                                                                                       (
                                                                                       k
                                                                                       )
                                                                                       ,
                                                                                       2
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           j
                                                                           ,
                                                                           2
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     0
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      ,
                                                   
                                                   
                                                      if
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            x
                                                         
                                                      
                                                      =
                                                      0
                                                      ,
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                      ≠
                                                      0
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     1
                                                                  
                                                                  
                                                                     0
                                                                  
                                                               
                                                               
                                                                  
                                                                     0
                                                                  
                                                                  
                                                                     −
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    n
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           i
                                                                           (
                                                                           k
                                                                           )
                                                                           ,
                                                                           y
                                                                        
                                                                        
                                                                           ⊤
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       
                                                                                          q
                                                                                       
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       i
                                                                                       (
                                                                                       k
                                                                                       )
                                                                                       ,
                                                                                       2
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           ×
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                 
                                                                              
                                                                              ^
                                                                           
                                                                        
                                                                        
                                                                           j
                                                                           ,
                                                                           2
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      ,
                                                   
                                                   
                                                      if
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            x
                                                         
                                                      
                                                      ≠
                                                      0
                                                      ,
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                      =
                                                      0
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               I
                                                            
                                                         
                                                         
                                                            2
                                                            ×
                                                            2
                                                         
                                                      
                                                      ,
                                                   
                                                   
                                                      if
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            x
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                      =
                                                      0
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              in order to achieve the desired structure 
                                 
                                    
                                       
                                          K
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       (
                                       k
                                       )
                                       ,
                                       2
                                    
                                 
                               for the Jacobian rows, 
                                 
                                    (69)
                                    
                                       
                                          
                                             
                                                K
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                       =
                                       
                                          
                                             z
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                       
                                          
                                             
                                                O
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                       
                                          
                                             
                                                J
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                       .
                                    
                                 
                              which is shown in Fig. 10
                              . Note that for the above case when s
                              
                                 x
                              
                              =
                              s
                              
                                 y
                              
                              =0, there must be at least one other observation of that point feature for which s
                              
                                 x
                              ≠0 or s
                              
                                 y
                              ≠0.

The second row of the matrix 
                                 
                                    
                                       
                                          K
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       (
                                       k
                                       )
                                       ,
                                       2
                                    
                                 
                              , labelled 
                                 
                                    
                                       
                                          k
                                       
                                    
                                    
                                       j
                                    
                                    
                                       i
                                       (
                                       k
                                       )
                                       ,
                                       2
                                    
                                 
                              , becomes, 
                                 
                                    (70)
                                    
                                       
                                          
                                             
                                                k
                                             
                                          
                                          
                                             j
                                          
                                          
                                             i
                                             (
                                             k
                                             )
                                             ,
                                             2
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         0
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            k
                                                         
                                                         
                                                            
                                                               
                                                                  s
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         0
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               k
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     t
                                                                  
                                                               
                                                               
                                                                  K
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               k
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                               
                                                               
                                                                  K
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         0
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               k
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     μ
                                                                  
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         0
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    (71)
                                    
                                       =
                                       
                                          
                                             1
                                          
                                          
                                             
                                                
                                                   z
                                                
                                                
                                                   j
                                                
                                                
                                                   i
                                                   (
                                                   k
                                                   )
                                                   ,
                                                   2
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            n
                                                         
                                                      
                                                      ^
                                                   
                                                
                                                
                                                   i
                                                   (
                                                   k
                                                   )
                                                   ,
                                                   z
                                                
                                                
                                                   ⊤
                                                
                                             
                                             
                                                
                                                   
                                                      q
                                                   
                                                
                                                
                                                   j
                                                
                                                
                                                   i
                                                   (
                                                   k
                                                   )
                                                   ,
                                                   2
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            q
                                                         
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         i
                                                         (
                                                         k
                                                         )
                                                         ,
                                                         2
                                                      
                                                   
                                                   ×
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  a
                                                               
                                                            
                                                            ^
                                                         
                                                      
                                                      
                                                         j
                                                         ,
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             ∂
                                             
                                                
                                                   
                                                      q
                                                   
                                                
                                                
                                                   j
                                                
                                                
                                                   i
                                                   (
                                                   k
                                                   )
                                                   ,
                                                   2
                                                
                                             
                                          
                                          
                                             ∂
                                             
                                                x
                                             
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    (72)
                                    
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        b
                                                                     
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               +
                                                               
                                                                  
                                                                     
                                                                        c
                                                                     
                                                                  
                                                                  
                                                                     h
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                               +
                                                               
                                                                  
                                                                     
                                                                        d
                                                                     
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         ×
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  a
                                                               
                                                            
                                                            ^
                                                         
                                                      
                                                      
                                                         j
                                                         ,
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             ∂
                                             
                                                
                                                   
                                                      q
                                                   
                                                
                                                
                                                   j
                                                
                                                
                                                   i
                                                   (
                                                   k
                                                   )
                                                   ,
                                                   2
                                                
                                             
                                          
                                          
                                             ∂
                                             
                                                x
                                             
                                          
                                       
                                       .
                                    
                                 
                              where the element associated with the radial distance parameter is zero, 
                                 
                                    (73)
                                    
                                       
                                          
                                             k
                                          
                                          
                                             
                                                
                                                   s
                                                
                                                
                                                   j
                                                
                                             
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        b
                                                                     
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               +
                                                               
                                                                  
                                                                     
                                                                        c
                                                                     
                                                                  
                                                                  
                                                                     h
                                                                     ,
                                                                     2
                                                                  
                                                               
                                                               +
                                                               
                                                                  
                                                                     
                                                                        d
                                                                     
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         ×
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  a
                                                               
                                                            
                                                            ^
                                                         
                                                      
                                                      
                                                         j
                                                         ,
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      a
                                                   
                                                
                                                ^
                                             
                                          
                                          
                                             j
                                             ,
                                             2
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    (74)
                                    
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            b
                                                         
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         
                                                            c
                                                         
                                                      
                                                      
                                                         h
                                                         ,
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         
                                                            d
                                                         
                                                      
                                                      
                                                         i
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  a
                                                               
                                                            
                                                            ^
                                                         
                                                      
                                                      
                                                         j
                                                         ,
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ×
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      a
                                                   
                                                
                                                ^
                                             
                                          
                                          
                                             j
                                             ,
                                             2
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    (75)
                                    
                                       =
                                       0
                                       ,
                                    
                                 
                              the elements related to the point bearing, k
                              
                                 
                                    μ
                                 
                                 
                                    j
                                 
                              
                              ⊤ ∈ℝ2, are finite, and the columns for the keyframe motion states are now, 
                                 
                                    (76)
                                    
                                       
                                          
                                             
                                                k
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                
                                                
                                                   K
                                                
                                             
                                          
                                       
                                       =
                                       −
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            a
                                                         
                                                      
                                                      ^
                                                   
                                                
                                                
                                                   j
                                                   ,
                                                   2
                                                
                                             
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            b
                                                         
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         
                                                            c
                                                         
                                                      
                                                      
                                                         h
                                                         ,
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         
                                                            d
                                                         
                                                      
                                                      
                                                         i
                                                         (
                                                         k
                                                         )
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ×
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    (77)
                                    
                                       =
                                       −
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            a
                                                         
                                                      
                                                      ^
                                                   
                                                
                                                
                                                   j
                                                   ,
                                                   2
                                                
                                             
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            v
                                                         
                                                      
                                                      
                                                         j
                                                         ,
                                                         k
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ×
                                          
                                       
                                       ,
                                    
                                 
                              and, 
                                 
                                    (78)
                                    
                                       
                                          
                                             
                                                k
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      ω
                                                   
                                                
                                                
                                                   K
                                                
                                             
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      a
                                                   
                                                
                                                ^
                                             
                                          
                                          
                                             j
                                             ,
                                             2
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            b
                                                         
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         
                                                            c
                                                         
                                                      
                                                      
                                                         h
                                                         ,
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         
                                                            d
                                                         
                                                      
                                                      
                                                         i
                                                         (
                                                         k
                                                         )
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ×
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         s
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  a
                                                               
                                                            
                                                            ^
                                                         
                                                      
                                                      
                                                         j
                                                         ,
                                                         2
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         
                                                            c
                                                         
                                                      
                                                      
                                                         h
                                                         ,
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ×
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    (79)
                                    
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            a
                                                         
                                                      
                                                      ^
                                                   
                                                
                                                
                                                   j
                                                   ,
                                                   2
                                                
                                             
                                          
                                          
                                             ⊤
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            v
                                                         
                                                      
                                                      
                                                         j
                                                         ,
                                                         k
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ×
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            w
                                                         
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             ×
                                          
                                       
                                       .
                                    
                                 
                              
                           

All of the modified Jacobian matrix rows for the point feature j observations at both keyframes are then compiled into a single block, 
                                 
                                    (80)
                                    
                                       
                                          
                                             
                                                K
                                             
                                          
                                          
                                             j
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               K
                                                            
                                                         
                                                         
                                                            j
                                                         
                                                         
                                                            i
                                                            (
                                                            1
                                                            )
                                                            ,
                                                            2
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      ⋮
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     K
                                                                  
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                         
                                                         
                                                            i
                                                            (
                                                            
                                                               
                                                                  n
                                                               
                                                               
                                                                  o
                                                               
                                                            
                                                            )
                                                            ,
                                                            2
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     K
                                                                  
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                         
                                                         
                                                            h
                                                            ,
                                                            1
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              which maintains the same rank as the original Jacobian block for the point feature, 
                                 
                                    (81)
                                    
                                       
                                          
                                             
                                                J
                                             
                                          
                                          
                                             j
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               ∂
                                                               
                                                                  g
                                                               
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                         (
                                                         
                                                            x
                                                         
                                                         )
                                                      
                                                      
                                                         ∂
                                                         
                                                            x
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                x
                                             
                                             =
                                             
                                                
                                                   
                                                      x
                                                   
                                                
                                                ̆
                                             
                                          
                                       
                                       ,
                                    
                                 
                              since the manipulations are performed by full rank elementary row and column operations matrices. The resulting matrix block has the structure shown in Fig. 11
                              .

It can be shown that the odd-numbered rows of K
                              
                                 j
                               may always be written as a linear combination of the resulting even-numbered rows. Additionally, elementary row operations can eliminate all but the last elements in each of the columns associated with the point feature bearing states, ϕ
                              
                                 j
                               and θ
                              
                                 j
                              . Finally, the non-zero element in the s
                              
                                 j
                               column can be used to eliminate the remaining non-zero elements in the first row. Subsequently, this new matrix, L
                              
                                 j
                               has the same rank as the original Jacobian block J
                              
                                 j
                               for this point feature and the structure is shown in Fig. 12
                              .

The matrix M is formed by stacking and reordering all of the L
                              
                                 j
                               matrices for 
                                 j
                                 =
                                 1
                                 …
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                               and has the same rank as the original Jacobian J. The structure of matrix M is shown in Fig. 13
                              .

The matrix M is a block-diagonal matrix composed of three sub-matrices: 
                                 
                                    •
                                    
                                       
                                          
                                             
                                                
                                                   M
                                                
                                             
                                             
                                                1
                                             
                                          
                                          ∈
                                          
                                             
                                                R
                                             
                                             
                                                
                                                   
                                                      n
                                                   
                                                   
                                                      f
                                                   
                                                
                                                ×
                                                
                                                   
                                                      n
                                                   
                                                   
                                                      f
                                                   
                                                
                                             
                                          
                                        is diagonal,


                                       
                                          
                                             
                                                
                                                   M
                                                
                                             
                                             
                                                2
                                             
                                          
                                          ∈
                                          
                                             
                                                R
                                             
                                             
                                                
                                                   
                                                      m
                                                   
                                                   
                                                      o
                                                   
                                                
                                                ×
                                                6
                                             
                                          
                                       ,


                                       
                                          
                                             
                                                
                                                   M
                                                
                                             
                                             
                                                3
                                             
                                          
                                          ∈
                                          
                                             
                                                R
                                             
                                             
                                                2
                                                
                                                   
                                                      n
                                                   
                                                   
                                                      f
                                                   
                                                
                                                ×
                                                2
                                                
                                                   
                                                      n
                                                   
                                                   
                                                      f
                                                   
                                                
                                             
                                          
                                        is diagonal.

As a result, M and J are full rank if and only if all of the following are satisfied, 
                                 
                                    •
                                    rank (M)
                                       1
                                       =
                                       n
                                       
                                          f
                                       ,

rank (M)
                                       2
                                       =6, and

rank (M)
                                       3
                                       =2n
                                       
                                          f
                                       .

It is clear that both M
                              1 and M
                              3 are full rank by construction, and therefore, M and by extension J are full rank if and only if M
                              2 is full rank, which concludes the proof.□

Therefore, determining if the measurement Jacobian J is full rank is simplified to checking the rank of the reduced-dimension matrix M
                        2. It follows directly from Lemma 4.1, that the degeneracy of the multicamera cluster SLAM system can be determined by checking the rank of M
                        2.


                        
                           Corollary 1
                           
                              For a multicamera cluster SLAM system satisfying Assumptions
                              3.1, 3.2
                              , and
                              3.3
                              , the solution is degenerate and under-constrained, if and only if
                              (M
                              2
                              ) < 6.

The matrix M
                           2 is a dense m
                           
                              o
                           
                           ×6 block with a single row for each observation of the point features at the second keyframe. Each row of M
                           2 in Eq. (64) specifies the six Plücker coordinates for a line in ℝ3 since each set of coordinates satisfies the Grassmann–Plücker relation [26], 
                              
                                 (82)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               v
                                                            
                                                         
                                                         
                                                            j
                                                            ,
                                                            k
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                ×
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         a
                                                      
                                                   
                                                   ^
                                                
                                             
                                             
                                                j
                                                ,
                                                2
                                             
                                          
                                       
                                    
                                    ⋅
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               w
                                                            
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                ×
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               v
                                                            
                                                         
                                                         
                                                            j
                                                            ,
                                                            k
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                ×
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         a
                                                      
                                                   
                                                   ^
                                                
                                             
                                             
                                                j
                                                ,
                                                2
                                             
                                          
                                       
                                    
                                 
                              
                           
                           
                              
                                 (83)
                                 
                                    =
                                    −
                                    
                                       
                                          
                                             w
                                          
                                       
                                       
                                          j
                                       
                                    
                                    ⋅
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       v
                                                                                    
                                                                                 
                                                                                 
                                                                                    j
                                                                                    ,
                                                                                    i
                                                                                    (
                                                                                    k
                                                                                    )
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        ×
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 a
                                                                              
                                                                           
                                                                           ^
                                                                        
                                                                     
                                                                     
                                                                        j
                                                                        ,
                                                                        2
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            ×
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 v
                                                                              
                                                                           
                                                                           
                                                                              j
                                                                              ,
                                                                              i
                                                                              (
                                                                              k
                                                                              )
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                               
                                                                  ×
                                                               
                                                            
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           a
                                                                        
                                                                     
                                                                     ^
                                                                  
                                                               
                                                               
                                                                  j
                                                                  ,
                                                                  2
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             ︸
                                          
                                       
                                       
                                          =
                                          
                                             
                                                
                                                   0
                                                
                                             
                                             
                                                3
                                                ×
                                                1
                                             
                                          
                                       
                                    
                                 
                              
                           
                           
                              
                                 (84)
                                 
                                    =
                                    0
                                    .
                                 
                              
                           
                        

The matrix M
                           2 will not have full rank when the m
                           
                              o
                            sets of Plücker coordinates are linearly-dependent. Though it is beyond the scope of this work, this underlying structure should provide a framework for further analysis and allow for greater insight into the degeneracy of the system.

This is similar to the problem of identifying motion singularities for series-parallel mechanisms. However, the current problem is more complex since the common connection points which sometimes allow for the simplification of the singularity condition in mechanisms are not present in the cluster SLAM system.

In this section, the structure of the matrix M
                        2 from Eq. (64) will be exploited to identify cluster configurations and motions that are sufficient for degeneracy of the solution, independent of the number of point features observed and their constellation geometry. These cases represent a subset of the full degenerate configuration set and will be shown to result in (M)
                        2 < 6. These configurations contain the critical motions identified previously in the literature.

It is immediately apparent that the system must include six point feature observations at the second keyframe for the matrix M
                        2 to possibly have full rank. The first three columns in M
                        2 are a stack of cross products involving the camera observation vectors and the bearings to the point features. When they all have a common collinear vector operand, the resulting row vectors are all coplanar, with the normal defined by the collinear vector operand.

As expected, the system will be degenerate if the cluster consists of only one component camera since the rows will all have a common camera observation vector, consistent with how monocular vision systems are unable to recover the six degrees of freedom motion solution in a SLAM system. Additionally, the system is degenerate when only one point feature is observed by six cameras at the second keyframe since all of the matrix rows will contain the common point feature unit vector, 
                           
                              
                                 
                                    
                                       
                                          a
                                       
                                    
                                    ^
                                 
                              
                              
                                 1
                                 ,
                                 2
                              
                           
                        , in the cross product term.

When the camera observation vectors are all parallel, the SLAM solution is degenerate. Each camera observation vector can be written as a scalar multiple, ∃γ
                        
                           m,n
                         ∈ℝ such that v
                        
                           m,n
                        
                        =
                        γ
                        
                           m,n
                        
                        v ∈ℝ3. In this case, the matrix M
                        2 will have less than full rank since, 
                           
                              (85)
                              
                                 rank
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      −
                                                      
                                                         
                                                            γ
                                                         
                                                         
                                                            1
                                                            ,
                                                            1
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           a
                                                                        
                                                                     
                                                                     ^
                                                                  
                                                               
                                                               
                                                                  1
                                                                  ,
                                                                  2
                                                               
                                                            
                                                         
                                                         
                                                            ⊤
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     v
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            ×
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      ⋮
                                                   
                                                
                                                
                                                   
                                                      −
                                                      
                                                         
                                                            γ
                                                         
                                                         
                                                            
                                                               
                                                                  n
                                                               
                                                               
                                                                  f
                                                               
                                                            
                                                            ,
                                                            
                                                               
                                                                  n
                                                               
                                                               
                                                                  o
                                                               
                                                            
                                                            (
                                                            
                                                               
                                                                  n
                                                               
                                                               
                                                                  f
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     a
                                                                  
                                                               
                                                               ^
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  n
                                                               
                                                               
                                                                  f
                                                               
                                                            
                                                            ,
                                                            2
                                                         
                                                         
                                                            ⊤
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     v
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            ×
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ≤
                                 2
                                 <
                                 3
                                 ,
                              
                           
                        and rank (M
                        2
                        ) < 6. This condition includes the previously known two-camera cluster concentric circle degeneracies, since the motion causes the camera centres to move in parallel. Adding more cameras to the cluster reduces the configurations for which the relative motion will lead to the camera observation vectors being parallel. Additionally, when point features are observed across different cameras within the cluster at the two keyframes, it becomes less likely that all of the camera observation vectors are parallel. However, there do exist certain combinations of cluster motions for which the camera observation vectors remain parallel regardless of the feature point locations, and the camera cluster system becomes degenerate. Some example configurations are presented in Fig. 14
                        .

When the relative motion of the camera cluster is such that a point feature which was observed in one camera at the first keyframe is observed by a different camera at the second keyframe, there is a camera observation vector between the positions of the two cameras when they observed the particular point feature. This can create a set of camera observation vectors which are non-parallel even when the relative motion is a pure translation. As a result, it is possible that the system is non-degenerate and the solution can be found in this case, depending on the rank of the matrix M
                        2. Observing common point features over multiple cameras is an effective way of avoiding the set of camera observation vectors becoming parallel and reducing the set of sufficient motions for system degeneracy.

In the case when the motion does not produce parallel camera observation vectors, it is necessary to evaluate the rank of the matrix M
                        2 before concluding that the system is non-degenerate. The matrix M
                        2 can be regarded as a set of motion constraints on a mechanism where a non-full rank means that the framework is not rigid and the configuration can change without violating the constraints. The full analysis of these singular configurations is beyond the scope of this work, but this section presents a set of example configurations for some general case systems to numerically demonstrate the effect of adding additional cameras and point feature observations on the degenerate configuration set. The experiments presented in this section are not exhaustive, but serve to suggest why previous practical implementations of the multicamera cluster SLAM problem converge to an accurate solution when observing many point features, provided the critical motions identified in Section 4.3 are avoided.


                        Figs. 15
                        a and b show typical surface meshes for the relative cluster translation, t
                        
                           K
                        , leading to M
                        2 losing rank for example two and three-camera cluster systems observing six point features with no overlap in the camera observations and non-zero relative rotation. No measurement noise was added to these observations. The surface is computed numerically as the locus of zero determinant for the matrix M
                        2 using a set of randomly-positioned point features. A similar surface is generated for any non-zero rotation 
                           
                              
                                 
                                    R
                                 
                              
                              
                                 K
                              
                           
                        .

As more point feature observations are added to the system, the number of degeneracies is reduced. With more than six point feature observations, the size of the matrix M
                        2 becomes m
                        
                           o
                        
                        ×6, where m
                        
                           o
                         > 6 and therefore the rank of the matrix cannot be checked by computing the determinant directly. Instead, for the matrix to not be full rank, all of the m
                        
                           o
                         choose 6 submatrices of size 6×6 formed by the rows of M
                        2 must have a zero determinant. Each of the submatrices generates a surface as in Fig. 15, and therefore, M
                        2 has deficient rank at the t
                        
                           K
                         where all of the surfaces intersect.

A two-dimensional cross-section at t
                        
                           z
                        
                        =1 m is shown in Fig. 16
                         for the three-camera case observing 7 and 8 point features with no overlap and non-zero rotation. The degenerate cluster translations correspond to the points on the graph where all of the curves intersect and are marked as black circles. These intersections are determined numerically using the computed loci for the determinants of the submatrices. If all of the loci intersect with each other within a certain epsilon ball, the location is selected as a degeneracy of M
                        2.

Notice that the number of degenerate motions is reduced from the curves of each colour for a subset of six feature observations, to a small finite set of points at any given cross-section. While the indicated degenerate positions are subject to numerical precision considerations, these examples are more informative in demonstrating that the system is non-degenerate in almost all configurations.

It is observed that the degenerate points in Fig. 16a connect as lines in ℝ3 at different slices of t
                        
                           z
                        . When observing eight points in general position, Fig. 16b shows that there are no translations for which the system is degenerate. While not exhaustive, numerical analysis of the singular configurations of M
                        2 shows that the set of degenerate motions in the cluster system has been reduced from the previous surface with m
                        
                           o
                        
                        =6, to a set of lines with m
                        
                           o
                        
                        =7 and the origin for m
                        
                           o
                        
                        =8.

Adding point feature observations to the system is an effective way to reduce the set of degenerate motions for the camera cluster system; however, the sufficient conditions in Section 4.3 remain no matter how many point features are observed. Examples of these degeneracies are shown in Fig. 17
                        a for a two-camera cluster and Fig. 17b for a three-camera cluster with rotation purely in the camera centre plane — the plane defined by the three camera optical centres in the cluster  [12].

Both of these indicated degeneracies correspond to translation causing the camera observation vectors to move in parallel (85) and extends along a line in ℝ3. In order to eliminate these motions, it is necessary to add more cameras to the cluster, observe point features over different cameras, or both, to ensure that not all of the camera observation vectors are parallel.

Multiple cameras observing the same point feature at the different keyframes adds extra camera observation vectors which are less likely to be parallel with the rest of the vector set and produce a full-rank M
                        2. An example two-camera cluster observing eight point features is shown in Fig. 18
                        . Camera 2 observes a feature at the second keyframe that was measured by camera 1 initially, and camera 1 observes a feature from camera 2. Significantly, there is no relative rotation between the keyframes of this system, but the rank of M
                        2 is full nearly everywhere. This is an improvement on the previous completely non-overlapping cluster configurations which required non-zero rotation to have a full-rank M
                        2 (e.g. [7,11]).

The example systems in this section demonstrate numerically the effect of adding cameras and point feature observations to the camera cluster SLAM solution. For any algorithm, the overall strategy should be to reduce the number of degenerate configurations by increasing the number of point features observed on the target, and then eliminating the remaining sufficient conditions for degeneracy by adding cameras to the cluster, or observing point features across cameras, such that it is impossible for all of the camera observation vectors to be parallel through the motion. This will ensure a well-constrained solution to the localization and mapping problem.

For this analysis, the deterministic system was used to identify the degenerate cases. In the practical SLAM system, any amount of measurement error will push the solution off of the degenerate configuration surface (64) identified in this analysis. Additionally, it is unlikely that M
                        2 would lose full rank due to numerical considerations, but would become ill-conditioned. Monitoring the condition number of the matrix would provide an informative measure of how close the system is to degeneracy.

In particular, the system scale is very insensitive to the image measurements as the configurations approach degeneracy. In the presence of noise or errors associated with common feature extraction methods, the solution will converge to one particular, likely incorrect scale. This may be partially accounted for in the optimization using error modeling techniques such as Zeisl et al. [27].

In the same way as for traditional stereo systems, the ratio of the baseline to the depth of the point features plays a large role in the sensitivity of the system solution to the image measurements. For the camera cluster case, there are two ratios to consider. First, when the baselines within the camera cluster are small compared to the feature depth, and second, when the cluster translation is small compared to the feature depth. Both of these cases will result in a system that is sensitive to measurement noise, particularly when there is no overlap between the different camera FOV. As the two ratios become larger, more measurement noise may be tolerated.

In the extreme case where the point features are significantly far away from the camera and approximate points at infinity, the previous two ratios approach zero and there is no information with which to triangulate the point feature depth or the length of the cluster translation. While this analysis makes the assumption that all point features have finite depth, large distances combined with the presence of measurement noise, make the practical solution vulnerable to this case. The result would be that the matrix M
                        3 loses full rank or becomes ill-conditioned. However, even though there is insufficient information in the measurements to estimate the depths of the point features and cluster translation, observing extra points at infinity would help constrain the orientation and bearing estimates in the system [28]. If all of the point features were infinitely far from the camera, the problem would need to be reformulated to that of a visual compass [29] to avoid over-parametrization.

While this analysis identified the degenerate configurations of the system, these represent the extreme end of the sensitivity spectrum. In future work, further sensitivity analysis would examine the intermediate behaviour of the system solution with respect to the point feature image measurements.

@&#CONCLUSIONS@&#

This work presented a detailed analysis of the degenerate configurations of the calibrated non-overlapping FOV multicamera cluster SLAM problem for an optimization based on minimizing a least-squares cost function with respect to the image-plane reprojection error. The system is reduced to a simple matrix rank test on a matrix consisting of rows of Plücker coordinates for lines in ℝ3. Sufficient configurations for solution degeneracy caused by the relative motion were identified for n
                     
                        c
                     -camera clusters observing any number of point features over two keyframes. This leads to the novel general conclusion that if all of the camera observation vectors, formed as the displacement between the pairs of cameras observing a particular point feature, are parallel in a common coordinate frame, then the system is degenerate. It is further shown for several example systems that with the addition of more cameras to the cluster, more point feature observations, and observations of the point features across different cameras, the set of degenerate configurations is significantly reduced as it becomes impossible for all of the identified vectors to be parallel and the redundant observations prevent all of the determinants of the submatrices from going to zero concurrently.

Future work will focus on fully characterizing the necessary and sufficient conditions for the system to become degenerate, including the degeneracies related to the geometry of the point feature constellation from the standpoint of geometric algebra techniques [30].

Additionally, the results from this work will be used to generate metrics for deciding when and where to add keyframes in a real-time SLAM system to accurately construct and constrain the generated target model and avoid the degeneracies within the state space caused by measurements from this type of sensor.

Finally, most SLAM systems detect and reject non-rigid target structure by monitoring measurement residuals when back-projecting the points back into the camera images. Further investigation is warranted into the possibility of any of the metrics arising from this analysis providing an indicator to detect non-rigid target structure.

@&#ACKNOWLEDGEMENTS@&#

This work was partially funded by the National Sciences and Engineering Research Council of Canada (NSERC) under Grant No.CRDPJ 397768-10 and supported through the NSERC Canadian Field Robotics Network (NCFRN). Partial funding also comes from the NSERC through the Alexander Graham Bell Canada Graduate Scholarship - Doctoral (CGS-D) award.

The projective space, ℙ
                        r
                     , consists of the real vector space ℝ 
                        r
                     , with the addition of points at infinity [8]. Only a very brief description of the projective space is presented here and the reader is referred to [8] for a more thorough introduction.

A point in the projective space is represented by the r
                     +1 homogeneous coordinates, 
                        
                           (A1)
                           
                              
                                 
                                    
                                       x
                                    
                                 
                                 ˜
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            ˜
                                                         
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            ˜
                                                         
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                
                                                
                                                   …
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            ˜
                                                         
                                                      
                                                      
                                                         r
                                                         +
                                                         1
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    ⊤
                                 
                              
                              ∈
                              
                                 
                                    P
                                 
                                 
                                    r
                                 
                              
                              .
                           
                        
                     The points at infinity in ℝ
                        r
                      are represented by those with coordinate x
                     
                        r
                        +1
                     =0. For finite points in ℝ
                        r
                     ‐ when x
                     
                        r
                        +1≠0 – the coordinates of the corresponding point x ∈ℝ
                        r
                      are determined by, 
                        
                           (A2)
                           
                              
                                 x
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                
                                                
                                                   …
                                                
                                                
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    ⊤
                                 
                              
                           
                        
                     
                     
                        
                           (A3)
                           
                              =
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     x
                                                                  
                                                                  ˜
                                                               
                                                            
                                                            
                                                               1
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     x
                                                                  
                                                                  ˜
                                                               
                                                            
                                                            
                                                               r
                                                               +
                                                               1
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     x
                                                                  
                                                                  ˜
                                                               
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     x
                                                                  
                                                                  ˜
                                                               
                                                            
                                                            
                                                               r
                                                               +
                                                               1
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   …
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     x
                                                                  
                                                                  ˜
                                                               
                                                            
                                                            
                                                               r
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     x
                                                                  
                                                                  ˜
                                                               
                                                            
                                                            
                                                               r
                                                               +
                                                               1
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    ⊤
                                 
                              
                              .
                           
                        
                     Note that there is no way of mapping a point at infinity back to ℝ
                        r
                      since it would require division by zero.

Each point along a ray in the projective space maps to the same point in the real vector space. As a result, the points 
                        
                           
                              
                                 x
                              
                           
                           ˜
                        
                      and 
                        λ
                        
                           
                              
                                 x
                              
                           
                           ˜
                        
                     , for λ ∈ℝ, map to the same point x ∈ℝ
                        r
                     . Not surprisingly, there is an extra degree of freedom in the projective vectors using r
                     +1 coordinates to represent a r-dimensional space. Finally, it is possible to represent any point x ∈ℝ
                        r
                      in the corresponding projective space ℙ
                        r
                      simply by augmenting the coordinates, 
                        
                           (A4)
                           
                              
                                 
                                    
                                       x
                                    
                                 
                                 ˜
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            x
                                                         
                                                      
                                                      
                                                         ⊤
                                                      
                                                   
                                                
                                                
                                                   1
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    ⊤
                                 
                              
                              .
                           
                        
                     
                  

The projective spaces allow for projective and coordinate transformations to be represented as linear matrix operations.

It will sometimes be necessary to move between the respective real and projective space representation of points, and the following promotion and demotion operators are defined. The projective promotion operator 
                        
                           
                              
                                 ρ
                              
                           
                           ˜
                        
                        :
                        
                           
                              R
                           
                           
                              r
                           
                        
                        →
                        
                           
                              P
                           
                           
                              r
                           
                        
                      maps a point x in the real vector space to its representation in the projective space, 
                        
                           (A5)
                           
                              
                                 
                                    
                                       ρ
                                    
                                 
                                 ˜
                              
                              
                                 
                                    
                                       x
                                    
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            x
                                                         
                                                      
                                                      
                                                         ⊤
                                                      
                                                   
                                                
                                                
                                                   1
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    ⊤
                                 
                              
                              .
                           
                        
                     
                  

The projective demotion operator 
                        
                           
                              
                                 π
                              
                           
                           
                              r
                           
                        
                        :
                        
                           
                              P
                           
                           
                              r
                           
                        
                        →
                        
                           
                              R
                           
                           
                              r
                           
                        
                      maps a point 
                        
                           
                              
                                 x
                              
                           
                           ˜
                        
                      in the projective space back to the corresponding point x the real vector space, 
                        
                           (A6)
                           
                              
                                 x
                              
                              =
                              
                                 
                                    
                                       π
                                    
                                 
                                 
                                    r
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             x
                                          
                                       
                                       ˜
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (A7)
                           
                              =
                              
                                 
                                    
                                       
                                          
                                             undefined
                                             
                                          
                                          
                                             if
                                             
                                                
                                                   x
                                                
                                                
                                                   r
                                                   +
                                                   1
                                                
                                             
                                             =
                                             0
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    x
                                                                                 
                                                                                 ˜
                                                                              
                                                                           
                                                                           
                                                                              1
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    x
                                                                                 
                                                                                 ˜
                                                                              
                                                                           
                                                                           
                                                                              r
                                                                              +
                                                                              1
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    x
                                                                                 
                                                                                 ˜
                                                                              
                                                                           
                                                                           
                                                                              2
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    x
                                                                                 
                                                                                 ˜
                                                                              
                                                                           
                                                                           
                                                                              r
                                                                              +
                                                                              1
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                               
                                                                  …
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    x
                                                                                 
                                                                                 ˜
                                                                              
                                                                           
                                                                           
                                                                              r
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    x
                                                                                 
                                                                                 ˜
                                                                              
                                                                           
                                                                           
                                                                              r
                                                                              +
                                                                              1
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   ⊤
                                                
                                             
                                             
                                          
                                          
                                             if
                                             
                                                
                                                   x
                                                
                                                
                                                   r
                                                   +
                                                   1
                                                
                                             
                                             ≠
                                             0
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     Note that the result of this operator is undefined for points at infinity.

In this work, unless it is ambiguous from the context, the promotion and demotion operators will be implied by the vector notation. The homogeneous coordinates for a given vector x ∈ℝ
                        r
                      will simply be written as 
                        
                           
                              
                                 x
                              
                           
                           ˜
                        
                        ∈
                        
                           
                              P
                           
                           
                              r
                           
                        
                     , but implicitly, 
                        
                           
                              
                                 x
                              
                           
                           ˜
                        
                        ≡
                        
                           
                              
                                 ρ
                              
                           
                           ˜
                        
                        
                           
                              
                                 x
                              
                           
                        
                     , and likewise, 
                        
                           x
                        
                        ≡
                        
                           
                              
                                 π
                              
                           
                           
                              r
                           
                        
                        
                           
                              
                                 
                                    
                                       x
                                    
                                 
                                 ˜
                              
                           
                        
                      assuming 
                        
                           
                              
                                 
                                    x
                                 
                                 ˜
                              
                           
                           
                              r
                              +
                              1
                           
                        
                        ≠
                        0
                     .

@&#REFERENCES@&#

