@&#MAIN-TITLE@&#An analytical method for obtaining cutter workpiece engagement during a semi-finish in five-axis milling

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           An analytical method for Cutter-Workpiece Engagement (CWE) calculation in five-axis milling is proposed.


                        
                        
                           
                           Two types of cutters: flat-end and toroidal cutters are covered in this research.


                        
                        
                           
                           The method is applicable for semi-finish milling.


                        
                        
                           
                           Straight (Flat)—staircase sculptured surfaces as a result of three-axis rough milling are used as a reference surface for CWE.


                        
                        
                           
                           Various tool inclination angles and scheduled feedrate are tested to see the influence on the CWE (cut area).


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Cutter workpiece engagement

Toroidal cutter

Flat-end cutter

Semi-finish milling

@&#ABSTRACT@&#


               
               
                  In five-axis milling, determining the continuously changing Cutter Workpiece Engagement (CWE) remains a challenge. Solid models and discrete models are the most common methods used to predict the engagement region. However, both methods suffer from long computation times. This paper presents an analytical method to define the CWE for toroidal and flat-end cutters during semi-finish milling of sculptured parts. The staircase workpiece model that resulted from rough milling was used to verify the method. The length of each cut at every engagement angle can be determined by finding two points: the lower engagement (LE) point and the upper engagement (UE) point. An extension of the method used to calculate the grazing point in swept envelope development was utilized to define the LE-point. The test showed that the existence of an inclination angle significantly affected the location of the LE-point.
                  For the UE-point, it was first assumed that the workpiece surface was flat. A recalculation of the CWE was then performed to obtain a more accurate engagement profile with the actual surface. A technique called the Toroidal-boundary method was employed to obtain the UE-point when it was located on the toroidal side of the cutting tool. Alternatively, a method called the Cylindrical-boundary method was used to calculate the UE-point for a flat-end cutter on the cylindrical side of the toroidal cutter. The proposed model was successfully used to generate CWE data for two model parts with different surface profiles. The accuracy was verified twice: first, by comparing the coordinates of the UE-points with respect to the workpiece surface and second, by using Siemens-NX. The results proved that the proposed method was accurate. Moreover, because this method is analytical, it is more efficient in terms of computation time compared with discrete models.
               
            

@&#INTRODUCTION@&#

Multi-axis CNC milling is an important technology in sculptured surface machining that has high productivity and precision. Normally, high speed machining processes consist of three main stages: rough milling, semi-finish milling and finish milling. This study will focus on semi-finish milling. Semi-finish milling is a machining process that removes the steps and the shoulder that remain after the roughing stage and leaves a uniform thickness allowance for finishing. This operation is important for maintaining a relatively constant metal removal rate for subsequent finishing  [1]. The characteristics of semi-finish in sculptured surface machining show an extreme variation of cutting force. This occurs due to the dynamic Cutter Workpiece Engagement (CWE) that is produced by the sculptured surface of the part and the step workpiece surface. Even though semi-finishing is less concerned with surface quality, extreme cutting force variation will adversely affect the cutting tool. Therefore, control of the cutting force generated along the tool path becomes more important.

Many studies of process modeling have been performed to overcome such problems. Process models can be used to select suitable cutting conditions that give the highest possible material removal rate and maintain the required surface quality  [2]. Precise geometrical information is very important in order to support machining optimization, especially in modeling and calculating the cutting force  [3]. Various studies have been conducted on geometric simulation strategies based on solid modeling, including constructive solid geometry (CSG) and boundary representations (B-Rep). Altintas and Spence  [4,5] used CSG to identify cutter workpiece engagement in order to predict cutting force, while El-Mounayri et al.  [6] used a solid modeling system to compute material removal volume for a three-axis tool path. Using CWE or volume removal data from geometric modeling, the feedrate can be set to generate optimum cutting force. Other researchers have used discrete methods, such as 
                        Z
                     -mapping  [7,8], the 
                        z
                     -buffer  [9] and the octree method  [10,11], to determine the engagement region between a tool and a workpiece along the tool path. In discrete geometry models, the cutter and the workpiece are discretized by the discrete element types. Solid modeling provides more accurate information, but it also has a significantly longer computation time. Meanwhile discretization methods increase calculation speeds compared with solid modeling. However, the computation time increases intensely as the precision and accuracy are improved.

To overcome such problems, Ozturk and Lazoglu  [12] proposed an analytical method to determine the chip load of a ball-end mill during free-form machining. The chip load was obtained by defining three engagement boundaries: the tool entry boundary, the exit boundary and the workpiece surface boundary. Gupta et al.  [13] presented an analytical approach for computing cutter engagement functions for individual half-spaces in the following cases: circular cut and linear half space as well as circular cut and circular half-space. Although both methods are fast and accurate, they are only applicable for three-axis milling on a flat workpiece surface. Spence et al.  [14] reported an analytical method to calculate cutter workpiece engagement by using filled circles and rectangles as primitives to describe parts to be machined. They proposed two basic calculations, one for the cutter engagement of circle primitives, and one for rectangle primitives. Finally, a Boolean operation was applied to determine the entry and exit angles on the cutter. Another study was performed by Tunc and Budak  [15], in which a simple analytical method called the bounding point coordinate method was used for five-axis milling. By using this method, the depth of cut in each tool location can be predicted by defining the coordinate of the cutter contact point. The tests showed that the proposed method could predict the depth of cut well. However, this technique is only applicable for flat workpiece surfaces. In the case of semi-finish machining in five-axis milling, as illustrated in Fig. 1
                     , current analytical methods cannot be applied because the tool can contact not only to the top surface of the workpiece, but also the wall surface (side surface). Another limitation of current analytical methods is that they cannot provide CWE data with respect to the engagement angle. The instantaneous length of cut and cut thickness information are required to predict the instantaneous cutting force  [16–18]. Gupta et al.  [13] mentioned that analytical approaches for computing cutter engagement were much faster and more accurate when compared to the discrete approaches. However, although analytical methods are preferable to discrete methods, studies on analytical methods have not been well developed.

This paper presents an analytical method to define the CWE of a flat-end cutter and a toroidal cutter during semi-finishing of a sculpture part. The staircase workpiece, as depicted in Fig. 1, which is normally produced by rough milling, was used for model development. An extended analytical method to obtain the CWE for the flat surface was employed to define the coordinates of the upper engagement point (UE-point). The UE-point, which is denoted as 
                        
                           
                              n
                           
                           
                              f
                           
                        
                     , is an engagement point that is located on the uppermost part of the CWE. In this case, the 
                        
                           
                              n
                           
                           
                              f
                           
                        
                      could be located either on the top or on the wall of the workpiece surface. For the toroidal cutter, an extended method to define the grazing point of swept volume was employed in order to define the instantaneous lower engagement point (LE-point). The LE-point (
                        C
                     ) is an engagement point that is located at the lowermost part of the CWE. By obtaining both the LE-point and the UE-point, the length of cut at every engagement angle could be calculated. A flowchart describing the steps used to obtain the LE-point and the UE-point is presented in Fig. 2
                      and details will be given in subsequent sections.

In five-axis machining, the tool can be rotated in any direction. Parts with sculptured surfaces can be efficiently machined by controlling the tools that move and rotate dynamically with respect to the surface normal of the part (curvatures). In order to analytically represent the moving surface generation of the cutting tool, appropriate operators for the coordinate system transformations are required. Therefore, three coordinate systems, as illustrated in Fig. 3
                     (a), were employed to represent the position and orientation of the tool. These coordinate systems were the workpiece coordinate system (WCS), which is the reference coordinate frame, the tool coordinate system (TCS), and the local coordinate system (LCS). The coordinate transformations should be related to specific machine kinematics for calculations. The WCS is a fixed frame system that is represented by the basis vector 
                        x
                        ,
                        y
                        ,
                        z
                     , while the TCS and the LCS are denoted by 
                        u
                        ,
                        v
                        ,
                        w
                      and 
                        X
                        ,
                        Y
                        ,
                        Z
                     , respectively. The tool inclination angle (
                        α
                     ), which is called the lead angle by some references, and the screw angle (
                        β
                     ), which is also called the tilt angle, are normally used when a part with sculptured surface is machined using five-axis milling. The angle formed by the TCS and the LCS is illustrated in Fig. 3(a). The orientation of the cutting tool relative to the WCS (
                        ϑ
                     ) is shown in Fig. 3(b) and was calculated using the tool orientation relative to the 
                        x
                     -axis (
                        
                           
                              θ
                           
                           
                              A
                           
                        
                     ) and the 
                        y
                     -axis (
                        
                           
                              θ
                           
                           
                              B
                           
                        
                     ),
                        
                           (1)
                           
                              ϑ
                              =
                              
                                 
                                    cos
                                 
                                 
                                    −
                                    1
                                 
                              
                              
                                 (
                                 cos
                                 
                                    
                                       θ
                                    
                                    
                                       A
                                    
                                 
                                 cos
                                 
                                    
                                       θ
                                    
                                    
                                       B
                                    
                                 
                                 )
                              
                              .
                           
                        
                      The operator 
                        
                           [
                           M
                           ]
                        
                      was used to map the coordinate system from the TCS to the WCS, which involved tool rotation about the 
                        x
                     -axis, the 
                        y
                     -axis and a translation at 
                        T
                     , was expressed as follows, 
                        
                           (2)
                           
                              
                                 [
                                 M
                                 ]
                              
                              =
                              
                                 Rot
                              
                              
                                 (
                                 x
                                 ,
                                 
                                    
                                       θ
                                    
                                    
                                       A
                                    
                                 
                                 )
                              
                              ⋅
                              
                                 Rot
                              
                              
                                 (
                                 y
                                 ,
                                 
                                    
                                       θ
                                    
                                    
                                       B
                                    
                                 
                                 )
                              
                              =
                              
                                 [
                                 
                                    
                                       
                                          cos
                                          
                                             
                                                θ
                                             
                                             
                                                B
                                             
                                          
                                       
                                       
                                          0
                                       
                                       
                                          sin
                                          
                                             
                                                θ
                                             
                                             
                                                B
                                             
                                          
                                       
                                       
                                          
                                             
                                                x
                                             
                                             
                                                T
                                             
                                          
                                       
                                    
                                    
                                       
                                          sin
                                          
                                             
                                                θ
                                             
                                             
                                                A
                                             
                                          
                                          sin
                                          
                                             
                                                θ
                                             
                                             
                                                B
                                             
                                          
                                       
                                       
                                          cos
                                          
                                             
                                                θ
                                             
                                             
                                                A
                                             
                                          
                                       
                                       
                                          −
                                          sin
                                          
                                             
                                                θ
                                             
                                             
                                                A
                                             
                                          
                                          cos
                                          
                                             
                                                θ
                                             
                                             
                                                B
                                             
                                          
                                       
                                       
                                          
                                             
                                                y
                                             
                                             
                                                T
                                             
                                          
                                       
                                    
                                    
                                       
                                          −
                                          cos
                                          
                                             
                                                θ
                                             
                                             
                                                A
                                             
                                          
                                          sin
                                          
                                             
                                                θ
                                             
                                             
                                                B
                                             
                                          
                                       
                                       
                                          sin
                                          
                                             
                                                θ
                                             
                                             
                                                A
                                             
                                          
                                       
                                       
                                          cos
                                          
                                             
                                                θ
                                             
                                             
                                                A
                                             
                                          
                                          cos
                                          
                                             
                                                θ
                                             
                                             
                                                B
                                             
                                          
                                       
                                       
                                          
                                             
                                                z
                                             
                                             
                                                T
                                             
                                          
                                       
                                    
                                    
                                       
                                          0
                                       
                                       
                                          0
                                       
                                       
                                          0
                                       
                                       
                                          1
                                       
                                    
                                 
                                 ]
                              
                           
                        
                      where 
                        T
                        
                           (
                           
                              
                                 x
                              
                              
                                 T
                              
                           
                           ,
                           
                              
                                 y
                              
                              
                                 T
                              
                           
                           ,
                           
                              
                                 z
                              
                              
                                 T
                              
                           
                           )
                        
                      is the cutter location point (CL-point) that was located at the bottom center of the cutting tool. The tool coordinate frame, with the orthogonal basis vector 
                        u
                        ,
                        v
                      and 
                        w
                     , was defined as, 
                        
                           (3)
                           
                              
                                 w
                                 =
                                 
                                    [
                                    M
                                    ]
                                 
                                 
                                    
                                       
                                          [
                                          
                                             
                                                
                                                   0
                                                
                                                
                                                   0
                                                
                                                
                                                   1
                                                
                                                
                                                   0
                                                
                                             
                                          
                                          ]
                                       
                                    
                                    
                                       T
                                    
                                 
                                 =
                                 
                                    
                                       
                                          [
                                          
                                             
                                                
                                                   sin
                                                   
                                                      
                                                         θ
                                                      
                                                      
                                                         B
                                                      
                                                   
                                                
                                                
                                                   −
                                                   sin
                                                   
                                                      
                                                         θ
                                                      
                                                      
                                                         A
                                                      
                                                   
                                                   cos
                                                   
                                                      
                                                         θ
                                                      
                                                      
                                                         B
                                                      
                                                   
                                                
                                                
                                                   cos
                                                   
                                                      
                                                         θ
                                                      
                                                      
                                                         A
                                                      
                                                   
                                                   cos
                                                   
                                                      
                                                         θ
                                                      
                                                      
                                                         B
                                                      
                                                   
                                                
                                                
                                                   0
                                                
                                             
                                          
                                          ]
                                       
                                    
                                    
                                       T
                                    
                                 
                              
                           
                           
                              
                                 v
                                 =
                                 
                                    
                                       w
                                       ×
                                       
                                          
                                             V
                                          
                                          
                                             T
                                          
                                       
                                    
                                    
                                       
                                          |
                                          w
                                          ×
                                          
                                             
                                                V
                                             
                                             
                                                T
                                             
                                          
                                          |
                                       
                                    
                                 
                                 ;
                                 
                                 u
                                 =
                                 v
                                 ×
                                 w
                                 .
                              
                           
                        
                     
                     
                        
                           
                              V
                           
                           
                              T
                           
                        
                      is the linear velocity from one CC-point to the next and it was obtained by, 
                        
                           (4)
                           
                              
                                 
                                    V
                                 
                                 
                                    T
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          C
                                       
                                       
                                          C
                                          
                                             (
                                             i
                                             +
                                             1
                                             )
                                          
                                       
                                    
                                    −
                                    
                                       
                                          C
                                       
                                       
                                          C
                                          
                                             (
                                             i
                                             )
                                          
                                       
                                    
                                 
                                 
                                    f
                                 
                              
                              ;
                              
                              
                                 (
                                 i
                                 =
                                 1
                                 ,
                                 2
                                 ,
                                 3
                                 ,
                                 …
                                 )
                              
                           
                        
                      where 
                        
                           
                              C
                           
                           
                              C
                           
                        
                        
                           (
                           
                              
                                 x
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       C
                                    
                                 
                              
                           
                           ,
                           
                              
                                 y
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       C
                                    
                                 
                              
                           
                           ,
                           
                              
                                 z
                              
                              
                                 
                                    
                                       C
                                    
                                    
                                       C
                                    
                                 
                              
                           
                           )
                        
                      and 
                        f
                      denote the coordinates of the CC-point and the feedrate, respectively.

To calculate the instantaneous CWE, the tool paths were interpolated linearly. For the linear interpolation of cutting tool movement (translational and rotational), the intermediate position and the orientation of the cutting tool in between two CC-points were defined as follows:
                        
                           (5)
                           
                              
                                 [
                                 
                                    
                                       
                                          
                                             
                                                C
                                             
                                             
                                                C
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                θ
                                             
                                             
                                                A
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                θ
                                             
                                             
                                                B
                                             
                                          
                                       
                                    
                                 
                                 ]
                              
                              =
                              
                                 [
                                 
                                    
                                       
                                          
                                             
                                                C
                                             
                                             
                                                C
                                                
                                                   (
                                                   i
                                                   )
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                θ
                                             
                                             
                                                A
                                                
                                                   (
                                                   i
                                                   )
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                θ
                                             
                                             
                                                B
                                                
                                                   (
                                                   i
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                                 ]
                              
                              +
                              p
                              
                              
                                 [
                                 
                                    
                                       
                                          
                                             
                                                C
                                             
                                             
                                                C
                                                
                                                   (
                                                   i
                                                   +
                                                   1
                                                   )
                                                
                                             
                                          
                                          −
                                          
                                             
                                                C
                                             
                                             
                                                C
                                                
                                                   (
                                                   i
                                                   )
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                θ
                                             
                                             
                                                A
                                                
                                                   (
                                                   i
                                                   +
                                                   1
                                                   )
                                                
                                             
                                          
                                          −
                                          
                                             
                                                θ
                                             
                                             
                                                A
                                                
                                                   (
                                                   i
                                                   )
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                θ
                                             
                                             
                                                B
                                                
                                                   (
                                                   i
                                                   +
                                                   1
                                                   )
                                                
                                             
                                          
                                          −
                                          
                                             
                                                θ
                                             
                                             
                                                B
                                                
                                                   (
                                                   i
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                                 ]
                              
                              ;
                              
                              
                                 (
                                 0
                                 ≤
                                 p
                                 <
                                 1
                                 )
                              
                           
                        
                      where 
                        p
                      denotes the tool path interpolation parameter.

The tool’s moving direction influenced the area of the cutting tool that engaged with the workpiece. In real machining, the tool can be set to move in any direction, especially during free-form surface machining. Therefore, the entry angle (
                        ε
                     ), which is the displacement of the 
                        f
                      direction from the 
                        x
                     -axis (it is assumed to be a stair shape parallel to the 
                        y
                     -axis), as depicted in Fig. 3(c), needed to be calculated as follows:
                        
                           (6)
                           
                              ε
                              =
                              
                                 
                                    tan
                                 
                                 
                                    −
                                    1
                                 
                              
                              
                                 [
                                 
                                    
                                       
                                          
                                             y
                                          
                                          
                                             
                                                
                                                   C
                                                
                                                
                                                   C
                                                   
                                                      (
                                                      i
                                                      +
                                                      1
                                                      )
                                                   
                                                
                                             
                                          
                                       
                                       −
                                       
                                          
                                             y
                                          
                                          
                                             
                                                
                                                   C
                                                
                                                
                                                   C
                                                   
                                                      (
                                                      i
                                                      )
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             x
                                          
                                          
                                             
                                                
                                                   C
                                                
                                                
                                                   C
                                                   
                                                      (
                                                      i
                                                      +
                                                      1
                                                      )
                                                   
                                                
                                             
                                          
                                       
                                       −
                                       
                                          
                                             x
                                          
                                          
                                             
                                                
                                                   C
                                                
                                                
                                                   C
                                                   
                                                      (
                                                      i
                                                      )
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ]
                              
                           
                        
                      where 
                        φ
                      is equal to 
                        
                           
                              φ
                           
                           
                              o
                           
                        
                        −
                        ε
                      and 
                        
                           
                              φ
                           
                           
                              o
                           
                        
                        
                        
                           (
                           0
                           <
                           
                              
                                 φ
                              
                              
                                 o
                              
                           
                           <
                           180
                           )
                        
                      is the engagement angle when the tool moves straight on the 
                        x
                     -axis.

In this study, the CWE model was developed for two cutting tools that are widely used during semi-finish milling: flat-end cutters and toroidal cutters. The surface of a flat-end cutter was considered to be a cylindrical surface as shown in Fig. 4
                     (a) and was defined by the parametric equation as follows: 
                        
                           (7)
                           
                              
                                 
                                    S
                                 
                                 
                                    C
                                 
                              
                              
                                 (
                                 φ
                                 ;
                                 l
                                 )
                              
                              =
                              
                                 [
                                 
                                    
                                       
                                          R
                                          
                                          sin
                                          φ
                                       
                                    
                                    
                                       
                                          R
                                          
                                          cos
                                          φ
                                       
                                    
                                    
                                       
                                          l
                                       
                                    
                                 
                                 ]
                              
                           
                        
                      where 
                        R
                      is the radius of the cutting tool, 
                        φ
                      is the tool rotation angle or engagement angle and 
                        l
                      is the distance of the point from the bottom.

Meanwhile, for the toroidal-end cutter, a typical surface was decomposed into cylindrical and toroidal surfaces, as depicted in Fig. 4(b). The representation of the cylindrical surface with respect to the tool coordinate system (TCS) was described using Eq. (7) with 
                        l
                        =
                        r
                        +
                        
                           
                              l
                           
                           
                              n
                           
                        
                     , while that of the toroidal surface was defined by the following equation: 
                        
                           (8)
                           
                              
                                 
                                    S
                                 
                                 
                                    T
                                 
                              
                              
                                 (
                                 φ
                                 ;
                                 λ
                                 )
                              
                              =
                              
                                 [
                                 
                                    
                                       
                                          
                                             (
                                             
                                                
                                                   r
                                                
                                                
                                                   m
                                                
                                             
                                             +
                                             r
                                             
                                             sin
                                             λ
                                             )
                                          
                                          
                                          sin
                                          φ
                                       
                                    
                                    
                                       
                                          
                                             (
                                             
                                                
                                                   r
                                                
                                                
                                                   m
                                                
                                             
                                             +
                                             r
                                             
                                             sin
                                             λ
                                             )
                                          
                                          
                                          cos
                                          φ
                                       
                                    
                                    
                                       
                                          r
                                          −
                                          r
                                          cos
                                          λ
                                       
                                    
                                 
                                 ]
                              
                           
                        
                      where 
                        r
                      is the minor radius of the cutter, 
                        
                           
                              r
                           
                           
                              m
                           
                        
                      is the distance between the cutter center point and the minor radius, and 
                        λ
                      denotes the toroidal angle.

When the cutter contact (CC) data and workpiece surface information were provided in the workpiece coordinate system (WCS), the cutter surface was transformed from the TCS to the WCS. The transformation was performed using the mapping operator from TCS to WCS in Eq. (2). Then Eqs. (7) and (8) yield to,
                        
                           
                              (9)
                              
                                 
                                    
                                       S
                                    
                                    
                                       C
                                    
                                    
                                       ′
                                    
                                 
                                 
                                    (
                                    
                                       
                                          x
                                       
                                       
                                          
                                             
                                                S
                                             
                                             
                                                C
                                             
                                             
                                                ′
                                             
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          y
                                       
                                       
                                          
                                             
                                                S
                                             
                                             
                                                C
                                             
                                             
                                                ′
                                             
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          z
                                       
                                       
                                          
                                             
                                                S
                                             
                                             
                                                C
                                             
                                             
                                                ′
                                             
                                          
                                       
                                    
                                    )
                                 
                                 =
                                 
                                    [
                                    M
                                    ]
                                 
                                 
                                 
                                    
                                       S
                                    
                                    
                                       C
                                    
                                 
                                 
                                    (
                                    φ
                                    ;
                                    l
                                    )
                                 
                              
                           
                           
                              (10)
                              
                                 
                                    
                                       S
                                    
                                    
                                       T
                                    
                                    
                                       ′
                                    
                                 
                                 
                                    (
                                    
                                       
                                          x
                                       
                                       
                                          
                                             
                                                S
                                             
                                             
                                                T
                                             
                                             
                                                ′
                                             
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          y
                                       
                                       
                                          
                                             
                                                S
                                             
                                             
                                                T
                                             
                                             
                                                ′
                                             
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          z
                                       
                                       
                                          
                                             
                                                S
                                             
                                             
                                                T
                                             
                                             
                                                ′
                                             
                                          
                                       
                                    
                                    )
                                 
                                 =
                                 
                                    [
                                    M
                                    ]
                                 
                                 
                                 
                                    
                                       S
                                    
                                    
                                       T
                                    
                                 
                                 
                                    (
                                    φ
                                    ;
                                    λ
                                    )
                                 
                                 .
                              
                           
                        
                     
                  

According to Gani et al.  [19], the tool inclination used for five-axis milling has a large influence on the cut geometry. It will not only change the cut thickness, but also the length of cut. In terms of cutting force, previous studies  [4–6] have shown that a negative inclination angle tends to give greater cutting force due to the larger contact area between the cutter and the workpiece. The LE-point of a flat-end cutter with respect to the inclination angle and as a function of the engagement angle is depicted in Fig. 5
                     (a). The length of contact between the cutter and the workpiece was measured from the UE-point and the LE-point. It can be seen that a tool without an inclination angle 
                        
                           (
                           α
                           =
                           0
                           )
                        
                      and a tool with a positive inclination angle 
                        
                           (
                           α
                           >
                           0
                           )
                        
                      have LE-points in the same location. In these cases, the LE-point is located at the bottom of the front cutting edge. However, when 
                        α
                        <
                        0
                     , the LE-points will be located at the back cutting edge. The LE-point coordinate 
                        
                           (
                           C
                           )
                        
                     was calculated using Eq. (7) with 
                        l
                        =
                        0
                     .

Different phenomena occurred with the toroidal cutter, as illustrated in Fig. 5(b). When machining without an inclination angle, the LE-points at every engagement angle are located at the bottom of the front cutting edge or at an LE-point toroidal angle (
                        
                           
                              λ
                           
                           
                              C
                           
                        
                     ) equal to zero. However, when an inclination angle exists, then the coordinates of the LE-points change significantly. When 
                        α
                        >
                        0
                     , the LE-points are located at the front cutting edge with 
                        
                           
                              λ
                           
                           
                              C
                           
                        
                        >
                        0
                     . Meanwhile, if 
                        α
                        <
                        0
                     , the LE-points are at the back cutting edge with 
                        
                           
                              λ
                           
                           
                              C
                           
                        
                        >
                        0
                     .

The method used to define the toroidal angle of the LE-point was derived using the method to define a swept envelope. As mentioned in other studies  [20–22], a swept envelope is constructed using three points: the forward boundary (egress point), the envelope boundary (grazing point), and the backward boundary (ingress point). The Grazing point was considered to be an LE-point at every engagement angle. It was obtained using the tangency function 
                        
                           
                              F
                           
                           
                              
                                 (
                                 ϑ
                                 ,
                                 φ
                                 ,
                                 p
                                 )
                              
                           
                        
                        =
                        
                           
                              N
                           
                           
                              
                                 
                                    S
                                 
                                 
                                    T
                                 
                              
                              
                                 (
                                 ϑ
                                 ,
                                 φ
                                 ,
                                 p
                                 )
                              
                           
                        
                        ⋅
                        
                           
                              V
                           
                           
                              
                                 
                                    S
                                 
                                 
                                    T
                                 
                              
                              
                                 (
                                 ϑ
                                 ,
                                 φ
                                 ,
                                 p
                                 )
                              
                           
                        
                        =
                        0
                     , which consisted of the cutter surface normal, 
                        
                           
                              N
                           
                           
                              
                                 
                                    S
                                 
                                 
                                    T
                                 
                              
                              
                                 (
                                 ϑ
                                 ,
                                 φ
                                 ,
                                 p
                                 )
                              
                           
                        
                     , and the cutter moving vector, 
                        
                           
                              V
                           
                           
                              
                                 
                                    S
                                 
                                 
                                    T
                                 
                              
                              
                                 (
                                 ϑ
                                 ,
                                 φ
                                 ,
                                 p
                                 )
                              
                           
                        
                     . Using the same method, LE-points at every engagement angle were calculated. Even though the toroidal cutter was constructed with two sides, the toroidal side and the cylinder side, the LE-point was only located on the toroidal side.

The surface normal of an arbitrary point 
                        Q
                      on the toroidal surface in the TCS was described by,
                        
                           (11)
                           
                              
                                 
                                    N
                                 
                                 
                                    
                                       
                                          S
                                       
                                       
                                          T
                                       
                                    
                                 
                              
                              =
                              
                                 
                                    ∂
                                    
                                       
                                          S
                                       
                                       
                                          T
                                       
                                    
                                    /
                                    ∂
                                    λ
                                 
                                 
                                    
                                       |
                                       ∂
                                       
                                          
                                             S
                                          
                                          
                                             T
                                          
                                       
                                       /
                                       ∂
                                       λ
                                       |
                                    
                                 
                              
                              ×
                              
                                 
                                    ∂
                                    
                                       
                                          S
                                       
                                       
                                          T
                                       
                                    
                                    /
                                    ∂
                                    
                                       
                                          φ
                                       
                                       
                                          o
                                       
                                    
                                 
                                 
                                    
                                       |
                                       ∂
                                       
                                          
                                             S
                                          
                                          
                                             T
                                          
                                       
                                       /
                                       ∂
                                       
                                          
                                             φ
                                          
                                          
                                             o
                                          
                                       
                                       |
                                    
                                 
                              
                              =
                              
                                 [
                                 
                                    
                                       
                                          sin
                                          λ
                                          sin
                                          
                                             
                                                φ
                                             
                                             
                                                o
                                             
                                          
                                       
                                    
                                    
                                       
                                          sin
                                          λ
                                          cos
                                          
                                             
                                                φ
                                             
                                             
                                                o
                                             
                                          
                                       
                                    
                                    
                                       
                                          −
                                          cos
                                          λ
                                       
                                    
                                 
                                 ]
                              
                              .
                           
                        
                      When Eq. (11) was transformed to a moving frame, it yielded, 
                        
                           (12)
                           
                              
                                 
                                    N
                                 
                                 
                                    
                                       
                                          S
                                       
                                       
                                          T
                                       
                                       
                                          ′
                                       
                                    
                                    
                                       (
                                       ϑ
                                       ,
                                       φ
                                       ,
                                       p
                                       )
                                    
                                 
                              
                              =
                              sin
                              λ
                              ⋅
                              sin
                              
                                 (
                                 φ
                                 −
                                 ε
                                 )
                              
                              ⋅
                              u
                              +
                              sin
                              λ
                              ⋅
                              cos
                              
                                 (
                                 φ
                                 −
                                 ε
                                 )
                              
                              ⋅
                              v
                              −
                              cos
                              λ
                              ⋅
                              w
                              .
                           
                        
                      The velocity of an arbitrary point 
                        Q
                      on the toroidal surface was determined as follows: 
                        
                           (13)
                           
                              
                                 
                                    V
                                 
                                 
                                    
                                       
                                          S
                                       
                                       
                                          T
                                       
                                    
                                 
                              
                              =
                              
                                 
                                    V
                                 
                                 
                                    T
                                 
                              
                              +
                              ω
                              ×
                              T
                              Q
                           
                        
                      where 
                        ω
                      and 
                        T
                        Q
                      denote the angular velocity and the position vector from 
                        T
                      to 
                        Q
                     , respectively. Because the tool orientation for any instantaneous position was adjusted in Eq. (5), it was assumed that 
                        ω
                        =
                        0
                     . Therefore, the velocity vector in Eq. (13) was equal to 
                        
                           
                              V
                           
                           
                              T
                           
                        
                      and the tangential function was as follows: 
                        
                           (14)
                           
                              
                                 
                                    F
                                 
                                 
                                    
                                       (
                                       ϑ
                                       ,
                                       φ
                                       ,
                                       p
                                       )
                                    
                                 
                              
                              =
                              sin
                              
                                 
                                    λ
                                 
                                 
                                    C
                                 
                              
                              ⋅
                              sin
                              
                                 (
                                 φ
                                 −
                                 ε
                                 )
                              
                              ⋅
                              
                                 (
                                 
                                    
                                       V
                                    
                                    
                                       T
                                    
                                 
                                 ⋅
                                 u
                                 )
                              
                              +
                              sin
                              
                                 
                                    λ
                                 
                                 
                                    C
                                 
                              
                              ⋅
                              cos
                              
                                 (
                                 φ
                                 −
                                 ε
                                 )
                              
                              ⋅
                              
                                 (
                                 
                                    
                                       V
                                    
                                    
                                       T
                                    
                                 
                                 ⋅
                                 v
                                 )
                              
                              +
                              cos
                              
                                 
                                    λ
                                 
                                 
                                    C
                                 
                              
                              ⋅
                              
                                 (
                                 
                                    
                                       V
                                    
                                    
                                       T
                                    
                                 
                                 ⋅
                                 w
                                 )
                              
                              =
                              0
                              .
                           
                        
                      Finally, the toroidal angle of the LE-point was calculated as a function of the engagement angle as follows: 
                        
                           (15)
                           
                              
                                 
                                    λ
                                 
                                 
                                    C
                                    
                                       (
                                       φ
                                       )
                                    
                                 
                              
                              =
                              
                                 
                                    tan
                                 
                                 
                                    −
                                    1
                                 
                              
                              
                                 [
                                 
                                    
                                       
                                          
                                             V
                                          
                                          
                                             T
                                          
                                       
                                       ⋅
                                       w
                                    
                                    
                                       sin
                                       
                                          (
                                          φ
                                          −
                                          ε
                                          )
                                       
                                       ⋅
                                       
                                          (
                                          
                                             
                                                V
                                             
                                             
                                                T
                                             
                                          
                                          ⋅
                                          u
                                          )
                                       
                                       +
                                       cos
                                       
                                          (
                                          φ
                                          −
                                          ε
                                          )
                                       
                                       ⋅
                                       
                                          (
                                          
                                             
                                                V
                                             
                                             
                                                T
                                             
                                          
                                          ⋅
                                          v
                                          )
                                       
                                    
                                 
                                 ]
                              
                              .
                           
                        
                      By adding 
                        
                           
                              λ
                           
                           
                              C
                              
                                 (
                                 
                                    
                                       φ
                                    
                                    
                                       C
                                    
                                 
                                 )
                              
                           
                        
                      into Eq. (10), the LE-point coordinates were obtained. 
                        
                           (16)
                           
                              C
                              
                                 (
                                 
                                    
                                       x
                                    
                                    
                                       C
                                    
                                 
                                 ,
                                 
                                    
                                       y
                                    
                                    
                                       C
                                       ,
                                    
                                 
                                 
                                    
                                       z
                                    
                                    
                                       C
                                    
                                 
                                 )
                              
                              =
                              
                                 [
                                 M
                                 ]
                              
                              
                              
                                 
                                    S
                                 
                                 
                                    T
                                 
                              
                              
                                 (
                                 φ
                                 ;
                                 
                                    
                                       λ
                                    
                                    
                                       C
                                    
                                 
                                 )
                              
                              .
                           
                        
                     
                  

In this study, a number of normal vectors that were located on the border of the workpiece surface, which are shown in Fig. 1, were used as references for further calculations. At every instantaneous position, two vectors, 
                        
                           
                              v
                           
                           
                              A
                           
                        
                        
                           (
                           
                              
                                 x
                              
                              
                                 A
                              
                           
                           ,
                           
                              
                                 y
                              
                              
                                 A
                              
                           
                           ,
                           
                              
                                 z
                              
                              
                                 A
                              
                           
                           )
                        
                      and 
                        
                           
                              v
                           
                           
                              B
                           
                        
                        
                           (
                           
                              
                                 x
                              
                              
                                 B
                              
                           
                           ,
                           
                              
                                 y
                              
                              
                                 B
                              
                           
                           ,
                           
                              
                                 z
                              
                              
                                 B
                              
                           
                           )
                        
                     , were identified. The vector 
                        
                           
                              v
                           
                           
                              A
                           
                        
                      was located before 
                        C
                        
                           (
                           
                              
                                 x
                              
                              
                                 C
                              
                           
                           ,
                           
                              
                                 y
                              
                              
                                 C
                              
                           
                           ,
                           
                              
                                 z
                              
                              
                                 C
                              
                           
                           )
                        
                     , while 
                        
                           
                              v
                           
                           
                              B
                           
                        
                      was located either following or prior to 
                        
                           
                              v
                           
                           
                              A
                           
                        
                     , depending on the tool orientation. When 
                        
                           
                              θ
                           
                           
                              B
                           
                        
                      was positive, 
                        
                           
                              v
                           
                           
                              B
                           
                        
                      was located after 
                        
                           
                              v
                           
                           
                              A
                           
                        
                     , as depicted in Fig. 6
                     (a). Otherwise, 
                        
                           
                              v
                           
                           
                              B
                           
                        
                      was located before 
                        
                           
                              v
                           
                           
                              A
                           
                        
                      (Fig. 6(b)). After the two vectors (
                        
                           
                              v
                           
                           
                              A
                           
                        
                      and 
                        
                           
                              v
                           
                           
                              B
                           
                        
                     ) were identified, the workpiece was divided into two subsequent blocks, block A and block B. Because of the tool orientation and the shape of the workpiece surface, the UE-point could be located either on top of the surface of block A (
                        
                           
                              S
                           
                           
                              A
                           
                        
                     ), on the wall of block A (
                        
                           
                              W
                           
                           
                              A
                           
                        
                     ), on top of the surface of block B (
                        
                           
                              S
                           
                           
                              B
                           
                        
                     ), or on the wall of block B (
                        
                           
                              W
                           
                           
                              B
                           
                        
                     ).

Initially the UE-point was calculated by assuming that it was located on 
                        
                           
                              S
                           
                           
                              A
                           
                        
                     . The UE-point at that stage was called the initial UE-point, 
                        
                           
                              n
                           
                           
                              i
                           
                        
                        
                           (
                           
                              
                                 x
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       i
                                    
                                 
                              
                           
                           ,
                           
                              
                                 y
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       i
                                    
                                 
                              
                           
                           ,
                           
                              
                                 z
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       i
                                    
                                 
                              
                           
                           )
                        
                     . It was called ‘initial’ because it needed to be checked further to determine if the initial assumption was correct or not. If it was correct, then 
                        
                           
                              n
                           
                           
                              i
                           
                        
                      was the final UE-point 
                        
                           
                              n
                           
                           
                              f
                           
                        
                        
                           (
                           
                              
                                 x
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                              
                           
                           ,
                           
                              
                                 y
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                              
                           
                           ,
                           
                              
                                 z
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                              
                           
                           )
                        
                     . Otherwise, recalculations were performed to obtain the final UE-point.

The coordinate of the UE-point can be calculated using Eq. (9) after the length of cut (
                        
                           
                              l
                           
                           
                              n
                           
                        
                     ) is determined. For a flat-end cutter with 
                        l
                        =
                        
                           
                              l
                           
                           
                              n
                           
                        
                     , a method called the Cylindrical-boundary method was used to define the length of cut. This method was divided into the 
                        X
                     -Cylindrical method and the 
                        Z
                     -Cylindrical method.


                     
                        X
                     -Cylindrical method: when the UE-point was located on the wall of the workpiece block, the length of cut was calculated based on the distance between point 
                        C
                      and the wall on the 
                        x
                     -axis, as shown in Fig. 6(a) and expressed as follows: 
                        
                           (17)
                           
                              
                                 
                                    l
                                 
                                 
                                    n
                                 
                              
                              =
                              
                                 (
                                 
                                    
                                       x
                                    
                                    
                                       w
                                    
                                 
                                 −
                                 
                                    
                                       x
                                    
                                    
                                       C
                                    
                                 
                                 )
                              
                              /
                              sin
                              
                                 
                                    θ
                                 
                                 
                                    B
                                 
                              
                              .
                           
                        
                     
                     
                        Z
                     -Cylindrical method: when the UE-point was located on the top of the surface of the workpiece block, then the length of cut was calculated based on the distance between point 
                        C
                      and the top surface on the 
                        z
                     -axis, as shown in Fig. 6(b) and stated as follows: 
                        
                           (18)
                           
                              
                                 
                                    l
                                 
                                 
                                    n
                                 
                              
                              =
                              
                                 (
                                 
                                    
                                       z
                                    
                                    
                                       w
                                    
                                 
                                 −
                                 
                                    
                                       z
                                    
                                    
                                       C
                                    
                                 
                                 )
                              
                              /
                              cos
                              ϑ
                              .
                           
                        
                      Because the initial UE-point was assumed to be located on 
                        
                           
                              S
                           
                           
                              A
                           
                        
                     , the initial length of cut was calculated using the 
                        Z
                     -Cylindrical method with 
                        
                           
                              z
                           
                           
                              w
                           
                        
                        =
                        
                           
                              z
                           
                           
                              A
                           
                        
                     . After that, 
                        
                           
                              l
                           
                           
                              n
                           
                        
                      was used to calculate 
                        
                           
                              n
                           
                           
                              i
                           
                        
                     .

Once 
                        
                           
                              n
                           
                           
                              i
                           
                        
                      was obtained, then it was checked to determine whether or not it was on 
                        
                           
                              S
                           
                           
                              A
                           
                        
                     . The initial assumption was deemed incorrect if 
                        
                           
                              x
                           
                           
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                              
                           
                        
                        <
                        
                           
                              x
                           
                           
                              A
                           
                        
                      when the tool had a negative 
                        
                           
                              θ
                           
                           
                              B
                           
                        
                     , or if 
                        
                           
                              x
                           
                           
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                              
                           
                        
                        >
                        
                           
                              x
                           
                           
                              B
                           
                        
                      when the tool had a positive 
                        
                           
                              θ
                           
                           
                              B
                           
                        
                     . In these cases, the final UE-point was recalculated. The final UE-point could be identified after point 
                        
                           
                              n
                           
                           
                              w
                           
                        
                        
                           (
                           
                              
                                 x
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       w
                                    
                                 
                              
                           
                           ,
                           
                              
                                 y
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       w
                                    
                                 
                              
                           
                           ,
                           
                              
                                 z
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       w
                                    
                                 
                              
                           
                           )
                        
                      was obtained. The engagement point 
                        
                           
                              n
                           
                           
                              w
                           
                        
                      was on the wall of block A when 
                        
                           
                              θ
                           
                           
                              B
                           
                        
                      was negative, or on the wall of block B when 
                        
                           
                              θ
                           
                           
                              B
                           
                        
                      was positive. Following this, 
                        
                           
                              n
                           
                           
                              w
                           
                        
                      could be determined after the length of cut on the wall surface 
                        
                           (
                           
                              
                                 l
                              
                              
                                 w
                              
                           
                           )
                        
                      was calculated using the 
                        Z
                     -Cylindrical method. The coordinate 
                        
                           
                              n
                           
                           
                              w
                           
                        
                      was then defined using Eq. (9) with 
                        l
                        =
                        
                           
                              l
                           
                           
                              w
                           
                        
                     . Finally, some conclusions regarding the cutter workpiece engagement could be made.

All of the CWE conditions for the flat-end cutter are illustrated in Fig. 7
                     . The methods used to identify the location of the UE-point and to define the lengths of a cut are presented in Table 1
                     . The length of cut 
                        
                           
                              l
                           
                           
                              A
                           
                        
                      and 
                        
                           
                              l
                           
                           
                              B
                           
                        
                      are the lengths when the UE-point was on 
                        
                           
                              S
                           
                           
                              A
                           
                        
                      and 
                        
                           
                              S
                           
                           
                              B
                           
                        
                     , respectively. Both of them are calculated using the 
                        Z
                     -Cylindrical method. For cases B.3 and B.4, the tools engaged with both workpiece blocks and some part of the tool (in between the engagement points) were out of the workpiece as depicted in Fig. 7(g) and (h). Another circumstance, which was shown in B6, was when the tool was located above 
                        
                           
                              S
                           
                           
                              A
                              ,
                           
                        
                      but some part of it engaged with block B. In this case, the LE-point moved from 
                        C
                      to 
                        
                           
                              C
                           
                           
                              ′
                           
                        
                     .

Because the equations for the cylindrical and toroidal surfaces were different, the method used to calculate the CWE on the toroidal side was different from that on the cylindrical side. Therefore, the location of 
                        
                           
                              n
                           
                           
                              f
                           
                        
                     , whether it was on the toroidal side or the cylindrical side, was determined before any calculations were made. This was accomplished by checking the coordinates of the UE-point relative to 
                        C
                      and 
                        P
                      (see Fig. 8
                     ), with 
                        P
                        
                           (
                           
                              
                                 x
                              
                              
                                 P
                              
                           
                           ,
                           
                              
                                 y
                              
                              
                                 P
                              
                           
                           ,
                           
                              
                                 z
                              
                              
                                 P
                              
                           
                           )
                        
                      denoting the end point of the toroidal cutter on the WCS, which was calculated using Eq. (10) with 
                        λ
                        =
                        90
                     . In order to more easily check the UE-point position, point 
                        P
                      and the UE-point were transformed into TCS. If the UE-point was located below point 
                        P
                     , then it was on toroidal side, as shown in Fig. 8(a). On the other hand, when it was located above point 
                        P
                     , then the UE-point was on the cylindrical side, as depicted in Fig. 8(b). The cylindrical boundary method, which was used to define the length of cut on a flat-end cutter, was also employed to calculate the length of cut for the cylindrical side of the toroidal cutter. However, instead of measuring from 
                        C
                      to 
                        
                           
                              n
                           
                           
                              f
                           
                        
                     , the distance was measured from point 
                        P
                      to 
                        
                           
                              n
                           
                           
                              f
                           
                        
                     . The method that was used to define the UE-point on the toroidal side will be discussed in the following section.

The coordinates of the UE-point on the toroidal side could be determined after the toroidal angle 
                           
                              (
                              
                                 
                                    λ
                                 
                                 
                                    n
                                 
                              
                              )
                           
                         was obtained. It was calculated using a method called the Toroidal-Boundary Method, which consists of the 
                           Z
                        -toroidal and the 
                           X
                        -toroidal method. The toroidal angle could be determined if at least one of the axis components of the UE-point, 
                           
                              
                                 n
                              
                              
                                 f
                              
                           
                           
                              (
                              
                                 
                                    x
                                 
                                 
                                    
                                       
                                          n
                                       
                                       
                                          f
                                       
                                    
                                 
                              
                              ,
                              
                                 
                                    y
                                 
                                 
                                    
                                       
                                          n
                                       
                                       
                                          f
                                       
                                    
                                 
                              
                              ,
                              
                                 
                                    z
                                 
                                 
                                    
                                       
                                          n
                                       
                                       
                                          f
                                       
                                    
                                 
                              
                              )
                           
                        , was known. For example, when the UE-point was located on the wall of workpiece block, as shown in Fig. 8(a), then 
                           
                              
                                 x
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                              
                           
                         was equal to 
                           
                              
                                 x
                              
                              
                                 B
                              
                           
                        . In that case, 
                           
                              
                                 λ
                              
                              
                                 n
                              
                           
                         was calculated using the 
                           X
                        -toroidal method. Meanwhile, the 
                           Z
                        -toroidal method was used when the UE-point was located on the top surface of the workpiece block.


                        
                           Z
                        -toroidal method. If 
                           
                              
                                 z
                              
                              
                                 
                                    
                                       S
                                    
                                    
                                       T
                                    
                                 
                              
                              
                                 ′
                              
                           
                         in Eq. (10) was identified, then the toroidal angle was calculated by extracting Eq. (10) in order to obtain 
                           
                              
                                 z
                              
                              
                                 
                                    
                                       S
                                    
                                    
                                       T
                                    
                                 
                              
                              
                                 ′
                              
                           
                        . Because the purpose of this method was to define the coordinates for 
                           
                              
                                 n
                              
                              
                                 f
                              
                           
                        , the symbol 
                           
                              
                                 z
                              
                              
                                 
                                    
                                       S
                                    
                                    
                                       T
                                    
                                 
                              
                              
                                 ′
                              
                           
                         was replaced by 
                           
                              
                                 z
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                              
                           
                        , and the toroidal angle was expressed using the following equation:
                           
                              (19)
                              
                                 
                                    
                                       z
                                    
                                    
                                       
                                          
                                             n
                                          
                                          
                                             f
                                          
                                       
                                    
                                 
                                 =
                                 
                                    [
                                    
                                       
                                          
                                             −
                                             cos
                                             
                                                
                                                   θ
                                                
                                                
                                                   A
                                                
                                             
                                             sin
                                             
                                                
                                                   θ
                                                
                                                
                                                   B
                                                
                                             
                                          
                                          
                                             sin
                                             
                                                
                                                   θ
                                                
                                                
                                                   A
                                                
                                             
                                          
                                          
                                             cos
                                             
                                                
                                                   θ
                                                
                                                
                                                   A
                                                
                                             
                                             cos
                                             
                                                
                                                   θ
                                                
                                                
                                                   B
                                                
                                             
                                          
                                          
                                             
                                                
                                                   z
                                                
                                                
                                                   T
                                                
                                             
                                          
                                       
                                    
                                    ]
                                 
                                 
                                    
                                       S
                                    
                                    
                                       T
                                       
                                          (
                                          φ
                                          ;
                                          λ
                                          )
                                       
                                    
                                 
                                 .
                              
                           
                         By substituting 
                           
                              
                                 S
                              
                              
                                 T
                              
                           
                           
                              (
                              φ
                              ;
                              λ
                              )
                           
                         from Eqs. (8), (19) was altered as follows: 
                           
                              (20)
                              
                                 
                                    [
                                    −
                                    r
                                    
                                    cos
                                    
                                       
                                          θ
                                       
                                       
                                          A
                                       
                                    
                                    cos
                                    
                                       
                                          θ
                                       
                                       
                                          B
                                       
                                    
                                    ]
                                 
                                 cos
                                 λ
                                 +
                                 
                                    [
                                    r
                                    
                                    cos
                                    φ
                                    sin
                                    
                                       
                                          θ
                                       
                                       
                                          A
                                       
                                    
                                    −
                                    r
                                    
                                    sin
                                    φ
                                    sin
                                    
                                       
                                          θ
                                       
                                       
                                          A
                                       
                                    
                                    sin
                                    
                                       
                                          θ
                                       
                                       
                                          B
                                       
                                    
                                    ]
                                 
                                 
                                 sin
                                 λ
                                 =
                                 
                                    (
                                    
                                       
                                          z
                                       
                                       
                                          
                                             
                                                n
                                             
                                             
                                                f
                                             
                                          
                                       
                                    
                                    −
                                    
                                       
                                          z
                                       
                                       
                                          T
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    [
                                    r
                                    
                                    cos
                                    
                                       
                                          θ
                                       
                                       
                                          A
                                       
                                    
                                    cos
                                    
                                       
                                          θ
                                       
                                       
                                          B
                                       
                                    
                                    +
                                    
                                       
                                          r
                                       
                                       
                                          m
                                       
                                    
                                    cos
                                    φ
                                    sin
                                    
                                       
                                          θ
                                       
                                       
                                          A
                                       
                                    
                                    −
                                    
                                       
                                          r
                                       
                                       
                                          m
                                       
                                    
                                    sin
                                    φ
                                    cos
                                    
                                       
                                          θ
                                       
                                       
                                          A
                                       
                                    
                                    sin
                                    
                                       
                                          θ
                                       
                                       
                                          B
                                       
                                    
                                    ]
                                 
                                 .
                              
                           
                         Eq. (20) was simplified to give, 
                           
                              (21)
                              
                                 a
                                 
                                 cos
                                 λ
                                 +
                                 b
                                 
                                 sin
                                 λ
                                 =
                                 c
                              
                           
                         where: 
                           
                              (22)
                              
                                 
                                    a
                                    =
                                    −
                                    r
                                    
                                    cos
                                    
                                       
                                          θ
                                       
                                       
                                          A
                                       
                                    
                                    cos
                                    
                                       
                                          θ
                                       
                                       
                                          B
                                       
                                    
                                    ;
                                    
                                    b
                                    =
                                    r
                                    
                                    cos
                                    φ
                                    cos
                                    
                                       
                                          θ
                                       
                                       
                                          A
                                       
                                    
                                    −
                                    r
                                    
                                    sin
                                    φ
                                    cos
                                    
                                       
                                          θ
                                       
                                       
                                          A
                                       
                                    
                                    sin
                                    
                                       
                                          θ
                                       
                                       
                                          B
                                       
                                    
                                 
                              
                              
                                 
                                    c
                                    =
                                    
                                       (
                                       
                                          
                                             z
                                          
                                          
                                             
                                                
                                                   n
                                                
                                                
                                                   f
                                                
                                             
                                          
                                       
                                       −
                                       
                                          
                                             z
                                          
                                          
                                             T
                                          
                                       
                                       )
                                    
                                    −
                                    
                                       [
                                       r
                                       
                                       cos
                                       
                                          
                                             θ
                                          
                                          
                                             A
                                          
                                       
                                       cos
                                       
                                          
                                             θ
                                          
                                          
                                             B
                                          
                                       
                                       +
                                       
                                          
                                             r
                                          
                                          
                                             m
                                          
                                       
                                       cos
                                       φ
                                       sin
                                       
                                          
                                             θ
                                          
                                          
                                             A
                                          
                                       
                                       −
                                       
                                          
                                             r
                                          
                                          
                                             m
                                          
                                       
                                       sin
                                       φ
                                       cos
                                       
                                          
                                             θ
                                          
                                          
                                             A
                                          
                                       
                                       sin
                                       
                                          
                                             θ
                                          
                                          
                                             B
                                          
                                       
                                       ]
                                    
                                    .
                                 
                              
                           
                         To solve the problem above, the sum of the two trigonometric functions in Eq. (21) was expressed as a single trigonometric function as follows: 
                           
                              (23)
                              
                                 k
                                 
                                 cos
                                 
                                    (
                                    λ
                                    −
                                    τ
                                    )
                                 
                                 =
                                 
                                    (
                                    k
                                    
                                    cos
                                    
                                    τ
                                    )
                                 
                                 
                                 cos
                                 λ
                                 +
                                 
                                    (
                                    k
                                    
                                    sin
                                    τ
                                    )
                                 
                                 
                                 sin
                                 λ
                                 .
                              
                           
                         By referring to Eqs. (21) and (23), 
                           k
                         and 
                           τ
                         could be expressed by, 
                           
                              (24)
                              
                                 k
                                 =
                                 
                                    
                                       
                                          
                                             a
                                          
                                          
                                             2
                                          
                                       
                                       +
                                       
                                          
                                             b
                                          
                                          
                                             2
                                          
                                       
                                    
                                 
                                 ;
                                 
                                 τ
                                 =
                                 
                                    
                                       tan
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    b
                                    /
                                    a
                                    )
                                 
                                 .
                              
                           
                         Finally, the toroidal angle of the point on the toroidal side was determined to be, 
                           
                              (25)
                              
                                 
                                    
                                       λ
                                    
                                    
                                       n
                                    
                                 
                                 =
                                 τ
                                 ±
                                 
                                    
                                       cos
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    c
                                    /
                                    k
                                    )
                                 
                                 .
                              
                           
                        
                        
                           X
                        -toroidal method. Following the same procedure for the 
                           Z
                        -toroidal method, the toroidal angle could be determined if 
                           
                              
                                 x
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                              
                           
                         was known. Then, the following equations could be derived, 
                           
                              
                                 (26)
                                 
                                    
                                       
                                          x
                                       
                                       
                                          
                                             
                                                n
                                             
                                             
                                                f
                                             
                                          
                                       
                                    
                                    =
                                    
                                       [
                                       
                                          
                                             
                                                cos
                                                
                                                   
                                                      θ
                                                   
                                                   
                                                      B
                                                   
                                                
                                             
                                             
                                                0
                                             
                                             
                                                sin
                                                
                                                   
                                                      θ
                                                   
                                                   
                                                      B
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      T
                                                   
                                                
                                             
                                          
                                       
                                       ]
                                    
                                    
                                    
                                       
                                          S
                                       
                                       
                                          T
                                          
                                             (
                                             φ
                                             ;
                                             λ
                                             )
                                          
                                       
                                    
                                 
                              
                              
                                 (27)
                                 
                                    
                                       (
                                       −
                                       r
                                       
                                       sin
                                       
                                          
                                             θ
                                          
                                          
                                             B
                                          
                                       
                                       )
                                    
                                    cos
                                    λ
                                    +
                                    
                                       (
                                       r
                                       
                                       sin
                                       φ
                                       cos
                                       
                                          
                                             θ
                                          
                                          
                                             B
                                          
                                       
                                       )
                                    
                                    sin
                                    λ
                                    =
                                    
                                       (
                                       
                                          
                                             x
                                          
                                          
                                             T
                                          
                                       
                                       −
                                       
                                          
                                             x
                                          
                                          
                                             
                                                
                                                   n
                                                
                                                
                                                   f
                                                
                                             
                                          
                                       
                                       )
                                    
                                    +
                                    
                                       (
                                       
                                          
                                             r
                                          
                                          
                                             m
                                          
                                       
                                       
                                       sin
                                       φ
                                       cos
                                       
                                          
                                             θ
                                          
                                          
                                             B
                                          
                                       
                                       −
                                       r
                                       
                                       sin
                                       
                                          
                                             θ
                                          
                                          
                                             B
                                          
                                       
                                       )
                                    
                                 
                              
                           
                         where: 
                           
                              (28)
                              
                                 a
                                 =
                                 −
                                 r
                                 sin
                                 
                                    
                                       θ
                                    
                                    
                                       B
                                    
                                 
                                 ;
                                 
                                 b
                                 =
                                 r
                                 sin
                                 φ
                                 cos
                                 
                                    
                                       θ
                                    
                                    
                                       B
                                    
                                 
                                 ;
                                 
                                 c
                                 =
                                 
                                    (
                                    
                                       
                                          x
                                       
                                       
                                          T
                                       
                                    
                                    −
                                    
                                       
                                          x
                                       
                                       
                                          
                                             
                                                n
                                             
                                             
                                                f
                                             
                                          
                                       
                                    
                                    )
                                 
                                 +
                                 
                                    (
                                    
                                       
                                          r
                                       
                                       
                                          m
                                       
                                    
                                    sin
                                    φ
                                    cos
                                    
                                       
                                          θ
                                       
                                       
                                          B
                                       
                                    
                                    −
                                    r
                                    sin
                                    
                                       
                                          θ
                                       
                                       
                                          B
                                       
                                    
                                    )
                                 
                                 .
                              
                           
                         Hereinafter, the toroidal angle will be defined using Eqs. (23)–(25).

Similar to the flat-end cutter, the UE-point was initially calculated by assuming that it was located on the surface of block A. Block B, for a tool with a positive 
                           
                              
                                 θ
                              
                              
                                 B
                              
                           
                        , was located next to block A. However, because of its toroidal side, it was possible that the tool engaged with the block next to block A even though the tool had a negative 
                           
                              
                                 θ
                              
                              
                                 B
                              
                           
                        . This was checked by calculating 
                           λ
                           w
                         using the 
                           X
                        -toroidal method with 
                           
                              
                                 x
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                              
                           
                         equal to the coordinates of the vector next to 
                           
                              
                                 v
                              
                              
                                 A
                              
                           
                        . If 
                           0
                           <
                           
                              
                                 λ
                              
                              
                                 w
                              
                           
                           <
                           90
                        , then the block next to block A was selected to be block B. Otherwise, block B was located before block A.

Various possible conditions for the CWE are depicted in Fig. 9
                        . The methods used to identify the location of the UE-point and the LE-point, as well as those used to calculate their coordinates are presented in Table 2
                        . For the most part, the appropriate method could be determined only by comparing the indication variables 
                           
                              (
                              
                                 
                                    v
                                 
                                 
                                    A
                                 
                              
                              ,
                              
                                 
                                    v
                                 
                                 
                                    B
                                 
                              
                              ,
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                              
                              ,
                              P
                              )
                           
                        . However, in some cases, such as with A.3, B.1, C.1 and C.3, two possible methods could be used to obtain the toroidal angle for the UE-point. In these cases, both methods were calculated in order to determine the correct one. For case A.3, the method which produced a smaller 
                           
                              
                                 λ
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                              
                           
                         was chosen to calculate 
                           
                              
                                 n
                              
                              
                                 f
                              
                           
                        . Meanwhile, for B.1 and C.1, the method that generated a larger 
                           
                              
                                 λ
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                              
                           
                         was selected because 
                           
                              
                                 z
                              
                              
                                 A
                              
                           
                           >
                           
                              
                                 z
                              
                              
                                 B
                              
                           
                        . For case C.1, the method that gave a smaller 
                           
                              
                                 l
                              
                              
                                 n
                              
                           
                         was chosen to calculate the final UE-point.

Other circumstances were found in cases A.6 and A.7. Even though 
                           C
                         was located above 
                           
                              
                                 S
                              
                              
                                 A
                                 ,
                              
                           
                         it could not be concluded that there was no engagement. The tool may have engaged with block B. In both cases, the LE-point moved from 
                           C
                         to 
                           
                              
                                 C
                              
                              
                                 ′
                              
                           
                        . Consequently, the coordinates of 
                           
                              
                                 C
                              
                              
                                 ′
                              
                           
                         need to be calculated. The toroidal angle of 
                           
                              
                                 C
                              
                              
                                 ′
                              
                           
                         for case A6 was obtained using the 
                           X
                        -toroidal method with 
                           
                              
                                 x
                              
                              
                                 
                                    
                                       n
                                    
                                    
                                       f
                                    
                                 
                              
                           
                           =
                           
                              
                                 x
                              
                              
                                 B
                              
                           
                        . On the other hand, because the LE-point was located on the cylinder side, the 
                           X
                        -Cylindrical method with 
                           
                              
                                 x
                              
                              
                                 w
                              
                           
                           =
                           
                              
                                 x
                              
                              
                                 B
                              
                           
                         was used to calculate the LE-point for A7.

Although the initial assumption that 
                           
                              
                                 n
                              
                              
                                 i
                              
                           
                         was located on 
                           
                              
                                 S
                              
                              
                                 A
                              
                           
                        was correct, it was possible that some part of the cutting tool between the engagement point was out of the workpiece as depicted by Fig. 9(q) and (r); this occurred when 
                           0
                           <
                           
                              
                                 λ
                              
                              
                                 w
                              
                           
                           <
                           90
                        . There were two more points that needed to be determined: the engagement point on 
                           
                              
                                 S
                              
                              
                                 B
                              
                           
                           
                           
                              (
                              
                                 
                                    n
                                 
                                 
                                    B
                                 
                              
                              )
                           
                         and the engagement point on 
                           
                              
                                 W
                              
                              
                                 B
                              
                           
                           
                           
                              (
                              
                                 
                                    n
                                 
                                 
                                    w
                                 
                              
                              )
                           
                        .

After 
                        
                           
                              λ
                           
                           
                              
                                 
                                    n
                                 
                                 
                                    f
                                 
                              
                           
                        
                        ,
                        
                           
                              λ
                           
                           
                              C
                           
                        
                      and 
                        
                           
                              l
                           
                           
                              n
                           
                        
                      were obtained, the geometry of the cut was calculated. In order to generalize the method, the same equations were derived for the flat-end cutter and the toroidal cutter. Therefore, 
                        r
                      was equal to zero when the flat-end cutter was being used. The depth of the cut (
                        d
                     ) with respect to the engagement angle was defined as,
                        
                           (29)
                           
                              d
                              =
                              
                                 (
                                 r
                                 
                                 
                                    (
                                    cos
                                    
                                       
                                          λ
                                       
                                       
                                          C
                                       
                                    
                                    −
                                    cos
                                    
                                       
                                          λ
                                       
                                       
                                          n
                                       
                                    
                                    )
                                 
                                 +
                                 
                                    
                                       l
                                    
                                    
                                       n
                                    
                                 
                                 )
                              
                              cos
                              α
                              .
                           
                        
                      For the toroidal cutter, 
                        
                           
                              l
                           
                           
                              n
                           
                        
                      was the length of engagement on the cylindrical side. Therefore, it was equal to zero when 
                        
                           
                              n
                           
                           
                              f
                           
                        
                      was located on the toroidal side. On the other hand, when the CWE was on the cylinder side, 
                        
                           
                              λ
                           
                           
                              n
                           
                        
                        =
                        90
                     . The length of cut (
                        q
                     ) was determined using the following equation, 
                        
                           (30)
                           
                              q
                              =
                              
                                 
                                    π
                                    ⋅
                                    r
                                 
                                 
                                    180
                                 
                              
                              
                                 (
                                 
                                    
                                       λ
                                    
                                    
                                       n
                                    
                                 
                                 −
                                 
                                    
                                       λ
                                    
                                    
                                       C
                                    
                                 
                                 )
                              
                              +
                              
                                 
                                    l
                                 
                                 
                                    n
                                 
                              
                              ;
                              
                              
                                 (
                                 π
                                 =
                                 3.14
                                 )
                              
                              .
                           
                        
                     
                  

Machining optimization was performed based on the cut area that was generated at an instantaneous tool location. Before the cut area was calculated, the cut thickness needed to be determined. According to Kumanchik and Schmitz  [23], the cut thickness during milling is defined as the distance between the current tooth path and the previous tooth path along the line segment that connects the tool center to the current tooth cutting edge. However, this definition is only applicable for machining with a perpendicular tool orientation. Inclination angles should be taken into consideration because they can influence the size of the cut thickness. The tool inclination makes the cut thickness smaller than the distance of two consecutive tooth paths. Therefore, the cut thickness (
                        h
                     ) was expressed as a function of the engagement angle as follows: 
                        
                           (31)
                           
                              h
                              =
                              f
                              
                              cos
                              
                              α
                              
                              sin
                              φ
                              .
                           
                        
                      Finally, the cross cut area (
                        
                           
                              A
                           
                           
                              φ
                           
                        
                     ) was calculated by multiplying the cut thickness by the cut width. 
                        
                           (32)
                           
                              
                                 
                                    A
                                 
                                 
                                    φ
                                 
                              
                              =
                              q
                              ⋅
                              h
                              .
                           
                        
                     
                  

Based on the formulae derived in the previous sections, a simulation program using MATLAB, which was called the Analytical Boundary Simulation (ABS), was developed. In this section, the proposed method was tested for two example cases. In the first example, the proposed method was tested using a flat-end cutter. The ability of the ABS to generate the CWE and the methods used to verify its accuracy are presented. The second example demonstrates the ability of the ABS to generate the CWE for a toroidal cutter, including the effect of the tool inclination angle. Machining optimization using the feedrate scheduling based on the cut area was also provided. Finally, the efficiency of the proposed method based on computational time was examined by comparing it to the 
                        Z
                     -mapping method.

A one part design and workpiece surface, as shown in Fig. 10
                        (a), was tested. In this test, the tool was set with an inclination angle of 10° and a screw angle of 5°. Machining conditions used in the test were feedrate 0.3 mm/tooth and spindle speed 5000 rpm. A two teeth flat-end cutter with a diameter of 20 mm was used as the cutting tool. Using the ABS, the shape and size of cut could be generated. The shapes of the cuts that were generated by the program simulation are shown in Fig. 10(b). The shape of cut on the top side resembled the shape of the workpiece surface and the one on the bottom side resembled the shape of the part surface. This indicated that the proposed method was accurate. The length of cut progression is depicted in Fig. 10(c). In this graph, the length of cut was generated for every 
                           3.33
                           ×
                           1
                           
                              
                                 0
                              
                              
                                 −
                                 5
                              
                           
                           
                           
                              s
                           
                         of tool motion. The tool orientation and the workpiece surface changed continuously making the length of cut fluctuate significantly during machining.

The shape and the length of cut with respect to the engagement angle for CC-33 and CC-46 are displayed in Fig. 10(d). Because the workpiece had a high staircase, the tool could engage with more than two workpiece blocks as shown by CC-33. Meanwhile for CC-46, the tool engaged with two workpiece blocks. The cuts, which are highlighted in CC-46, show the conditions when the cutting tool engaged with two workpiece blocks; however, some parts of cutting tool in between engagement points were out of the workpiece, as illustrated in Fig. 7(g) and (h). The existence of a screw angle made the shape of the graph in Fig. 10(d) become asymmetrical.

The proposed model for the toroidal cutter was also used and tested. A one part design with a free-form surface, as shown in Fig. 11
                        (a), was used in the test model. A two teeth toroidal cutter with a diameter of 20 mm and a minor radius of 5 mm was used as the cutting tool. The tool was set with an inclination angle of 10° relative to the surface normal. Similar to the flat-end cutter, the shape of cuts, which were generated by the ABS, resembled the shape of the workpiece and the part surface, as depicted in Fig. 11(b). Once again, this was an indication that the proposed model was accurate. The lengths of cut were also generated for every 
                           3.33
                           ×
                           1
                           
                              
                                 0
                              
                              
                                 −
                                 5
                              
                           
                           
                           
                              s
                           
                         of tool motion and the results are presented in Fig. 11(c).

The shape and length of cuts as a function of the engagement angle for CC-9 and CC-37 are displayed in Fig. 11(d). The cut with a straight and thick line on the top, which was highlighted in both figures, indicated that the UE-point was located on the cylindrical side. In this case, engagement occurred on both the cylindrical and toroidal sides. If there was no such line on the top, it would mean that the engagement only occurred on the toroidal side. Fig. 11(d) also shows the shape of the LE-point with respect to the engagement angle. Because the tool was set with an inclination angle, it made the shape of the cut at the bottom not resemble the shape of the bottom side of the toroidal cutter. When an inclination angle existed, the location of the LE-point became very dynamic.

One test was also performed to check the effect of the inclination angle on the location of the LE-point. The location of the LE-point, as depicted in Fig. 12
                        , was represented by its toroidal angle. When the tool did not have an inclination angle, the LE-point at every engagement angle was located at the bottom of the front cutting edge 
                           
                              (
                              
                                 
                                    λ
                                 
                                 
                                    C
                                 
                              
                              =
                              0
                              )
                           
                        . However, when a positive inclination angle existed, the LE-point was located at the front cutting edge with 
                           
                              
                                 λ
                              
                              
                                 C
                              
                           
                           >
                           0
                        . From the graph in Fig. 12, it can be seen that increasing the inclination angle will also increase 
                           
                              
                                 λ
                              
                              
                                 C
                              
                           
                        . A positive inclination angle produced a larger 
                           
                              
                                 λ
                              
                              
                                 C
                              
                           
                         and a smaller the length of cut. Similar to the positive inclination angle, increasing the negative inclination angle also increased 
                           
                              
                                 λ
                              
                              
                                 C
                              
                           
                        . The minus sign (−) for 
                           
                              
                                 λ
                              
                              
                                 C
                              
                           
                         only indicated that the LE-point was located on the back cutting edge. However, increasing 
                           
                              
                                 λ
                              
                              
                                 C
                              
                           
                         tended to produce a larger length of cut because the engagement occurred not only at front cutting edge but was also possible at the back cutting edge.

Even though the cut geometry profile, as depicted in Figs. 10(b) and 11(b), resembled the part and workpiece design, the accuracy of the model needed to be verified. Fig. 13
                         depicts two verification methods that were performed to check the accuracy of the proposed model. First, the accuracy was tested by comparing the coordinates of the UE-points with respect to the workpiece surface, as presented in Fig. 13(a). The graph shows that all of the UE-points, for all CC-points at 
                           φ
                           =
                           100
                         from model test 1, precisely coincided with the workpiece surface line. This proved that the proposed model was accurate. To ensure that the generated UE-points belonged to both the cutter and workpiece surfaces, another verification was performed using the commercial software Siemens-NX. As shown in Fig. 13(b), the coordinates of UE-point (
                           
                              
                                 n
                              
                              
                                 f
                              
                           
                        ) were checked against the intersection of the cutter extraction model and the workpiece model. The extraction model was obtained by placing the cutter model at the instantaneous CC-point and adjusting its orientation. After that, the intersection between the workpiece model and the tool model could be extracted. The cutter model was manipulated by making a groove at the front side so that the engagement angle of the cutter-workpiece intersection could be easily identified. Once the extraction model was obtained, then the coordinates of the UE-point (
                           
                              
                                 n
                              
                              
                                 f
                              
                           
                        ) could be checked and compared with those generated by the ABS. All of the UE-points from Fig. 13(a) were verified; the results confirm the accuracy of the proposed model.

Similar to the flat-end cutter, verification was accomplished by comparing the coordinates of the UE-points that were generated by the program simulation with respect to the workpiece surface. The UE-points at 
                           φ
                           =
                           90
                         for every CC-point were generated and the results are presented in Fig. 13(c). From this figure, it can be seen that all of the UE-points were located exactly on the workpiece surface. To prove the accuracy of the proposed method, a second verification procedure using Siemens-NX was also performed and good agreement was found.

From the two example cases involving the verification results, it was concluded that the proposed method could be used to determine the CWE accurately. The ABS was proven and could be employed to generate the CWE of complex parts. This method is applicable for workpiece with straight staircase profiles, which is a common surface profile that results from a three-axis roughing process.

During the machining process, the tool moves along the tool path and cuts the workpiece that results in a free-form shape on the machined surface. Hence, in the subsequent tool path, the UE-point can be located either on the wall surface, the top surface, or the machined surface. The algorithm developed in this paper is not applicable for engagement on the machined surface. In this case, because the shape of the machined surface is free-form, the UE-point can be calculated using a method reported by Hendriko et al.  [24], who discuss an analytical method for obtaining the UE-point on a free-form workpiece surface that is normally found in finish milling. Therefore, the CWE on the machined surface could be generated by combining the method for defining the LE-point that is proposed in this paper and the method to define the UE-point that was proposed by  [24]. Nevertheless, further research is needed to ensure the applicability of this combination method, especially for the method used to mathematically define the machined surface.

Once the geometry of the cut was obtained, the machining optimization could be performed. A feedrate scheduling strategy based on the maximum cut area was performed in test model 2. To avoid instability due to continuous feedrate changes, the tool path was divided into an NC block, which contained 6 consecutive CC-points. Optimization was performed based on the largest cut area generated in every NC block, as presented in Fig. 14
                        (a). The cross cut area at CC-point 2 was found to be the largest, as can be seen in Fig. 14(b); thus, this point was selected as the reference cut area. The feedrate at the other CC-points was optimized by comparing their cut areas to the reference. Using Fig. 14(a) and (b) it can be concluded that the feedrate increased when the cut area decreased, and vice versa. Hence, most of the cut areas generated from the optimization in Fig. 14(c) were found to be larger than the original feedrate and had smaller variation. It can be seen that the total machining time was successfully reduced from 5.26 s with the original feedrate to 4.54 s with feedrate scheduling, which amounted to a time reduction of about 13.7%. However, in other cases, the controlled/scheduled feedrate produced longer machining times since the original feedrate was too high.

The main objective of the research on the analytical methods for CWE generation was to solve the issues regarding computational time that normally arise when using solid models and discretization methods. Therefore, to ensure the efficiency of the proposed method over the existing one, computational times were compared to the 
                           Z
                        -mapping method. 
                           Z
                        -mapping is a discretization method that is powerful for generating CWE  [12]. As mentioned in the introduction, the computational time of a discretization method is largely influenced by the grid size selection, which is dependent on the required accuracy. On the other hand, with the analytical method described in this study, there was no need to select a grid size; therefore, there was no correlation between grid size and computation time.

For comparison purposes, the CWE for the part design and the workpiece surface, as presented in Fig. 11(a), were generated using the 
                           Z
                        -mapping method. For this test, the same machining conditions and cutting tool geometries were employed. The workpiece surface was discretized with a grid size of 0.1 mm. Both the ABS and 
                           Z
                        -mapping methods were performed using Matlab on an Intel Core i5 1.7 GHz laptop with 6 GB RAM. The uninterrupted test from CC-1 to CC-47 was carried out and the computational time in between two consecutive CC-points was recorded. This measurement was repeated three times for every method and the average results are presented in Fig. 15
                        .

From the graph in Fig. 15 it can clearly be seen that the computational time for the ABS is much shorter than the 
                           Z
                        -mapping method. The ABS took only 375.38 s to generate the length of cut, as presented in Fig. 11(c), while 
                           Z
                        -mapping took 9411.48 s. 
                           Z
                        -mapping is not a fast algorithm because it has to scan and update a large amount of data.

In this test, the intensity of the CWE data generated by ABS was set at 
                           3.33
                           ×
                           1
                           
                              
                                 0
                              
                              
                                 −
                                 5
                              
                           
                           
                           
                              s
                           
                         of tool motion or 1° of tool rotation. If necessary, the intensity of the CWE data can be reduced, which would obviously reduce the computational time. Reducing the intensity of the analytical method will not decrease the accuracy.

@&#CONCLUSION@&#

In this study, the geometries of cross sections of instantaneous CWE for five-axis milling have been defined. The length of cuts were determined based on two points, the LE-point and the UE-point. Determination of the cross cut geometry for continuous tool orientation changes was not as simple as when milling with a constant tool orientation. The tool orientation continuously changed between two consecutive CC-points and the complexity of the workpiece profile made the CWE very dynamic. The CWE was also influenced by the inclination angle that normally exists in five-axis milling. When machining with a negative inclination angle, the LE-point will be located at the front cutting edge. Otherwise, it will be located at the back cutting edge. For the toroidal cutter, increasing the positive inclination angle will decrease the length of cut. On the other hand, increasing the negative inclination angle will increase the length of cut.

The formulation that was derived was implemented into a computer simulation. Two model parts with different surface profiles were tested to verify the validity of the proposed method. The results showed that the method was accurate. Moreover, the method eliminated the need for a large number of discrete vectors to define the workpiece surface and a comparison test proved that it was computationally more efficient. Based on the cut geometry generated by this model, machining optimization could be performed. By applying feedrate scheduling, the variation of the cut area along the tool path could be minimized; thus, a more stable machining condition could be achieved.

@&#ACKNOWLEDGMENTS@&#

The authors appreciate the funding provided by the French Government as well as the Indonesian Government and the Politeknik Caltex Riau. This study was part of a research collaboration between the L’Institut Pascal, the Universite Blaise Pascal and the Laboratory of Manufacturing Technology and Automation, Department of Mechanical Engineering, Universitas Indonesia.

@&#REFERENCES@&#

