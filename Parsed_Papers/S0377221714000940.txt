@&#MAIN-TITLE@&#Integrating operations and marketing decisions using delayed differentiation of products and guaranteed delivery time under stochastic demand

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Price-lead time-inventory trade-off with product variety and uncertain demand.


                        
                        
                           
                           The model is a two-stage, stochastic, integer, non-linear programming problem.


                        
                        
                           
                           Demand correlation, lead time & price sensitivity of demand, semi-finished goods.


                        
                        
                           
                           Solve large problem instances based on variant of Benders’ Decomposition method.


                        
                        
                           
                           Improved cost and lower bound over Classic Benders’ and Non-linear B&B methods.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Stochastic programming

Generalized benders’ decomposition method

Marketing

Operations interface

Delayed product differentiation

Guaranteed lead time

@&#ABSTRACT@&#


               
               
                  In this research, we integrate the issues related to operations and marketing strategy of firms characterized by large product variety, short lead times, and demand variability in an assemble-to-order environment. The operations decisions are the inventory level of components and semi-finished goods, and configuration of semi-finished goods. The marketing decisions are the products price and a lead time guarantee which is uniform for all products. We develop an integrated mathematical model that captures trade-offs related to inventory of semi-finished goods, inventory of components, outsourcing costs, and customer demand based on guaranteed lead time and price.The mathematical model is a two-stage, stochastic, integer, and non-linear programming problem. In the first stage, prior to demand realization, the operation and marketing decisions are determined. In the second stage, inventory is allocated to meet the demand. The objective is to maximize the expected profit per-unit time. The computational results on the test problems provide managerial insights for firms faced with the conflicting needs of offering: (i) low prices, (ii) guaranteed and short lead time, and (iii) a large product variety by leveraging operations decisions.
                  We also develop a solution procedure to solve large instances of the problem based on an accelerated version of the Generalized Benders’ Decomposition (GBD) method. The accelerating mechanism involves search intensification and diversification around solutions which improve the upper bound. The suggested GBD method gives a better solution and a tighter lower bound in a given time period than the conventional GBD implementation and the non-linear branch-and-bound method.
               
            

@&#INTRODUCTION@&#

Firms producing large variety of short life cycle products, such as computers, fashion apparel, and smart phones, are re-designing their products and processes to be responsive to demand uncertainties and increasing customer expectations (Brown, Lee, & Petrakian, 2000; Lee, 1996). The key business strategy of these firms is to offer customized products, shorter lead times, and competitive prices. This has strategic implications on the operations and marketing strategy of firms. For instance, one of the key elements of operations strategy of the firms offering customized products during the last decade has been to postpone the product differentiation at final assembly stages (Feitzinger & Lee, 1997). To this end, shorter lead times are sustained by holding inventory in the form of semi-finished products. Swaminathan and Tayur (1998) refer to these semi-finished products as vanilla boxes in the context of computer industry. The vanilla boxes are designed so that they serve broad product lines and that the end-products can be assembled-to-order (ATO) in a short lead time. Strategies for assembling vanilla boxes and their differentiated products are based on exploiting component commonality. Component commonality is present where end-products share several common components in different ratios (Baker, 1985; Collier, 1981, 1982). As mentioned, this strategy is increasingly being used by firms characterized by large variety, uncertain demand and short lead times. Notable among them are firms in the computer industry (Swaminathan & Tayur, 1998), the fashion industry (Signorelli & Heskett, 1984) and the food processing industry (Van Donk, 2001).

Another interesting development for firms characterized by high variety and uncertain demand has been the marketing strategy of offering guaranteed lead times (Liu, Parlar, & Zhu, 2007; Rao, Swaminathan, & Zhang, 2005). The lead time guaranteed is often uniform for products which are minor variants of each other. Guaranteed lead time offers an additional incentive to capture demand for firms competing on price and lead time. However, guaranteed lead time has several implications on production planning. While short lead times are a recipe for increasing the profits by attracting more demand, they also impose coordination issues with operations (Hayes & Pisano, 1996; So & Song, 1998). Typically, the lead time and pricing decisions are taken by the marketing department, whereas, capacity, production planning, and related order fullfilment decisions are determined by operations.

In this research, we integrate the contemporary issues of operations and marketing strategy of firms characterized by high product variety, need for short and guaranteed lead times, and demand variability. Our discussions with some of the firms that face this complex market environment motivated this research. The conventional tool of managing this complexity with pure assemble-to-order is in conflict with guaranteed short lead times. A contrasting, make-to-stock strategy would obviously be vulnerable to supply–demand mismatch resulting in classical newsvendor trade-offs of excess inventory and shortages.

In this research, we consider a manufacturing environment where a firm postpones the final assembly of the products in order to serve high variety with an objective of minimizing the supply–demand mismatch. The firm holds inventory in the form of semi-finished goods. The marketing strategy of the firm is to offer uniform guaranteed lead time. Existing results on managing product variety with semi-finished goods inventory (example Swaminathan & Tayur, 1998) do not address demand management issues like lead time and price. Similarly, the extensively available literature on pricing and lead time decisions (example Rao et al., 2005) do not consider the production planning issues that arise by choice of configuration of semi-finished products.

One of the main objectives of this research is to jointly address the operation decisions of configuration and quantity of semi-finished goods, and the marketing decisions of guaranteed lead time and price. Based on our understanding from discussions with some of the apparel and smart-phones producers dealing with these issues, an integrated approach to determine operations and marketing decisions would mitigate the coordination problems arising due to independent optimization of these decisions. Motivated by the existing literature on these issues, specifically, we aim to integrate the operations decisions (vanilla box configuration and inventory) addressed in Swaminathan and Tayur (1998) and marketing decisions (guaranteed lead time and price) considered in Rao et al. (2005). Hence, we consider production environment similar to their work. Our aim is to capture the trade-offs arising due to joint optimization of lead time, price, and inventory of semi-finished goods under demand uncertainty and other complexities discussed earlier. We expect to derive managerial insights and develop an implementable solution approach from the integration of above mentioned operations and marketing decisions.

The marketing and operations decisions in our research problem are taken before the actual demand realization. We model the demand as a sum of two components. The first component is a strictly decreasing function of price and lead time. The second component captures demand uncertainty. We also assume that demand across products is correlated. The problem is modeled as a two-stage stochastic, mixed integer, non-linear programming (SMINLP) problem. In the first stage, we determine marketing decisions and inventory levels of semi-finished goods. Next, we allocate the semi-finished goods to implement the production plan after realizing the market demand.

In order to make our analysis robust and implementable for real-life problems, we contribute to the literature by developing an efficient solution procedure for solving the model. The literature on SMINLP problem is scanty (Bruni, 2006). Representing the stochastic component in such problems by a set of scenarios with associated probabilities (Swaminathan & Tayur, 1998; Wets, 1982) results in an equivalent deterministic MINLP problem. Large number of scenarios depicts reality more accurately but impacts the problem complexity and computational effort. The MINLP problem is solved mainly using: (1) Generalized Benders Decomposition (GBD) method (Benders, 1962; Geoffrion, 1972), (2) Outer-Approximation (OA) method (Duran & Grossmann, 1986), and (3) Non-linear Branch and Bound (NBB) method (Gupta & Ravindran, 1985). Kravanja, ilih, and Kravanja (2005) provide a comprehensive list of other techniques. All the three methods decompose the MINLP problem into a mixed-integer problem (MIP) and a stochastic non-linear problem (SNLP). GBD method in particular, at each iteration, selects configuration of semi-finished goods to stock (MIP problem) and then determines corresponding marketing and inventory level decision (SNLP problem). It then utilizes the dual values of constraints in SNLP problem to improve the decision to stock semi-finished goods. GBD method can solve the SNLP problem as a linear programming problem and a stochastic LP (SLP) problem. Applying this to our research problem, at each iteration, the first step is to determine the marketing decision (LP problem). Next, the inventory level of semi-finished goods is determined (SLP problem). The dual values of constraints in SLP problem then improve the marketing decisions. GBD method decomposes the SLP problem, if required, into a series of LP problems. This permits computational tractability for large problem sizes. However, with increase in number of binary variables, conventional implementation of GBD method leads to weaker lower bounds and slow convergence. Hence, it is usual to incorporate techniques to accelerate the conventional GBD algorithm.

Our contributions in this study are as follows:
                        
                           1.
                           We study an assemble-to-order (ATO) production environment which considers delayed differentiation of products using semi-finished goods, uniform guaranteed lead time and pricing decisions. We provide a model that captures trade-offs related to inventory of semi-finished goods, inventory of components, outsourcing costs, and customer demand based on guaranteed lead time and price.

We develop a computationally tractable and robust solution approach based on an accelerated version of GBD method that incorporates local search techniques of intensification and diversification for solving large size problems. A comparison of our solution procedure with classical GBD method, OA method, and NBB method based upon four large problem instances shows encouraging results.

Our model jointly determines the marketing and operations decisions. Our analysis provides managerial insights into the structure of the problem and captures effects of variability of demand, demand correlation among products, lead time and price sensitivity of demand, and permitted number of vanilla box configurations. We expect that our integrated approach would reduce the coordination costs and conflicts arising due to independent decision making of marketing and operations.

The remainder of the paper is organized as follows. Section 2 provides the related literature and positions our work in the literature. Section 3 describes the research problem and develops that mathematical model. Computational results and discussion are provided in Section 4. Section 5 proposes the procedure for solving large instances and develops accelerating mechanism within GBD method. Section 6 concludes and provides directions for future research.

@&#LITERATURE REVIEW@&#

The extensive literature available on joint operations and marketing decisions considers sequential decision making while addressing the issues. This approach presents an opportunity for exploiting benefits of integrating the marketing and operations strategies of firms facing competitiveness in lead times, large product variety and demand uncertainty (Eliashberg & Steinberg, 1993; Karmarkar, 1996; Petruzzi & Dada, 1999).

To this end, we consider work of Swaminathan and Tayur (1998) as a starting point for the relevant operations decisions of our research problem. The mean demand in their model is restated as an additive function of price and uniform guaranteed lead time (Palaka, Erlebacher, & Kropp, 1998; Whitin, 1955). We integrate the marketing decisions by considering the uniform lead time guaranteed as twice the length of production planning period (Rao et al., 2005). The demand is accumulated for the first half of the planning period of the uniform lead time guaranteed and served in the second half. An increase in demand due to reduction in uniform lead time guaranteed results in increased load on production capacity. This increases the uniform lead time guaranteed which in turn reduces demand. The results on production environment with load dependent lead times are scanty (Pahl, Voss, & Woodruff, 2005). Similarly, an increase in demand due to reduction in price results in increased load on production capacity and an increase in lead time. This, in turn, reduces demand and increases price. Independent operations-marketing models are unable to capture this complex trade-off. One of the key objectives of our research is to analyse these complex interactions which lead to profit maximization in a simultaneous decision model. Specifically, we examine the impact of: (a) demand characteristics, and (b) product line and assembly characteristics on: (i) product price, (ii) uniform lead time guaranteed, (iii) inventory level, (iv) configuration of semi-finished goods, and (v) expected profit per-unit time. The demand function is characterized by correlation amongst products and variance. The product line and assembly characteristics are component commonality and speed-up with usage of semi-finished goods.

Research on production-marketing interface has been classified into three streams by Upasani and Uzsoy (2008). The first stream is focused on concurrent setting of price and production quantity. Eliashberg and Steinberg (1993), Gaimon (1998) and Yano and Gilbert (2005) and references therein provide a good review of this problem setting. The second stream of research analyse joint promotion and production planning (Gaimon, 1998; Upasani & Uzsoy, 2008). The third stream of research considers simultaneous price, capacity and lead time decisions (Rao et al., 2005; Upasani & Uzsoy, 2008). Our research is mainly focussed on the issues in the third category.

The third stream considers a make-to-order system and typically deals with order selection, price setting, lead time quotation and capacity decisions. However, as observed by Upasani and Uzsoy (2008), these studies have paid little attention to the price-lead time relationship, not considered the effect of lead time on demand, and majority of them have used queuing formulations. In our research, we deal with the lead time advertised to attract customer demand, and rigorously capture price-lead time interaction. We do not consider shop-floor congestion effect. The resulting problem is thus tactical, not meant to be used in real-time. Hence, from the perspective of marketing decisions, our study bears resemblance to that of Rao et al. (2005). They capture the trade-offs related to increase in the expected revenue due to shorter lead times and the corresponding increase in the production and logistics costs to fullfil the higher service requirements. They show that the uniform guaranteed lead-time reduces and the expected profit increases with the increase in frequency of update of production schedule. However, the marginal benefit of higher frequency of production schedule decreases due to higher coordination costs.

Our study also considers component commonality as an operations lever to serve product variety. Fixson (2007) and Boysen and Scholl (2009) provide comprehensive inputs to the trade-offs in component commonality.

From the methodological perspective, we formulate the problem as a two-stage SMINLP problem with recourse. The exact solution of its deterministic equivalent is a computationally intensive scheme. In Section 5, we develop a solution procedure for accelerating the conventional GBD algorithm using local search to solve large instances of our decision problem. Most of the existing mechanisms for accelerating conventional Benders’ algorithm are for the MIP problems. Table 1
                      provides a summary of these papers.

Most of the accelerating methods for MIP problem are adaptable to solve MINLP problem. Franca and Luna (1982), for instance, in their application of GBD algorithm to MINLP problem recommend either using a feasible master problem solution or not solving the master problem at all during the early iterations. Their hypothesis was based on the fact that early Benders’ cut carries little information.

For our problem formulation, we use the Big-M constraint and outline a procedure to assign small Big-M values. The accelerating mechanism for the proposed GBD method exploits good solutions in the neighborhood of an existing solution. The procedure involves solving one or more of the modified master problems in place of the conventional master problem. The solution to the modified master problem intensifies the search around solutions which improve the upper bound. Unlike local branching method, our solution procedure: (a) solves a small instance of the master problem instead of several small instances of the original problem and (b) obtains only one feasible solution at each iteration. To diversify the search and obtain the true lower bound the conventional master problem is solved at regular intervals in place of the modified master problem. The convergence criteria remains same as that of the classic Benders’ method. Our computational experiments show encouraging results for the proposed GBD method. Next, we describe the research problem in detail.

As described in Section 1, delayed product differentiation involves stocking inventory in the form of semi-finished product called vanilla boxes. For illustration, consider four products 
                        
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                           ,
                           
                              
                                 M
                              
                              
                                 3
                              
                           
                        
                     , and 
                        
                           
                              
                                 M
                              
                              
                                 4
                              
                           
                        
                      each of which requires components 
                        
                           
                              
                                 N
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 N
                              
                              
                                 2
                              
                           
                           ,
                           
                              
                                 N
                              
                              
                                 3
                              
                           
                           ,
                           
                              
                                 N
                              
                              
                                 4
                              
                           
                        
                      and 
                        
                           
                              
                                 N
                              
                              
                                 5
                              
                           
                        
                     . Table 2
                      shows the product-component matrix (1 indicates that the component is required in that product and the quantity used is one. 0 indicates that the component is not used in that product).

The number of vanilla boxes possible with five components and four end-products would be 
                        
                           
                              
                                 2
                              
                              
                                 5
                              
                           
                        
                     
                     −1−5−4=22. The vanilla box with zero component, the vanilla boxes with only one component and the vanilla boxes with all components are not considered. Theoretically, this leads to a large number of vanilla box configuration possibilities.

If assembly sequence for a given product line is considered the number of vanilla box configuration possibilities reduces. For instance, let the assembly sequence of product 
                        
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        
                      be 
                        
                           
                              
                                 N
                              
                              
                                 1
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 2
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 3
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 5
                              
                           
                           =
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        
                     . It implies that 
                        
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        
                      is assembled in three steps. First, 
                        
                           
                              
                                 N
                              
                              
                                 2
                              
                           
                        
                      is assembled onto 
                        
                           
                              
                                 N
                              
                              
                                 1
                              
                           
                        
                     , then, 
                        
                           
                              
                                 N
                              
                              
                                 3
                              
                           
                        
                      is added to the assembly of 
                        
                           
                              
                                 N
                              
                              
                                 1
                              
                           
                        
                      and 
                        
                           
                              
                                 N
                              
                              
                                 2
                              
                           
                        
                     , and finally, 
                        
                           
                              
                                 N
                              
                              
                                 5
                              
                           
                        
                      is added to the assembly of 
                        
                           
                              
                                 N
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 N
                              
                              
                                 2
                              
                           
                        
                      and 
                        
                           
                              
                                 N
                              
                              
                                 3
                              
                           
                        
                     . Similarly let, 
                        
                           
                              
                                 N
                              
                              
                                 2
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 3
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 4
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 5
                              
                           
                           =
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                        
                     , 
                        
                           
                              
                                 N
                              
                              
                                 1
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 3
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 4
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 5
                              
                           
                           =
                           
                              
                                 M
                              
                              
                                 3
                              
                           
                        
                     , and 
                        
                           
                              
                                 N
                              
                              
                                 1
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 2
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 4
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 5
                              
                           
                           =
                           
                              
                                 M
                              
                              
                                 4
                              
                           
                        
                     . If only those vanilla boxes that can be assembled with this sequence are chosen, the number of feasible vanilla box configurations reduces to seven. Table 3
                      shows these vanilla box configurations considering assembly sequence.

Vanilla box 
                        
                           
                              
                                 V
                              
                              
                                 1
                              
                           
                        
                      supports assembly of product 
                        
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        
                      and 
                        
                           
                              
                                 M
                              
                              
                                 4
                              
                           
                        
                     . 
                        
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        
                      can be assembled by adding 
                        
                           
                              
                                 N
                              
                              
                                 3
                              
                           
                        
                      and 
                        
                           
                              
                                 N
                              
                              
                                 5
                              
                           
                        
                      onto 
                        
                           
                              
                                 V
                              
                              
                                 1
                              
                           
                        
                      (in that order), 
                        
                           
                              
                                 V
                              
                              
                                 1
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 3
                              
                           
                           +
                           
                              
                                 N
                              
                              
                                 5
                              
                           
                           =
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        
                     . Hence, 
                        
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        
                      customers experience only the time it takes to assemble 
                        
                           
                              
                                 N
                              
                              
                                 3
                              
                           
                        
                      and 
                        
                           
                              
                                 N
                              
                              
                                 5
                              
                           
                        
                      onto 
                        
                           
                              
                                 V
                              
                              
                                 1
                              
                           
                        
                     . For generality, let the assembly time of a component be one time unit. 
                        
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        
                      passes through three assembly stages, beginning with 
                        
                           
                              
                                 N
                              
                              
                                 1
                              
                           
                        
                     . With one component added at each stage its processing time is 3 time units. Assuming set-up time to be 0.5 of processing time the total set-up time for this product is 1.5 time units. Thus, the total time of assembly of 
                        
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        
                      without the vanilla box is 4.5 time units. Assembly of 
                        
                           
                              
                                 N
                              
                              
                                 3
                              
                           
                        
                      and 
                        
                           
                              
                                 N
                              
                              
                                 5
                              
                           
                        
                      onto 
                        
                           
                              
                                 V
                              
                              
                                 1
                              
                           
                        
                      takes only 3 time units. Table 4
                      shows time of assembly of end-products without vanilla boxes in the illustrative example. Table 5
                      shows processing time of assembly of end-products starting from vanilla boxes in the illustrative example.

Typically, finished goods require assembly of large number of components. Even with assembly sequence constraints, the number of vanilla box configurations can be large resulting in increased effort in operational planning. The configuration of the vanilla box to stock is a production planning decision in our problem. Additionally, the stocking level of vanilla boxes and components is part of the planning problem. Inventory holding cost of a vanilla box is considered to be sum of inventory holding cost of its constituent components.

Since the motivation for integrating marketing decisions with the planning problem is from Rao et al. (2005), we consider similar production environment as described in that paper. Sales department receives demand for end-products continuously. It accumulates customer orders for T time periods and guarantees a uniform lead time of 2T to each of these orders. The effective production capacity is available only for T time period but it allows flexibility of adjusting customer orders as late as possible to the production period. This also reduces the coordination effort of production planning. The production period (half of the guaranteed lead time) is thus a decision variable. Uniform guaranteed lead time has lower bound determined by production and market dependent upper bound. Any excess demand is outsourced at a cost that is higher than the selling price. Product selling price, a marketing variable, is bounded below by production cost and bounded above by marketing.

As mentioned earlier, we model the demand as a strictly decreasing linear function of lead time quoted and price quoted. Palaka et al. (1998) describe in detail a deterministic functional form of demand function based on lead time and price. However, to capture a more realistic environment, we consider an additional stochastic error component in the demand function that follows a joint uniform distribution. This error component is assumed to be independent of price and lead time. It is further approximated by a set of scenarios (Swaminathan & Tayur, 1998; Wets, 1982).

To summarize, we address the problem that jointly determines guaranteed lead time, price, vanilla box configuration, inventory level of vanilla boxes and components while maximizing the expected profit per unit time. In what follows, we provide a mathematical formulation of the problem. We begin with providing notation used in the analysis in Table 6
                     .


                     Model Formulation:
                  

Objective is to maximize expected profit per-unit time. Objective function comprises five components (a)–(e) which are explained below.
                        
                           (a)
                           All demand is met either through in-house production or outsourcing. Expected sales revenue per-unit time is given by product of demand and selling price.
                                 
                                    (1)
                                    
                                       
                                          
                                             1
                                          
                                          
                                             T
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                l
                                                =
                                                1
                                             
                                             
                                                L
                                             
                                          
                                       
                                       
                                          
                                             p
                                          
                                          
                                             l
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             v
                                          
                                          
                                             i
                                          
                                       
                                       
                                          
                                             D
                                          
                                          
                                             il
                                          
                                       
                                    
                                 
                              
                           

Product i could be assembled in-house without vanilla boxes (
                                 
                                    
                                       
                                          s
                                       
                                       
                                          i
                                          0
                                          l
                                       
                                    
                                 
                              ) or with vanilla boxes (
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          =
                                          1
                                       
                                       
                                          K
                                       
                                    
                                    
                                       
                                          s
                                       
                                       
                                          ikl
                                       
                                    
                                 
                              ) at same per-unit cost in demand scenario l. Expected production cost per-unit time is given by,
                                 
                                    (2)
                                    
                                       
                                          
                                             1
                                          
                                          
                                             T
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                l
                                                =
                                                1
                                             
                                             
                                                L
                                             
                                          
                                       
                                       
                                          
                                             p
                                          
                                          
                                             l
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             c
                                          
                                          
                                             i
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      i
                                                      0
                                                      l
                                                   
                                                
                                                +
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         k
                                                         =
                                                         1
                                                      
                                                      
                                                         K
                                                      
                                                   
                                                
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      ikl
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Demand which cannot be met through in-house production is outsourced. The per unit outsourcing cost is greater than the upper bound on per unit in-house production cost 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   π
                                                
                                                
                                                   i
                                                
                                             
                                             >
                                             
                                                
                                                   v
                                                
                                                
                                                   i
                                                
                                                
                                                   ub
                                                
                                             
                                          
                                       
                                    
                                 
                              . Expected shortage cost per-unit time is given by,
                                 
                                    (3)
                                    
                                       
                                          
                                             1
                                          
                                          
                                             T
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                l
                                                =
                                                1
                                             
                                             
                                                L
                                             
                                          
                                       
                                       
                                          
                                             p
                                          
                                          
                                             l
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             π
                                          
                                          
                                             i
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      D
                                                   
                                                   
                                                      il
                                                   
                                                
                                                -
                                                
                                                   
                                                      
                                                         
                                                            
                                                               s
                                                            
                                                            
                                                               i
                                                               0
                                                               l
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               
                                                                  ∑
                                                               
                                                               
                                                                  k
                                                                  =
                                                                  1
                                                               
                                                               
                                                                  K
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               s
                                                            
                                                            
                                                               ikl
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Amount of vanilla box k used in end-products is 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          =
                                          1
                                       
                                       
                                          m
                                       
                                    
                                    
                                       
                                          s
                                       
                                       
                                          ikl
                                       
                                    
                                 
                               in demand scenario l. Expected holding cost per-unit time of vanilla boxes is given by,
                                 
                                    (4)
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                l
                                                =
                                                1
                                             
                                             
                                                L
                                             
                                          
                                       
                                       
                                          
                                             p
                                          
                                          
                                             l
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                k
                                                =
                                                1
                                             
                                             
                                                K
                                             
                                          
                                       
                                       
                                          
                                             h
                                          
                                          
                                             2
                                             k
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      I
                                                   
                                                   
                                                      2
                                                      k
                                                   
                                                
                                                -
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         i
                                                         =
                                                         1
                                                      
                                                      
                                                         m
                                                      
                                                   
                                                
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      ikl
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Amount of component j added to vanilla boxes is 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          =
                                          1
                                       
                                       
                                          m
                                       
                                    
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          =
                                          1
                                       
                                       
                                          K
                                       
                                    
                                    (
                                    
                                       
                                          B
                                       
                                       
                                          ij
                                       
                                    
                                    -
                                    
                                       
                                          F
                                       
                                       
                                          kj
                                       
                                    
                                    )
                                    
                                       
                                          s
                                       
                                       
                                          ikl
                                       
                                    
                                 
                               in demand scenario l. Some end-products are assembled without vanilla boxes. In which case amount of component j utilized is 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          =
                                          1
                                       
                                       
                                          m
                                       
                                    
                                    
                                       
                                          B
                                       
                                       
                                          ij
                                       
                                    
                                    
                                       
                                          s
                                       
                                       
                                          i
                                          0
                                          l
                                       
                                    
                                 
                               in demand scenario l. Expected holding cost per-unit time of components is given by,
                                 
                                    (5)
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                l
                                                =
                                                1
                                             
                                             
                                                L
                                             
                                          
                                       
                                       
                                          
                                             p
                                          
                                          
                                             l
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                j
                                                =
                                                1
                                             
                                             
                                                n
                                             
                                          
                                       
                                       
                                          
                                             h
                                          
                                          
                                             1
                                             j
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      I
                                                   
                                                   
                                                      1
                                                      j
                                                   
                                                
                                                -
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         i
                                                         =
                                                         1
                                                      
                                                      
                                                         m
                                                      
                                                   
                                                
                                                
                                                   
                                                      B
                                                   
                                                   
                                                      ij
                                                   
                                                
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      i
                                                      0
                                                      l
                                                   
                                                
                                                -
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         i
                                                         =
                                                         1
                                                      
                                                      
                                                         m
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         k
                                                         =
                                                         1
                                                      
                                                      
                                                         K
                                                      
                                                   
                                                
                                                (
                                                
                                                   
                                                      B
                                                   
                                                   
                                                      ij
                                                   
                                                
                                                -
                                                
                                                   
                                                      F
                                                   
                                                   
                                                      kj
                                                   
                                                
                                                )
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      ikl
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Expected profit per-unit time is the difference of sales revenue per-unit time (Eq. (1)) and net of production cost per-unit time (Eq. (2)), shortage cost per-unit time (Eq. (3)), and holding costs per-unit time (Eq. (4) + Eq. (5)).

The objective is to maximize expected profit per-unit time. Expressing 
                        
                           
                              
                                 D
                              
                              
                                 i
                              
                           
                           (
                           v
                           ,
                           w
                           ,
                           l
                           )
                        
                      as 
                        
                           
                              
                                 a
                              
                              
                                 i
                              
                           
                           -
                           
                              
                                 b
                              
                              
                                 1
                                 i
                              
                           
                           
                              
                                 v
                              
                              
                                 i
                              
                           
                           -
                           
                              
                                 b
                              
                              
                                 2
                                 i
                              
                           
                           w
                           +
                           
                              
                                 e
                              
                              
                                 li
                              
                           
                        
                     , and re-arranging we get the objective function as:
                        
                           (6)
                           
                              
                                 max
                              
                              
                                 
                                    Z
                                 
                                 
                                    1
                                 
                              
                              (
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                              
                              ,
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              ,
                              w
                              ,
                              
                                 
                                    I
                                 
                                 
                                    1
                                    j
                                 
                              
                              ,
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    i
                                    0
                                    l
                                 
                              
                              )
                              =
                              
                                 
                                    1
                                 
                                 
                                    T
                                 
                              
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              (
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              -
                              
                                 
                                    π
                                 
                                 
                                    i
                                 
                              
                              )
                              (
                              
                                 
                                    a
                                 
                                 
                                    i
                                 
                              
                              -
                              
                                 
                                    b
                                 
                                 
                                    1
                                    i
                                 
                              
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              -
                              
                                 
                                    b
                                 
                                 
                                    2
                                    i
                                 
                              
                              w
                              )
                              -
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    h
                                 
                                 
                                    2
                                    k
                                 
                              
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              -
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       j
                                       =
                                       1
                                    
                                    
                                       n
                                    
                                 
                              
                              
                                 
                                    h
                                 
                                 
                                    1
                                    j
                                 
                              
                              
                                 
                                    I
                                 
                                 
                                    1
                                    j
                                 
                              
                              +
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       l
                                       =
                                       1
                                    
                                    
                                       L
                                    
                                 
                              
                              
                                 
                                    p
                                 
                                 
                                    l
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             1
                                          
                                          
                                             T
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       (
                                       
                                          
                                             v
                                          
                                          
                                             i
                                          
                                       
                                       -
                                       
                                          
                                             π
                                          
                                          
                                             i
                                          
                                       
                                       )
                                       
                                          
                                             e
                                          
                                          
                                             li
                                          
                                       
                                       +
                                       (
                                       
                                          
                                             π
                                          
                                          
                                             i
                                          
                                       
                                       -
                                       
                                          
                                             c
                                          
                                          
                                             i
                                          
                                       
                                       )
                                       
                                          
                                             
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      i
                                                      0
                                                      l
                                                   
                                                
                                                +
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         k
                                                         =
                                                         1
                                                      
                                                      
                                                         K
                                                      
                                                   
                                                
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      ikl
                                                   
                                                
                                             
                                          
                                       
                                       +
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                k
                                                =
                                                1
                                             
                                             
                                                K
                                             
                                          
                                       
                                       
                                          
                                             h
                                          
                                          
                                             2
                                             k
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             ikl
                                          
                                       
                                       +
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                j
                                                =
                                                1
                                             
                                             
                                                n
                                             
                                          
                                       
                                       
                                          
                                             h
                                          
                                          
                                             1
                                             j
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         i
                                                         =
                                                         1
                                                      
                                                      
                                                         m
                                                      
                                                   
                                                
                                                
                                                   
                                                      B
                                                   
                                                   
                                                      ij
                                                   
                                                
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      i
                                                      0
                                                      l
                                                   
                                                
                                                +
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         i
                                                         =
                                                         1
                                                      
                                                      
                                                         m
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         k
                                                         =
                                                         1
                                                      
                                                      
                                                         K
                                                      
                                                   
                                                
                                                (
                                                
                                                   
                                                      B
                                                   
                                                   
                                                      ij
                                                   
                                                
                                                -
                                                
                                                   
                                                      F
                                                   
                                                   
                                                      kj
                                                   
                                                
                                                )
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      ikl
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     
                  

The above objective function is subject to the following constraints:
                        
                           (7)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                              
                              ⩽
                              λ
                           
                        
                     
                     
                        
                           (8)
                           
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              ⩽
                              
                                 
                                    M
                                 
                                 
                                    k
                                 
                                 
                                    Big
                                 
                              
                              ×
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                              
                              
                              ∀
                              k
                           
                        
                     
                     
                        
                           (9)
                           
                              
                                 
                                    c
                                 
                                 
                                    i
                                 
                              
                              ⩽
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              ⩽
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                                 
                                    ub
                                 
                              
                              
                              ∀
                              i
                           
                        
                     
                     
                        
                           (10)
                           
                              
                                 
                                    w
                                 
                                 
                                    lb
                                 
                              
                              ⩽
                              w
                              ⩽
                              
                                 
                                    w
                                 
                                 
                                    ub
                                 
                              
                           
                        
                     
                     
                        
                           (11)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             i
                                             0
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             i
                                             0
                                             l
                                          
                                       
                                       +
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                k
                                                =
                                                1
                                             
                                             
                                                K
                                             
                                          
                                       
                                       
                                          
                                             t
                                          
                                          
                                             ik
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             ikl
                                          
                                       
                                    
                                 
                              
                              ⩽
                              C
                              
                              ∀
                              l
                           
                        
                     
                     
                        
                           (12)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ⩽
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              
                              ∀
                              k
                              ,
                              l
                           
                        
                     
                     
                        
                           (13)
                           
                              
                                 
                                    s
                                 
                                 
                                    i
                                    0
                                    l
                                 
                              
                              +
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ⩽
                              
                                 
                                    a
                                 
                                 
                                    i
                                 
                              
                              -
                              
                                 
                                    b
                                 
                                 
                                    1
                                    i
                                 
                              
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              -
                              
                                 
                                    b
                                 
                                 
                                    2
                                    i
                                 
                              
                              w
                              +
                              
                                 
                                    e
                                 
                                 
                                    li
                                 
                              
                              
                              ∀
                              i
                              ,
                              l
                           
                        
                     
                     
                        
                           (14)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    B
                                 
                                 
                                    ij
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    i
                                    0
                                    l
                                 
                              
                              +
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              (
                              
                                 
                                    B
                                 
                                 
                                    ij
                                 
                              
                              -
                              
                                 
                                    F
                                 
                                 
                                    kj
                                 
                              
                              )
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ⩽
                              
                                 
                                    I
                                 
                                 
                                    1
                                    j
                                 
                              
                              
                              ∀
                              j
                              ,
                              l
                           
                        
                     
                     
                        
                           
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              ,
                              
                                 
                                    I
                                 
                                 
                                    1
                                    j
                                 
                              
                              ,
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                              
                              ,
                              w
                              ,
                              
                                 
                                    s
                                 
                                 
                                    i
                                    0
                                    l
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    +
                                 
                              
                              
                              ∀
                              i
                              ,
                              k
                              ,
                              l
                              
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                              
                              ∈
                              {
                              0
                              ,
                              1
                              }
                              ∀
                              k
                              .
                           
                        
                     
                  

Constraints (7) and (8) ensures that the number of vanilla box configurations stocked does not exceed 
                        
                           λ
                        
                     . Constraint (9) provides bounds on optimal selling price of product i. Constraint (10) provides bounds on optimal uniform guaranteed lead time. Constraint (11) ensures that production does not exceed available capacity. Constraint (12) ensures the vanilla boxes utilization does not exceed availability. Constraint (13) ensures that production does not exceed demand. Constraint (14) ensures the component inventory utilization does not exceed availability.

Thus, we obtain a deterministic equivalent of two-stage stochastic mixed integer non-linear programming (SMINLP) problem with recourse. The first stage decisions are: (1) product price, (2) uniform guaranteed lead time, (3) configuration of a predetermined number of vanilla boxes to stock, (4) inventory level of vanilla boxes, and (5) inventory level of components. These decisions are taken before the demand realization. Constraint sets from (7)–(10) comprise the first stage constraints.

In the second stage, we observe a realization of the stochastic element. This is represented by the possible scenarios. Constraint sets (11)–(14) comprise the second stage constraints. The second stage (recourse) decisions are: (1) quantity of products to assemble without vanilla box and (2) quantity of products to assemble with vanilla box.

Further, in our problem, 
                        
                           
                              
                                 B
                              
                              
                                 ij
                              
                           
                           ,
                           
                              
                                 F
                              
                              
                                 kj
                              
                           
                           ,
                           
                              
                                 t
                              
                              
                                 i
                                 0
                              
                           
                           ,
                           
                              
                                 t
                              
                              
                                 ik
                              
                           
                        
                     , 
                        
                           
                              
                                 a
                              
                              
                                 i
                              
                           
                           ,
                           
                              
                                 b
                              
                              
                                 1
                                 i
                              
                           
                        
                     , and 
                        
                           
                              
                                 b
                              
                              
                                 2
                                 i
                              
                           
                        
                      are fixed. They do not depend on the stochastic element e. Hence, the problem leads into a fixed recourse. Additionally, for non-negative demand, our problem has complete fixed recourse. To summarize, for any feasible value of first stage variables and any realization of the stochastic element, the second stage constraints are feasible (Birge & Louveaux, 1997; Wets, 1982).

A simple ‘exact’ method to solve our problem would be to completely enumerate the ways in which 
                        
                           λ
                        
                      and fewer than 
                        
                           λ
                        
                      vanilla box configurations can be selected from the K possibilities to satisfy Constraint (7). The number of ways would be 
                        
                           
                              
                                 
                                    
                                       
                                          
                                             K
                                          
                                       
                                       
                                          
                                             1
                                          
                                       
                                    
                                 
                              
                           
                           +
                           
                              
                                 
                                    
                                       
                                          
                                             K
                                          
                                       
                                       
                                          
                                             2
                                          
                                       
                                    
                                 
                              
                           
                           +
                           ⋯
                           +
                           
                              
                                 
                                    
                                       
                                          
                                             K
                                          
                                       
                                       
                                          
                                             λ
                                          
                                       
                                    
                                 
                              
                           
                        
                     . Once the 
                        
                           
                              
                                 x
                              
                              
                                 k
                              
                           
                        
                      value is fixed at either zero or one to meet Constraint (7), it results in a deterministic multi-scenario non-linear programming (NLP) sub-problem comprising objective function (6) and the constraint set (8)–(14). All such deterministic multi-scenario NLP sub-problems are solved and the 
                        
                           
                              
                                 x
                              
                              
                                 k
                              
                           
                        
                      value which results in the largest objective function value is selected as the optimal solution. This method works (i) if the sum 
                        
                           
                              
                                 
                                    
                                       
                                          
                                             K
                                          
                                       
                                       
                                          
                                             1
                                          
                                       
                                    
                                 
                              
                           
                           +
                           
                              
                                 
                                    
                                       
                                          
                                             K
                                          
                                       
                                       
                                          
                                             2
                                          
                                       
                                    
                                 
                              
                           
                           +
                           ⋯
                           +
                           
                              
                                 
                                    
                                       
                                          
                                             K
                                          
                                       
                                       
                                          
                                             λ
                                          
                                       
                                    
                                 
                              
                           
                        
                      is finite, and (ii) if it is possible to obtain the global maxima of the deterministic multi-scenario NLP sub-problem. Hence, it is important to show the concavity of the deterministic multi-scenario NLP sub-problem. The deterministic equivalent of the stochastic non-linear programming problem is concave as: (1) the first stage objective function is concave (Kuthambalayan, 2011) and the first stage constraints are linear, (2) the second stage objective function for scenario (l) is concave (Kuthambalayan, 2011) and the second stage constraints are linear, and (3) the problem has complete fixed recourse (Birge & Louveaux, 1997).

In this section, we provide the results of our solution approach and perform sensitivity analysis of some of the key parameters. The following parameters are analysed in detail: (i) demand correlation among products, (ii) demand variance, (iii) price sensitivity of demand, (iv) lead time sensitivity of demand, and (v) number of vanilla box configurations stocked. Each of these factors is considered at two levels, except for the number of vanilla box configuration stocked which is considered at three levels. Thus, there are 
                        
                           
                              
                                 2
                              
                              
                                 5
                              
                           
                           ×
                           3
                           =
                           96
                        
                      instances per problem. The basis for defining a problem instance is the degree of component usage in the bill of material (BOM). We consider four problems with four products and five components, and six problems with five products and six components. For generality, quantity of components used is restricted to either zero or one. The stochastic error component in demand function is assumed to have joint uniform distribution. The demand correlation is taken to be same for each pair of product. The correlation matrix is ensured to be positive semi-definite. A 
                        
                           L
                           ×
                           m
                        
                      matrix of random samples is generated from Gaussian copula with the correlation parameter uniformly distributed 
                        
                           U
                           (
                           0
                           ,
                           1
                           )
                        
                     . Since the minimum value of joint uniform distribution is zero, the error scenarios are obtained by multiplying the 
                        
                           L
                           ×
                           m
                        
                      matrix by the maximum value of the joint uniform distribution. The probability of occurrence of the scenarios is considered to be equal. The experiment design is summarized in Table 7
                     .

The problem is modeled in GAMS (General Algebraic Modelling System) and solved using commercial solvers. Each problem is solved using the ’exact’ method described in Section 3. CONOPT is used for solving the NLP sub-problems. In order to describe the results, we focus on the illustrative problem given in Table 1. Each product in this BOM is assembled from four components. Hence, 
                        
                           
                              
                                 c
                              
                              
                                 i
                              
                           
                        
                      is $80, 
                        
                           
                              
                                 π
                              
                              
                                 i
                              
                           
                        
                      is $120, and the 
                        
                           
                              
                                 v
                              
                              
                                 i
                              
                              
                                 ub
                              
                           
                        
                      is $100. The random demand scenarios (
                        
                           
                              
                                 e
                              
                              
                                 li
                              
                           
                        
                     ) are adjusted such that the value 
                        
                           (
                           
                              
                                 ∑
                              
                              
                                 l
                                 =
                                 1
                              
                              
                                 L
                              
                           
                           
                              
                                 e
                              
                              
                                 li
                              
                           
                           )
                           /
                           L
                        
                      is same for each products i and equals 100 for 
                        
                           
                              
                                 e
                              
                              
                                 i
                              
                           
                           ∈
                           [
                           0
                           ,
                           200
                           ]
                        
                      and 400 for 
                        
                           
                              
                                 e
                              
                              
                                 i
                              
                           
                           ∈
                           [
                           0
                           ,
                           800
                           ]
                        
                     .

Our computational results suggest that vanilla assembly process (
                        
                           λ
                           >
                           0
                        
                     ) performs better than pure ATO process (
                        
                           λ
                           =
                           0
                        
                     ). In what follows, we elaborate on these results and provide key observations based on the results. Table 8
                      provides the expected profit per day and the uniform lead time guaranteed (in parenthesis). Table 9
                      provides the optimal vanilla box configurations for the problem instances.

The risk pooling effect of negative demand correlation reduces the mismatch in determining the inventory of components and vanilla box configurations. This results in reduction of outsourcing and holding costs and increase in the expected profit (refer Table 8). The negative demand correlation would also exploit the component commonality effectively. For instance, 
                        
                           
                              
                                 V
                              
                              
                                 1
                              
                           
                        
                      is the only configuration common to more than one product. Not surprisingly, it appears in the optimal solution in the presence of negative demand correlation (refer Table 9).

The increase in demand variability increases the aggregate costs and reduces the expected profit (refer Table 8). It also leads to an increase in uniform guaranteed lead time (thus reducing average demand and the required capacity). The lead time is in direct proportion to the required capacity. The lead time is also influenced by the production rate or choice of vanilla boxes. Such feedback control is an important characteristic of an integrated decision model. This helps the managers to recognize the trade-offs concurrently. In a sequential approach, a marketing manager may not account for the capacity infeasibility while quoting a guaranteed lead time guarantee to attract demand.

Interestingly, the choice of vanilla box configuration is also determined by distribution of demand scenarios. The value 
                        
                           
                              
                                 ∑
                              
                              
                                 l
                                 =
                                 1
                              
                              
                                 L
                              
                           
                        
                     (e
                     
                        li
                     
                     −mean)2 is computed for each i. It shows that the demand scenarios for negatively correlated demand are concentrated closer to the mean for product 
                        
                           
                              
                                 M
                              
                              
                                 3
                              
                           
                        
                      followed for 
                        
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                        
                     , and 
                        
                           
                              
                                 M
                              
                              
                                 4
                              
                           
                        
                      in that order. 
                        
                           
                              
                                 M
                              
                              
                                 3
                              
                           
                        
                      requires vanilla box 
                        
                           
                              
                                 V
                              
                              
                                 6
                              
                           
                        
                      for its final assembly. As a result, 
                        
                           
                              
                                 V
                              
                              
                                 6
                              
                           
                        
                      is part of the optimal solution with negative demand correlation.

Another simple yet powerful observation from our results is that stocking a larger number of vanilla box configurations increases the production rate, reduces the uniform lead time guarantee (thus increasing average demand), and increases the expected profit. Interestingly, the increase in the number of vanilla boxes could change the configuration of the vanilla box in the optimal solution (refer Table 9). This is counter intuitive as usually a profit maximizing vanilla box candidate would be prescribed even with larger number of permissible vanilla boxes.

Similar interactions are observed by varying the price and lead time sensitivity of demand, and inventory holding costs. Capturing these interactions through uncoordinated marketing and operation decisions would not be optimal for the firm. Our modeling approach mimics this complexity faced by the firms and provides an optimal solution. Our computational results characterize the behavior of the integrated model for determining the marketing and operations decisions. The results also provide some interesting counter-intuitive insights.

One of the important objectives of our research is to develop an efficient solution approach to the problem. The results and observations of Section 4 are based on small problem size. To make our results useful and relevant for real-life problems, we develop a solution procedure for solving large problems. We propose an accelerated version of Generalized Bender’s Decomposition (GBD) method for our problem. We begin with introducing additional notation in Table 10
                     .

The problem is now converted into its minimization counterpart and the following changes are applied to the model:
                        
                           1.
                           Assigning value to Big-M: For a product i with 
                                 
                                    
                                       
                                          e
                                       
                                       
                                          i
                                       
                                    
                                 
                               as U(0,800), the maximum expected product demand is computed as 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   a
                                                
                                                
                                                   i
                                                
                                             
                                             -
                                             
                                                
                                                   b
                                                
                                                
                                                   1
                                                   i
                                                
                                             
                                             
                                                
                                                   v
                                                
                                                
                                                   i
                                                
                                                
                                                   ub
                                                
                                             
                                             -
                                             
                                                
                                                   b
                                                
                                                
                                                   2
                                                   i
                                                
                                             
                                             
                                                
                                                   w
                                                
                                                
                                                   lb
                                                
                                             
                                             +
                                             800
                                          
                                       
                                    
                                 
                              . The value obtained is multiplied by the number of units of a given vanilla boxes k required in that product. The sum of these values over all products for a given vanilla box k is assigned to 
                                 
                                    
                                       
                                          M
                                       
                                       
                                          k
                                       
                                       
                                          Big
                                       
                                    
                                 
                              . Through this, we provide a rational value of Big-M and capture all the inventory possibilities of vanilla boxes. Predictably, our computational experiments suggest that assigning Big-M values higher than this scheme would delay the convergence of the algorithm. Our method of assigning Big-M value improves the convergence properties significantly.

Based on our computational experience in Section 4, the product price 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          i
                                       
                                    
                                 
                               is replaced with 
                                 
                                    
                                       
                                          v
                                       
                                       
                                          i
                                       
                                       
                                          ub
                                       
                                    
                                 
                              , and constraint (9) is dropped. The relation 
                                 
                                    w
                                    =
                                    2
                                    T
                                 
                               is used to drop the variable w from the model. The relation 
                                 
                                    C
                                    =
                                    T
                                 
                               is used to drop the variable C from the model. The component stocking level, 
                                 
                                    
                                       
                                          I
                                       
                                       
                                          1
                                          j
                                       
                                    
                                 
                              , is ignored along with the associated constraint (14) and variable 
                                 
                                    
                                       
                                          s
                                       
                                       
                                          i
                                          0
                                          l
                                       
                                    
                                 
                               to speed-up the solution.

Our solution approach comprises decomposing the two-stage stochastic mixed integer non-linear programming problem into two problems. The GBD method solves iteratively the sub-problem and a MIP master problem. In the first iteration, an arbitrary value for the complicating decision variables (
                        
                           
                              
                                 x
                              
                              
                                 k
                              
                           
                        
                     ) is chosen. The solution of the sub-problem is used to add an optimality cut to the MIP master problem. As a result, the master problem learns about the influence each complicating variable has on the problem solution. This eventually leads to an identification of the optimal complicating vector.

In the case of minimization, the sub-problem gives a valid upper bound and the master problem gives a valid lower bound to the initial problem solution. As Benders’ cuts are added to the master problem, the lower bound increases monotonically. The mechanism proposed to accelerate Benders’ convergence assumes that there exist other good solutions in the neighborhood of a good solution. These good solutions contribute to the improvement in the upper bound. These solutions are represented by Heuristic Cuts (described later) and indexed by g. These cuts permit only 
                        
                           
                              
                                 G
                              
                              
                                 g
                              
                           
                        
                      binary variable to change their value in a given solution g. Heuristic cuts are added whenever there is an improvement in upper bound and 
                        
                           
                              
                                 G
                              
                              
                                 g
                              
                           
                        
                      is reset to one for all g. We refer to the master problem with these additional cuts as the modified master problem.

The modified master problem is formulated as:

Modified master: MIP problem
                        
                           (15)
                           
                              
                                 
                                    Z
                                 
                                 
                                    2
                                 
                                 
                                    m
                                 
                              
                              (
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                              
                              ,
                              
                                 
                                    θ
                                 
                                 
                                    1
                                 
                              
                              )
                              =
                              
                                 min
                              
                              
                                 
                                    θ
                                 
                                 
                                    1
                                 
                              
                           
                        
                     subject to constraints,
                        
                           (7)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                              
                              ⩽
                              λ
                           
                        
                     
                     
                        
                           (16)
                           
                              
                                 
                                    θ
                                 
                                 
                                    1
                                 
                              
                              ⩾
                              
                                 
                                    Z
                                 
                                 
                                    3
                                    ,
                                    y
                                    -
                                    1
                                 
                                 
                                    ∗
                                 
                              
                              +
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       |
                                       
                                          
                                             x
                                          
                                          
                                             k
                                             ,
                                             y
                                             -
                                             1
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       0
                                    
                                 
                              
                              
                                 
                                    f
                                 
                                 
                                    1
                                    k
                                    ,
                                    y
                                    -
                                    1
                                 
                                 
                                    ∗
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             M
                                          
                                          
                                             k
                                          
                                          
                                             Big
                                          
                                       
                                       ×
                                       
                                          
                                             x
                                          
                                          
                                             k
                                          
                                       
                                    
                                 
                              
                              
                              ∀
                              y
                           
                        
                     
                     
                        
                           (17)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       
                                          
                                             x
                                          
                                          
                                             k
                                             ,
                                             y
                                             -
                                             1
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       0
                                    
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                              
                              +
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       
                                          
                                             x
                                          
                                          
                                             k
                                             ,
                                             y
                                             -
                                             1
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       1
                                    
                                 
                              
                              (
                              1
                              -
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                              
                              )
                              ⩾
                              1
                              ∀
                              y
                           
                        
                     
                     
                        
                           (18)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       
                                          
                                             x
                                          
                                          
                                             k
                                             ,
                                             g
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       1
                                    
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                              
                              ⩾
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    k
                                    ,
                                    g
                                 
                                 
                                    ∗
                                 
                              
                              -
                              
                                 
                                    G
                                 
                                 
                                    g
                                 
                              
                              ∀
                              g
                           
                        
                     
                     
                        
                           
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                              
                              ∈
                              {
                              0
                              ,
                              1
                              }
                              ∀
                              k
                              ,
                              
                                 
                                    θ
                                 
                                 
                                    1
                                 
                              
                              ∈
                              R
                           
                        
                     
                  

Constraint (7) ensures that the vanilla box configurations stocked does not exceed 
                        
                           λ
                        
                     . Constraint (16) is the Benders’ optimality cut and provides a lower bound on 
                        
                           
                              
                                 θ
                              
                              
                                 1
                              
                           
                        
                     . Constraint (17) allows the solution with each Benders’ cut to differ from those used to construct previous sub-problems. Constraint (18) is the heuristic cut. 
                        
                           
                              
                                 G
                              
                              
                                 g
                              
                           
                        
                      is initially assigned a value one. The conventional master problem is without constraint (18) and we refer to its objective function as 
                        
                           
                              
                                 Z
                              
                              
                                 2
                              
                           
                        
                     .

The sub-problem is formulated as:

Sub-problem: NLP problem
                        
                           (19)
                           
                              
                                 min
                              
                              
                                 
                                    Z
                                 
                                 
                                    3
                                 
                              
                              (
                              T
                              ,
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              )
                              =
                              
                                 
                                    1
                                 
                                 
                                    T
                                 
                              
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             π
                                          
                                          
                                             i
                                          
                                       
                                       -
                                       
                                          
                                             v
                                          
                                          
                                             i
                                          
                                          
                                             ub
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             a
                                          
                                          
                                             i
                                          
                                       
                                       -
                                       
                                          
                                             b
                                          
                                          
                                             1
                                             i
                                          
                                       
                                       
                                          
                                             v
                                          
                                          
                                             i
                                          
                                          
                                             ub
                                          
                                       
                                       -
                                       2
                                       
                                          
                                             b
                                          
                                          
                                             2
                                             i
                                          
                                       
                                       T
                                    
                                 
                              
                              +
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    h
                                 
                                 
                                    2
                                    k
                                 
                              
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              -
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       l
                                       =
                                       1
                                    
                                    
                                       L
                                    
                                 
                              
                              
                                 
                                    p
                                 
                                 
                                    l
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             1
                                          
                                          
                                             T
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      v
                                                   
                                                   
                                                      i
                                                   
                                                   
                                                      ub
                                                   
                                                
                                                -
                                                
                                                   
                                                      π
                                                   
                                                   
                                                      i
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             e
                                          
                                          
                                             li
                                          
                                       
                                       +
                                       (
                                       
                                          
                                             π
                                          
                                          
                                             i
                                          
                                       
                                       -
                                       
                                          
                                             c
                                          
                                          
                                             i
                                          
                                       
                                       )
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                k
                                                =
                                                1
                                             
                                             
                                                K
                                             
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             ikl
                                          
                                       
                                       +
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                k
                                                =
                                                1
                                             
                                             
                                                K
                                             
                                          
                                       
                                       
                                          
                                             h
                                          
                                          
                                             2
                                             k
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             ikl
                                          
                                       
                                    
                                 
                              
                           
                        
                     subject to constraints,
                        
                           (12)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ⩽
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              
                              ∀
                              k
                              ,
                              l
                           
                        
                     
                     
                        
                           (20)
                           
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              ⩽
                              
                                 
                                    M
                                 
                                 
                                    k
                                 
                                 
                                    Big
                                 
                              
                              ×
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                                 
                                    ∗
                                 
                              
                              ,
                              
                              for
                              
                              
                                 
                                    
                                       k
                                       |
                                       
                                          
                                             x
                                          
                                          
                                             k
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       0
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (21)
                           
                              (
                              
                                 
                                    w
                                 
                                 
                                    lb
                                 
                              
                              /
                              2
                              )
                              ⩽
                              T
                              ⩽
                              (
                              
                                 
                                    w
                                 
                                 
                                    ub
                                 
                              
                              /
                              2
                              )
                           
                        
                     
                     
                        
                           (22)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    t
                                 
                                 
                                    ik
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ⩽
                              T
                              
                              ∀
                              l
                           
                        
                     
                     
                        
                           (23)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ⩽
                              
                                 
                                    a
                                 
                                 
                                    i
                                 
                              
                              -
                              
                                 
                                    b
                                 
                                 
                                    1
                                    i
                                 
                              
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                                 
                                    ub
                                 
                              
                              -
                              2
                              
                                 
                                    b
                                 
                                 
                                    2
                                    i
                                 
                              
                              T
                              +
                              
                                 
                                    e
                                 
                                 
                                    li
                                 
                              
                              
                              ∀
                              i
                              ,
                              l
                           
                        
                     
                     
                        
                           
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    +
                                 
                              
                              
                              ∀
                              i
                              ,
                              k
                              ,
                              l
                              .
                           
                        
                     
                  

Constraint (20) ensures no inventory for un-stocked vanilla boxes and feasibility for stocked vanilla boxes. Constraint (20) also provides dual values for the Benders’ cut (16). Constraint (21) provides bounds on the optimal production planning period. Constraint (22) ensures that the production does not exceed the available capacity. Constraint (23) ensures that the production does not exceed demand.

The non-linearity in the sub-problem is due to the variable T. By fixing the value of this variable and using the relation 
                        
                           2
                           
                              
                                 w
                              
                              
                                 -
                                 1
                              
                           
                           =
                           
                              
                                 1
                              
                              
                                 T
                              
                           
                        
                     , this problem is separated into sub-problem 1 (SP1: LP problem) and sub-problem 2 (SP2: Stochastic LP problem). SP2 can be further decomposed into individual LP problems. The detailed formulation of the two separable sub-problems, SP1 and SP2, is described in Appendix A. The schematic of our decomposition scheme is summarized in Fig. 1
                     .

The sub-problem is feasible for all binary 
                        
                           
                              
                                 x
                              
                              
                                 k
                              
                           
                        
                     ’s which satisfy constraint (7). Similarly, SP2 is feasible for all T’s which satisfy constraint (21). Hence, feasibility cuts are not required. The complexity here is with the number of optimality cuts y and z which has infinite possibilities. The key is to identify a relevant subset of optimality cuts which leads to an optimum solution. This is done in an iterative fashion by the GBD algorithm.

In summary, constraint (18) combines good solutions while permitting new solutions to be discovered. It also speeds up the MIP solution considerably. However, it mainly intensifies search around good solutions. To diversify the search and to obtain the true lower bound, the conventional master problem is solved every 
                        
                           
                              
                                 y
                              
                              
                                 L
                              
                           
                        
                      iteration in place of the modified master problem. The convergence criteria remains same as that of ‘Classic’ Benders’ method. The main features of the accelerated GBD procedure and the step-wise algorithm is provided in Appendix B.

For evaluating the solution scheme, we consider two reasonably large problem instances – PS1 and PS2. PS1 consists of fifty products and requires ten components. PS2 also consists fifty products but they require twenty components. The product-component matrix consists of values ‘1’ and ‘0’ generated using independent uniform integer distribution. ‘1’ indicates that the component is required in that product and the quantity used is one. ‘0’ indicates that the component is not used in that product. It is ensured that no two products are alike. PS1 has 82 binary variables (possible vanilla box designs), 82,083 continuous variables, and 2745 linear Constraints. PS2 has 321 binary variables, 321,322 continuous variables, and 7764 linear constraints.

Assumptions regarding stochastic error component in demand function and the demand correlation is same as in Section 3. Error scenarios are assigned equal probability. The Big-M value is tightened using the procedure described earlier. Almost all Big-M values were determined to be between 2000 and 10,000, except for a few outliers which are greater than 10,000. The problem instances are solved using the accelerated GBD algorithm. Vanilla box configurations which are common to large number of products is provided as the starting solution. The maximum permissible value of vanilla box configurations, 
                           
                              λ
                           
                        , is used in the initial solution. The test environment is provided in Table 11
                        . For benchmarking, we solve the problem instances using the classic Benders’ algorithm, the OA method (DICOPT solver), and the NBB method (SBB solver).

The problem is modeled using GAMS 22.8 64bit. Experiments are conducted on system with Pentium Core 2 Quad CPU and 6giga bytes RAM running Windows 7 Ultimate ×64. MIP problem in GBD algorithm is terminated with a relative optimality gap of 0.1%. Its NLP sub-problem is solved by further decomposition into LP problems. CPLEX is used to solve LP and MIP problems. DICOPT solution is terminated as soon as the solution to NLP sub-problem is worsened. SBB is terminated with a relative optimality gap of 0.5%. A time limit is imposed on the solution for all methods. The solution time is checked at the completion of an iteration in GBD method. In case of accelerated Benders algorithm, the conventional master problem is solved at the end of time limit to obtain the lower bound on the problem. The expected profit and details of computational time are provided in Table 12
                        .

While we could still solve larger problems with the proposed accelerated GBD approach, we would not be able to compare them with the OA method. In our computations, the commercial solver used in the OA method would restrict the problem size beyond the reported results. With the given problem size, the OA method performs better as compared to the proposed GBD method. However, as discussed, OA method lends into the non-linear sub-problem. Though we consider a reasonably large problem size in our computational experiment, we do not rule out the inefficiencies in OA method for larger problems due to the associated non-linearities. On the contrary, the proposed accelerated GBD method does not have this problem and is expected to perform well even for larger problem instances. Hence, we prescribe accelerated GBD and OA method for lower to moderate size problems and accelerated GBD method for large size problems.

In this research, we address the problem of coordinating the marketing and operations decisions of firms characterized by high product variety, short delivery lead times, and demand variability. We develop an integrated mathematical model that determines the two sets of decisions. Our modeling approach minimizes the fundamental problem of firms facing inefficiencies due to the supply–demand mismatch. The broad conclusion of our results indicate that the use of semi-finished goods results in higher expected profit over the pure assemble-to-order strategy. The results provide optimal design of semi-finished goods for operations managers, the optimal lead time and price to be quoted for marketing managers. The feasibility of implementing these decisions is ensured due to the integrated approach of solving the problem.

One of the other key objectives of our research is to demonstrate ease of implementation of our solution approach to real-life industry problems. We contribute to the literature and practise by developing an efficient solution procedure for solving the integrated model. The solution scheme is an accelerated version of the GBD method and solves large problem instances with reasonable tractability. The proposed solution approach provides a better solution and a tighter lower bound over the conventional GBD implementation and the non-linear branch-and-bound method.

There are several interesting extensions of this work. Future research could consider more general demand function, allow stochastic error component of demand to vary with price and lead time, and quote individual lead time based on the customer classes.

@&#ACKNOWLEDGEMENT@&#

The authors thank the anonymous referees, and the editor for their valuable feedback, which significantly improved the positioning and presentation of this paper.


                     Sub-Problem 1(SP1: LP problem)
                        
                           (24)
                           
                              
                                 
                                    Z
                                 
                                 
                                    4
                                 
                              
                              (
                              
                                 
                                    w
                                 
                                 
                                    -
                                    1
                                 
                              
                              )
                              =
                              
                                 min
                              
                              -
                              2
                              
                                 
                                    w
                                 
                                 
                                    -
                                    1
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      v
                                                   
                                                   
                                                      i
                                                   
                                                   
                                                      ub
                                                   
                                                
                                                -
                                                
                                                   
                                                      π
                                                   
                                                   
                                                      i
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      a
                                                   
                                                   
                                                      i
                                                   
                                                
                                                -
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      1
                                                      i
                                                   
                                                
                                                
                                                   
                                                      v
                                                   
                                                   
                                                      i
                                                   
                                                   
                                                      ub
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              +
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             v
                                          
                                          
                                             i
                                          
                                          
                                             ub
                                          
                                       
                                       -
                                       
                                          
                                             π
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                              
                              (
                              2
                              
                                 
                                    b
                                 
                                 
                                    2
                                    i
                                 
                              
                              )
                              +
                              
                                 
                                    θ
                                 
                                 
                                    2
                                 
                              
                           
                        
                     subject to constraints,
                        
                           (25)
                           
                              (
                              1
                              /
                              
                                 
                                    w
                                 
                                 
                                    ub
                                 
                              
                              )
                              ⩽
                              
                                 
                                    w
                                 
                                 
                                    -
                                    1
                                 
                              
                              ⩽
                              (
                              1
                              /
                              
                                 
                                    w
                                 
                                 
                                    lb
                                 
                              
                              )
                           
                        
                     
                     
                        
                           (26)
                           
                              
                                 
                                    θ
                                 
                                 
                                    2
                                 
                              
                              ⩾
                              -
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       l
                                       =
                                       1
                                    
                                    
                                       L
                                    
                                 
                              
                              
                                 
                                    p
                                 
                                 
                                    l
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             2
                                             lz
                                          
                                          
                                             ∗
                                          
                                       
                                       +
                                       2
                                       
                                          
                                             w
                                          
                                          
                                             -
                                             1
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      a
                                                   
                                                   
                                                      i
                                                   
                                                
                                                -
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      1
                                                      i
                                                   
                                                
                                                
                                                   
                                                      v
                                                   
                                                   
                                                      i
                                                   
                                                   
                                                      ub
                                                   
                                                
                                                +
                                                
                                                   
                                                      e
                                                   
                                                   
                                                      li
                                                   
                                                
                                             
                                          
                                       
                                       ×
                                       
                                          
                                             f
                                          
                                          
                                             4
                                             ilz
                                          
                                          
                                             ∗
                                          
                                       
                                       -
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       2
                                       
                                          
                                             b
                                          
                                          
                                             2
                                             i
                                          
                                       
                                       
                                          
                                             f
                                          
                                          
                                             4
                                             ilz
                                          
                                          
                                             ∗
                                          
                                       
                                    
                                 
                              
                              
                              ∀
                              z
                           
                        
                     
                     
                        
                           
                              
                                 
                                    w
                                 
                                 
                                    -
                                    1
                                 
                              
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    +
                                 
                              
                              ,
                              
                                 
                                    θ
                                 
                                 
                                    2
                                 
                              
                              ∈
                              R
                           
                        
                     
                  

Constraint (25) provides bounds on the optimal inverse of uniform guaranteed lead time. Constraint (26) is the Benders’ optimality cut and provides a lower bound on 
                        
                           
                              
                                 θ
                              
                              
                                 2
                              
                           
                        
                     .


                     Sub-Problem 2(SP2: Stochastic LP problem)
                        
                           (27)
                           
                              
                                 
                                    Z
                                 
                                 
                                    5
                                 
                              
                              (
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              )
                              =
                              
                                 min
                              
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    h
                                 
                                 
                                    2
                                    k
                                 
                              
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              +
                              
                                 
                                    1
                                 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                 
                              
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       l
                                       =
                                       1
                                    
                                    
                                       L
                                    
                                 
                              
                              
                                 
                                    p
                                 
                                 
                                    l
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      π
                                                   
                                                   
                                                      i
                                                   
                                                
                                                -
                                                
                                                   
                                                      v
                                                   
                                                   
                                                      i
                                                   
                                                   
                                                      ub
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             e
                                          
                                          
                                             li
                                          
                                       
                                       +
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       (
                                       
                                          
                                             c
                                          
                                          
                                             i
                                          
                                       
                                       -
                                       
                                          
                                             π
                                          
                                          
                                             i
                                          
                                       
                                       )
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                k
                                                =
                                                1
                                             
                                             
                                                K
                                             
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             ikl
                                          
                                       
                                       -
                                       
                                          
                                             T
                                          
                                          
                                             ∗
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                k
                                                =
                                                1
                                             
                                             
                                                K
                                             
                                          
                                       
                                       
                                          
                                             h
                                          
                                          
                                             2
                                             k
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             ikl
                                          
                                       
                                    
                                 
                              
                           
                        
                     subject to constraints,
                        
                           (20)
                           
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              ⩽
                              
                                 
                                    M
                                 
                                 
                                    k
                                 
                                 
                                    Big
                                 
                              
                              ×
                              
                                 
                                    x
                                 
                                 
                                    k
                                 
                                 
                                    ∗
                                 
                              
                              ,
                              
                              for
                              
                              
                                 
                                    
                                       k
                                       |
                                       
                                          
                                             x
                                          
                                          
                                             k
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       0
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (28)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    t
                                 
                                 
                                    ik
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ⩽
                              
                                 
                                    T
                                 
                                 
                                    ∗
                                 
                              
                              
                              ∀
                              l
                           
                        
                     
                     
                        
                           (12)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ⩽
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              
                              ∀
                              k
                              ,
                              l
                           
                        
                     
                     
                        
                           (29)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ⩽
                              
                                 
                                    a
                                 
                                 
                                    i
                                 
                              
                              -
                              
                                 
                                    b
                                 
                                 
                                    1
                                    i
                                 
                              
                              
                                 
                                    v
                                 
                                 
                                    i
                                 
                                 
                                    ub
                                 
                              
                              -
                              2
                              
                                 
                                    b
                                 
                                 
                                    2
                                    i
                                 
                              
                              
                                 
                                    T
                                 
                                 
                                    ∗
                                 
                              
                              +
                              
                                 
                                    e
                                 
                                 
                                    li
                                 
                              
                              
                              ∀
                              i
                              ,
                              l
                           
                        
                     
                     
                        
                           
                              
                                 
                                    I
                                 
                                 
                                    2
                                    k
                                 
                              
                              ,
                              
                              
                                 
                                    s
                                 
                                 
                                    ikl
                                 
                              
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    +
                                 
                              
                              
                              ∀
                              i
                              ,
                              k
                              ,
                              l
                              .
                           
                        
                     
                  

The value of 
                        
                           
                              
                                 T
                              
                              
                                 ∗
                              
                           
                           =
                           
                              
                                 1
                              
                              
                                 2
                                 
                                    
                                       w
                                    
                                    
                                       -
                                       1
                                    
                                 
                              
                           
                        
                      in Constraint (28) and Constraint (29) is obtained from the solution of problem SP1. Constraint (28) ensures that production does not exceed the available capacity which is now fixed. Constraint (29) ensures that production does not exceed demand whose mean value is now fixed.


                     Dual of sub-Problem 2(Stochastic LP problem).

It is interesting to note that while deriving the dual, only those vanilla boxes which are stocked (
                        
                           
                              
                                 x
                              
                              
                                 k
                              
                              
                                 ∗
                              
                           
                           =
                           1
                        
                     ), and only those products (i) which can be assembled with these vanilla boxes (k) need be considered.
                        
                           (30)
                           
                              
                                 
                                    Z
                                 
                                 
                                    6
                                 
                              
                              (
                              
                                 
                                    f
                                 
                                 
                                    2
                                    l
                                 
                              
                              ,
                              
                                 
                                    f
                                 
                                 
                                    3
                                    kl
                                 
                              
                              ,
                              
                                 
                                    f
                                 
                                 
                                    4
                                    il
                                 
                              
                              )
                              =
                              
                                 min
                              
                              -
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       l
                                       =
                                       1
                                    
                                    
                                       L
                                    
                                 
                              
                              
                                 
                                    p
                                 
                                 
                                    l
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             f
                                          
                                          
                                             2
                                             l
                                          
                                       
                                       +
                                       
                                          
                                             1
                                          
                                          
                                             
                                                
                                                   T
                                                
                                                
                                                   ∗
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      a
                                                   
                                                   
                                                      i
                                                   
                                                
                                                -
                                                
                                                   
                                                      b
                                                   
                                                   
                                                      1
                                                      i
                                                   
                                                
                                                
                                                   
                                                      v
                                                   
                                                   
                                                      i
                                                   
                                                   
                                                      ub
                                                   
                                                
                                                +
                                                
                                                   
                                                      e
                                                   
                                                   
                                                      li
                                                   
                                                
                                             
                                          
                                       
                                       ×
                                       
                                          
                                             f
                                          
                                          
                                             4
                                             il
                                          
                                       
                                       -
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       2
                                       
                                          
                                             b
                                          
                                          
                                             2
                                             i
                                          
                                       
                                       
                                          
                                             f
                                          
                                          
                                             4
                                             il
                                          
                                       
                                    
                                 
                              
                           
                        
                     subject to constraints,
                        
                           (31)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       k
                                       =
                                       1
                                    
                                    
                                       K
                                    
                                 
                              
                              
                                 
                                    t
                                 
                                 
                                    ik
                                 
                              
                              
                                 
                                    f
                                 
                                 
                                    2
                                    l
                                 
                              
                              +
                              
                                 
                                    f
                                 
                                 
                                    4
                                    il
                                 
                              
                              ⩾
                              -
                              
                                 
                                    c
                                 
                                 
                                    i
                                 
                              
                              +
                              
                                 
                                    π
                                 
                                 
                                    i
                                 
                              
                              ∀
                              l
                              ,for
                              
                              
                                 
                                    
                                       i
                                       |
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                k
                                                =
                                                1
                                             
                                             
                                                K
                                             
                                          
                                       
                                       
                                          
                                             t
                                          
                                          
                                             ik
                                          
                                       
                                       ∈
                                       
                                          
                                             R
                                          
                                          
                                             +
                                          
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (32)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    t
                                 
                                 
                                    ik
                                 
                              
                              
                                 
                                    f
                                 
                                 
                                    2
                                    l
                                 
                              
                              +
                              
                                 
                                    f
                                 
                                 
                                    3
                                    kl
                                 
                              
                              ⩾
                              
                                 
                                    T
                                 
                                 
                                    ∗
                                 
                              
                              ×
                              
                                 
                                    h
                                 
                                 
                                    2
                                    k
                                 
                              
                              ∀
                              l
                              ,
                              
                              for
                              
                              
                                 
                                    
                                       k
                                       |
                                       
                                          
                                             x
                                          
                                          
                                             k
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       1
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (33)
                           
                              
                                 
                                    f
                                 
                                 
                                    3
                                    kl
                                 
                              
                              ⩽
                              
                                 
                                    T
                                 
                                 
                                    ∗
                                 
                              
                              ×
                              
                                 
                                    h
                                 
                                 
                                    2
                                    k
                                 
                              
                              ∀
                              l
                              ,for
                              
                              
                                 
                                    
                                       k
                                       |
                                       
                                          
                                             x
                                          
                                          
                                             k
                                          
                                          
                                             ∗
                                          
                                       
                                       =
                                       1
                                    
                                 
                              
                           
                        
                     
                     
                        
                           
                              
                                 
                                    f
                                 
                                 
                                    2
                                    l
                                 
                              
                              ,
                              
                                 
                                    f
                                 
                                 
                                    3
                                    kl
                                 
                              
                              ,
                              
                                 
                                    f
                                 
                                 
                                    4
                                    il
                                 
                              
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    +
                                 
                              
                              
                              ∀
                              i
                              ,
                              k
                              ,
                              l
                              .
                           
                        
                     
                  

In the proposed algorithm, the conventional master problem is solved until the sub-problem’s solution improves (and thereafter if y mod 
                        
                           
                              
                                 y
                              
                              
                                 L
                              
                           
                        
                      is zero). The modified master problem is then formulated with an addition of a Heuristic Cut g that corresponds to this solution. The modified master problem then attempts to replaces no more than one binary variable with value one in this solution. The solution, 
                        
                           
                              
                                 LB
                              
                              
                                 y
                              
                              
                                 false
                              
                           
                           =
                           
                              
                                 Z
                              
                              
                                 2
                              
                              
                                 m
                              
                           
                        
                     , so obtained is not the theoretical lower bound on the initial problem. In fact, 
                        
                           
                              
                                 LB
                              
                              
                                 y
                              
                              
                                 false
                              
                           
                           ⩾
                           
                              
                                 LB
                              
                              
                                 y
                              
                           
                        
                      and is even possible for 
                        
                           
                              
                                 LB
                              
                              
                                 y
                              
                              
                                 false
                              
                           
                           >
                           
                              
                                 UB
                              
                              
                                 y
                              
                           
                        
                     . If modified master problem solution is integer feasible with 
                        
                           
                              
                                 LB
                              
                              
                                 y
                              
                              
                                 false
                              
                           
                           ⩽
                           
                              
                                 UB
                              
                              
                                 y
                              
                           
                        
                     , it is used to construct the next sub-problem. Heuristic Cuts are also added if there is subsequent improvements in upper bound.

If solving the modified master problem results in either integer infeasibility or 
                        
                           
                              
                                 LB
                              
                              
                                 y
                              
                              
                                 false
                              
                           
                           >
                           
                              
                                 UB
                              
                              
                                 y
                              
                           
                        
                     , then the search space is widened by incrementing 
                        
                           
                              
                                 G
                              
                              
                                 g
                              
                           
                        
                      by one unit beginning with the most recent cut g. The problem then attempts to replace no more than two of the binary variables in the solution g. This procedure of incrementing 
                        
                           
                              
                                 G
                              
                              
                                 g
                              
                           
                        
                      value and solving corresponding modified master problem is continued until: (1) the modified master problem attains integer feasibility along with 
                        
                           
                              
                                 LB
                              
                              
                                 y
                              
                              
                                 false
                              
                           
                           ⩽
                           
                              
                                 UB
                              
                              
                                 y
                              
                           
                        
                     , or (2) the right-hand-side value of constraint g turns zero (implying the deactivation of the cut).

If a cut g is deactivated and the modified master problem is either infeasible or 
                        
                           
                              
                                 LB
                              
                              
                                 y
                              
                              
                                 false
                              
                           
                           >
                           
                              
                                 UB
                              
                              
                                 y
                              
                           
                        
                     , the previous heuristic cut is selected and the procedure repeated. If all cuts get deactivated, the modified master problem is akin to conventional master problem. The conventional master problem is then solved and its solution is used to construct the next sub-problem. The modified master problem is resolved when there is again an improvement in upper bound. As mentioned, 
                        
                           
                              
                                 G
                              
                              
                                 g
                              
                           
                        
                      value is then reset to one for all g (all constraints are reactivated).


                     Step 0 (Initialization)
                     
                        
                           1.
                           
                              
                                 
                                    y
                                    =
                                    0
                                    ,
                                    
                                    z
                                    =
                                    0
                                    ,
                                    
                                    g
                                    =
                                    0
                                    ,
                                    
                                    
                                       
                                          g
                                       
                                       
                                          c
                                       
                                    
                                    =
                                    0
                                    ,
                                    
                                    
                                       
                                          UB
                                       
                                       
                                          y
                                          -
                                          1
                                       
                                    
                                    =
                                    ∞
                                    ,
                                    
                                    
                                       
                                          LB
                                       
                                       
                                          y
                                       
                                    
                                    =
                                    -
                                    ∞
                                    ,
                                    
                                    
                                       
                                          LB
                                       
                                       
                                          y
                                       
                                       
                                          false
                                       
                                    
                                    =
                                    -
                                    ∞
                                 
                              .

Define 
                                 
                                    
                                       
                                          y
                                       
                                       
                                          L
                                       
                                    
                                    >
                                    1
                                 
                              . Fix 
                                 
                                    
                                       
                                          x
                                       
                                       
                                          k
                                          ,
                                          y
                                       
                                       
                                          ∗
                                       
                                    
                                 
                               so as to satisfy Constraint (7). Fix 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                 
                               so as to satisfy Constraint (21).


                     Step 1 (Solve the NLP sub-problem using conventional Benders’ Decomposition method):
                        
                           •
                           Return 
                                 
                                    
                                       
                                          Z
                                       
                                       
                                          3
                                          ,
                                          y
                                       
                                       
                                          ∗
                                       
                                    
                                    ,
                                    
                                       
                                          f
                                       
                                       
                                          1
                                          k
                                          ,
                                          y
                                       
                                       
                                          ∗
                                       
                                    
                                    ,
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                    ,
                                    
                                       
                                          I
                                       
                                       
                                          2
                                          k
                                       
                                       
                                          ∗
                                       
                                    
                                 
                              .


                     Step 2 (If 
                     
                        
                           
                              
                                 g
                              
                              
                                 c
                              
                           
                           =
                           0
                        
                      
                     or y mod 
                     
                        
                           
                              
                                 y
                              
                              
                                 L
                              
                           
                           =
                           0
                        
                     
                     : Check convergence):
                        
                           1.
                           Update 
                                 
                                    
                                       
                                          UB
                                       
                                       
                                          y
                                       
                                    
                                    =
                                    min
                                    (
                                    
                                       
                                          Z
                                       
                                       
                                          3
                                          ,
                                          y
                                       
                                       
                                          ∗
                                       
                                    
                                    ,
                                    
                                       
                                          UB
                                       
                                       
                                          y
                                          -
                                          1
                                       
                                    
                                    )
                                 
                              .

If 
                                 
                                    
                                       
                                          UB
                                       
                                       
                                          y
                                       
                                    
                                    =
                                    
                                       
                                          LB
                                       
                                       
                                          y
                                       
                                    
                                 
                               or master problem is integer infeasible, STOP. Return 
                                 
                                    
                                       
                                          x
                                       
                                       
                                          k
                                       
                                       
                                          ∗
                                       
                                    
                                    ,
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                 
                              , and 
                                 
                                    
                                       
                                          I
                                       
                                       
                                          2
                                          k
                                       
                                       
                                          ∗
                                       
                                    
                                 
                               corresponding to 
                                 
                                    
                                       
                                          UB
                                       
                                       
                                          y
                                       
                                    
                                 
                               as optimal value.


                     Step 3 (IF 
                     
                        
                           y
                           >
                           0
                        
                      
                     and 
                     
                        
                           
                              
                                 Z
                              
                              
                                 3
                                 ,
                                 y
                              
                              
                                 ∗
                              
                           
                           ⩽
                           
                              
                                 UB
                              
                              
                                 y
                                 -
                                 1
                              
                           
                        
                     
                     : Add Heuristic Cut):
                        
                           1.
                           
                              
                                 
                                    g
                                    =
                                    g
                                    +
                                    1
                                    ,
                                    
                                       
                                          g
                                       
                                       
                                          c
                                       
                                    
                                    =
                                    g
                                 
                              .

Add, Heuristic cut (18) to modified master problem using 
                                 
                                    
                                       
                                          x
                                       
                                       
                                          k
                                          ,
                                          g
                                       
                                       
                                          ∗
                                       
                                    
                                    =
                                    
                                       
                                          x
                                       
                                       
                                          k
                                          ,
                                          y
                                       
                                       
                                          ∗
                                       
                                    
                                 
                              . Set 
                                 
                                    
                                       
                                          G
                                       
                                       
                                          g
                                       
                                    
                                    =
                                    1
                                 
                               
                              
                                 
                                    ∀
                                    g
                                 
                              .


                     Step 4 (Add Benders’ Cut):
                        
                           1.
                           Increment, 
                                 
                                    y
                                    =
                                    y
                                    +
                                    1
                                 
                              .

Add, Optimality cut (16) to the master problem using 
                                 
                                    
                                       
                                          Z
                                       
                                       
                                          3
                                          ,
                                          y
                                          -
                                          1
                                       
                                       
                                          ∗
                                       
                                    
                                 
                               and 
                                 
                                    
                                       
                                          f
                                       
                                       
                                          1
                                          k
                                          ,
                                          y
                                          -
                                          1
                                       
                                       
                                          ∗
                                       
                                    
                                 
                              .

Add, cut (17) to the master problem using 
                                 
                                    
                                       
                                          x
                                       
                                       
                                          k
                                          ,
                                          y
                                          -
                                          1
                                       
                                       
                                          ∗
                                       
                                    
                                 
                              .


                     Step 5 (If 
                     
                        
                           
                              
                                 g
                              
                              
                                 c
                              
                           
                           =
                           0
                        
                      
                     or y mod 
                     
                        
                           
                              
                                 y
                              
                              
                                 L
                              
                           
                           =
                           0
                        
                     
                     : Solve master problem):
                        
                           1.
                           Solve the master problem.

Update 
                                 
                                    
                                       
                                          LB
                                       
                                       
                                          y
                                       
                                    
                                    =
                                    
                                       
                                          Z
                                       
                                       
                                          2
                                          y
                                       
                                    
                                 
                              .

Return to Step 1 with 
                                 
                                    
                                       
                                          x
                                       
                                       
                                          k
                                          ,
                                          y
                                       
                                       
                                          ∗
                                       
                                    
                                    ,
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                 
                               and 
                                 
                                    z
                                    =
                                    0
                                 
                              .


                     Step 6 (If 
                     
                        
                           
                              
                                 g
                              
                              
                                 c
                              
                           
                           >
                           0
                        
                      
                     and y mod 
                     
                        
                           
                              
                                 y
                              
                              
                                 L
                              
                           
                           <
                           >
                           0
                        
                     
                     : Solve modified master problem. Else, Go to Step 5).


                     Step 7 (If modified master problem is integer infeasible or 
                     
                        
                           
                              
                                 LB
                              
                              
                                 y
                              
                              
                                 false
                              
                           
                           >
                           
                              
                                 UB
                              
                              
                                 y
                              
                           
                        
                     
                     ):
                        
                           1.
                           
                              
                                 
                                    
                                       
                                          G
                                       
                                       
                                          g
                                          =
                                          
                                             
                                                g
                                             
                                             
                                                c
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          G
                                       
                                       
                                          g
                                          =
                                          
                                             
                                                g
                                             
                                             
                                                c
                                             
                                          
                                       
                                    
                                    +
                                    1
                                 
                              .


                              If 
                              
                                 
                                    
                                       
                                          G
                                       
                                       
                                          g
                                          =
                                          
                                             
                                                g
                                             
                                             
                                                c
                                             
                                          
                                       
                                    
                                    <
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          =
                                          1
                                       
                                       
                                          K
                                       
                                    
                                    
                                       
                                          x
                                       
                                       
                                          k
                                          ,
                                          g
                                          =
                                          
                                             
                                                g
                                             
                                             
                                                c
                                             
                                          
                                       
                                       
                                          ∗
                                       
                                    
                                 
                               
                              then Return to Step 6.


                              If 
                              
                                 
                                    
                                       
                                          G
                                       
                                       
                                          g
                                          =
                                          
                                             
                                                g
                                             
                                             
                                                c
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          =
                                          1
                                       
                                       
                                          K
                                       
                                    
                                    
                                       
                                          x
                                       
                                       
                                          k
                                          ,
                                          g
                                          =
                                          
                                             
                                                g
                                             
                                             
                                                c
                                             
                                          
                                       
                                       
                                          ∗
                                       
                                    
                                 
                               
                              then 
                              
                                 
                                    
                                       
                                          g
                                       
                                       
                                          c
                                       
                                    
                                    =
                                    
                                       
                                          g
                                       
                                       
                                          c
                                       
                                    
                                    -
                                    1
                                 
                              . Return to Step 6.


                     Step 8 (If modified master problem is integer feasible and 
                     
                        
                           
                              
                                 LB
                              
                              
                                 y
                              
                              
                                 false
                              
                           
                           ⩽
                           
                              
                                 UB
                              
                              
                                 y
                              
                           
                        
                     
                     ):
                        
                           1.
                           Update 
                                 
                                    
                                       
                                          LB
                                       
                                       
                                          y
                                       
                                       
                                          false
                                       
                                    
                                    =
                                    
                                       
                                          Z
                                       
                                       
                                          2
                                          y
                                       
                                       
                                          m
                                       
                                    
                                 
                              .

Return to Step 1 with 
                                 
                                    
                                       
                                          x
                                       
                                       
                                          k
                                          ,
                                          y
                                       
                                       
                                          ∗
                                       
                                    
                                    ,
                                    
                                       
                                          T
                                       
                                       
                                          ∗
                                       
                                    
                                 
                               and 
                                 
                                    z
                                    =
                                    0
                                 
                              .

@&#REFERENCES@&#

