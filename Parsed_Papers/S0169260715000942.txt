@&#MAIN-TITLE@&#A signal processing application for evaluating self-monitoring blood glucose strategies in a software agent model

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           A cross-correlation function and an average deviation between the continuous blood glucose and the interpolation of limited blood glucose samples are calculated.


                        
                        
                           
                           This model evaluates blood glucose monitoring frequency in a self-aware patient software agent model.


                        
                        
                           
                           This model provides diabetes patients and physicians a good understanding of the illness from limited blood glucose samples.


                        
                        
                           
                           We propose a new way to determine an appropriate blood glucose monitoring frequency to reduce the cost and discomfort associated with blood glucose monitoring.


                        
                        
                           
                           We propose a base line to assist people to determine an individual appropriate monitoring frequency based on their situations.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Self-awareness

Software agent

Cross-correlation

Self-monitoring blood glucose

Diabetes

@&#ABSTRACT@&#


               
               
                  We propose the signal processing technique of calculating a cross-correlation function and an average deviation between the continuous blood glucose and the interpolation of limited blood glucose samples to evaluate blood glucose monitoring frequency in a self-aware patient software agent model. The diabetic patient software agent model [1] is a 24-h circadian, self-aware, stochastic model of a diabetic patient's blood glucose levels in a software agent environment. The purpose of this work is to apply a signal processing technique to assist patients and physicians in understanding the extent of a patient's illness using a limited number of blood glucose samples. A second purpose of this work is to determine an appropriate blood glucose monitoring frequency in order to have a minimum number of samples taken that still provide a good understanding of the patient's blood glucose levels. For society in general, the monitoring cost of diabetes is an extremely important issue, and these costs can vary tremendously depending on monitoring approaches and monitoring frequencies. Due to the cost and discomfort associated with blood glucose monitoring, today, patients expect monitoring frequencies specific to their health profile. The proposed method quantitatively assesses various monitoring protocols (from 6 times per day to 1 time per week) in nine predefined categories of patient agents in terms of risk factors of health status and age. Simulation results show that sampling 6 times per day is excessive, and not necessary for understanding the dynamics of the continuous signal in the experiments. In addition, patient agents in certain conditions only need to sample their blood glucose 1 time per week to have a good understanding of the characteristics of their blood glucose. Finally, an evaluation scenario is developed to visualize this concept, in which appropriate monitoring frequencies are shown based on the particular conditions of patient agents. This base line can assist people in determining an appropriate monitoring frequency based on their personal health profile.
               
            

@&#INTRODUCTION@&#

Diabetes is fast becoming an epidemic in today's society. The International Diabetes Federation estimates that, in 2012, over 371 million people suffered from diabetes and 4.8 million people died [2]. In addition, diabetes causes a significant financial burden to individuals as well as to society, e.g., diabetes healthcare costs were estimated around 471 billion US dollars in 2012 [2].

Self-monitoring of blood glucose (SMBG) proved to be very effective in terms of blood glucose (BG) control in Type 1 and Type 2 diabetes, alongside insulin treatment [3,4]. However, whether SMBG improves BG control for Type 2 diabetic patients in the absence of insulin remains controversial [5]. Some researchers believe that SMBG does assist these patients in managing their BG levels [6,7]. Diabetic patients are better informed of their BG levels through regularly sampling their BG, which leads to better lifestyle decisions including diet control, exercise, and medication [8]. The likelihood of complications is reduced with good BG balance, which can be obtained through frequent SMBG. Furthermore, some of the discomfort associated with hyper- and hypo-glycemia, as well as of repeated finger-prick testing, can be avoided with frequent SMBG [9]. Some other researchers are of the opposite opinion, believing that SMBG is a waste of money [10]. Nonetheless, SMBG has significant potential benefits and is commonly recommended to diabetic patients of both types [6,7]. According to the recommendations of the American Diabetes Association (ADA) [11], SMBG should be utilized to achieve the optimal postprandial glycemic target. For instance, it is recommended that patients on intensive insulin therapy sample their BG at least 3 times per day [11].

There are several methods of BG monitoring available to diabetic patients today. In certain situations, patients are required to use an invasive continuous glucose monitor which reports BG every 5min, while most other, patients are asked to use an external blood test using a finger prick and a BG sensitive strip. For the medical community as well as society in general, monitoring costs are an important issue; additionally, they vary tremendously depending on monitoring approaches and monitoring frequencies. Continuous glucose monitors can only be put in place for a limited number of days, and though BG strips are much less expensive, even their costs mount with many samples per day over many months. For instance, the National Health Service (NHS) spends approximately 40% more on materials used for testing BG in diabetic patients than on oral hypoglycemic drugs [12]. In addition, the necessary frequency of SMBG can vary according to the individual patient. Given the cost and discomfort associated with SMBG, it seems appropriate that effort be directed toward the determination of an appropriate SMBG rate for patients. The conventional approach of a Randomized Controlled Trial (RCT) in vivo has obvious disadvantages for determining this appropriate sampling rate, as it is time-consuming, has a significant monetary cost, and is limited by inherent difficulties in the study of unique events.

The BG signal is a complex signal whose values continuously change as a result of numerous patient factors, including health condition, age, exercise, medication, time of day, food intake, lifestyle, etc. The BG signal can be characterized as non-stationary [13] because its fundamental statistics change as a function of time based on conditions experienced by the patients, for example, the consumption of a glucose bolus as a result of eating carbohydrate-rich foods. As a result of its non-stationary quality, periodic sampling of the BG signal is less effective than event-driven sampling. Typically, the patient is advised to record BG levels before and sometime after consumption of a meal. This allows the physician to assess the change in BG values as a result of fasting between meals and due to the meal itself. This variation of BG levels is a useful indicator of the extent of the illness of the patient.

We propose a signal analysis technique of calculating the cross-correlation function and the average deviation (AVD) between continuous blood glucose (CBG) and the interpolation of samples to evaluate BG monitoring frequency (MF) using the self-aware patient agent (SPA) model [14]. This model has been developed to study various aspects of the treatment of diabetic patients. The SPA is a 24-h circadian, self-aware, stochastic model of diabetes, which produces the CBG signal in a mobile agent environment [1]. We extend the original seminal work of Ackerman et al. [15] in creating a mathematical model of human BG levels in three aspects: (1) We incorporate the stochastic and unpredictable effects of daily living; (2) we extend the Ackerman model into the period of night-time; (3) patients’ awareness of their own conditions is incorporated. The SPA has a distinct advantage over human testing, as the ethical issues of patient well-being do not need to be considered.

Ackerman et al. proposed a linearized mathematical model to evaluate glucose-tolerance and BG regulation in the 1960s [15,16]. It was originally used to predict a combination of sine and exponential wave response to oral glucose consumption in order to characterize the human glucose regulatory system. While there have been significantly more complex (glucose–insulin reactive) models developed since the advent of the Ackerman model, these models rely on more in-depth knowledge and measurement of the metabolic process, which is, in general, not available to the typical diabetic patient on an on-going basis. The Ackerman model is defined by a set of differential equations, and the solution has the form as follows:
                        
                           (1)
                           
                              
                                 x
                                 (
                                 t
                                 )
                                 =
                                 
                                    G
                                    0
                                 
                                 +
                                 
                                    F
                                    ω
                                 
                                 
                                    e
                                    
                                       −
                                       β
                                       t
                                       /
                                       2
                                    
                                 
                                 sin
                                  
                                 ω
                                 t
                              
                           
                        
                     where x is the BG level as a function of time t, G
                     0 is the fasting BG, ω is the natural frequency of the system, β is measured based on the intensity of exercise and medication, and F is a measure of food intake. Their aim was to improve the distinction between normal and abnormal glucose regulation. Ackerman's work has led to significant follow-up research, including the study of Jansson et al. [17] in which Ackerman's model was used to analyze the BG curves obtained during the oral glucose tolerance test in 378 cases. An oral glucose tolerance test measures the body's ability to use glucose. The intestinal glucose re-absorption levels were observed using Ackerman's model to improve the distinction of a diabetic condition from a normal state. Following that, Wu [18] used Ackerman's model to evaluate the degree of diabetes in a particular subject and this subject's response to medications. Wu attempted to define the effect of the medication in terms of parameter fitting of BG measured from a diabetic subject with or without medication. He attempted to assess the impact of the medication based on the values of the parameters in Ackerman's model. Most recently, the Ackerman model was used by Shiang [19] in 2010; their study aimed to develop methods to interpret laboratory glucose and insulin data from glucose tolerance tests, as well as to enhance the Ackerman model.

@&#METHODS@&#

In this work, the SPA model generates both CBG and BG samples. The event driven samples of the continuous BG are converted into a continuous signal through interpolation. The cross-correlation function is applied to a normalized signal and is calculated for the zero lag term. It is identified as the normalized cross-correlation (NCC), and is a measure of the similarity in shape of two waveforms. The AVD evaluates the average difference between the CBG and the interpolation of the samples. Through observing mean and variance of NCCs and AVDs, an appropriate MF can be determined for a specific SPA.

The SPA model was presented in detail in our earlier work [1,12], and we now summarize the main features. Fig. 1
                      shows the SPA architecture. We propose multiple enhanced Ackerman models to simulate BG levels throughout the day, in which each Ackerman model represents each major meal (breakfast, lunch and dinner). In addition, we develop a random walk (RW) model to represent BG levels in the night. By doing this, the SPA is capable of simulating BG levels over a 24-h period. Furthermore, the SPA incorporates a sensor in silico for sampling, as well as a reasoning model of behavior adjustment, which is called self-awareness. The sensor in silico is analogous to human patients pricking their finger and using a drop of blood to measure their own BG. The SPA also assimilates risk factors of age and health status.

We first define three non-overlapping time periods in which each meal can be consumed. Within each of these periods, a random variable is used to select the actual time of the meal. Eqs. (2)–(5) illustrate the mathematical model of the SPA. We further regulate the amount of food to be consumed to be random within a specified range, which is representative of the metabolic and human response to daily living.
                        
                           (2)
                           
                              
                                 B
                                 G
                                 (
                                 t
                                 )
                                 =
                                 
                                    G
                                    0
                                 
                                 +
                                 
                                    F
                                    ω
                                 
                                 
                                    e
                                    
                                       −
                                       β
                                       (
                                       t
                                       −
                                       T
                                       )
                                       /
                                       2
                                    
                                 
                                 sin
                                  
                                 ω
                                 (
                                 t
                                 −
                                 T
                                 )
                              
                           
                        
                     
                     
                        
                           (3)
                           
                              
                                 
                                    G
                                    0
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   B
                                                   G
                                                   (
                                                   
                                                      t
                                                      0
                                                   
                                                   )
                                                   ,
                                                    
                                                   
                                                      t
                                                      0
                                                   
                                                   ≥
                                                   t
                                                   <
                                                   
                                                      t
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   B
                                                   G
                                                   (
                                                   
                                                      t
                                                      1
                                                   
                                                   )
                                                   ,
                                                    
                                                   
                                                      t
                                                      1
                                                   
                                                   ≥
                                                   t
                                                   <
                                                   
                                                      t
                                                      2
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   B
                                                   G
                                                   (
                                                   
                                                      t
                                                      2
                                                   
                                                   )
                                                   ,
                                                    
                                                   
                                                      t
                                                      2
                                                   
                                                   ≥
                                                   t
                                                   <
                                                   
                                                      t
                                                      3
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   B
                                                   G
                                                   (
                                                   
                                                      t
                                                      3
                                                   
                                                   )
                                                   ,
                                                    
                                                   
                                                      t
                                                      3
                                                   
                                                   ≥
                                                   t
                                                   <
                                                   
                                                      t
                                                      
                                                         0
                                                         N
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (4)
                           
                              
                                 T
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      t
                                                      0
                                                   
                                                   ,
                                                    
                                                   
                                                      t
                                                      0
                                                   
                                                   ≤
                                                   t
                                                   <
                                                   
                                                      t
                                                      1
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                      1
                                                   
                                                   ,
                                                    
                                                   
                                                      t
                                                      1
                                                   
                                                   ≤
                                                   t
                                                   <
                                                   
                                                      t
                                                      2
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                      2
                                                   
                                                   ,
                                                    
                                                   
                                                      t
                                                      2
                                                   
                                                   ≤
                                                   t
                                                   <
                                                   
                                                      t
                                                      3
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                      3
                                                   
                                                   ,
                                                    
                                                   
                                                      t
                                                      3
                                                   
                                                   ≤
                                                   t
                                                   <
                                                   
                                                      t
                                                      
                                                         0
                                                         N
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (5)
                           
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      t
                                                      0
                                                   
                                                   =
                                                   R
                                                   a
                                                   n
                                                   d
                                                   (
                                                   b
                                                   r
                                                   e
                                                   a
                                                   k
                                                   f
                                                   a
                                                   s
                                                   t
                                                    
                                                   s
                                                   c
                                                   h
                                                   e
                                                   d
                                                   u
                                                   l
                                                   e
                                                    
                                                   w
                                                   i
                                                   n
                                                   d
                                                   o
                                                   w
                                                   )
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                      1
                                                   
                                                   =
                                                   R
                                                   a
                                                   n
                                                   d
                                                   (
                                                   l
                                                   u
                                                   n
                                                   c
                                                   h
                                                    
                                                   s
                                                   c
                                                   h
                                                   e
                                                   d
                                                   u
                                                   l
                                                   e
                                                    
                                                   w
                                                   i
                                                   n
                                                   d
                                                   o
                                                   w
                                                   )
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      t
                                                      2
                                                   
                                                   =
                                                   R
                                                   a
                                                   n
                                                   d
                                                   (
                                                   d
                                                   i
                                                   n
                                                   n
                                                   e
                                                   r
                                                    
                                                   s
                                                   c
                                                   h
                                                   e
                                                   d
                                                   u
                                                   l
                                                   e
                                                    
                                                   w
                                                   i
                                                   n
                                                   d
                                                   o
                                                   w
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     where BG(t) is the BG level. t
                     0, t
                     1 and t
                     2 are breakfast, lunch, and dinner consumption times, respectively. t
                     3 is the time 6h after dinner, when the SPA is assumed to be going to sleep. t
                     0N
                      is the time breakfast is eaten the next day.

Extending the model into the night time is very important, since there are often significant changes in BG during the night. This feature has not been accounted for in any other models. While night metabolic rates vary dramatically and there are five established stages in sleep (Stages 1–4 and REM sleep) [20], we find that BG levels do not correspond closely to these sleep stages. Instead, we consider three phases of sleep-based BG interaction: light sleep (gradual decrease in BG level), deep sleep (relatively flat low BG level), and preparing to wake up (abrupt steady increase in BG) [21].

Three one-dimensional RWs are proposed to represent the three phases; therefore, it is called a RW model. The RW can be mathematically represented by an aggregation of successive values. It depends on two factors: one is the step size, and another is the distribution of the positive and negative steps. Eq. (6) illustrates the RW model.
                        
                           (6)
                           
                              
                                 B
                                 G
                                 (
                                 t
                                 )
                                 =
                                 B
                                 G
                                 (
                                 
                                    t
                                    3
                                 
                                 )
                                 +
                                 
                                    ∑
                                    
                                       
                                          t
                                          3
                                       
                                    
                                    
                                       
                                          t
                                          
                                             0
                                             N
                                          
                                       
                                    
                                 
                                 
                                    0.02
                                    G
                                    (
                                    p
                                    (
                                    t
                                    )
                                    )
                                 
                              
                           
                        
                     where 
                        p
                        (
                        t
                        )
                        =
                        
                           
                              
                                 
                                    0.4
                                    ,
                                    
                                       t
                                       3
                                    
                                    ≤
                                    t
                                    <
                                    
                                       t
                                       4
                                    
                                 
                              
                              
                                 
                                    0.5
                                    ,
                                    
                                       t
                                       4
                                    
                                    ≤
                                    t
                                    <
                                    
                                       t
                                       5
                                    
                                 
                              
                              
                                 
                                    0.6
                                    ,
                                    
                                       t
                                       5
                                    
                                    ≤
                                    t
                                    <
                                    
                                       t
                                       
                                          0
                                          N
                                       
                                    
                                 
                              
                           
                        
                     
                  


                     BG(t) is the blood glucose level and G(p(t)) is a random number +1 or −1. p(t) is the possibility of G(p(t)) equaling +1. t
                     4 and t
                     5 represent the start time of the second and third sleep phases, respectively.

The first phase starts 6h after the consumption of dinner, and ends at 1:59 am the next day. In this phase, the step size is defined as 0.02mmol/L and the probability of a positive step is 40%. The second phase is from 2 am to 6 am, where the step size is defined as 0.02mmol/L and the probability of a positive step is 50%. The third phase is from 6:01 am until when breakfast is eaten. The step size is defined as 0.02mmol/L, and the probability of a positive step is 60% in this phase.

The concept of self-awareness derives from SMBG and self-management in diabetes treatment. Related issues are introduced into the SPA as four factors: MF, time of monitoring, rules of behavior change, and duration of behavior maintenance. Behavior change refers to adopting a healthier lifestyle. Instead of a specific time, time windows are defined to monitor the BG level. The SPA randomly picks a time within the windows to check its BG, which is representative of stochastic human behavior. If the SPA gets two consecutive out-of-range BG values, it will adopt healthier lifestyles and maintain it for a specific period of seven days. According to the Canadian Diabetes Association 2008 Clinical Practice Guidelines for the Prevention and Management of Diabetes in Canada, the recommended range of pre-prandial BG should be from 4.0 to 7.0mmol/L, while that of postprandial BG should be from 5.0 to 10.0mmol/L [22]. Pre-prandial BG refers to the fasting BG, which is a measure of BG before meals. Postprandial BG, by contrast, is a measure of BG after a meal. These two bands define the in-range and out-of-range boundaries for the SPA.

BG is classified as pre-prandial and postprandial BG, which refers to BG before and after a meal, respectively. We also assume that the SPA never misses a major meal. Therefore, there are six critical times to monitor BG in the model; namely, BG before and after a breakfast, before and after a lunch, and before and after a dinner.

We add a uniform random value to the sample time; therefore the sample time is stochastic in order to represent patient behavior. Four options of MF are considered: 6 times per day, 3 times per day, 1 time per day and 1 time per week. Fig. 2
                         shows sampling protocols of the SPA. For the MF of 3 times per day and 1 time per day, the x-axes show the time and each color represents the BG in different days. The gray band shown in Fig. 2(d) represents the BG in thirty days. The rationale behind all these MFs is to know or estimate the BG at the six critical points as effectively as possible. Using a MF of 6 times per day, the SPA can get all six critical points of the BG in a single day (see Fig. 2(a)). To form a sinusoid-like curve of interpolation, the system performs an extra sample (shown by the last red circle), which is the pre-prandial BG of breakfast of the next day. This approach of adding an additional sample applies to all other MFs used in this study. For the option of 3 sampling times per day, the SPA checks pre-prandial and postprandial BG of the three meals in a cyclical way (e.g., it monitors the pre-prandial BG for three meals in the first day, while it monitors the postprandial BG on the second day). This is shown in Fig. 2(b) in which the green line represents the first day's CBG and the blue line represents the second day's CBG. As can be seen in Fig. 2(c) and (d), the BG is also cyclically monitored in the options of 1 sampling time per day and 1 sampling time per week. The SPA monitors BG precisely at the critical points in a specific order: the pre-prandial BG of breakfast, the postprandial BG of breakfast, the pre-prandial BG of lunch, the postprandial BG of lunch, the pre-prandial BG of dinner, and the postprandial BG of dinner. Once the BG is monitored at these critical times, the samples can then be interpolated to express a daily pattern (see red dashed lines in Fig. 3
                        ). It is noted that the patients do not cyclically sample their BG in the real world. We develop these protocols to get the samples that can be interpolated.

We use the piecewise linear interpolation method to interpolate the samples. The interpolation is comprised of seven segments. The interpolation algorithm of the first segment as an example is shown in Eq. (7). Fig. 3 shows a linear interpolation example.
                           
                              (7)
                              
                                 
                                    i
                                    p
                                    (
                                    t
                                    )
                                    =
                                    
                                       s
                                       1
                                    
                                    +
                                    
                                       
                                          
                                             s
                                             2
                                          
                                          −
                                          
                                             s
                                             1
                                          
                                       
                                       
                                          
                                             t
                                             
                                                s
                                                2
                                             
                                          
                                          −
                                          
                                             t
                                             
                                                s
                                                1
                                             
                                          
                                       
                                    
                                    (
                                    t
                                    −
                                    
                                       t
                                       
                                          s
                                          1
                                       
                                    
                                    )
                                 
                              
                           
                        where ip(t) is the first segment of BG interpolated values between the first sample and the second sample. s
                        1 and s
                        2 is the BG values sampled at time t
                        
                           s1 and t
                        
                           s2 respectively. t
                        ∈[t
                        
                           s1, t
                        
                           s2] is time.

Using a normalized cross-correlation function, the sequence will be normalized by subtracting the mean and dividing by the standard deviation at every step, which makes the results comparable between different SPAs. Also, only the cross-correlation value at zero time-lag is considered. The BG in the night-time is not considered in the calculation since the patients do not usually sample their BG in the night-time. This is also applied to the calculation of AVD. The algorithm is shown in Eq. (8).
                           
                              (8)
                              
                                 
                                    NCC
                                    =
                                    
                                       1
                                       
                                          
                                             t
                                             
                                                s
                                                7
                                             
                                          
                                          −
                                          
                                             t
                                             
                                                s
                                                1
                                             
                                          
                                       
                                    
                                    
                                       ∑
                                       
                                          t
                                          =
                                          −
                                          ∞
                                       
                                       ∞
                                    
                                    
                                       
                                          
                                             (
                                             B
                                             G
                                             (
                                             t
                                             )
                                             −
                                             
                                                
                                                   B
                                                   G
                                                
                                                ¯
                                             
                                             )
                                             (
                                             i
                                             p
                                             (
                                             0
                                             −
                                             t
                                             )
                                             −
                                             
                                                
                                                   i
                                                   p
                                                
                                                ¯
                                             
                                             )
                                          
                                          
                                             
                                                σ
                                                
                                                   B
                                                   G
                                                
                                             
                                             
                                                σ
                                                
                                                   i
                                                   p
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where NCC is the normalized cross-correlation at zero lag. t
                        
                           s1 is the time of the first sample and t
                        
                           s7 is the last minute of the daytime. BG(t) and ip(t) are blood glucose and interpolations, respectively. 
                           
                              
                                 
                                    B
                                    G
                                 
                                 ¯
                              
                           
                         and 
                           
                              
                                 
                                    i
                                    p
                                 
                                 ¯
                              
                           
                         are the corresponding average values from t
                        
                           s1 to t
                        
                           s7. σ
                        
                           BG
                         is standard deviation of blood glucose from t
                        
                           s1 to t
                        
                           s7 and σ
                        
                           ip
                         from t
                        1 to t
                        7. In this equation, let BG(t)=0, ip(t)=0, ∀
                        t
                        ∉[t
                        
                           s1, t
                        
                           s7]. In other words, we only calculate NCC in the range from the first sample until before night time.

Another factor is the AVD between the interpolations and the CBG. Eq. (9) shows how the AVD is calculated.
                           
                              (9)
                              
                                 
                                    AVD
                                    =
                                    |
                                    
                                       
                                          B
                                          G
                                       
                                       ¯
                                    
                                    −
                                    
                                       
                                          i
                                          p
                                       
                                       ¯
                                    
                                    |
                                 
                              
                           
                        where AVD is always a positive value. 
                           
                              
                                 
                                    B
                                    G
                                 
                                 ¯
                              
                           
                         is the average of the BG from t
                        1 to t
                        7 and 
                           
                              
                                 
                                    i
                                    p
                                 
                                 ¯
                              
                           
                         is the average interpolation value from t
                        1 to t
                        7. t
                        1 is the time of the first sample and t
                        7 is the last minute of the daytime.

The frequency for SMBG can vary according to the individual patient. To map the diversity of diabetic patients, the SPA is categorized into nine types in terms of health status and age levels. With different parameter settings, each type of SPA is capable of representing a group of human patients.

Jansson et al. [17] utilize the Ackerman model to analyze the BG curves obtained during the oral glucose tolerance test in 378 cases and illustrate that the parameters of ω, F, and β are linear functions of ages. For instance, in their study, a linear regression analysis is performed, and the slope for ω is 0.003 and the interception is 1.1. Therefore, the value of ω decreases as the age increases. In addition, the parameter of ω is inversely proportional to the time during which the glucose concentration reaches the maximum from a fasting blood glucose level, followed by its return to a normal level. This means that it takes more time to regulate the blood glucose for older patients. In addition, Jansson's study shows that the variation of ω is from 0.00 to 1.45 for people with diabetes mellitus.

In our study, rather than using a specific age, we define three categories of patient in terms of age. We approximately define these groups as Young (40 years and below), Middle-aged (40–61 years) and Elderly (62 years and above). This structure is, in general, consistent with references [17]. We also develop three groups in terms of health status. In our earlier study [1], we count the number of times a SPA's BG is higher than 15mmol/L. In this paper, we categorize SPA's based on similar values; within a two-month simulation, we define a Healthy SPA as having BG that has less than 15 values of BG greater than 15mmol/L. For a Medium SPA in terms of health status, the number of values is between 15 (inclusive) and 30 (inclusive) times. A Sick SPA has more than 30 instances of BG greater than 15mmol/L. We also assume the parameters of ω, F, and β are linear functions of the health condition. The nine types of SPAs include Healthy & Young, Healthy & Middle-aged, Healthy & Elderly, Medium & Young, Medium & Middle-aged, Medium & Elderly, Sick & Young, Sick & Middle-aged, and Sick & Elderly. All software patient agents are of diabetic patients.

In addition, in study [18], the parameters of ω, F, and β are studied in three scenarios of without pills before test meals, 1/4 size of 5mg glyburide pills right before test meals, and 1/4 size of 5mg glyburide pills an hour before test meals, respectively. The determined parameter values are summarized in Table 1
                        .

Based on the data from [17,18], we define a class of linear functions to calculate the parameters ω, F and β of the SPA model to mimic individual physical response of the same amount of food consumption, and the similar intensity of exercise and medication (see Eq. (10)).
                           
                              (10)
                              
                                 
                                    B
                                    G
                                    (
                                    t
                                    )
                                    =
                                    G
                                    +
                                    
                                       
                                          
                                             F
                                             k
                                          
                                       
                                       
                                          
                                             ω
                                             k
                                          
                                       
                                    
                                    
                                       e
                                       
                                          
                                             β
                                             k
                                          
                                          (
                                          t
                                          −
                                          T
                                          )
                                          /
                                          2
                                       
                                    
                                    sin
                                     
                                    
                                       ω
                                       k
                                    
                                    (
                                    t
                                    −
                                    T
                                    )
                                 
                              
                           
                        where BG(t) is the blood glucose level. G and T is defined by Eqs. (3) and (4) respectively. ω
                        
                           k
                        , F
                        
                           k
                         and β
                        
                           k
                         are defined by Eqs. (11)–(13).
                           
                              (11)
                              
                                 
                                    
                                       ω
                                       k
                                    
                                    =
                                    
                                       
                                          
                                             ∏
                                             
                                                i
                                                ,
                                                j
                                             
                                          
                                          
                                             (
                                             −
                                             0.03
                                             
                                                H
                                                i
                                             
                                             −
                                             0.03
                                             
                                                A
                                                j
                                             
                                             )
                                          
                                          +
                                          0.52
                                       
                                    
                                    ω
                                 
                              
                           
                        
                        
                           
                              (12)
                              
                                 
                                    
                                       F
                                       k
                                    
                                    =
                                    
                                       
                                          
                                             ∏
                                             
                                                i
                                                ,
                                                j
                                             
                                          
                                          
                                             (
                                             0.06
                                             
                                                H
                                                i
                                             
                                             +
                                             0.03
                                             
                                                A
                                                j
                                             
                                             )
                                          
                                          +
                                          1
                                       
                                    
                                    F
                                 
                              
                           
                        
                        
                           
                              (13)
                              
                                 
                                    
                                       β
                                       k
                                    
                                    =
                                    
                                       
                                          
                                             ∏
                                             
                                                i
                                                ,
                                                j
                                             
                                          
                                          
                                             (
                                             −
                                             0.06
                                             
                                                H
                                                i
                                             
                                             −
                                             0.03
                                             
                                                A
                                                j
                                             
                                             )
                                          
                                          +
                                          1
                                       
                                    
                                    β
                                 
                              
                           
                        where i, j=
                        0, 1, or 2. (H
                        
                           i
                        
                        =
                        i) is the health status of healthy, medium and sick, respectively. (A
                        
                           j
                        
                        =
                        j) represents young, middle-aged, and elderly, respectively. 
                           
                              
                                 ∏
                                 
                                    i
                                    ,
                                    j
                                 
                              
                              
                                 (
                                 ⋅
                                 )
                              
                           
                         represents nine combinations of H
                        
                           i
                         and A
                        
                           j
                        . k is an integer from 1 to 9 representing a type of SPA. For example, for the Sick & Young SPA (k
                        =3), H
                        3
                        =3 and A
                        0
                        =0; ω
                        3
                        =0.43ω, F
                        3
                        =1.18F, and β
                        3
                        =0.92β. Hence, each SPA has a specific ω, F and β.

A number of experiments were conducted to simulate nine categories of SPA with different MFs. In these experiments, we only intended to observe thirty days; however, for the SPA with the MF of 1 time per week, forty-two days were required to acquire the six critical BG measurements. Therefore, we extended the simulation duration to two months for this case. In each patient category, there was one SPA. The simulation in a two-month period allows the model to represent many different conditions for the patient agents.

The original status of the SPA is summarized in Table 2
                     , which will change due to the agent's self-awareness. ω
                     
                        k
                     , F
                     
                        k
                      and β
                     
                        k
                      were calculated by Eqs. (11)–(13) respectively.


                     Table 3
                      shows the configuration of self-awareness for the experiments.


                     Table 4
                      illustrates the method of reflecting healthier lifestyles or behavior change to parameters of the SPA model as a result of the agent being self-aware. For instance, the agent will adopt a morning healthier lifestyle if it measures two consecutive out-of-range BG values in the morning. This means that the value of F of the SPA model representing breakfast is decreased by 30%, the value of β is increased by 30%, and the time allotted to eating breakfast has a more restrained window, from 7:45 am to 8:15 am. These alterations should lead to better BG control.

The mean value and variance of NCCs and AVDs were calculated to quantitatively characterize to what extent the patients can have a good understanding of the daily pattern of CBG from the BG samples.


                        Table 5
                         shows the mean and variance of the NCCs in thirty days. The NCCs were all closed to 1 because of the normalization. Fig. 4
                         shows the mean of NCCs. The highest mean value (0.96) occurred in the Sick & Elderly SPA with an MF of 6 times per day while the lowest mean value (0.46) occurred in the Sick & Middle-aged SPA who monitored BG level 1 time per week. For all types of SPAs, the means of NCCs were not significantly different between the MF of 6 times per day and 3 times per day. The values ranged from 0.89 (Healthy & Young SPA with an MF of 3 times per day) to 0.96 (Sick & Elderly SPA with an MF of 6 times per day). In contrast, the values with respect to the MF of 1 time per day were lower, which ranged from 0.72 (Sick & Elderly SPA) to 0.85 (Medium & Middle-aged and Medium & Elderly SPA). The values for the SPA that monitored 1 time per week were the lowest. The Healthy & Young SPA had the highest value (0.73), while the Sick & Middle-aged SPA had the lowest data (0.46).


                        Fig. 5
                         shows the variance of the NCCs. The highest variance (0.0741) was observed in the data for the Sick & Elderly SPA with the MF of 1 time per week while the lowest variance (0.0002) was observed in the SPA with the MF of 6 times per day. The variances were very low for all categories of SPA with the MF of 6 times per day and 3 times per day. As for the MF of 6 times per day, the variances observed in the Healthy & Elderly and Sick & Elderly SPAs were low (0.0002) while the Healthy & Young SPA had the greatest variance (0.0026). For the MF of 3 times per day, the variances ranged from 0.0010 (Healthy & Elderly Patient Agent) to 0.0046 (Healthy & Young Patient Agent). For the SPA with the MF of 1 time per day, the Sick & Elderly SPA had the greatest variance (0.0389) while the Healthy & Middle-aged SPA had the lowest variance (0.0054). The Sick & Elderly SPA with the MF of 1 time per week featured the highest variance (0.0741) in the experiments while the lowest variance (0.0031) observed in the Healthy & Middle-aged SPA with the MF of 1 time per week was still not considered satisfactory.


                        Table 6
                         shows the mean and variance of the AVDs in thirty days. From Fig. 6
                        , we can see that all the SPAs with an MF of 6 times per day, 3 times per day and even 1 time per week had a satisfactory mean of AVDs. The highest mean value of 7.63 occurred in the Sick & Middle-aged SPA with an MF of 1 time per week, while the lowest mean value (0.43) occurred in the Medium & Elderly SPA that monitored the BG level 6 times per day. Similar patterns could also be seen in the variance of AVDs (see Fig. 7
                        ). The Sick & Middle-aged SPA with the MF of 1 time per week had the highest variance of 20.0421.

@&#DISCUSSION@&#

NCCs illustrate the similarity between the interpolation and the CBG, while AVDs show the difference of the average values between them. To emphasize the similarity, both average values of the interpolation and the CBG are set to be zero by subtracting their average values. The observations of both NCCs and AVDs show how accurate the samples can reveal dynamic BG levels. Furthermore, the mean and variance of the two factors facilitate a general understanding of the relationship between the samples and the actual signal in a certain period of time. It should be noted that judging an appropriate MF depends on appropriate thresholds. In other words, it depends on how much effort and expense patients are willing to expend. In this work, the selected thresholds are shown in Table 7
                     . Although the thresholds are arbitrary, they can be adjusted to different levels in consultation with a medical doctor.

For the mean of the NCCs, a higher value is better, because this indicates a greater similarity. By contrast, a lower mean value of AVDs indicates a greater similarity. The variance is always expected to be low, as this indicates greater stability. An evaluation table (Table 8
                     ) is created in order to visualize this concept. The first two columns show SPAs with a specific MF, and the third column to the sixth column show the four factors. The last column illustrates the final evaluation result. Tick marks indicate that the evaluation is qualified based on the selected thresholds, while cross marks indicate the opposite. As long as one of the factors is not satisfactory, the overall evaluation is not qualified. For instance, the Healthy & Middle-aged SPA with the MF of 1 time per week does not qualify the mean of NCCs. Although it satisfies the other factors, the overall result is not qualified, which means the MF of 1 time per week is not the appropriate frequency for the Healthy & Middle-aged SPA. Instead, it should adopt the closest satisfactory frequency: 1 time per day.


                     Table 8 provides an appropriate frequency of sampling for each SPA.

By introducing these signal analysis techniques, we want to build a base line of MFs for different SPA in silico rather than construct a guideline for a specific individual in vivo. However, this may assist people to determine an appropriate frequency for sampling based on their particular condition.

@&#CONCLUSIONS AND FUTURE WORK@&#

SMBG is a highly recommended protocol for diabetic patients; however, the cost of self-monitoring is significant for both the healthcare system and individuals. Discomfort when patients’ fingers are pricked is also a factor in SMBG. In addition, the frequency for using the process of SMBG can vary according to the individual patient. Given these facts, it is increasingly important to investigate individually adjusted sampling frequencies. The conventional approach of the Randomized Controlled Trial (RCT) in vivo has obvious disadvantages, as it is time-consuming, has a significant monetary cost, and is limited by inherent difficulties in the study of unique events. We propose a novel method of calculating NCCs and AVDs and observing their mean and variance to examine the effectiveness of different levels of monitoring in silico. To map the diversity of diabetic patients, the SPA is categorized into nine types in terms of health status and age level. A number of experiments are conducted to simulate the nine categories with different monitoring frequencies (MFs). An evaluation table is created in order to present the appropriate MFs for these nine types of SPAs. This may assist patients and physicians to determine an appropriate frequency for sampling based on their particular condition in order to achieve stable BG levels. We emphasize that this method is focused on determining the appropriate sampling frequency instead of using the interpolation to represent the CBG.

An important area of future research is to examine the appropriate data collection pattern (in terms of sampling time or event related sampling). For example, a patient's sample records could be continuously examined, and if BG values begin to differ from a typical pattern for a specific individual, the system may recommend increased sampling; similarly, the system may recommend a reduction in sampling in the event of well-controlled BG signals with superfluous sampling. Ultimately, this may mean developing representative models for individuals, which allow the health care professional to detect when numbers are becoming abnormal and take up appropriate monitoring strategies.

None declared.


                     
                        ADA
                        
                           American Diabetes Association

average deviation

blood glucose

continuous blood glucose

interpolation

monitoring frequency

normalized cross-correlation

National Health Service

Randomized Controlled Trial

random walk

self-monitoring of blood glucose

self-aware patient agent

index of health status

index of age levels

type of SPA

index of samples

blood glucose level

intensity of exercise and medication

natural frequency of the system

measure of food intake

fasting blood glucose


                              β for type k SPA


                              ω for type k SPA


                              F for type k SPA

health status

age levels

time

breakfast time

lunch time

dinner time

6h after dinner

start time of the second sleep phase

start time of the third sleep phase

breakfast time in the next day

possibility of blood glucose increasing

random number +1 or −1

value of the mth blood glucose sample

time of the mth blood glucose sample

average blood glucose from t
                              
                                 s1 to t
                              
                                 s7
                           

average value of interpolation from t
                              
                                 s1 to t
                              
                                 s7
                           

standard deviation of blood glucose from t
                              
                                 s1 to t
                              
                                 s7
                           

standard deviation of interpolation from t
                              
                                 s1 to t
                              
                                 s7
                           

@&#REFERENCES@&#

