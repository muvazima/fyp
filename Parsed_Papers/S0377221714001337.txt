@&#MAIN-TITLE@&#A relax-and-fix-based algorithm for the vehicle-reservation assignment problem in a car rental company

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           The vehicle-reservation problem in the car rental industry is for the first time modeled and solved.


                        
                        
                           
                           An innovative network-flow model is presented.


                        
                        
                           
                           A relax-and-fix with local branching constraints resolution strategy is applied.


                        
                        
                           
                           Significant improvement of the company’s results.


                        
                        
                           
                           A set of real-world instances for future research benchmarking is made available.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Assignment

Empty repositions

Car rental

Network-flow

Relax-and-fix

@&#ABSTRACT@&#


               
               
                  Empty repositions are a major problem for car rental companies that deal with special types of vehicles whose number of units is small. In order to meet reservation requirements concerning time and location, companies are forced to transfer cars between rental stations, bearing significant costs and increasing the environmental impact of their activity due to the fuel consumption and 
                        
                           
                              
                                 CO
                              
                              
                                 2
                              
                           
                        
                      emission. In this paper, this problem is tackled under a vehicle-reservation assignment framework as a network-flow model in which the profit is maximized. The reservations are allocated considering the initial and future availability of each car, interdependencies between rental groups, and different reservation priorities. To solve this model, a relax-and-fix heuristic procedure is proposed, including a constraint based on local branching that enables and controls modifications between iterations. Using real instances, the value of this approach is established and an improvement of 33% was achieved when compared to the company’s current practices.
               
            

@&#INTRODUCTION@&#

The importance of the car rental industry within the transportation sector is significantly growing due to several factors, such as the increment of air passenger traffic. Moreover, there is a raising need of efficient and flexible decision support software for the management of fleets, customer relations and other key activities, in order to achieve competitive advantages (ITM 2013, 2013).

More specifically, car rental companies currently rely on operational efficiency in order to be able to compete in an increasingly demanding market. Being able to maximize the profit by an enhanced scheduling and planning is especially urgent for special types of vehicles whose number of units is small, so as to reduce the need to reposition them between rental stations in order to meet reservation requirements concerning time and location. In fact, these empty transfers, repositions, or “deadheading” trips also lead to significant environmental impact, namely 
                        
                           
                              
                                 CO
                              
                              
                                 2
                              
                           
                        
                      emissions. The minimization of these trips can also be seen as an important part of a green sustainability strategy. The car rental company described in this paper, specifically, has developed a five year plan to reduce the environmental impact in 20%.

In this company, the fleet is divided in two main categories and, within them, into several rental groups. The problem addressed in this paper concerns the assignment of reservations to rental vehicles that belong to the special fleet category. This special fleet is composed of vehicles that either belong to expensive lines or have distinct characteristics (for example, minivans and off-road vehicles), thus the company has a smaller number of vehicles belonging to each group within this category. These vehicles are often not located in the required stations leading to the need to perform empty repositions.

Although there are some important works that deal with car rental logistics, the specific vehicle-reservation assignment problem has not yet been thoroughly discussed in literature. Therefore, it is inevitable to search insights in other sectors with more traditionally studied vehicle allocation problems, similar to the one here in study, such as empty railcars and maritime containers repositioning. Yang, Jin, and Hao (2008) propose a review on the study of the logistic problems of the car rental industry and highlight the lack of studies within this field, especially as far as the specific assignment of vehicles to customers is concerned.

The short-term logistic problem in car rental companies has been described and structured by Pachon, Iakovou, Ip, and Aboudi (2003). The authors propose a three stage framework, which comprises pool segmentation (clustering the rental locations in geographically and demand-correlated pools), strategic fleet planning (setting the number of vehicles for each pool), and tactical fleet planning (determining the number of vehicles that should be available at each station, in each period of time). The empty repositioning problem is considered on the latter. Pachon, Iakovou, and Ip (2006) model these three phases and propose solution methodologies considering the hierarchical structure of the decision-making process.


                     Fink and Reiners (2006) propose a comprehensive and thorough approach within the tactical fleet planning phase that includes the fleeting process (decisions on the acquisition of new cars to the fleet) and defleeting process (sale of cars of the fleet to a reseller), as well as the aggregated transfers of cars between stations. The authors present a decision support system, whose main output is the optimization of the inventory levels at each station at the beginning of each half-day.

Throughout the transportation literature, three main decisions related to this problem can be found: fleet sizing – deciding how many vehicles should be available between a set of interconnected locations; fleet deployment – related to the shorter-term decision of how many vehicles should be repositioned between stations at specific points in time as to meet the future, and still unknown, demand requirements; and vehicle-job assignment – deciding which vehicle should fulfil each request, reservation, customer order, or job, considering (or not) the impacts of the empty transfers. Most studies dedicated to the tactical planning decisions on the car rental sector focus on the empty vehicle deployment between stations and consider two related sub-problems: the decision on the car inventory levels in each station at the beginning of each time period, and the decision on the transfer policy of the cars between stations so as to achieve these inventory levels. Li and Tao (2010) attempt to link these decisions with the upper-level pool fleet sizing decisions.

The fleet sizing and fleet deployment decisions are thoroughly analyzed in transportation literature, often in an integrated manner and considering the management of empty repositions (Beaujon & Turnquist, 1991; Bojović, 2002; Sherali & Tuncbilek, 1997). Zak, Redmer, and Sawicki (2008) consider a fleet sizing problem (FSP) in a road freight transportation company with heterogeneous fleet and its own technical back-up facilities. They formulate a mathematical model of the decision problem in terms of multiple objective mathematical programming based on queuing theory. Sayarshad and Ghoseiri (2009) formulate the fleet size and freight car allocation problem as a time–space LP model with a large number of destination and origin nodes and propose a simulated annealing algorithm to address it under deterministic demands and travel times. Sherali and Lunday (2011) examine the problem of apportioning a railcar fleet to car manufacturers and railroads within a pooling agreement for shipping automobiles. They determine an appropriate distribution of synergistic benefits among the participants in a consortium of railroad companies that share railcars in order to improve utilization rates and decrease the size of a collective fleet. Authors demonstrated potential inequities in the current railcar allocation practices, and have proposed four alternative shipper allocation methods and one alternative carrier allocation technique. Cheon, Furman, and Shaffer (2012) analyzed a heterogeneous rail freight car fleet sizing optimization problem in the chemical industry. Because of the long economic life of railcars, problem is formulated as a long-term capacity expansion problem considering various economic factors. Authors included inventory in the determination of the optimal fleet size. A mixed-integer programming approach to modeling and solving this problem is proposed. Loxton, Lin, and Teo (2012) considered the problem of forming a heterogeneous vehicle fleet to cater for stochastic future requirements. The problem is to choose the number of vehicles of each type to purchase so that the total expected cost of operating the fleet is minimized. They developed an algorithm, which combines dynamic programming and the golden section method, for determining the optimal fleet composition. Milenković and Bojović (2013), propose a new formulation and a solution procedure for optimizing the fleet size and freight car allocation in the presence of uncertainty. and develop an approach based on optimal control theory by considering the fuzziness and randomness for rail freight car demand. At a more operational level (Tarantilis & Kiranoudis, 2007) propose a metaheuristic methodology for solving a practical variant of the vehicle routing problem, called Heterogeneous Fixed Fleet VRP (HFFVRP). Two real-life distribution problems faced by a dairy and a construction company were tackled and formulated as HFFVRP. The key result that impressed both companies’ management was the minimization of the total distribution cost as well as the minimization of the number of the given heterogeneous number of vehicles used.

The significance of empty flows for any mode of transportation of freight was highlighted by Dejax and Crainic (1987), who proposed a taxonomy for the related problems and models existent in the literature. Nevertheless, the specific vehicle-job assignment within the empty flow framework is not addressed by the authors. This problem is nonetheless addressed by Spieckermann and Voß (1995), who tackle the empty flows in the railcar freight sector through the vehicle-job assignment framework, proposing a dispatching heuristic based on production planning procedures. Tan, Chew, and Lee (2006) also study the movement of full and empty containers considering the vehicle-job assignment problem. The authors tackle the multi-objective and multi-modal truck and trailer vehicle routing problem, comprising the scheduling of the routes of the trucks, minimizing both distance and number of trucks. The authors propose a model and a solution method based on a hybrid multi-objective evolutionary algorithm.

Although the empty flows are often tackled on transportation literature and deemed extremely significant for car rental companies, to the best of our knowledge, within the car rental framework, the operational vehicle-reservation assignment problem has not yet been approached as a tool to minimize these flows.

This problem is herein formulated as a network-flow MIP model. As the exact solution of real-sized instances has proved to be impractical due to the processing time required, a relax-and-fix-based heuristic procedure is thus proposed. This method encompasses the strategy of dividing the variables in sub-sets and progressively rearrange them in different sub-problems throughout the planning horizon. An example of application of such framework are lot-sizing and scheduling problems, that have been very successfully dealt with relax-and-fix. For instance, Guimarães, Klabjan, and Almada-Lobo (2013) developed a relax-and-fix approach to deliver superior quality solutions for the single machine capacitated lot sizing and scheduling problem with sequence-dependent setup times and costs. The authors claim that although the techniques described were developed in the context of the problem studied, the method is applicable to other lot sizing problems or even to problems outside this domain. In general, relax-and-fix has been successfully used to solve hard combinatorial optimization problems in which the concept of time is strong, i.e. in which decisions are made along the time, each one having impact on the set of decisions that will be feasible in the future. However, that impact decreases along the time, making true the assumption that the furthest in time a future decision is the less probable is that decision is substantially affected by current decisions. As the description above closely matches the vehicle-reservation assignment problem, relax-and-fix was a natural choice to overcome the difficulties in solving the monolithic model for real-sized instances.

Relax-and-fix is a constructive heuristic, i.e. in each iteration solves a partial problem, optimally fixing a set of integer variables while taking into account the variables fixed in previous iterations. One of the major drawbacks of relax-and-fix heuristic is to end up with an unfeasible solution, i.e. in a given iteration the respective sub-problem is unfeasible and the method terminates without a complete feasible solution. Usually this drawback is handled by backtracking along the time horizon and solving more complex sub-problems. In this paper, to minimize the possibility of ending with an unfeasible solution and the efficiency degradation that backtracking always imposes, the relaxation and fixing of different sets is coordinated with a new mechanism to enable and control the changes between iterations to the sets of integer variables, based on the local branching paradigm. A similar decomposition approach with such a control mechanism, was used by Cherri, Toledo, and Carravilla (2013) when addressing a nesting (irregular packing) problem.

The remainder of this paper is organized as follows: firstly, the problem tackled is further described; then, a network-flow model is proposed; afterwards, the developed method is presented, as well as the computational tests run on real instances and their results.

The car rental company studied in this paper has a numerous and heterogeneous fleet and over 40 stations in Portugal where customers may pick up and deliver the rented vehicles. The fleet is essentially divided in two major categories: the free sale vehicles and the special vehicles. Each category is divided in several rental groups. The free sale vehicles are widely and permanently available in every rental station, enabling the immediate confirmation of reservations; moreover, their assignment to a vehicle can be made on the fly by the station staff when the customer picks up the vehicle. Special vehicles, however, are available in a smaller number. Since they are often not located in the station the customer requires, the company has to transfer them, performing costly empty repositions. Therefore, the main objective of this problem is to maximize total profit, i.e. the profit of the assigned reservations deprived of the costs of the empty transfers.

The reservations are mainly characterized by the date and station in which the customer wants to pick up the vehicle, the date and station in which the customer wants to deliver it, the profit of the reservation (the revenue attained deprived of the regular operational costs), and the rental group (type of vehicle) required by the customer. Moreover, each reservation is associated with a priority status, as far as confirmation to the customer is concerned, as confirmed reservations are mandatory to be fulfilled. Only reservations whose assignment is feasible can be confirmed.

The vehicles are characterized by their rental group and current occupation. The ones that are currently fulfilling a certain reservation will be available when and where this reservation in progress ends. The idle vehicles are parked at some station and are immediately available. The costs of the empty transfers from one station to another as well as the time these transfers require are also parameters of this problem. Another operational issue addressed is related to the moment in time when a certain vehicle ceases to be available to the company (due, for example, to its sale) – the block date. Moreover, the vehicle may be unavailable only during a specific time period, due to, for example, scheduled maintenance; these unavailability periods are called impros.

Since the customers have specific requirements, the company should provide them with exactly what was requested, yet when that is not possible, it is a common practice in this sector to offer the customer a vehicle from a better group for the same price (upgrade). When that option is not available, the company offers the customer the possibility to rent a vehicle from a worse group with a price discount (downgrade). Both adjustments require the specific authorization of the customer; nevertheless, the upgrade is virtually always accepted. This issue increases the dimension of the analysis; in fact, if the rental groups were independent, the heterogeneous assignment problem could be divided in several homogeneous problems.

The car rental company studied receives all reservations to special vehicles through a single call-center and two employees handle the allocation process twice a day. In this process, reservations to be allocated are handled one at a time. A software that visually displays the vehicles and their scheduled reservations on a time frame enables them to try different allocation configurations and chose the final one. These qualified and specialized employees follow an informal set of rules. Nonetheless, the employees do not have access to information regarding the profitability of each reservation.

The model here presented aims to represent the vehicle-reservation assignment problem as a network whose nodes are the reservations to be fulfilled. Therefore, the flows between the nodes can be displayed in tiers, each representing the journey or schedule of a specific vehicle. The cost of these arcs is referent to the repositioning (if needed) of the vehicle between consecutive reservations. Fig. 1
                      aims to graphically represent an example of this network.

The appropriate nomenclature regarding the characteristics of each reservation within a set of reservations 
                           
                              R
                           
                         is herein presented. Two additional nodes are included in 
                           
                              R
                           
                        : the fictitious departure node 0 from where all vehicles start their journeys and the fictitious arrival node 
                        
                           
                              R
                              +
                              1
                           
                         to where all vehicles return. Both nodes are represented in Fig. 1. As far as reservations are concerned, one must take into account the following characteristics, considering 
                           
                              r
                              ∈
                              R
                           
                        :
                           
                              
                                 
                                    
                                       
                                          
                                             so
                                          
                                          
                                             r
                                          
                                       
                                    
                                  station-out of reservation r (starting station);


                                 
                                    
                                       
                                          
                                             do
                                          
                                          
                                             r
                                          
                                       
                                    
                                  date-out of reservation r (starting date and time);


                                 
                                    
                                       
                                          
                                             si
                                          
                                          
                                             r
                                          
                                       
                                    
                                  station-in of reservation r (ending station);


                                 
                                    
                                       
                                          
                                             di
                                          
                                          
                                             r
                                          
                                       
                                    
                                  date-in of reservation r (ending station);


                                 
                                    
                                       
                                          
                                             pft
                                          
                                          
                                             r
                                          
                                       
                                    
                                  profit of reservation r;


                                 
                                    
                                       
                                          
                                             gr
                                          
                                          
                                             r
                                          
                                       
                                    
                                  vehicle group requested on reservation r;


                                 
                                    
                                       
                                          
                                             st
                                          
                                          
                                             r
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         if the status of reservation
                                                         
                                                         r
                                                         
                                                         is
                                                         “
                                                         already confirmed to the client
                                                         ′
                                                         ′
                                                         ,
                                                      
                                                   
                                                   
                                                      
                                                         0
                                                      
                                                      
                                                         on the opposite case,
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 ;


                                 
                                    
                                       
                                          
                                             dga
                                          
                                          
                                             r
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         if reservation
                                                         
                                                         r
                                                         
                                                         accepts
                                                         
                                                         downgrades
                                                         ,
                                                      
                                                   
                                                   
                                                      
                                                         0
                                                      
                                                      
                                                         on the opposite case.
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              

Furthermore, a set of vehicles 
                           
                              V
                           
                         is considered and their main characteristics are as follows, considering 
                           
                              v
                              ∈
                              {
                              1
                              ,
                              …
                              ,
                              V
                              }
                           
                        :
                           
                              
                                 
                                    
                                       
                                          
                                             csi
                                          
                                          
                                             v
                                          
                                       
                                    
                                  station-in of vehicle v (initial station where it is available);


                                 
                                    
                                       
                                          
                                             cdi
                                          
                                          
                                             v
                                          
                                       
                                    
                                  date-in of vehicle v (initial date and time when it is available);


                                 
                                    
                                       
                                          
                                             gv
                                          
                                          
                                             v
                                          
                                       
                                    
                                  group of vehicle v;


                                 
                                    
                                       
                                          
                                             bd
                                          
                                          
                                             v
                                          
                                       
                                    
                                  block date of vehicle v.

As it was previously discussed, the limited unavailability periods that exist for some vehicles, the impros, can be seen as “reservations” that must be fulfilled by some specific vehicles, as they are time- and space-delimited. Therefore, in this model, the impros are registered as reservations with a null profit. An additional parameter will link the impros to their respective vehicles.
                           
                              
                                 
                                    
                                       
                                          
                                             imp
                                          
                                          
                                             r
                                          
                                          
                                             v
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         if reservation
                                                         
                                                         r
                                                         
                                                         is an
                                                         
                                                         impro
                                                         
                                                         of vehicle
                                                         
                                                         v
                                                         ,
                                                      
                                                   
                                                   
                                                      
                                                         0
                                                      
                                                      
                                                         on the opposite case
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 .

The other two important parameters concern the time and cost of the transfer between each pair of stations 
                           
                              
                                 
                                    s
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    2
                                 
                              
                           
                        :
                           
                              
                                 
                                    
                                       
                                          
                                             cet
                                          
                                          
                                             
                                                
                                                   s
                                                
                                                
                                                   1
                                                
                                             
                                             ,
                                             
                                                
                                                   s
                                                
                                                
                                                   2
                                                
                                             
                                          
                                       
                                    
                                  cost of an empty transfer between stations 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                    
                                  and 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             2
                                          
                                       
                                    
                                 ;


                                 
                                    
                                       
                                          
                                             tet
                                          
                                          
                                             
                                                
                                                   s
                                                
                                                
                                                   1
                                                
                                             
                                             ,
                                             
                                                
                                                   s
                                                
                                                
                                                   2
                                                
                                             
                                          
                                       
                                    
                                  time of an empty transfer between stations 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             1
                                          
                                       
                                    
                                  and 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             2
                                          
                                       
                                    
                                 .

Another essential information regards the upgrading and downgrading possibilities between the requested group and the group of the assigned vehicle. That information is stored in three parameters:
                           
                              
                                 
                                    
                                       
                                          
                                             
                                                s
                                             
                                             
                                                
                                                   
                                                      gr
                                                   
                                                   
                                                      r
                                                   
                                                
                                                ,
                                                
                                                   
                                                      gv
                                                   
                                                   
                                                      v
                                                   
                                                
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            1
                                                         
                                                         
                                                            if the requested group
                                                            
                                                            
                                                               
                                                                  gr
                                                               
                                                               
                                                                  r
                                                               
                                                            
                                                            
                                                            is the same as the vehicle group
                                                            
                                                            
                                                               
                                                                  gv
                                                               
                                                               
                                                                  v
                                                               
                                                            
                                                            (
                                                            
                                                               
                                                                  gr
                                                               
                                                               
                                                                  r
                                                               
                                                            
                                                            =
                                                            
                                                               
                                                                  gv
                                                               
                                                               
                                                                  v
                                                               
                                                            
                                                            )
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            0
                                                         
                                                         
                                                            on the opposite case.
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              


                                 
                                    
                                       
                                          
                                             
                                                u
                                             
                                             
                                                
                                                   
                                                      gr
                                                   
                                                   
                                                      r
                                                   
                                                
                                                ,
                                                
                                                   
                                                      gv
                                                   
                                                   
                                                      v
                                                   
                                                
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            1
                                                         
                                                         
                                                            if the requested group
                                                            
                                                            
                                                               
                                                                  gr
                                                               
                                                               
                                                                  r
                                                               
                                                            
                                                            
                                                            can be upgraded to group
                                                            
                                                            
                                                               
                                                                  gv
                                                               
                                                               
                                                                  v
                                                               
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            0
                                                         
                                                         
                                                            on the opposite case.
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              


                                 
                                    
                                       
                                          
                                             
                                                d
                                             
                                             
                                                
                                                   
                                                      gr
                                                   
                                                   
                                                      r
                                                   
                                                
                                                ,
                                                
                                                   
                                                      gv
                                                   
                                                   
                                                      v
                                                   
                                                
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            1
                                                         
                                                         
                                                            if the requested group
                                                            
                                                            
                                                               
                                                                  gr
                                                               
                                                               
                                                                  r
                                                               
                                                            
                                                            
                                                            can be downgraded to group
                                                            
                                                            
                                                               
                                                                  gv
                                                               
                                                               
                                                                  v
                                                               
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            0
                                                         
                                                         
                                                            on the opposite case.
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              

By definition, the values assigned to these parameters must fulfil the condition that for all combinations of groups 
                           
                              
                                 
                                    gr
                                 
                                 
                                    r
                                 
                              
                              ,
                              
                              
                                 
                                    gr
                                 
                                 
                                    v
                                 
                              
                           
                         only one of the parameters 
                           
                              s
                              ,
                              
                              u
                           
                        , and d may, at maximum, have the value one.

The decision variables of this model are binary and aim to describe the flow of each vehicle within its reservation schedule:
                              
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                             
                                                ir
                                             
                                             
                                                v
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            1
                                                         
                                                         
                                                            if vehicle
                                                            v
                                                            fulfills reservation
                                                            r
                                                            after reservation
                                                            i
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            0
                                                         
                                                         
                                                            on the opposite case.
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 

The MIP model proposed is represented by:
                           
                              (1)
                              
                                 
                                    max
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          V
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                
                                                   R
                                                
                                             
                                          
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   r
                                                   =
                                                   1
                                                
                                                
                                                   R
                                                   +
                                                   1
                                                
                                             
                                          
                                          (
                                          
                                             
                                                pft
                                             
                                             
                                                r
                                             
                                          
                                          -
                                          
                                             
                                                cet
                                             
                                             
                                                
                                                   
                                                      si
                                                   
                                                   
                                                      i
                                                   
                                                
                                                ,
                                                
                                                   
                                                      so
                                                   
                                                   
                                                      r
                                                   
                                                
                                             
                                          
                                          )
                                          
                                             
                                                x
                                             
                                             
                                                ir
                                             
                                             
                                                v
                                             
                                          
                                          +
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   r
                                                   =
                                                   1
                                                
                                                
                                                   R
                                                   +
                                                   1
                                                
                                             
                                          
                                          (
                                          
                                             
                                                pft
                                             
                                             
                                                r
                                             
                                          
                                          -
                                          
                                             
                                                cet
                                             
                                             
                                                
                                                   
                                                      csi
                                                   
                                                   
                                                      v
                                                   
                                                
                                                ,
                                                
                                                   
                                                      so
                                                   
                                                   
                                                      r
                                                   
                                                
                                             
                                          
                                          )
                                          
                                             
                                                x
                                             
                                             
                                                0
                                                r
                                             
                                             
                                                v
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       s
                                    
                                    
                                       
                                          
                                             gr
                                          
                                          
                                             r
                                          
                                       
                                       ,
                                       
                                          
                                             gv
                                          
                                          
                                             v
                                          
                                       
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          V
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                
                                                   R
                                                
                                             
                                          
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   r
                                                   =
                                                   1
                                                
                                                
                                                   R
                                                   +
                                                   1
                                                
                                             
                                          
                                          (
                                          
                                             
                                                pft
                                             
                                             
                                                r
                                             
                                          
                                          -
                                          
                                             
                                                cet
                                             
                                             
                                                
                                                   
                                                      si
                                                   
                                                   
                                                      i
                                                   
                                                
                                                ,
                                                
                                                   
                                                      so
                                                   
                                                   
                                                      r
                                                   
                                                
                                             
                                          
                                          -
                                          1
                                          )
                                          
                                             
                                                x
                                             
                                             
                                                ir
                                             
                                             
                                                v
                                             
                                          
                                          +
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   r
                                                   =
                                                   1
                                                
                                                
                                                   R
                                                   +
                                                   1
                                                
                                             
                                          
                                          (
                                          
                                             
                                                pft
                                             
                                             
                                                r
                                             
                                          
                                          -
                                          
                                             
                                                cet
                                             
                                             
                                                
                                                   
                                                      csi
                                                   
                                                   
                                                      v
                                                   
                                                
                                                ,
                                                
                                                   
                                                      so
                                                   
                                                   
                                                      r
                                                   
                                                
                                             
                                          
                                          -
                                          1
                                          )
                                          
                                             
                                                x
                                             
                                             
                                                0
                                                r
                                             
                                             
                                                v
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       u
                                    
                                    
                                       
                                          
                                             gr
                                          
                                          
                                             r
                                          
                                       
                                       ,
                                       
                                          
                                             gv
                                          
                                          
                                             v
                                          
                                       
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          V
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          =
                                          0
                                       
                                       
                                          R
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          r
                                          =
                                          1
                                       
                                       
                                          R
                                          +
                                          1
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       ir
                                    
                                    
                                       v
                                    
                                 
                                 
                                    
                                       d
                                    
                                    
                                       
                                          
                                             gr
                                          
                                          
                                             r
                                          
                                       
                                       ,
                                       
                                          
                                             gv
                                          
                                          
                                             v
                                          
                                       
                                    
                                 
                              
                           
                        Subject to:
                           
                              (2)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          r
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       0
                                       r
                                    
                                    
                                       v
                                    
                                 
                                 ⩽
                                 
                                 1
                                 ,
                                 
                                 ∀
                                 v
                                 ∈
                                 V
                              
                           
                        
                        
                           
                              (3)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          V
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       ir
                                    
                                    
                                       v
                                    
                                 
                                 
                                 ⩽
                                 1
                                 ,
                                 
                                 ∀
                                 r
                                 ∈
                                 R
                              
                           
                        
                        
                           
                              (4)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       iu
                                    
                                    
                                       v
                                    
                                 
                                 -
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          r
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       ur
                                    
                                    
                                       v
                                    
                                 
                                 
                                 =
                                 0
                                 ,
                                 
                                 ∀
                                 v
                                 ∈
                                 V
                                 ,
                                 
                                 ∀
                                 u
                                 ∈
                                 R
                                 ⧹
                                 {
                                 0
                                 ,
                                 R
                                 +
                                 1
                                 }
                              
                           
                        
                        
                           
                              (5)
                              
                                 (
                                 -
                                 
                                    
                                       di
                                    
                                    
                                       i
                                    
                                 
                                 -
                                 
                                    
                                       tet
                                    
                                    
                                       
                                          
                                             si
                                          
                                          
                                             i
                                          
                                       
                                       ,
                                       
                                          
                                             so
                                          
                                          
                                             r
                                          
                                       
                                    
                                 
                                 +
                                 
                                    
                                       do
                                    
                                    
                                       r
                                    
                                 
                                 )
                                 
                                    
                                       x
                                    
                                    
                                       ir
                                    
                                    
                                       v
                                    
                                 
                                 
                                 ⩾
                                 0
                                 ,
                                 
                                 ∀
                                 v
                                 ∈
                                 V
                                 ,
                                 
                                 ∀
                                 i
                                 ,
                                 r
                                 ∈
                                 R
                              
                           
                        
                        
                           
                              (6)
                              
                                 
                                    
                                       x
                                    
                                    
                                       ir
                                    
                                    
                                       v
                                    
                                 
                                 ⩽
                                 
                                    
                                       s
                                    
                                    
                                       
                                          
                                             gr
                                          
                                          
                                             r
                                          
                                       
                                       ,
                                       
                                          
                                             gv
                                          
                                          
                                             v
                                          
                                       
                                    
                                 
                                 +
                                 
                                    
                                       u
                                    
                                    
                                       
                                          
                                             gr
                                          
                                          
                                             r
                                          
                                       
                                       ,
                                       
                                          
                                             gv
                                          
                                          
                                             v
                                          
                                       
                                    
                                 
                                 +
                                 
                                    
                                       d
                                    
                                    
                                       
                                          
                                             gr
                                          
                                          
                                             r
                                          
                                       
                                       ,
                                       
                                          
                                             gv
                                          
                                          
                                             v
                                          
                                       
                                    
                                 
                                 ,
                                 
                                 ∀
                                 v
                                 ∈
                                 V
                                 ,
                                 
                                 ∀
                                 i
                                 ,
                                 r
                                 ∈
                                 R
                              
                           
                        
                        
                           
                              (7)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          V
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       ir
                                    
                                    
                                       v
                                    
                                 
                                 
                                    
                                       d
                                    
                                    
                                       
                                          
                                             gr
                                          
                                          
                                             r
                                          
                                       
                                       ,
                                       
                                          
                                             gv
                                          
                                          
                                             v
                                          
                                       
                                    
                                 
                                 
                                 ⩽
                                 
                                    
                                       dga
                                    
                                    
                                       r
                                    
                                 
                                 ,
                                 
                                 ∀
                                 r
                                 ∈
                                 R
                              
                           
                        
                        
                           
                              (8)
                              
                                 
                                    
                                       x
                                    
                                    
                                       0
                                       R
                                       +
                                       1
                                    
                                    
                                       v
                                    
                                 
                                 
                                 =
                                 0
                                 ,
                                 
                                 ∀
                                 v
                                 ∈
                                 V
                              
                           
                        
                        
                           
                              (9)
                              
                                 (
                                 
                                    
                                       di
                                    
                                    
                                       i
                                    
                                 
                                 -
                                 
                                    
                                       bd
                                    
                                    
                                       v
                                    
                                 
                                 )
                                 
                                    
                                       x
                                    
                                    
                                       iR
                                       +
                                       1
                                    
                                    
                                       v
                                    
                                 
                                 
                                 ⩽
                                 0
                                 
                                 ,
                                 ∀
                                 v
                                 ∈
                                 V
                                 ,
                                 
                                 ∀
                                 i
                                 ∈
                                 R
                              
                           
                        
                        
                           
                              (10)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       ir
                                    
                                    
                                       v
                                    
                                 
                                 
                                 ⩾
                                 
                                    
                                       imp
                                    
                                    
                                       r
                                    
                                    
                                       v
                                    
                                 
                                 ,
                                 
                                 ∀
                                 v
                                 ∈
                                 V
                                 ,
                                 
                                 ∀
                                 r
                                 ∈
                                 R
                              
                           
                        
                        
                           
                              (11)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          v
                                          ∈
                                          V
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       ir
                                    
                                    
                                       v
                                    
                                 
                                 
                                 ⩾
                                 
                                    
                                       st
                                    
                                    
                                       r
                                    
                                 
                                 ,
                                 
                                 ∀
                                 r
                                 ∈
                                 R
                              
                           
                        
                        
                           
                              (12)
                              
                                 
                                    
                                       x
                                    
                                    
                                       ir
                                    
                                    
                                       v
                                    
                                 
                                 ∈
                                 
                                 {
                                 0
                                 ,
                                 1
                                 }
                                 ,
                                 
                                 ∀
                                 r
                                 ∈
                                 R
                              
                           
                        
                     

The main goal of this model is to maximize the company’s profit. Therefore, the objective function (1) represents the difference between the profit of each fulfilled reservation and the empty transfer cost incurred to make the vehicle ready to fulfil it. Nevertheless, in order to incorporate the characteristics of the problem related with the upgrading and downgrading possibilities, some artificial costs and profits are considered.

The first part of this function is related with vehicle-reservation assignments within the same rental group (without upgrades or downgrades). Here, the profit of each reservation is decreased by the cost of the empty transfer required to fulfil it. The first reservation to be fulfilled by each vehicle (the reservation that follows the fictitious departure node) is, however, accounted in a different way because it must reflect the initial station of each vehicle and the corresponding transfer cost.

The second part of this function is related to the assignments that represent upgrades. In these, an approach similar to the first part is taken. Nevertheless, in order to use upgrades only when needed, these assignments have an additional cost of 1 monetary unit. This is an artificial penalization since the company does not incur in additional costs when performing an upgrade.

As for downgrades, their utilization is strictly restricted as they should be an absolute last resource. In order to accomplish this, the profit of the downgraded reservations is artificially altered. In fact, the model assigns to downgrades a marginal global profit of 1 monetary unit.

As this is a network flow model, some general flow constraints must be considered. Firstly, one must define that the flow of each tier starts by at most one reservation (2). That is to say that each vehicle schedule “leaves” the fictitious departure node maximum once, and each reservation can only be fulfilled maximum once as well (3). Moreover, in order to maintain the flow of the schedules of each vehicle, if a certain reservation is assigned to it there must be a previous and a following reservation (4) (except for the fictitious nodes).

The specific constraints of this model are related to the availability of the vehicles on the requested time. Therefore, it must be defined that a reservation can only be fulfilled by a certain vehicle if its starting time is greater or equal to the ending time of the previous reservation plus the repositioning time needed (5). An alternative to this equation would be to only define the 
                              
                                 
                                    
                                       x
                                    
                                    
                                       ij
                                    
                                    
                                       k
                                    
                                 
                              
                            variables that verify this inequality, not considering the rest on the formulation. Nevertheless, nowadays commercial solvers eliminate quite effectively these variables.

It is also important to specify that a reservation can only be assigned to a vehicle of the same or compatible groups (6). Furthermore, a reservation can only be assigned to a downgrade group if the client specifically accepts that possibility (7).

An additional constraint is needed to avoid that a schedule is built connecting directly the fictitious nodes (8). Due to the penalization of the downgrading option in the objective function, if this was to happen this schedule of zero real reservations would bring a profit of 1 monetary unit to the company.

As far as vehicle unavailability is concerned, it is important to assure that the last reservation of each vehicle does not surpass its block date (9), and that the impro “reservations” are assigned to their respective vehicles (10). Moreover, all reservations that have been confirmed to the customer must be fulfilled (11).

Finally, all decision variables are declared as binaries (12).

Solving real-sized instances of this combinatorial problem with an exact method was likely to be impractical or even impossible, and preliminary experiments confirmed that. Therefore, a procedure that aims to achieve not the optimal solution but a good solution within an adequate time frame was needed. A procedure that combines heuristics and exact mathematical programming techniques and strategically decomposes the problem following the relax-and-fix framework is thus proposed.

This assignment problem is highly constrained by the fact that the reservations (the entities to allocate) have rigid start and finish dates. Furthermore, the impact that an assigned reservation has on the allocation of other reservations to the same vehicle is increased by the empty transfers. In fact, although it is important to control the number of variables tackled at a time, one must remember that decisions related to different time spans influence each other.

The method proposed is a “time-based” relax-and-fix approach. At each iteration, a slot of a time span, i.e. a partition of the whole horizon, is solved. As the reservations in each instance are the ones retrieved from the company’s system at a specific moment, each instance usually comprises a high number of reservations for the closest time periods and this number decreases until the end of the planning horizon (determined by the last reservation in the system). It was hence set that each slot should comprise a constant number of reservations and not a constant time length. Therefore, the slots of the time span are narrower in the first, busiest periods and become progressively wider.

Adapting and extending the procedure utilized by Cherri et al. (2013), the objects to allocate (in this case, the reservations of an instance) are divided in five sets: fixed reservations (
                        
                           Φ
                        
                     ), assigned reservations (
                        
                           Δ
                        
                     ), integer reservations (
                        
                           ϒ
                        
                     ), relaxed reservations (
                        
                           Θ
                        
                     ), and waiting reservations (
                        
                           Ω
                        
                     ). In each iteration, the assigned, the integer, and the relaxed reservations are tackled. As it was said, the number of reservations in each of the three sets tackled in each iteration (
                        
                           β
                        
                     ) is constant. The reservations flow through the sets ordered by proximity of the starting date, starting as waiting reservations and then becoming progressively relaxed, integer, assigned, and finally fixed.

The fixed reservations (
                        
                           Φ
                        
                     ) are the ones already definitely assigned to a vehicle and currently not considered on the sub-model. The assigned reservations (
                        
                           Δ
                        
                     ) are the ones that were previously considered in the method as integers and temporarily assigned to a vehicle; as to control modifications, only part of this set can be re-assigned. The integer reservations (
                        
                           ϒ
                        
                     ) are the ones which are solved keeping the integrality constraint whilst the relaxed ones (
                        
                           Θ
                        
                     ) are solved relaxing this constraint. The waiting reservations (
                        
                           Ω
                        
                     ) are the ones which are located further in the future and are not yet considered in the sub-problem. The flow of reservations through the sets is represented on Fig. 2
                      and can also be seen on the pseudo-code for the proposed method presented on Algorithm 1.
                        Algorithm 1
                        Matheuristic proposed 
                              
                                 
                                    
                                    
                                       
                                          
                                             function 
                                             
                                             mainFunction 
                                             
                                                
                                                   (
                                                   dataFile
                                                   ,
                                                   β
                                                   ,
                                                   timeLimit
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             
                                                
                                                   IterSolution
                                                   ,
                                                   
                                                   GlobalSolution
                                                   ←
                                                   ∅
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             
                                                
                                                   Φ
                                                   ,
                                                   
                                                   Δ
                                                   ←
                                                   ∅
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             
                                                
                                                   ϒ
                                                   ←
                                                   first
                                                   
                                                   β
                                                   
                                                   reservations
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             
                                                
                                                   Θ
                                                   ←
                                                   
                                                   second
                                                   
                                                   β
                                                   
                                                   reservations
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             
                                                
                                                   Ω
                                                   ←
                                                   
                                                   rest of reservations
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             
                                                
                                                   it
                                                   ,
                                                   α
                                                   ←
                                                   0
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             repeat
                                          
                                       
                                       
                                          
                                             
                                             Adapt vehicle initial conditions (if needed)
                                       
                                       
                                          
                                             
                                             Fix variables (if needed)
                                       
                                       
                                          
                                             
                                             Generate model 
                                                
                                                   (
                                                   α
                                                   ,
                                                   Δ
                                                   ∪
                                                   ϒ
                                                   ∪
                                                   Θ
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             Solve model (timeLimit)
                                       
                                       
                                          
                                             
                                             
                                             if
                                             
                                             
                                                
                                                   
                                                      
                                                         model
                                                      
                                                      
                                                         status
                                                      
                                                   
                                                   =
                                                   optimal
                                                
                                              or feasible 
                                             then
                                          
                                       
                                       
                                          
                                             
                                             
                                             
                                                
                                                   IterSolution
                                                   ←
                                                   solution
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             
                                             
                                                
                                                   α
                                                   ←
                                                   CalculateAlpha
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             end if
                                          
                                       
                                       
                                          
                                             
                                             
                                                
                                                   Φ
                                                   ←
                                                   Δ
                                                   ←
                                                   ϒ
                                                   ←
                                                   Θ
                                                   ←
                                                   
                                                   next
                                                   
                                                   β
                                                   
                                                   reservations from
                                                   
                                                   Ω
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             
                                                
                                                   GlobalSolution
                                                   ←
                                                   GlobalSolution
                                                   +
                                                   IterSolution
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             
                                                
                                                   it
                                                   ←
                                                   it
                                                   +
                                                   1
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             until 
                                             
                                             
                                                
                                                   Θ
                                                   =
                                                   ∅
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                             return
                                             
                                             GlobalSolution
                                          
                                       
                                       
                                          
                                             end function
                                          
                                       
                                    
                                 
                              
                           
                        

In each iteration, a new constraint, inspired on the local branching paradigm, is added to the model of the sub-problem to be solved (15). This constraint uses the 
                        
                           α
                        
                      parameter, calculated after the resolution of the sub-problem of the previous iteration, in order to limit the number of changes on the assigned set of variables (
                        
                           Δ
                        
                     ) (which was previously the integer set (
                        
                           ϒ
                        
                     )). This adaptation of the constraint proposed by Cherri et al. (2013) is important to achieve better global solutions.

Considering 
                        
                           
                              
                                 x
                              
                              
                                 ¯
                              
                           
                        
                      the value of the decision variables in the solution of the previous sub-problem, one can define sets 
                        
                           B
                           1
                        
                      and 
                        
                           B
                           0
                        
                      as:
                        
                           (13)
                           
                              B
                              1
                              =
                              {
                              
                                 
                                    x
                                 
                                 
                                    ir
                                 
                                 
                                    v
                                 
                              
                              |
                              r
                              ∈
                              Δ
                              ∧
                              
                                 
                                    
                                       
                                          x
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    ir
                                 
                                 
                                    v
                                 
                              
                              =
                              1
                              }
                           
                        
                     
                     
                        
                           (14)
                           
                              B
                              0
                              =
                              {
                              
                                 
                                    x
                                 
                                 
                                    ir
                                 
                                 
                                    v
                                 
                              
                              |
                              r
                              ∈
                              Δ
                              ∧
                              
                                 
                                    
                                       
                                          x
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    ir
                                 
                                 
                                    v
                                 
                              
                              =
                              0
                              }
                           
                        
                     The constraint is thus defined as:
                        
                           (15)
                           
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       
                                          
                                             x
                                          
                                          
                                             ir
                                          
                                          
                                             k
                                          
                                       
                                       ∈
                                       B
                                       1
                                    
                                 
                              
                              (
                              1
                              -
                              
                                 
                                    x
                                 
                                 
                                    ir
                                 
                                 
                                    v
                                 
                              
                              )
                              +
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       
                                          
                                             x
                                          
                                          
                                             ir
                                          
                                          
                                             k
                                          
                                       
                                       ∈
                                       B
                                       0
                                    
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    ir
                                 
                                 
                                    v
                                 
                              
                              ⩽
                              α
                           
                        
                     This constraint states that the reservations that were previously temporarily assigned under the integrality constraint should remain as they were previously assigned, except for a specific number that is allowed to change. The solution of the previous iteration is represented by 
                        
                           
                              
                                 x
                              
                              
                                 ¯
                              
                           
                        
                     . The 
                        
                           α
                        
                      parameter is the upper limit on the number of changes allowed on the variables representing this “positioning”. At the end of each iteration, the parameter 
                        
                           α
                        
                      is calculated; it represents the number of reservations that, at that point, belong to the free integer set (
                        
                           ϒ
                        
                     ) and are assigned to some vehicle (16). Note that in the following iteration these reservations will belong to the assigned set (
                        
                           Δ
                        
                     ).
                        
                           (16)
                           
                              α
                              =
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       v
                                       ∈
                                       V
                                    
                                 
                              
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       ∈
                                       R
                                    
                                 
                              
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       r
                                       ∈
                                       ϒ
                                    
                                 
                              
                              
                                 
                                    x
                                 
                                 
                                    ir
                                 
                                 
                                    v
                                 
                              
                           
                        
                     This allows the algorithm to correct previous assignments based on their effect on current reservations, previously not considered, in a swift and controlled way. In fact, the relation between reservations assigned to the same vehicle is extremely important within the vehicle-reservation assignment framework. The set of relaxed reservations to be solved (
                        
                           Θ
                        
                     ) was added in relation to the method applied by Cherri et al. (2013) due to this issue. In this problem, due to the empty transfers, this set allows the algorithm to acknowledge the influence that the present (integer) decisions have on the near-future time spans. The decision of “ignoring” a set of reservations (the waiting set 
                        
                           Ω
                        
                     ) instead of relaxing these variables as well was based on the fact that some reservations have so distant “time locations” that the connection and influence between them is virtually null.

Another idiosyncrasy of this problem relates to the unique initial conditions of each vehicle – due to their current occupation, each one will be available on a distinct time and location. Therefore, when fixing the variables on 
                        
                           Φ
                        
                     , one needs to re-calculate the initial conditions of the involved vehicles, for the next time span.

Furthermore, a time limit is provided for the resolution of each sub-problem. As this algorithm does not guarantee the optimality of the global solution, it would not be useful to spend excessive computing time and effort in order to reach a local optimum, which could moreover be altered in the following iterations. If a feasible solution is obtained within the time limit, this solution is kept as the (local) optimal solution would be. Due to the characteristics of this problem and to preliminary computational experiments, this was deemed to be reasonable.

In order to understand in depth the opportunities for improvement brought by this new approach, twenty instances, based on real data retrieved from the car rental company’s database, were run using the procedure here proposed and the current company’s methods.

Preliminary computational experiments conducted on a personal computer similar to the ones available on the company showed that the time consumed on the resolution of each instance by the proposed method was directly related to the number of variables of each sub-problem (see Fig. 3
                        ). From this, it was possible to define (17), which relates the global run time with the 
                           
                              β
                           
                         parameter and the number of vehicles and reservations. On the other hand, it is possible to understand that the greater the 
                           
                              β
                           
                         parameter is, the closer to the resolution of the global model the procedure gets. Due to the practical application of this model, this trade-off was tackled by setting a time limit of 2.5hours for the overall procedure and retrieving the 
                           
                              β
                           
                         parameter from (17).

The main characteristics of these instances are presented in Table 1
                        . The instances and the values assigned to the parameters of the problem can be found on http://www.fe.up.pt/∼jfo/CarRental/Instances20.xlsx.
                           
                              (17)
                              
                                 global
                                 
                                 run
                                 
                                 time
                                 =
                                 sub
                                 -
                                 problem
                                 
                                 run
                                 
                                 time
                                 ×
                                 number
                                 
                                 of
                                 
                                 sub
                                 -
                                 models
                                 =
                                 
                                    
                                       
                                          0.2098
                                          ×
                                          
                                             
                                                e
                                             
                                             
                                                3.00
                                                
                                                   
                                                      E
                                                   
                                                   
                                                      -
                                                      6
                                                   
                                                
                                                ×
                                                (
                                                3
                                                
                                                   
                                                      β
                                                   
                                                   
                                                      2
                                                   
                                                
                                                )
                                                (
                                                num
                                                
                                                vehic
                                                +
                                                2
                                                )
                                             
                                          
                                       
                                    
                                 
                                 ×
                                 
                                    
                                       num
                                       
                                       reserv
                                    
                                    
                                       β
                                    
                                 
                              
                           
                        
                     

The algorithm described was developed in C++/IBM ILOG Concert Technology and was run on a HP Z820 Workstation computer with 128Gigabyte of RAM memory, and with 2 CPUs (Xeon E5-2687W 8C 3.10 20Megabyte 1600) with 16 threads each. The MIP Solver used was CPLEX 12.4.0.0. The time limit set for the resolution of each sub-problem was 5minutes.

The general results may be found in Table 2
                        . The improvement they represent when compared with the company’s current procedures is defined in Table 3
                        .

It is possible to observe that the profit has increased in average 33% when compared with the “hand-made” plans currently drawn by the company. For every instance, in fact, the improvement attained in terms of profit was very significant. It is also important to notice the decrease on the number of hours spent in empty repositions. In fact, for most instances these travel times were significantly reduced, resulting in an average reduction of 20%. This is a powerful indicator that the 
                           
                              
                                 
                                    CO
                                 
                                 
                                    2
                                 
                              
                           
                         emissions have been significantly reduced, as desired by the company and as expected, since the empty transfers have a significant impact on the objective function.

Nevertheless, one can realize that the number of allocated reservations decreased in average 10%, decreasing this service level measure of the company. In fact, in order to maximize the total profit, the proposed method favoured the allocation of longer, more profitable reservations, which minimize as well the transfers. The manual procedure, on the opposite, is myopic, as it attempts to allocate the reservations as they are posed on the system and it does not attempt to rearrange them. Therefore, it tends to allocate reservations considering feasibility and not profitability. In fact, the average duration of the allocated reservations increased 20% when comparing the algorithm developed with the manual procedure.


                        Fig. 4
                         shows an extract of the solution obtained for instance 1 using the developed method. The vehicle schedules are represented on the rows, where the colored
                           1
                           For interpretation of color in Fig. 4, the reader is referred to the web version of this article.
                        
                        
                           1
                         rectangles represent the reservations assigned to them. The dark gray rectangles represent unavailability periods. The complete solution can be found on the table presented as appendix.

The average run time for these instances was of 555seconds (approximately 9minutes). Note that this global run time is considerably smaller than the 2.5hours initially projected because these tests were run in a computer with significantly more computational power than the ones available on the company.

@&#CONCLUSIONS@&#

This paper presented the problem faced by a Portuguese car rental company in managing the assignment of reservations to vehicles. The main objective was to maximize the total profit of the company, whilst reducing empty repositions between rental stations. A network-flow model that assigns reservations to vehicles considering an heterogeneous fleet with interdependency between groups and customer authorization to downgrade, different reservation priority statuses, and two types of vehicle unavailability was proposed. In order to solve this model on a real situation – with realistic instances and realistic computational effort – an algorithm based on a relax-and-fix framework and comprising a control mechanism based on the local branching paradigm was proposed.

The algorithm was able to solve the problem in an acceptable time and achieved great improvement when compared to the myopic procedures currently in use in the company. However, some reduction on the number of reservations fulfilled was also verified. If for another company this is a major drawback, a multi-objective version of the model can be derived so that different trade-offs between profitability and service level can be studied. Nevertheless, this would be better tackled on a more strategic level, mainly concerning fleet sizing decisions.

Still, at a strategic level, this model can also be used by the company as a simulation tool to support the buying/selling decisions concerning vehicles of a specific group. Another relevant future work would be to define a more precise measure of the environmental impact of the empty transfer and attempt to further include it on the objective(s) considered.

@&#ACKNOWLEDGMENTS@&#

The authors would like to thank the anonymous reviewers for their valuable comments that helped to improve the paper.

This work was partially funded under project “Smart Manufacturing and Logistics – NORTE-07-0124-FEDER-000057” by the North Portugal Regional Operational Programme (ON.2 – O Novo Norte), under the National Strategic Reference Framework (NSRF), through the European Regional Development Fund (ERDF), and by national funds, through the Portuguese funding agency, Fundação para a Ciência e a Tecnologia (FCT).

See Table 4
                     .

@&#REFERENCES@&#

