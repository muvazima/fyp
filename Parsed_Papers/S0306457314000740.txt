@&#MAIN-TITLE@&#QPLSA: Utilizing quad-tuples for aspect identification and rating

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We propose two novel aspect rating prediction approaches, i.e., Quad-tuple prediction and Expectation prediction.


                        
                        
                           
                           We analyze and investigate the performance of the proposed aspect rating prediction methods in contrast with Local Prediction and Global Prediction.


                        
                        
                           
                           We experimentally inspect the influence of aspect rating variance for different rating prediction approaches.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Quad-tuple PLSA

Aspect mining

Sentiment analysis

@&#ABSTRACT@&#


               
               
                  Aspect level sentiment analysis is important for numerous opinion mining and market analysis applications. In this paper, we study the problem of identifying and rating review aspects, which is the fundamental task in aspect level sentiment analysis. Previous review aspect analysis methods seldom consider entity or rating but only 2-tuples, i.e., head and modifier pair, e.g., in the phrase “nice room”, “room” is the head and “nice” is the modifier. To solve this problem, we novelly present a Quad-tuple Probability Latent Semantic Analysis (QPLSA), which incorporates entity and its rating together with the 2-tuples into the PLSA model. Specifically, QPLSA not only generates fine-granularity aspects, but also captures the correlations between words and ratings. We also develop two novel prediction approaches, the Quad-tuple Prediction (from the global perspective) and the Expectation Prediction (from the local perspective). For evaluation, systematic experiments show that: Quad-tuple PLSA outperforms 2-tuple PLSA significantly on both aspect identification and aspect rating prediction for publication datasets. Moreover, for aspect rating prediction, QPLSA shows significant superiority over state-of-the-art baseline methods. Besides, the Quad-tuple Prediction and the Expectation Prediction also show their strong ability in aspect rating on different datasets.
               
            

@&#INTRODUCTION@&#

With the prevalence of the Web 2.0 technology, explosive growth of opinions are accumulating on blog posts, shopping sites or review sites (Bollegala, Weir, & Carroll, 2011). For such a vast amount of opinion corpora, it challenges both the producers and consumers to digest the opinions or make further decisions. As a result, automatic sentiment analysis that aims to facilitate means of large-scale investigation (Weichselbraun, Gindl, & Scharl, 2011), has received a lot of research interest. In particular, many sentiment analysis applications have been studied, such as sentiment polarity categorization (Dave, Lawrence, & Pennock, 2003; Pang, Lee, & Vaithyanathan, 2002), product feature extraction (Popescu & Etzioni, 2005), opinion retrieval (Zhang, Yu, & Meng, 2007) and opinion summarization (Lu, Zhai, & Sundaresan, 2009).

Among these tasks in opinion mining, the problem of multi-facet rating of product reviews was firstly proposed in Baccianella, Esuli, and Sebastiani (2009), which aims to decompose online reviews into ad hoc aspects and rate these aspects.
                        1
                        In this paper, aspect, topic and product feature are used interchangeably.
                     
                     
                        1
                      To achieve this goal, 2-tuples of head and modifer are extracted for review aspect mining, where review aspects are firstly distilled and then rated utilizing the review overall ratings (Lu et al., 2009). Specifically, as illustrated in Fig. 1
                     , review aspect mining includes two subtasks: (1) Aspect Identification and (2) Aspect Rating Prediction. Before we introduce the problem, we firstly give some definitions here.
                        
                           (1)
                           
                              Head: A head term h is a word (generally noun or verb) which indicates the aspect (Feature).


                              Modifier: A modifier term m is a word (generally adjective or adverb) which reflects the sentiment/rating (Opinion) towards the head.


                              Aspect Identification: Given a phrase 
                                 
                                    f
                                    =
                                    (
                                    h
                                    ,
                                    m
                                    )
                                 
                               consisting of head h and modifier m, the goal of aspect identification is to find the mapping function 
                                 
                                    G
                                 
                               that correctly assigns the aspect label 
                                 
                                    
                                       
                                          A
                                       
                                       
                                          i
                                       
                                    
                                 
                               for 
                                 
                                    f
                                    :
                                    
                                       
                                          A
                                       
                                       
                                          i
                                       
                                    
                                    =
                                    G
                                    (
                                    f
                                    )
                                 
                              . Specifically, for review aspect identification, the goal is to distill the product/service features.


                              Aspect Rating Prediction: The goal of aspect rating prediction is to find the rating function 
                                 
                                    R
                                 
                               that predicts the aspect rating r given the phrase f and aspect 
                                 
                                    
                                       
                                          A
                                       
                                       
                                          i
                                       
                                    
                                 
                              . Formally, the rating function is given as: 
                                 
                                    r
                                    =
                                    R
                                    (
                                    f
                                    ,
                                    
                                       
                                          A
                                       
                                       
                                          i
                                       
                                    
                                    )
                                 
                              . Specifically, for review aspect rating, the goal is to predict the aspect ratings for the product/service features.

Such kind of review aspect mining is especially useful because different consumers may have different preferences to certain aspects of products or services (Lu et al., 2009). Another interesting work was proposed in Titov and McDonald (2008a), where the Multi-Grain Latent Dirichlet Allocation (MG-LDA) was firstly proposed based on Latent Dirichlet Allocation (LDA) (Blei, Ng, & Jordan, 2003) for ratable aspect generation. Along this line, Wang et al. proposed a Latent Rating Regression (LRR) model for aspect rating (Wang, Lu, & Zhai, 2010), with subsequent work Latent Aspect Rating Analysis Model (LARAM) to generate ratable aspects without seed word supervision (Wang, Lu, & Zhai, 2011). As a matter of fact, such topic model based approaches represent reviews as bags of words and utilize word co-occurrences for aspect learning.

However, the bag-of-words assumption seriously hampers the aspect segmentation capability of models, leading to inaccurate segments for the later rating analysis part (Wang et al., 2011). For example, two expressions such as “A great hotel in a horrible town!” and “A horrible hotel in a great town!” would receive identical bag-of-words representations, while expressing opposite sentiments of the hotel (Baccianella et al., 2009). As a result, how to effectively generate topic-sentiment mixture models has become a new challenge for bag-of-words methods. Fortunately, the widely accepted “Feature-Opinion” pair (e.g., movie-excellent) (Zhuang, Jing, & Zhu, 2006) is considered to contain interesting sentiment patterns and shed some light into review representation. Similar to the “Feature-Opinion” pairs, phrases (consisting of head and modifier, e.g., movie is the head and excellent is the modifier) are distilled from reviews, where head h indicates the aspect (Feature), and modifier m reflects the sentiment/rating (Opinion) towards the aspect (Lu et al., 2009; Luo, Zhuang, He, & Shi, 2012). Thence reviews are now represented as bags of phrases instead of regular bags of words.

In this study, we observe that besides the 2-tuples of (head, modifier), each review is often tied with an entity and its overall rating. As shown in Fig. 1, a hotel name and an overall rating are given for the review. Thus, we can construct the quad-tuples of (head, modifier, rating, entity), which denotes that a phrase of the head and modifier appears in the review for this entity with the rating. For example, the review in Fig. 1 includes quad-tuples such as,
                           
                              (hotel, clean, 5, Quality Inn);

(service, great, 5, Quality Inn);

(location, good, 5, Quality Inn).

With these quad-tuples from the reviews for a certain type of entities, we further argue that they contain more specific co-occurrence information than 2-tuples, thus provide more ability in differentiating ad hoc topics. Moreover, the types of entities e mainly enclose the aspects z, which are embodied by head h, while the modifier m and the rating r generally indicates the sentiments towards the aspects.


                        Fig. 1 gives a detailed example of the multi-facet rating problem, which is separated into 2 subtasks– (1) Aspect Identification, and (2) Aspect Rating Prediction. In Fig. 1, the words for the same aspect are manually stained in the same color for better illustration. Given a review of a hotel (associated with the hotel name and the overall rating), through the Aspect Identification process, words sharing similar meanings are grouped into the same aspect. By virtue of Aspect Rating prediction, different aspects are rated with numerical ratings that quantify the customer’s attitudes towards specific aspects.

In our preliminary work Luo et al. (2012), we proposed a quad-tuple PLSA framework in aspect identification that adopts quad-tuples in topic extraction among opinionated texts. The Expectation Maximization (EM) algorithm is introduced for the derivation of our model. Additionally, systematic experiments are performed on a real-world dataset, and the results validate the effectiveness of quad-tuples in capturing topics for reviews. As a merit of the PLSA-based methods, QPLSA would not be influenced by the lexical form, and can handle unknown words (even spelling mistakes) or word-forms, provided they occur frequently enough (Brody & Elhadad, 2010).

In this paper, we further apply the Quad-tuple PLSA (QPLSA for short) model to predict the ratings of the identified aspects. In summary, the main contributions of this paper include:
                           
                              •
                              We propose two novel aspect rating prediction approaches, i.e., Quad-tuple Prediction (from the global perspective) and Expectation Prediction (from the local perspective).

We analyze and investigate the performance of the proposed aspect rating prediction methods in contrast with Local Prediction and Global Prediction (Lu et al., 2009).

We experimentally inspect the influence of aspect rating variance for different rating prediction approaches.

The rest of this paper is organized as follows: Section 2 discusses the related work. Section 3 presents the problem definition and preliminary knowledge. Section 4 details our model Quad-tuple PLSA and the EM solution, moreover, the aspect rating prediction methods are also given. Section 5 gives the experimental results to validate the superiority of our methods and we conclude our paper in Section 6.

@&#RELATED WORK@&#

Review sentiment analysis has been a hot topic in the research community for years, and various techniques are proposed. Pang and Lee (2008) gave a full overview of opinion mining and sentiment analysis and pointed out that sentiment classification could be broadly referred as binary categorization, multi-class categorization, regression or ranking problems on an opinionated document. Hu and Liu (2004) adopted association mining based techniques to find frequent features and identify the polarity of opinions based on adjective words. Similar work carried out by Popescu and Etzioni (2005) achieves better performance on feature extraction and sentiment polarity identification. While Kim and Hovy (2004) developed a system for sentiment classification through combining sentiments at word and sentence levels. More approaches for sentiment analysis could be referred to Pang et al. (2002), Turney (2002), Zhuang et al. (2006), Morinaga, Tateishi, and Fukushima (2002). However, these methods do not perform aspect clustering for understanding of opinions towards aspects. In this paper, we focus on a more complex multi-facet rating problem.

Previous work on sentiment analysis mainly focuses on document-level sentiment polarity categorization (Dave et al., 2003; Pang et al., 2002) or product feature extraction (Popescu & Etzioni, 2005). Based on LDA (Blei et al., 2003) models, the Joint Sentiment Topic (JST) in Lin and He (2011) is designed to mine review aspects at the document level, a similar work – Aspect and Sentiment Unification Model (ASUM) models the generative process for review documents (Jo & Oh, 2011). While the bulk of such work focuses on the document level mining, some others address the sentiment analysis at the sentence level (Yu & Hatzivassiloglou, 2003) or phrase level (Kim & Hovy, 2004; Takamura & Inui, 2007; Vasileios & McKeown, 1997).

Specifically, sentence-level sentiment analysis views each sentence as a processing unit. Bruce and Wiebe (1999) annotated 1001 sentences as subjective or objective, and Wiebe, Bruce, and OHara (1999) described a sentence-level Naive Bayes classifier. Besides, LocalLDA (Brody & Elhadad, 2010) and SLDA (Jo & Oh, 2011) are implemented at the sentence level for fine-granularity aspect generation. An interesting work, the Multi-Grain Latent Dirichlet Allocation model (MG-LDA) (Titov & McDonald, 2008a) represents documents as sets of sliding windows (containing several sentences), where they built local and global topics for product feature extraction.

On the other hand, phrase-level sentiment analysis is attracting growing research interests. Morinaga et al. (2002) and Nasukawa and Yi (2003) have already provided evidences that working at the expression level is of interest to consumers of opinion-oriented information extraction. Another group of related work focuses on identifying a class of expressions, and has been proved to be effective in polarity identification for subjective expressions (Munson, Cardie, & Caruana, 2005; Riloff & Wiebe, 2003; Wilson et al., 2005). Pointed out in Wang et al. (2011), Baccianella et al. (2009), the bag-of-words assumption seriously hampers the aspect identification and rating accuracy of online reviews. With the increasing awareness of “Feature-Opinion” pairs in review mining, a series of work Lu et al. (2009), Luo et al. (2012) are proposed at the phrase level. In this paper, to extract fine-grained product features, our approach is implemented utilizing quad-tuples of (head, modifier, rating, entity) at the phrase level.

Ratable aspect generation methods (topic-sentiment mixture models) aim to decompose the opinionated reviews into aspects and analyze the opinions towards the aspects (Lu et al., 2009). Especially in recent years, Topic models (Lakkaraju, Bhattacharyya, Bhattacharya, & Merugu, 2011; Lu et al., 2009 Mei et al., Mei, Ling, Wondra, Su, & Zhai, 2007; Wang et al., 2010) have been applied to ratable aspect generation. Lu et al. (2009) adopted the unStructured and Structured PLSA for aspect identification, however, they did not consider rating or entity in the model generation stage. On the other hand, LDA based methods, such as MG-LDA (Titov & McDonald, 2008b), LocalLDA (Brody & Elhadad, 2010) and SLDA (Jo & Oh, 2011) are proposed for product feature extraction of different granularities. Unfortunately, all these methods are actually topic models rather than topic-sentiment mixture models, which only utilize word co-occurrences without incorporating sentiments (ratings/sentiment labels or opinion thesaurus).

Incorporating review rating into MG-LDA, the Multi-Aspect Sentiment model (MAS) (Titov & McDonald, 2008a) is proposed to model topic-sentiment association. Mei et al. (2007) defined the problem of topic-sentiment analysis on Weblogs and proposed Topic-Sentiment Mixture (TSM) model to capture sentiments and extract topic life cycles. Wang et al. (2010) proposed a rating regression approach for latent aspect rating analysis on reviews. One recent work Lakkaraju et al. (2011) also focuses on sentence level topic-sentiment mixture models, where the facet coherence and sentiment coherence are modeled as peer topics, and opinion words are adopted for sentiment modeling. Along this line of introducing sentiment labels into topic models, the Joint Sentiment Topic (JST) (Lin & He, 2011) and the Aspect and Sentiment Unification Model (ASUM) (Jo & Oh, 2011) propose a new generative process of sentiments and topics. As a matter of fact, all the above mentioned approaches represent reviews as bag-of-words. The major difference of our model from these work is that our model generates ratable aspects based on quad-tuples of (head, modifier, rating, entity), i.e., bag-of-phrases.

In this paper, our desideratum is to investigate the effectiveness of quad-tuple PLSA in review aspect mining. For comparison, a traditional 2-tuple PLSA–the Structured PLSA (Lu et al., 2009) is introduced. Moreover, the frequently used notations are summarized in Table 1
                     . The relevant concepts are described in the following.


                        Phrase A phrase 
                           
                              f
                              =
                              (
                              h
                              ,
                              m
                              )
                           
                         is a pair of head term h and modifier m.


                        Quad-tuple A quad-tuple 
                           
                              q
                              =
                              (
                              h
                              ,
                              m
                              ,
                              r
                              ,
                              e
                              )
                           
                         is a vector of head term h, modifier m, rating r and entity e. Given a review on entity e with rating r, we can generate a set of quad-tuples, denoted by {(h,m,r,e)∣Phrase f appears with rating r in a review of entity e}.


                        Aspect Cluster An aspect cluster 
                           
                              
                                 
                                    A
                                 
                                 
                                    i
                                 
                              
                           
                         is a cluster of head terms which share similar meaning in the given context. We represent 
                           
                              
                                 
                                    A
                                 
                                 
                                    i
                                 
                              
                              =
                              {
                              h
                              |
                              G
                              (
                              h
                              )
                              =
                              i
                              }
                           
                        , where 
                           
                              G
                           
                         is a mapping function that maps h to a cluster aspect 
                           
                              
                                 
                                    A
                                 
                                 
                                    i
                                 
                              
                           
                        .


                        Aspect Identification The goal of aspect identification is to find the mapping function 
                           
                              G
                           
                         that correctly assigns the aspect label for given head term h.


                        Aspect Rating Prediction The goal of aspect rating prediction is to find the rating function 
                           
                              R
                           
                         that predicts the rating for the aspects of the entity e. Formally, the rating function is given as:
                           
                              (1)
                              
                                 
                                    
                                       r
                                    
                                    
                                       
                                          
                                             A
                                          
                                          
                                             i
                                          
                                       
                                       ,
                                       e
                                    
                                 
                                 =
                                 {
                                 r
                                 |
                                 r
                                 =
                                 R
                                 (
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 e
                                 )
                                 }
                              
                           
                        where 
                           
                              
                                 
                                    r
                                 
                                 
                                    
                                       
                                          A
                                       
                                       
                                          i
                                       
                                    
                                    ,
                                    e
                                 
                              
                              ∈
                              [
                              
                                 
                                    r
                                 
                                 
                                    min
                                 
                              
                              ,
                              
                                 
                                    r
                                 
                                 
                                    max
                                 
                              
                              ]
                           
                         (
                           
                              
                                 
                                    r
                                 
                                 
                                    min
                                 
                              
                           
                         and 
                           
                              
                                 
                                    r
                                 
                                 
                                    max
                                 
                              
                           
                         are respectively the minimal and maximal number of rating) denotes the rating of the entity e on aspect 
                           
                              
                                 
                                    A
                                 
                                 
                                    i
                                 
                              
                           
                        , which is a real number. As mentioned previously, the aspects are firstly identified by 
                           
                              G
                           
                        .

As a traditional 2-tuple based PLSA framework, the Structured PLSA (SPLSA for short) adopts the phrases in the form of (head,
                        modifier) for aspect identification. Given the whole data 
                           
                              X
                           
                         composed of (head,
                        modifier) pairs, SPLSA arouses a mixture model with latent model topics z as follows,
                           
                              (2)
                              
                                 p
                                 (
                                 h
                                 ,
                                 m
                                 )
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          z
                                       
                                    
                                 
                                 p
                                 (
                                 h
                                 |
                                 z
                                 )
                                 p
                                 (
                                 z
                                 |
                                 m
                                 )
                                 p
                                 (
                                 m
                                 )
                                 .
                              
                           
                        The parameters of 
                           
                              p
                              (
                              z
                              |
                              m
                              )
                              ,
                              p
                              (
                              h
                              |
                              z
                              )
                           
                         and 
                           
                              p
                              (
                              m
                              )
                           
                         can be obtained using the EM algorithm by solving the maximum log likelihood problem in the following,
                           
                              (3)
                              
                                 log
                                 p
                                 (
                                 X
                                 |
                                 Λ
                                 )
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          h
                                          ,
                                          m
                                       
                                    
                                 
                                 n
                                 (
                                 h
                                 ,
                                 m
                                 )
                                 log
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          z
                                       
                                    
                                 
                                 p
                                 (
                                 h
                                 |
                                 z
                                 )
                                 p
                                 (
                                 z
                                 |
                                 m
                                 )
                                 p
                                 (
                                 m
                                 )
                                 ,
                              
                           
                        where 
                           
                              Λ
                           
                         denotes all the parameters, 
                           
                              n
                              (
                              h
                              ,
                              m
                              )
                           
                         is the number of co-occurrences of h and m. And the prior knowledge of seed words indicating specific aspect are injected as follows:
                           
                              (4)
                              
                                 p
                                 (
                                 h
                                 |
                                 z
                                 ;
                                 Λ
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             m
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       m
                                       )
                                       p
                                       (
                                       z
                                       |
                                       h
                                       ,
                                       m
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                       +
                                       σ
                                       p
                                       (
                                       h
                                       |
                                       
                                          
                                             z
                                          
                                          
                                             0
                                          
                                       
                                       )
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             
                                                
                                                   h
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                       
                                          
                                             ∑
                                          
                                          
                                             m
                                          
                                       
                                       n
                                       (
                                       
                                          
                                             h
                                          
                                          
                                             ′
                                          
                                       
                                       ,
                                       m
                                       )
                                       p
                                       (
                                       z
                                       |
                                       
                                          
                                             h
                                          
                                          
                                             ′
                                          
                                       
                                       ,
                                       m
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                       +
                                       σ
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    z
                                 
                                 
                                    0
                                 
                              
                           
                         denotes the priors corresponding to the latent topic z, and 
                           
                              σ
                           
                         is the confidential parameter of the head term h belonging to aspect 
                           
                              
                                 
                                    z
                                 
                                 
                                    0
                                 
                              
                           
                        . If there is prior knowledge for aspect 
                           
                              
                                 
                                    z
                                 
                                 
                                    0
                                 
                              
                              ,
                              σ
                           
                         is set with a large value, or else, 
                           
                              σ
                              =
                              0
                           
                        . Finally, each h is grouped into topic z with the largest probability of generating h, which was the aspect identification function in SPLSA (Lu et al., 2009):
                           
                              (5)
                              
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 G
                                 (
                                 h
                                 )
                                 =
                                 arg
                                 
                                 
                                    
                                       
                                          max
                                       
                                       
                                          z
                                       
                                    
                                 
                                 p
                                 (
                                 h
                                 |
                                 z
                                 )
                              
                           
                        
                     

With the focus on mining aspects among reviews, our method is inspired by the work of Lu et al. (2009), which decomposes reviews into head and modifier pairs. In this work, we further incorporate entity and its rating into the PLSA framework to jointly analyze relationships between entity, rating and aspects. Despite more complex in the training process, QPLSA estimates the joint probability distributions of quad-tuples and gains better results in aspect identification and rating.

In the QPLSA framework, quad-tuples 
                           
                              (
                              h
                              ,
                              m
                              ,
                              r
                              ,
                              e
                              )
                           
                         are constructed and adopted. The directed lines between the nodes in Fig. 2
                         are determined by the understandings in the dependency relationships among these variables. As illustrated in Fig. 2, QPLSA is a novel probability generation model, where entities are associated with aspects and ratings, under which aspects are associated with ratings, and words (heads and modifiers) are associated with both aspects and ratings.

Specifically, given a latent topic z, we assume that h and m are conditionally independent. Also, a reviewer may show different judgement toward different aspects of the same entity. Thus, aspect rating r is jointly dependent on entity e and latent topic z. From the graphic model on the right in Fig. 2, we can write the joint probability over all variables as follows:
                           
                              (6)
                              
                                 p
                                 (
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 ,
                                 e
                                 ,
                                 z
                                 )
                                 =
                                 p
                                 (
                                 m
                                 |
                                 z
                                 )
                                 p
                                 (
                                 h
                                 |
                                 z
                                 )
                                 p
                                 (
                                 r
                                 |
                                 z
                                 ,
                                 e
                                 )
                                 p
                                 (
                                 z
                                 |
                                 e
                                 )
                                 p
                                 (
                                 e
                                 )
                                 .
                              
                           
                        Let 
                           
                              Z
                           
                         denote all the latent variables, and given the whole data 
                           
                              X
                           
                        , suppose the joint distribution follows the multi-nomial distribution, all the parameters can be approximated by maximizing the following log likelihood function,
                           
                              (7)
                              
                                 log
                                 p
                                 (
                                 X
                                 |
                                 Λ
                                 )
                                 =
                                 log
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          Z
                                       
                                    
                                 
                                 p
                                 (
                                 X
                                 ,
                                 Z
                                 |
                                 Λ
                                 )
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          h
                                          ,
                                          m
                                          ,
                                          r
                                          ,
                                          e
                                       
                                    
                                 
                                 n
                                 (
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 ,
                                 e
                                 )
                                 log
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          z
                                       
                                    
                                 
                                 p
                                 (
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 ,
                                 e
                                 ,
                                 z
                                 |
                                 Λ
                                 )
                                 ,
                              
                           
                        where 
                           
                              Λ
                           
                         includes the parameters of 
                           
                              p
                              (
                              m
                              |
                              z
                              )
                              ,
                              p
                              (
                              h
                              |
                              z
                              )
                           
                        , 
                           
                              p
                              (
                              r
                              |
                              z
                              ,
                              e
                              )
                              ,
                              p
                              (
                              z
                              |
                              e
                              )
                           
                         and 
                           
                              p
                              (
                              e
                              )
                              ,
                              n
                              (
                              h
                              ,
                              m
                              ,
                              r
                              ,
                              e
                              )
                           
                         is the number of co-occurrences of 
                           
                              h
                              ,
                              m
                              ,
                              r
                           
                         and e. The derivation of EM algorithm is detailed in next subsection.

An EM solution is to maximize the lower bound (Jensen’s inequality) 
                           
                              
                                 
                                    L
                                 
                                 
                                    0
                                 
                              
                           
                         of (7),
                        
                           
                              (8)
                              
                                 
                                    
                                       L
                                    
                                    
                                       0
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          z
                                       
                                    
                                 
                                 q
                                 (
                                 z
                                 )
                                 log
                                 
                                    
                                       
                                          
                                             
                                                p
                                                (
                                                h
                                                ,
                                                m
                                                ,
                                                r
                                                ,
                                                e
                                                ,
                                                z
                                                |
                                                Λ
                                                )
                                             
                                             
                                                q
                                                (
                                                z
                                                )
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        where 
                           
                              q
                              (
                              z
                              )
                           
                         could be an arbitrary function, and here we set 
                           
                              q
                              (
                              z
                              )
                              =
                              p
                              (
                              z
                              |
                              h
                              ,
                              m
                              ,
                              r
                              ,
                              e
                              ;
                              
                                 
                                    Λ
                                 
                                 
                                    old
                                 
                              
                              )
                           
                         and substitute into (8):
                           
                              (9)
                              
                                 
                                    
                                       L
                                    
                                    
                                       0
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      z
                                                   
                                                
                                                p
                                                (
                                                z
                                                |
                                                h
                                                ,
                                                m
                                                ,
                                                r
                                                ,
                                                e
                                                ;
                                                
                                                   
                                                      Λ
                                                   
                                                   
                                                      old
                                                   
                                                
                                                )
                                                log
                                                p
                                                (
                                                z
                                                ,
                                                h
                                                ,
                                                m
                                                ,
                                                r
                                                ,
                                                e
                                                |
                                                Λ
                                                )
                                             
                                             
                                                ︸
                                             
                                          
                                       
                                       
                                          L
                                       
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      z
                                                   
                                                
                                                p
                                                (
                                                z
                                                |
                                                h
                                                ,
                                                m
                                                ,
                                                r
                                                ,
                                                e
                                                ;
                                                
                                                   
                                                      Λ
                                                   
                                                   
                                                      old
                                                   
                                                
                                                )
                                                log
                                                {
                                                p
                                                (
                                                z
                                                |
                                                h
                                                ,
                                                m
                                                ,
                                                r
                                                ,
                                                e
                                                ;
                                                
                                                   
                                                      Λ
                                                   
                                                   
                                                      old
                                                   
                                                
                                                )
                                                }
                                             
                                             
                                                ︸
                                             
                                          
                                       
                                       
                                          const
                                       
                                    
                                 
                                 =
                                 L
                                 +
                                 const
                                 .
                              
                           
                        In the E-step, the update formulae for the posterior probabilities of the latent variables associated with each quad-tuple:
                           
                              (10)
                              
                                 L
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          h
                                          ,
                                          m
                                          ,
                                          r
                                          ,
                                          e
                                          ,
                                          z
                                       
                                    
                                 
                                 n
                                 (
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 ,
                                 e
                                 )
                                 p
                                 (
                                 z
                                 |
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 ,
                                 e
                                 ;
                                 
                                    
                                       Λ
                                    
                                    
                                       old
                                    
                                 
                                 )
                                 ·
                                 log
                                 [
                                 p
                                 (
                                 e
                                 )
                                 p
                                 (
                                 z
                                 |
                                 e
                                 )
                                 p
                                 (
                                 h
                                 |
                                 z
                                 )
                                 p
                                 (
                                 m
                                 |
                                 z
                                 )
                                 p
                                 (
                                 r
                                 |
                                 e
                                 ,
                                 z
                                 )
                                 ]
                                 ,
                              
                           
                        where
                           
                              (11)
                              
                                 p
                                 (
                                 z
                                 |
                                 e
                                 ,
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 )
                                 =
                                 
                                    
                                       p
                                       (
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       e
                                       )
                                       p
                                       (
                                       h
                                       |
                                       z
                                       )
                                       p
                                       (
                                       m
                                       |
                                       z
                                       )
                                       p
                                       (
                                       r
                                       |
                                       e
                                       ,
                                       z
                                       )
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             z
                                          
                                       
                                       p
                                       (
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       e
                                       )
                                       p
                                       (
                                       h
                                       |
                                       z
                                       )
                                       p
                                       (
                                       m
                                       |
                                       z
                                       )
                                       p
                                       (
                                       r
                                       |
                                       e
                                       ,
                                       z
                                       )
                                    
                                 
                                 .
                              
                           
                        In the M-step, we maximize 
                           
                              L
                           
                         with its parameters by Lagrangian Multiplier method. Expand 
                           
                              L
                           
                         and extract the terms containing 
                           
                              p
                              (
                              h
                              |
                              z
                              )
                           
                        . Then, we have 
                           
                              
                                 
                                    L
                                 
                                 
                                    [
                                    p
                                    (
                                    h
                                    |
                                    z
                                    )
                                    ]
                                 
                              
                           
                         and apply the constraint 
                           
                              
                                 
                                    ∑
                                 
                                 
                                    h
                                 
                              
                              p
                              (
                              h
                              |
                              z
                              )
                              =
                              1
                           
                         into the following equation:
                           
                              (12)
                              
                                 
                                    
                                       ∂
                                       [
                                       
                                          
                                             L
                                          
                                          
                                             [
                                             p
                                             (
                                             h
                                             |
                                             z
                                             )
                                             ]
                                          
                                       
                                       +
                                       λ
                                       (
                                       
                                          
                                             ∑
                                          
                                          
                                             h
                                          
                                       
                                       p
                                       (
                                       h
                                       |
                                       z
                                       )
                                       -
                                       1
                                       )
                                       ]
                                    
                                    
                                       ∂
                                       p
                                       (
                                       h
                                       |
                                       z
                                       )
                                    
                                 
                                 =
                                 0
                                 ,
                              
                           
                        we have
                           
                              (13)
                              
                                 
                                    
                                       p
                                    
                                    
                                       ˆ
                                    
                                 
                                 (
                                 h
                                 |
                                 z
                                 )
                                 ∝
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          m
                                          ,
                                          r
                                          ,
                                          e
                                       
                                    
                                 
                                 p
                                 (
                                 z
                                 |
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 ,
                                 e
                                 ;
                                 
                                    
                                       Λ
                                    
                                    
                                       old
                                    
                                 
                                 )
                                 .
                              
                           
                        Note that 
                           
                              
                                 
                                    p
                                 
                                 
                                    ˆ
                                 
                              
                              (
                              h
                              |
                              z
                              )
                           
                         should be normalized via
                           
                              (14)
                              
                                 
                                    
                                       p
                                    
                                    
                                       ˆ
                                    
                                 
                                 (
                                 h
                                 |
                                 z
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             m
                                             ,
                                             r
                                             ,
                                             e
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             
                                                
                                                   h
                                                
                                                
                                                   ′
                                                
                                             
                                             ,
                                             m
                                             ,
                                             r
                                             ,
                                             e
                                          
                                       
                                       n
                                       (
                                       
                                          
                                             h
                                          
                                          
                                             ′
                                          
                                       
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       
                                          
                                             h
                                          
                                          
                                             ′
                                          
                                       
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                    
                                 
                                 .
                              
                           
                        Similarly, we can obtain other empirical distributions as follows:
                           
                              (15)
                              
                                 p
                                 (
                                 e
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             z
                                             ,
                                             h
                                             ,
                                             m
                                             ,
                                             r
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       e
                                       ,
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             h
                                             ,
                                             m
                                             ,
                                             r
                                             ,
                                             e
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (16)
                              
                                 p
                                 (
                                 z
                                 |
                                 e
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             h
                                             ,
                                             m
                                             ,
                                             r
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       e
                                       ,
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             h
                                             ,
                                             m
                                             ,
                                             r
                                             ,
                                             
                                                
                                                   z
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       
                                          
                                             z
                                          
                                          
                                             ′
                                          
                                       
                                       |
                                       e
                                       ,
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (17)
                              
                                 p
                                 (
                                 m
                                 |
                                 z
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             e
                                             ,
                                             h
                                             ,
                                             r
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       e
                                       ,
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             e
                                             ,
                                             h
                                             ,
                                             r
                                             ,
                                             
                                                
                                                   m
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       
                                          
                                             m
                                          
                                          
                                             ′
                                          
                                       
                                       ,
                                       r
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       e
                                       ,
                                       h
                                       ,
                                       
                                          
                                             m
                                          
                                          
                                             ′
                                          
                                       
                                       ,
                                       r
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (18)
                              
                                 p
                                 (
                                 r
                                 |
                                 z
                                 ,
                                 e
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             h
                                             ,
                                             m
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       e
                                       ,
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             h
                                             ,
                                             m
                                             ,
                                             
                                                
                                                   r
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       m
                                       ,
                                       
                                          
                                             r
                                          
                                          
                                             ′
                                          
                                       
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       e
                                       ,
                                       h
                                       ,
                                       m
                                       ,
                                       
                                          
                                             r
                                          
                                          
                                             ′
                                          
                                       
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                    
                                 
                                 .
                              
                           
                        
                     

We use a unigram language model 
                           
                              p
                              (
                              h
                              |
                              z
                              )
                           
                         to inject the prior knowledge for the aspect z. For instance, the aspect “food” may include a few seed words such as “breakfast”, “potato”, “drink”, and we can assign the conditional probability 
                           
                              p
                              (
                              breakfast
                              |
                              food
                              )
                              ,
                              p
                              (
                              potato
                              |
                              food
                              )
                           
                         and 
                           
                              p
                              (
                              drink
                              |
                              food
                              )
                           
                         with a high value of probability 
                           
                              τ
                           
                         (e.g., 
                           
                              τ
                              (
                              0
                              ⩽
                              τ
                              ⩽
                              1
                              )
                           
                         is a pre-defined threshold).

Similarly with the method in Lu et al. (2009), we introduce a conjugate Dirichlet prior on each unigram language model, parameterized as 
                           
                              Dir
                              (
                              σ
                              p
                              (
                              h
                              |
                              z
                              )
                              +
                              1
                              )
                           
                        , and 
                           
                              σ
                           
                         denotes the confidence for the prior knowledge of aspect z. Specifically, the prior for all the parameters is given by:
                           
                              (19)
                              
                                 p
                                 (
                                 Λ
                                 )
                                 ∝
                                 
                                    
                                       
                                          ∏
                                       
                                       
                                          z
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∏
                                       
                                       
                                          h
                                       
                                    
                                 
                                 p
                                 
                                    
                                       (
                                       h
                                       |
                                       z
                                       )
                                    
                                    
                                       σ
                                       p
                                       (
                                       h
                                       |
                                       z
                                       )
                                    
                                 
                              
                           
                        where 
                           
                              σ
                              =
                              0
                           
                         if we have no prior knowledge on z. Note that adding the prior can be interpreted as increasing the counts for head term h by 
                           
                              σ
                              +
                              1
                           
                         times when estimating 
                           
                              p
                              (
                              h
                              |
                              z
                              )
                           
                        . Therefore, we have:
                           
                              (20)
                              
                                 p
                                 (
                                 h
                                 |
                                 z
                                 ;
                                 Λ
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             m
                                             ,
                                             r
                                             ,
                                             e
                                          
                                       
                                       n
                                       (
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       h
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                       +
                                       σ
                                       p
                                       (
                                       h
                                       |
                                       z
                                       )
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             
                                                
                                                   h
                                                
                                                
                                                   ′
                                                
                                             
                                             ,
                                             m
                                             ,
                                             r
                                             ,
                                             e
                                          
                                       
                                       n
                                       (
                                       
                                          
                                             h
                                          
                                          
                                             ′
                                          
                                       
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       )
                                       p
                                       (
                                       z
                                       |
                                       
                                          
                                             h
                                          
                                          
                                             ′
                                          
                                       
                                       ,
                                       m
                                       ,
                                       r
                                       ,
                                       e
                                       ;
                                       
                                          
                                             Λ
                                          
                                          
                                             old
                                          
                                       
                                       )
                                       +
                                       σ
                                    
                                 
                                 .
                              
                           
                        
                     

As mentioned previously, the goal of aspect identification is to find the mapping function 
                           
                              G
                           
                         that correctly assigns the aspect label for given head term h. Specifically, we follow the mapping function 
                           
                              G
                           
                         as SPLSA (Lu et al., 2009):
                           
                              (21)
                              
                                 G
                                 (
                                 h
                                 )
                                 =
                                 arg
                                 
                                 
                                    
                                       
                                          max
                                       
                                       
                                          z
                                       
                                    
                                 
                                 p
                                 (
                                 h
                                 |
                                 z
                                 )
                                 ,
                              
                           
                        where the aspect which generates h with the largest probability is considered as the aspect label for head term h.

The goal of aspect rating prediction is to find the rating function 
                           
                              R
                           
                         that predicts the rating for different aspects of entity e. Specifically, we first describe the prediction methods in Lu et al. (2009) and then propose another 2 novel prediction methods.

As is discussed in Lu et al. (2009), the local prediction only uses the local information, i.e., the overall rating of the exact comment where the phrase appears for aspect rating. For the purpose of clarity, local prediction and global prediction are distinguished by whether to directly assign the local overall ratings to different aspect ratings (local) or not (global). Formally, the function for rating prediction is:
                              
                                 (22)
                                 
                                    r
                                    (
                                    f
                                    ∈
                                    t
                                    )
                                    =
                                    r
                                    (
                                    t
                                    )
                                    ∈
                                    {
                                    
                                       
                                          r
                                       
                                       
                                          min
                                       
                                    
                                    ,
                                    …
                                    ,
                                    
                                       
                                          r
                                       
                                       
                                          max
                                       
                                    
                                    }
                                    ,
                                 
                              
                           where 
                              
                                 
                                    
                                       r
                                    
                                    
                                       min
                                    
                                 
                              
                            (integer) denotes the minimum rating, and 
                              
                                 
                                    
                                       r
                                    
                                    
                                       max
                                    
                                 
                              
                            (integer) denotes the maximal rating of the reviews. Eq. (22) assigns the overall rating r of review t to the phrase f, positing that the overall rating is consistent with the opinions in the review.

For the global prediction, the rating function is learned based on global information. In particular, each aspect 
                              
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                              
                            is empirically estimated with 
                              
                                 
                                    
                                       r
                                    
                                    
                                       max
                                    
                                 
                                 -
                                 
                                    
                                       r
                                    
                                    
                                       min
                                    
                                 
                                 +
                                 1
                              
                            rating models. In the global prediction framework, the modifiers are correlated with the specified rating value through empirical probability distribution of modifiers regarding to aspects. Formally, the distribution of the modifier conditioned on rating and aspect is obtained as:
                              
                                 (23)
                                 
                                    p
                                    (
                                    m
                                    |
                                    
                                       
                                          A
                                       
                                       
                                          i
                                       
                                    
                                    ,
                                    r
                                    )
                                    =
                                    
                                       
                                          n
                                          (
                                          m
                                          ,
                                          S
                                          (
                                          
                                             
                                                A
                                             
                                             
                                                i
                                             
                                          
                                          ,
                                          r
                                          )
                                          )
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                
                                                   
                                                      m
                                                   
                                                   
                                                      ′
                                                   
                                                
                                                ∈
                                                
                                                   
                                                      V
                                                   
                                                   
                                                      m
                                                   
                                                
                                             
                                          
                                          n
                                          (
                                          
                                             
                                                m
                                             
                                             
                                                ′
                                             
                                          
                                          ,
                                          S
                                          (
                                          
                                             
                                                A
                                             
                                             
                                                i
                                             
                                          
                                          ,
                                          r
                                          )
                                          )
                                       
                                    
                                 
                              
                           where m denotes the modifier, 
                              
                                 S
                                 (
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 r
                                 )
                              
                            is the subset of phrases assigned to 
                              
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                              
                            with rating r, and 
                              
                                 n
                                 (
                                 m
                                 ,
                                 S
                                 (
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 r
                                 )
                                 )
                              
                            is the total number of modifier m in 
                              
                                 S
                                 (
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 r
                                 )
                              
                           . Formally, 
                              
                                 S
                                 (
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 r
                                 )
                              
                            is calculated as:
                              
                                 (24)
                                 
                                    S
                                    (
                                    
                                       
                                          A
                                       
                                       
                                          i
                                       
                                    
                                    ,
                                    r
                                    )
                                    =
                                    {
                                    f
                                    |
                                    f
                                    ∈
                                    t
                                    ,
                                    G
                                    (
                                    h
                                    )
                                    =
                                    
                                       
                                          A
                                       
                                       
                                          i
                                       
                                    
                                    ,
                                    f
                                    =
                                    (
                                    h
                                    ,
                                    m
                                    )
                                    ,
                                    
                                    the
                                    
                                    rating
                                    
                                    of
                                    
                                    t
                                    
                                    is
                                    
                                    r
                                    }
                                 
                              
                           where t denotes the review that phrase f belongs to, and 
                              
                                 G
                              
                            is the mapping function for aspect identification. After the conditional distribution for modifiers are estimated, the aspect rating prediction function is given as:
                              
                                 (25)
                                 
                                    r
                                    (
                                    f
                                    )
                                    =
                                    arg
                                    
                                    
                                       
                                          
                                             max
                                          
                                          
                                             r
                                          
                                       
                                    
                                    p
                                    (
                                    m
                                    |
                                    G
                                    (
                                    h
                                    )
                                    ,
                                    r
                                    )
                                    ,
                                 
                              
                           where phrase 
                              
                                 f
                                 =
                                 (
                                 h
                                 ,
                                 m
                                 )
                              
                            is rated with the rating that is most likely to accompany with the modifier m together with the aspect 
                              
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 G
                                 (
                                 h
                                 )
                              
                            . As can be seen, the global prediction method rates each phrase f with the maximal conditional probability. Note that although the global prediction rates phrases from the global perspective, the overall rating of test data is still necessary to compute 
                              
                                 p
                                 (
                                 m
                                 |
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 r
                                 )
                              
                           .

Since both the local prediction and the global prediction only predicts the rating of phrases in review t, using the aspect label of phrases in the Aspect Identification stage, we predict the aspect rating about 
                              
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                              
                            of each entity e as:
                              
                                 (26)
                                 
                                    
                                       
                                          r
                                       
                                       
                                          e
                                          ,
                                          
                                             
                                                A
                                             
                                             
                                                i
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                {
                                                h
                                                ∈
                                                
                                                all
                                                
                                                phrases
                                                
                                                of
                                                
                                                e
                                                }
                                             
                                          
                                          {
                                          
                                             
                                                ∑
                                             
                                             
                                                G
                                                (
                                                h
                                                )
                                                =
                                                
                                                   
                                                      A
                                                   
                                                   
                                                      i
                                                   
                                                
                                             
                                          
                                          r
                                          (
                                          f
                                          )
                                          }
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                {
                                                h
                                                ∈
                                                
                                                all
                                                
                                                phrases
                                                
                                                of
                                                
                                                e
                                                }
                                             
                                          
                                          {
                                          
                                             
                                                ∑
                                             
                                             
                                                G
                                                (
                                                h
                                                )
                                                =
                                                
                                                   
                                                      A
                                                   
                                                   
                                                      i
                                                   
                                                
                                             
                                          
                                          1
                                          }
                                       
                                    
                                    ,
                                 
                              
                           where 
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       {
                                       h
                                       ∈
                                       
                                       all
                                       
                                       phrases
                                       
                                       of
                                       
                                       e
                                       }
                                    
                                 
                                 {
                                 
                                    
                                       ∑
                                    
                                    
                                       G
                                       (
                                       h
                                       )
                                       =
                                       
                                          
                                             A
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 1
                                 }
                              
                            counts the total number of head terms in phrases that belong to the aspect 
                              
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                              
                            among all reviews of entity e. This equation calculates the average rating of all phrases for specific aspect.

Note that for the local prediction, the overall rating is adopted to quantify the opinions in reviews. This estimation works based on the assumption that the authors’ attitude towards aspects is consistent with the overall rating. As a matter of fact, both prediction methods are invalid to reviews without overall ratings (i.e., overall rating is necessary for test data).

For the Quad-tuple Prediction, the rating function is obtained through the quad-tuples. Specifically, we estimate the aspect rating as follows:
                              
                                 (27)
                                 
                                    
                                       
                                          r
                                       
                                       
                                          e
                                          ,
                                          
                                             
                                                A
                                             
                                             
                                                i
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                (
                                                h
                                                ,
                                                m
                                                )
                                                ∈
                                                
                                                all
                                                
                                                reviews
                                                
                                                of
                                                
                                                e
                                             
                                          
                                          
                                             
                                                ∑
                                             
                                             
                                                r
                                             
                                          
                                          r
                                          ·
                                          p
                                          (
                                          
                                             
                                                A
                                             
                                             
                                                i
                                             
                                          
                                          ,
                                          r
                                          |
                                          h
                                          ,
                                          m
                                          )
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                (
                                                h
                                                ,
                                                m
                                                )
                                                ∈
                                                
                                                all
                                                
                                                reviews
                                                
                                                of
                                                
                                                e
                                             
                                          
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   r
                                                
                                             
                                          
                                          p
                                          (
                                          
                                             
                                                A
                                             
                                             
                                                i
                                             
                                          
                                          ,
                                          r
                                          |
                                          h
                                          ,
                                          m
                                          )
                                       
                                    
                                 
                              
                           where 
                              
                                 p
                                 (
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 r
                                 |
                                 h
                                 ,
                                 m
                                 )
                              
                            can be computed using the joint probabilities acquired in QPLSA. For brevity and conformity, we substitute z for aspect 
                              
                                 
                                    
                                       A
                                    
                                    
                                       i
                                    
                                 
                              
                            in conformity with Fig. 2. Therefore, 
                              
                                 p
                                 (
                                 z
                                 ,
                                 r
                                 |
                                 h
                                 ,
                                 m
                                 )
                              
                            is formulated as:
                              
                                 (28)
                                 
                                    p
                                    (
                                    z
                                    ,
                                    r
                                    |
                                    h
                                    ,
                                    m
                                    )
                                    =
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                e
                                             
                                          
                                          p
                                          (
                                          e
                                          ,
                                          z
                                          ,
                                          h
                                          ,
                                          m
                                          ,
                                          r
                                          )
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                z
                                             
                                          
                                          
                                             
                                                ∑
                                             
                                             
                                                r
                                             
                                          
                                          
                                             
                                                ∑
                                             
                                             
                                                e
                                             
                                          
                                          p
                                          (
                                          e
                                          ,
                                          z
                                          ,
                                          h
                                          ,
                                          m
                                          ,
                                          r
                                          )
                                       
                                    
                                 
                              
                           where the phrase f (consisting of h and m) is rated in a probabilistic manner regarding to the aspect z of h, and 
                              
                                 p
                                 (
                                 e
                                 ,
                                 z
                                 ,
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 )
                              
                            can be calculated as Eq. (6). As can be seen, QPLSA learns the joint probability distribution of phrases, aspects and ratings from training data, and predicts aspect rating from the global perspective.

Specifically, for SPLSA, there is no attempt to estimate 
                              
                                 p
                                 (
                                 z
                                 ,
                                 r
                                 |
                                 h
                                 ,
                                 m
                                 )
                              
                           . To apply this prediction method to the SPLSA, we construct 
                              
                                 p
                                 (
                                 z
                                 ,
                                 r
                                 |
                                 h
                                 ,
                                 m
                                 )
                              
                            for SPLSA as:
                              
                                 (29)
                                 
                                    p
                                    (
                                    z
                                    ,
                                    r
                                    |
                                    h
                                    ,
                                    m
                                    )
                                    =
                                    
                                       
                                          p
                                          (
                                          z
                                          |
                                          h
                                          )
                                          p
                                          (
                                          m
                                          |
                                          z
                                          )
                                          ·
                                          (
                                          n
                                          (
                                          h
                                          ,
                                          m
                                          ,
                                          r
                                          )
                                          /
                                          
                                             
                                                ∑
                                             
                                             
                                                r
                                             
                                          
                                          n
                                          (
                                          h
                                          ,
                                          m
                                          ,
                                          r
                                          )
                                          )
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                z
                                                ,
                                                r
                                             
                                          
                                          [
                                          p
                                          (
                                          z
                                          |
                                          h
                                          )
                                          p
                                          (
                                          m
                                          |
                                          z
                                          )
                                          ·
                                          (
                                          n
                                          (
                                          h
                                          ,
                                          m
                                          ,
                                          r
                                          )
                                          /
                                          
                                             
                                                ∑
                                             
                                             
                                                r
                                             
                                          
                                          n
                                          (
                                          h
                                          ,
                                          m
                                          ,
                                          r
                                          )
                                          )
                                          ]
                                       
                                    
                                 
                              
                           where 
                              
                                 n
                                 (
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 )
                              
                            is the number of co-occurrences of head h, modifier m and rating r. We consider 
                              
                                 n
                                 (
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 )
                                 /
                                 
                                    
                                       ∑
                                    
                                    
                                       r
                                    
                                 
                                 n
                                 (
                                 h
                                 ,
                                 m
                                 ,
                                 r
                                 )
                              
                            as 
                              
                                 p
                                 (
                                 r
                                 |
                                 h
                                 ,
                                 m
                                 )
                              
                           , i.e., the empirical probability of r conditioned on h and m. As the SPLSA makes no effort to learn the relationship between r and words, overall rating for the test data is again necessary to compute the probability in Eq. (29). Quad-tuple Prediction for SPLSA just employs the local overall rating for aspect rating, which is not a global but a local prediction approach. Note that SPLSA only learns the probability distribution for 
                              
                                 p
                                 (
                                 z
                                 |
                                 h
                                 )
                              
                            and 
                              
                                 p
                                 (
                                 m
                                 |
                                 z
                                 )
                              
                           , thence the Quad-tuple Prediction is simply constructed (but not learned) for experimental comparison to QPLSA.

Differently, Expectation Prediction learns the rating function in an expectation estimation manner. We consider 
                              
                                 
                                    
                                       r
                                    
                                    
                                       e
                                       ,
                                       z
                                    
                                 
                              
                            as the expectation of rating on the distribution 
                              
                                 p
                                 (
                                 r
                                 |
                                 e
                                 ,
                                 z
                                 )
                              
                           : 
                              
                                 (30)
                                 
                                    
                                       
                                          r
                                       
                                       
                                          e
                                          ,
                                          z
                                       
                                    
                                    =
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             r
                                          
                                       
                                    
                                    r
                                    ·
                                    p
                                    (
                                    r
                                    |
                                    e
                                    ,
                                    z
                                    )
                                 
                              
                           where 
                              
                                 p
                                 (
                                 r
                                 |
                                 e
                                 ,
                                 z
                                 )
                              
                            is obtained in the model generation stage, which is also calculated through summing up phrase ratings, and could be obtained directly in our QPLSA model according to Eq. (18). The Expectation Prediction in QPLSA is more global than Local Prediction in that it learns 
                              
                                 p
                                 (
                                 r
                                 |
                                 e
                                 ,
                                 z
                                 )
                              
                            and assigns rating r to entity e with respect to aspect z. We compute 
                              
                                 p
                                 (
                                 r
                                 |
                                 e
                                 ,
                                 z
                                 )
                              
                            for SPLSA as:
                              
                                 (31)
                                 
                                    p
                                    (
                                    r
                                    |
                                    e
                                    ,
                                    z
                                    )
                                    =
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                h
                                                ∈
                                                {
                                                all
                                                
                                                phrases
                                                
                                                of
                                                
                                                e
                                                }
                                             
                                          
                                          n
                                          (
                                          r
                                          ,
                                          e
                                          ,
                                          G
                                          (
                                          h
                                          )
                                          =
                                          z
                                          )
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                r
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         h
                                                         ∈
                                                         {
                                                         all
                                                         
                                                         phrases
                                                         
                                                         of
                                                         
                                                         e
                                                         }
                                                      
                                                   
                                                   n
                                                   (
                                                   r
                                                   ,
                                                   e
                                                   ,
                                                   G
                                                   (
                                                   h
                                                   )
                                                   =
                                                   z
                                                   )
                                                
                                             
                                          
                                       
                                    
                                    ,
                                 
                              
                           where 
                              
                                 n
                                 (
                                 r
                                 ,
                                 e
                                 ,
                                 G
                                 (
                                 h
                                 )
                                 =
                                 z
                                 )
                              
                            denotes the number of head terms in the phrases among review corpus of e belonging to the aspect z. Note that for all the different aspects z, Eq. (31) directly allocates the overall rating r to them uniformly. Consequently, the overall ratings for the test data are necessary for the Expectation Prediction in SPLSA. In this case, the Expectation Prediction for the SPLSA assigns each phrase with the overall rating, which actually the same as the Local one for SPLSA.

Note that all the aspect ratings are estimated at the phrase level, thence aspect rating of sentences, reviews and entities could all be acquired by aggregating aspect ratings of phrases. In this paper, we perform experiments at the entity level for simplicity and better comparison. However, the comparison could be carried out at any level if necessary.

As mentioned previously, the SPLSA does not aim to correlate the rating with words in the model generation process, it is unfeasible to directly apply the Quad-tuple Prediction and the Expectation Prediction for the SPLSA. Therefore, for the SPLSA, these prediction methods strongly demand the test data accompanied with overall ratings for joint probability estimation. While in the QPLSA, for the Quad-tuple Prediction and Expectation Prediction, the overall ratings for the test data are unnecessary. Specifically, we list whether or not the overall rating is necessary for test data of SPLSA/QPLSA as Table 2
                        , where LP is Local Prediction, GP is Global Prediction, QP denotes Quad-tuple Prediction and EP represents the Expectation Prediction. It is indicated that, the SPLSA needs more supervised information than QPLSA for aspect rating.

Indeed, QPLSA is a semi-supervised topic model to predict the review aspect ratings in view of overall ratings. The supervised knowledge — overall rating is used as the guideline for aspect rating prediction. As you may notice, this guideline works well when the aspect ratings are consistent with the overall rating. In this analogy, the average of aspect ratings could also guide the rating prediction as long as the aspect ratings are consistent with the average rating. Specifically, systematic experiments are carried out to evaluate the variance of aspect ratings (consistent with the overall rating or not) in Section 5.


                        QPLSA: The time complexity of generative process of QPLSA is 
                           
                              O
                              (
                              (
                              
                                 
                                    L
                                 
                                 
                                    f
                                 
                              
                              +
                              
                                 
                                    N
                                 
                                 
                                    r
                                 
                              
                              ×
                              
                                 
                                    N
                                 
                                 
                                    e
                                 
                              
                              )
                              ×
                              K
                              ×
                              Iter
                              )
                           
                        , and the space complexity is 
                           
                              O
                              (
                              (
                              
                                 
                                    N
                                 
                                 
                                    m
                                 
                              
                              +
                              
                                 
                                    N
                                 
                                 
                                    h
                                 
                              
                              +
                              
                                 
                                    N
                                 
                                 
                                    e
                                 
                              
                              +
                              
                                 
                                    N
                                 
                                 
                                    r
                                 
                              
                              ×
                              
                                 
                                    N
                                 
                                 
                                    e
                                 
                              
                              +
                              
                                 
                                    L
                                 
                                 
                                    f
                                 
                              
                              )
                              ×
                              K
                              )
                           
                        , where 
                           
                              
                                 
                                    L
                                 
                                 
                                    f
                                 
                              
                           
                         denotes the length of the phrase set, K is the number of topics, 
                           
                              
                                 
                                    N
                                 
                                 
                                    r
                                 
                              
                           
                         represents the number of distinct ratings, 
                           
                              
                                 
                                    N
                                 
                                 
                                    e
                                 
                              
                           
                         is the number of entities, Iter denotes the iteration times, 
                           
                              
                                 
                                    N
                                 
                                 
                                    m
                                 
                              
                           
                         is the number of distinct modifiers, 
                           
                              
                                 
                                    N
                                 
                                 
                                    h
                                 
                              
                           
                         denotes the number of different heads.


                        Local Prediction and Global Prediction: Time complexity for local prediction is 
                           
                              O
                              (
                              
                                 
                                    L
                                 
                                 
                                    f
                                 
                              
                              )
                           
                        , and the space complexity is 
                           
                              O
                              (
                              1
                              )
                           
                        . While for the global prediction, the time complexity is 
                           
                              O
                              (
                              
                                 
                                    N
                                 
                                 
                                    m
                                 
                              
                              ×
                              K
                              ×
                              
                                 
                                    N
                                 
                                 
                                    r
                                 
                              
                              )
                           
                        , and the space complexity is 
                           
                              O
                              (
                              
                                 
                                    N
                                 
                                 
                                    m
                                 
                              
                              ×
                              K
                              ×
                              
                                 
                                    N
                                 
                                 
                                    r
                                 
                              
                              )
                           
                        .


                        Quad-tuple Prediction: The time complexity for Quad-tuple Prediction is 
                           
                              O
                              (
                              
                                 
                                    N
                                 
                                 
                                    e
                                 
                              
                              ×
                              
                                 
                                    N
                                 
                                 
                                    r
                                 
                              
                              ×
                              
                                 
                                    L
                                 
                                 
                                    e
                                 
                              
                              ×
                              K
                              )
                           
                        , where 
                           
                              
                                 
                                    L
                                 
                                 
                                    e
                                 
                              
                           
                         denotes the number of phrases belonging to entity e. And the space complexity is 
                           
                              O
                              (
                              
                                 
                                    N
                                 
                                 
                                    r
                                 
                              
                              ×
                              K
                              ×
                              
                                 
                                    N
                                 
                                 
                                    h
                                 
                              
                              ×
                              
                                 
                                    N
                                 
                                 
                                    m
                                 
                              
                              )
                           
                        .


                        Expectation Prediction: The time complexity for Expectation Prediction is 
                           
                              O
                              (
                              
                                 
                                    N
                                 
                                 
                                    e
                                 
                              
                              ×
                              
                                 
                                    N
                                 
                                 
                                    r
                                 
                              
                              ×
                              K
                              )
                           
                        , where 
                           
                              
                                 
                                    L
                                 
                                 
                                    e
                                 
                              
                           
                         denotes the number of phrases belonging to entity e. And the space complexity is 
                           
                              O
                              (
                              
                                 
                                    N
                                 
                                 
                                    e
                                 
                              
                              ×
                              
                                 
                                    N
                                 
                                 
                                    r
                                 
                              
                              ×
                              K
                              )
                           
                        .

Based on the above detailed analysis, we can find that indeed our model has somewhat high time complexity. Thus the proposed model may not be suitable for handling large-scale data sets. In the future, we will focus on the design of parallel version for real-world applications.

@&#EXPERIMENTS@&#

In this section, we present the experimental results to evaluate the performance of QPLSA in review aspect mining.

Three different datasets are adopted for evaluation. The first is provided by Wang et al. (2010), which includes 246,399 reviews on 1850 hotels with each review associated with an overall rating and 7 ratings about the pre-defined aspects (the value of the rating ranges from 1 star to 5 stars). Table 3
                         also lists the prior knowledge of some seed words indicating specific aspects.

Another dataset is about restaurant reviews from Snyder and Barzilay (2007), which is much sparser than the previous one. This dataset contains 1609 reviews on 420 restaurants with each review associated with an overall rating and 4 aspect ratings.

The last dataset is 31,000 reviews about 793 MP3 players (Wang et al., 2011) with overall ratings, which is adopted to evaluate the performance of our model on product reviews from a different domains.

Datasets are preprocessed as follows: (1) Carry out POS Tagging
                           2
                           
                              http://opennlp.sourceforge.net/.
                        
                        
                           2
                         to each review, extract phrases, entity and rating from each review; (2) Select phrases according to the tagging; (3) Stem the phrases to their roots using Porter Stemmer
                           3
                           
                              http://www.tartarus.org/martin/PorterStemmer/.
                        
                        
                           3
                        ; and (4) Construct quad-tuples based on phrases, entity and ratings. Specifically, rules for phrase extraction are given in Table 4
                        , where NP denotes noun phrase, ADJP is the adjective phrase, VP represents verb phrase, NN denotes the tagging of noun, and so on.

To investigate our model in aspect identification, phrases of 600 random hotels are selected, and three human annotators are asked to manually label the aspect of the random phrases. Finally, only phrases approved by two annotators and above are selected as ground truth for hotel reviews (408 phrases). While for restaurant reviews, 300 restaurants are randomly selected and ultimately 172 phrases are included in the ground truth. The details of the categorization are summarized in Table 5
                        , and A1–A7 corresponds to the aspects in Table 3. Similarly, the annotators are asked to mark the topic words in Tables 6–8
                        
                        
                        , and the ones receiving two or more votes are highlighted. Also, the agreement of human annotation is illustrated in Fig. 3
                        .

On the other hand, to evaluate the performance of our model in aspect rating, we adopt the aspect ratings accompanied with the reviews in the datasets (hotel reviews and restaurant reviews) as the ground truth aspect ratings. More specifically, two evaluation metrics are introduced for comparison.

Additionally, our model is implemented in MATLAB on a machine (CPU 3.00GHz, 3.00GB memory), we separate hotel reviews into 2 subsets (i.e., 1–900hotels and 901–1850hotels), as the functions such as sparse() and repmat() easily run out of memory for all 1850 hotel reviews in case of 3-dimensional matrix construction.

The RMSE
                           4
                           
                              http://wikipedia.org/.
                        
                        
                           4
                         (Root Mean Square Error) is introduced to investigate the performance of QPLSA and SPLSA in aspect rating prediction. In particular, RMSE is root of the MSE (Lu et al., 2009; Wang et al., 2010), which computes the difference of an estimator vector 
                           
                              
                                 
                                    θ
                                 
                                 
                                    ^
                                 
                              
                           
                         with respect to the estimated parameter vector 
                           
                              θ
                           
                         as follows:
                           
                              (32)
                              
                                 RMSE
                                 (
                                 
                                    
                                       θ
                                    
                                    
                                       ^
                                    
                                 
                                 ,
                                 θ
                                 )
                                 =
                                 
                                    
                                       MSE
                                       (
                                       
                                          
                                             θ
                                          
                                          
                                             ^
                                          
                                       
                                       ,
                                       θ
                                       )
                                    
                                 
                                 =
                                 
                                    
                                       E
                                       
                                          
                                             (
                                             
                                                
                                                   θ
                                                
                                                
                                                   ^
                                                
                                             
                                             -
                                             θ
                                             )
                                          
                                          
                                             2
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   i
                                                   =
                                                   1
                                                
                                                
                                                   K
                                                
                                             
                                             
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            
                                                               θ
                                                            
                                                            
                                                               ^
                                                            
                                                         
                                                      
                                                      
                                                         i
                                                      
                                                   
                                                   -
                                                   
                                                      
                                                         θ
                                                      
                                                      
                                                         i
                                                      
                                                   
                                                   )
                                                
                                                
                                                   2
                                                
                                             
                                          
                                          
                                             K
                                          
                                       
                                    
                                 
                              
                           
                        where K is the length of vector 
                           
                              θ
                           
                        . Note that RMSE calculates the errors and a smaller RMSE indicates a stronger predictor.

From another angle, we use 
                           
                              
                                 
                                    ρ
                                 
                                 
                                    e
                                 
                              
                           
                         (the aspect correlation inside one specific entity e, also adopted in Wang et al. (2011)) to measure how well the predicted aspect ratings can preserve the relative order of aspects within the reviews about the entity e by the ground-truth ratings. Specifically, 
                           
                              
                                 
                                    ρ
                                 
                                 
                                    e
                                 
                              
                           
                         is formulated as:
                           
                              (33)
                              
                                 
                                    
                                       ρ
                                    
                                    
                                       e
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          =
                                          1
                                       
                                       
                                          N
                                       
                                    
                                 
                                 ρ
                                 (
                                 
                                    
                                       
                                          
                                             θ
                                          
                                          
                                             ^
                                          
                                       
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 
                                    
                                       θ
                                    
                                    
                                       i
                                    
                                 
                                 )
                                 /
                                 N
                                 ,
                                 
                                 ρ
                                 (
                                 
                                    
                                       
                                          
                                             θ
                                          
                                          
                                             ^
                                          
                                       
                                    
                                    
                                       i
                                    
                                 
                                 ,
                                 
                                    
                                       θ
                                    
                                    
                                       i
                                    
                                 
                                 )
                                 =
                                 
                                    
                                       cov
                                       (
                                       
                                          
                                             
                                                
                                                   θ
                                                
                                                
                                                   ^
                                                
                                             
                                          
                                          
                                             i
                                          
                                       
                                       ,
                                       
                                          
                                             θ
                                          
                                          
                                             i
                                          
                                       
                                       )
                                    
                                    
                                       
                                          
                                             σ
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         θ
                                                      
                                                      
                                                         ^
                                                      
                                                   
                                                
                                                
                                                   i
                                                
                                             
                                          
                                       
                                       ·
                                       
                                          
                                             σ
                                          
                                          
                                             
                                                
                                                   θ
                                                
                                                
                                                   i
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where 
                           
                              ρ
                           
                         is the Pearson correlation, 
                           
                              cov
                              (
                              
                                 
                                    
                                       
                                          θ
                                       
                                       
                                          ^
                                       
                                    
                                 
                                 
                                    i
                                 
                              
                              ,
                              
                                 
                                    θ
                                 
                                 
                                    i
                                 
                              
                              )
                           
                         denotes the covariance of 
                           
                              
                                 
                                    
                                       
                                          θ
                                       
                                       
                                          ^
                                       
                                    
                                 
                                 
                                    i
                                 
                              
                           
                         and 
                           
                              
                                 
                                    θ
                                 
                                 
                                    i
                                 
                              
                           
                        , 
                           
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          
                                             
                                                θ
                                             
                                             
                                                ^
                                             
                                          
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                           
                         represents the standard deviation of 
                           
                              
                                 
                                    
                                       
                                          θ
                                       
                                       
                                          ^
                                       
                                    
                                 
                                 
                                    i
                                 
                              
                           
                        , and N is the number of reviews for entity e. Note that 
                           
                              
                                 
                                    ρ
                                 
                                 
                                    e
                                 
                              
                           
                         measures the correlation between the predicted ratings and the ground-truth ratings and a larger 
                           
                              
                                 
                                    ρ
                                 
                                 
                                    e
                                 
                              
                           
                         suggests a better predictor.

For aspect identification comparison, we carry out systematic experiments on phrase aspect categorization and topic words extraction.

For aspect rating prediction, we first compare the RMSE of QPLSA, SPLSA together with a set of baseline methods. Since only SPLSA and QPLSA represent reviews as bag of phrases, we further compare the performance of both methods on the RMSE and 
                           
                              
                                 
                                    ρ
                                 
                                 
                                    e
                                 
                              
                           
                         metrics. Afterwards, we perform more specific experiments to evaluate different aspect rating prediction methods. Last but not the least, we investigate the influence of aspect rating distribution on different aspect rating methods.

@&#EXPERIMENTAL RESULTS@&#


                           Phrase Aspect Categorization The accuracy of aspect identification on the manually labeled phrases (approved by two annotators and above) are listed in Table 5. Since we focus on specific aspect extraction, our discussion only details the results on specific aspects. In the table, Ai denotes the i-th specific aspect as described in Table 3, while “A1–7” and “A1–4” denote the sum of the specific aspects for hotel reviews and restaurant reviews, respectively.

In Table 5, Q-accuracy denotes the accuracy of QPLSA, and S-accuracy represents that of SPLSA. From the results reported in Table 5, apparently, QPLSA achieves better performance than SPLSA. Also, the accuracy of QPLSA for all the reviews is much higher than that of SPLSA, which indicates that quad-tuples exploits more information for specific aspect generation compared to 2-tuples. All the experimental results demonstrate the effectiveness of incorporating entity and its rating for aspect identification.

To further validate the superiority of QPLSA over SPLSA, we conduct systematic experiments on hotel reviews. We carry out experiments on different numbers of hotels (e.g., 300, 600, 900, 1200, 1500 and 1850), and all the results are shown in Fig. 4
                           . For different number of hotels, the QPLSA always performs better than the SPLSA, which demonstrates the effectiveness of quad-tuples in aspect identification. The reasonability behind is that QPLSA benefits from the additional information of entity and its rating (i.e., quad-tuples) for aspect identification. For example, quad-tuple (staff, kind, M.motel, 5) contains more potential information than 2-tuple (staff, kind), such as latent relationships between modifier kind and rating 5, and head staff and entity M.motel. QPLSA captures all those correlations and thereafter achieves better results.


                           Topic Words Extraction 
                           Tables 6–8 list the representative words for the 7 specific aspects of hotel reviews, the 4 aspects of the restaurant reviews, and the 5 aspects of MP3 reviews. For each aspect, we choose top 20 frequent head terms, and the terms correctly categorized (approved by two annotators and above) are highlighted. Totally, QPLSA extracts 184 correct terms compared to 141 of SPLSA. All these results demonstrate that incorporating entity and its rating for aspect identification (or extraction) is effective.

Note that both QPLSA and SPLSA obtain much better results on the hotel reviews than those on the restaurant reviews. The reason is that both methods are based on generative model which employs the co-occurrence information. Actually, hotel review dataset is much more dense, and thus can provide more co-occurrence information for learning.


                           QPLSA vs. Baseline Methods To better evaluate the effectiveness of QPLSA, we compare the performance of QPLSA to other state-of-the-art methods as Table 9
                           .

In Table 9, PRank denotes the ranking method (Crammer & Singer, 2011), SVR is the method in Smola and Scholkopf (2003), LDA is proposed in Blei et al. (2003), LocalLDA is a baseline from Brody and Elhadad (2010), MG-LDA is the method in Titov and McDonald (2008b), and STM is proposed in Du, Buntine, and Jin (2010). As is shown, bag-of-phrases models (QPLSA and SPLSA) outperform bag-of-words models (the rest models) on the RMSE metric. This testifies that the bag-of-phrase assumption better represents the reviews for sentiment analysis than the bag-of-words assumption. Take the exemplified expressions in the introduction for example: “A great hotel in a horrible town!” and “A horrible hotel in a great town!” would receive identical bag-of-words representations, but different bag-of-phrases representations (e.g., great hotel and horrible town; horrible hotel and great town), which indicates different sentiments. Despite of identifying such difference is beyond the capacity of bag-of-words methods, QPLSA and SPLSA could discover the topic and sentiment patterns among the phrases.


                           QPLSA vs. SPLSA For brevity, we use LP to denote the Local Prediction, GP to denote the Global Prediction, QP to represent the Quad-tuple Prediction and EP to be the Expectation Prediction. SPLSA+LP means using SPLSA for model generation, LP for aspect rating, and other methods are named similarly. The results of RMSE are listed in Table 10
                           . The best result for the hotel reviews is acquired by QPLSA+LP, while QPLSA+QP achieves the best performance for the Restaurant reviews. Both results are obtained under the QPLSA framework, which demonstrate the effectiveness of QPLSA in aspect rating prediction.

Furthermore, for the comparisons of 4 prediction methods in Fig. 5
                           , QPLSA always outperforms SPLSA on the restaurant reviews. While on hotel reviews, QPLSA also achieves better results except QP, whose reason will be discussed in the next section. Overall, QPLSA almost can perform better than SPLSA under different prediction approaches.

From the angle of 
                              
                                 
                                    
                                       ρ
                                    
                                    
                                       e
                                    
                                 
                              
                            metric, QPLSA+LP and QPLSA+QP outperforms other approaches for the hotel reviews and restaurant reviews. Besides, QPLSA still shows advantages over SPLSA for the 
                              
                                 
                                    
                                       ρ
                                    
                                    
                                       e
                                    
                                 
                              
                            measurement, which are similar with those on RMSE.

On the whole, QPLSA is demonstrated to be more capable in aspect rating compared to SPLSA. QPLSA is about 9.8% and 36% smaller than SPLSA in terms of RMSE on Hotel Reviews and Restaurant reviews, respectively. QPLSA is 1.1% larger than SPLSA in terms of 
                              
                                 
                                    
                                       ρ
                                    
                                    
                                       e
                                    
                                 
                              
                            on Restaurant reviews. It is worth mentioning that QPLSA associates the ratings with the phrases in the model generation stage while SPLSA does not consider review ratings. For example, QPLSA can learn the correlation between modifier kind and rating 5. Therefore, Thereafter QPLSA gains more information for aspect rating prediction and obtains better results.


                           Prediction Approach Performance Analysis Before we compare the results of different rating approaches, we would like to firstly analyze the aspect rating distribution of hotel reviews and restaurant reviews in Fig. 6
                           . For the hotel reviews, the differences between aspect ratings and the overall rating exactly resembles a Gaussian distribution. That is, the aspect ratings are concentrated on the overall rating with some variance, and it would probably obtain good results in an ideal case by using the overall rating to predict aspect ratings. On the other hand, for the restaurant reviews, the difference curve is less like a Gaussian curve, which may degrade the performance of LP.

Firstly, we would like to answer the question why QPLSA performs worse than QPLSA under Quad-tuple Prediction on hotel reviews. One may conjecture this is the weakness of QPLSA. Actually this inspires us to find another factor that may influence the performance of our prediction approaches. In Fig. 6, the rating difference curve of hotel reviews exactly resembles a Gaussian distribution, thus using the overall rating to predict aspect ratings would probably obtain good results in an ideal case. Moreover, explained in Section 4.5.2, the SPLSA makes no effort to learn quad-tuples, and the construction of Quad-tuple Prediction for the SPLSA actually just adopts local information for aspect rating (i.e., Local Prediction to some extent).

Since the rating difference curve of hotel reviews extremely resembles a Gaussian distribution (see Fig. 6), the Local Prediction can work very well in such case. Also, the rating difference curve of the hotel reviews explains the reason why QPLSA+LP and QPLSA+EP outperform the QPLSA+QP on hotel reviews in terms of RMSE. However, for the restaurant reviews, the overall ratings are not so consistent with the aspect ratings, SPLSA+QP achieves worse performance than QPLSA+QP. This confirms that the performance of Quad-tuple Prediction is strongly related to the distribution of aspect ratings.

Similar results are obtained on 
                              
                                 
                                    
                                       ρ
                                    
                                    
                                       e
                                    
                                 
                              
                           . For hotel reviews, QPLSA+LP and QPLSA+EP outperform QPLSA+QP; while QPLSA+QP achieves the highest 
                              
                                 
                                    
                                       ρ
                                    
                                    
                                       e
                                    
                                 
                              
                            on the restaurant reviews. All these results indicate that the performance of prediction approaches is strongly affected by the difference between the overall ratings and the aspect ratings.


                           Aspect Rating Variance Investigation We employ the variance var to measure such difference and the overall rating 
                              
                                 
                                    
                                       r
                                    
                                    
                                       o
                                    
                                 
                              
                            is considered as the expected rating of the aspect ratings 
                              
                                 
                                    
                                       r
                                    
                                    
                                       z
                                    
                                 
                              
                           . Suppose the number of aspects is K, thereafter, we calculate aspect rating variance as: 
                              
                                 var
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       z
                                    
                                 
                                 
                                    
                                       (
                                       
                                          
                                             r
                                          
                                          
                                             o
                                          
                                       
                                       -
                                       
                                          
                                             r
                                          
                                          
                                             z
                                          
                                       
                                       )
                                    
                                    
                                       2
                                    
                                 
                                 /
                                 K
                              
                           . We carry out some more experiments to investigate the influence of aspect rating distribution on QPLSA framework. Specifically, we separate the hotel review corpus into 2 subsets, i.e., one consists of reviews with aspect rating variance greater than 0.5 and the other is composed of reviews with aspect rating variance lower than 0.5. The results on the 2 subsets are reported in Fig. 7
                           .

In Fig. 7, 
                              
                                 var
                                 ⩾
                                 0.5
                              
                            denotes the set of hotel reviews whose aspect ratings have variance greater than 0.5, while 
                              
                                 var
                                 <
                                 0.5
                              
                            denotes the rest reviews whose aspect rating variance is less than 0.5. From these results, Quad-tuple Prediction obtains the best performance when var no less than 0.5, while Local Prediction gets the best results when var less than 0.5. This again shows that when aspect ratings are consistent with the overall rating, Local Prediction works best; when reviews with a larger variance, Quad-tuple Prediction would achieves the best performance.

@&#CONCLUSION@&#

In this paper, we study the problem of multi-facet rating for product reviews. We decompose this problem into two subtasks: (1) aspect identification and (2) aspect rating. Then we propose a Quad-tuple PLSA (QPLSA) model for the former subtask and two prediction approaches for the latter. Compared to the two-tuple (head, modifier) based SPLSA model, QPLSA explicitly exploits the co-occurrence information among quad-tuple (head, modifier, rating, entity), which not only extracts aspects from a finer grain but also learns correlations among words, aspects and ratings. For aspect rating, we develop two novel predictors, QP and EP. Experimental results on different kinds of review corpus demonstrate that: (1) For aspect identification, QPLSA is more effective than SPLSA. (2) For aspect rating prediction, QPLSA and SPLSA (bag-of-phrases methods) outperform state-of-the-art methods (bag-of-words methods). Moreover, QPLSA also shows significant advantage over SPLSA. (3) Among all the prediction methods for aspect rating, Quad-tuple Prediction shows its strong capability over other methods, specially on the reviews whose aspect ratings are not concentrated on the overall rating.

@&#ACKNOWLEDGEMENT@&#

The work is supported by the National Natural Science Foundation of China (Nos. 61175052, 61203297, 61035003, 61473273, 61473274), National High-tech R&D Program of China (863 Program) (Nos. 2014AA012205, 2013AA01A606, 2012AA011003).

@&#REFERENCES@&#

