@&#MAIN-TITLE@&#A meta-heuristic to minimize makespan for parallel batch machines with arbitrary job sizes

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We consider makespan minimization of a set of jobs on parallel batch machines.


                        
                        
                           
                           A MMAS-based heuristic is proposed to batch the jobs.


                        
                        
                           
                           The batches are then scheduled by the Multi-Fit algorithm on the machines.


                        
                        
                           
                           Experimental results show that our algorithm outperforms other algorithms.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Meta-heuristic

Parallel batch machines

Max–min ant system

NP-hard

@&#ABSTRACT@&#


               
               
                  We consider the problem of scheduling a set of n jobs with arbitrary job sizes on a set of m identical and parallel batch machines so as to minimize the makespan. Motivated by the computational complexity of the problem, we propose a meta-heuristic based on the max–min ant system method. Computational experiments are performed with randomly generated test data. The results show that our algorithm outperforms several of the previously studied algorithms.
               
            

@&#INTRODUCTION@&#

With the popularity of intelligent electronics in daily life, the semiconductor industry has become one of the fastest growing and most competitive industries in the world. To enhance the competitiveness, the semiconductor manufacturers try their best to improve the efficiency of the manufacturing processes. Besides the production control methods based on dispatching rules, scheduling is crucial for the competitiveness of semiconductor manufacturing. The manufacturing of integrated circuits is a key business in electronics industry, where batch processing is a common procedure. The process of batching contributes to avoiding setups and facilitates the handling of materials. A batch is defined as a group of jobs that have to be processed jointly (Brucker et al., 1998). A batch scheduling problem consists of grouping the jobs on each machine into batches and scheduling these batches either in serial (named s-batching) or in parallel (named p-batching). Moreover, p-batching is more important than s-batching in semiconductor manufacturing (Mönch, Fowler, Dauzere-Peres, Mason, & Rose, 2011).

Batching problems can be found mainly in the oxidation/deposition/diffusion area of wafer fabs as well as the burn-in operation in the final testing (Xu, Chen, & Li, 2013). Batch processing facilities are generally bottlenecks in the manufacturing systems because of their high utilization and the lengthy processing time of the operations. The burn-in oven in the final testing stage of semiconductor manufacturing is an example of batch machines, where the integrated circuits are tested for defects by subjecting them to thermal stress for an extended period of time. Since the capacity of the burn-in oven is limited and the processing time of the burn-in operations are generally much longer than those of the other testing operations, the burn-in operation becomes a bottleneck in the final testing operation. Thus, effective scheduling of the burn-in operations is of great concern to the manufacturing performance and productivity. Besides, p-batch scheduling is commonly encountered in many other modern manufacturing industries such as the chemical, food and mineral processing, pharmaceutical and metalworking industries as well as with wafer and environmental stress screening chamber fabrication (Xu et al., 2013).

The problem under study in this paper is the p-batch scheduling on parallel and identical batch-processing-machines (BPMs). Each machine has a fixed capacity C. A set of jobs with non-identical job sizes have to be grouped into batches, where the total size of all the jobs in a batch cannot exceed C. The jobs have non-identical processing times. The processing time of a batch is given by the longest processing time of all the jobs contained in the batch (Mathirajan & Sivakumar, 2006). The batches are scheduled on the machines so as to minimize the makespan; i.e., the time taken to finish all the batches. Once a batch is being processed, it cannot be interrupted and no job can be added into the batch. A small makespan implies a high utilization of the machines (Kashan, Karimi, & Jenabi, 2008). Improving the utilization of a bottleneck station is beneficial to elevate the throughput rate of the system.

The problem can be solved by dealing with two independent subproblems; i.e., grouping the jobs into batches and scheduling the batches on the parallel BPMs. Since minimizing the makespan for a set of equal-processing-time jobs on a single BPM is equvalent to the one-dimensional bin-packing problem which is known to be strongly NP-hard (Garey & Johnson, 1979), we propose a meta-heuristic to group the jobs into batches. Then we apply the Multifit (MF) heuristic (Coffman, Garey, & Johnson, 1978) to schedule the batches on the machines.

The rest of the paper is organized as follows. In Section 2, we review related work on BPM scheduling problems as well as the max–min ant system (MMAS) algorithm. Section 3 defines the problem under study. The proposed algorithm and its implementation is described in Section 4. With elaborative experimental designs, the effectiveness of our algorithm is compared with several previously studied heuristics in Section 5. Finally, we draw some concluding remarks in Section 6.

@&#RELATED WORK@&#

In recent years, considerable research have been devoted to scheduling problems related to the BPM problems and the MMAS algorithms. Literature germane to the problem of scheduling on the BPMs and the MMAS algorithm will be presented in the next two subsections.

Since the problem studied in this paper is p-batch scheduling, we focus on reviewing the studies that have commonalities in their assumptions with ours, especially those investigating the case of arbitrary job sizes.

Researchers started studying the problem of batch scheduling from the simplest model; i.e., scheduling on a single BPM. And more of the early works on BPM focused on the model with identical job size. Ikura and Gimple (1986) were probably the first who studied the BPM problem. They proposed an 
                           
                              O
                              (
                              
                                 
                                    n
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         algorithm to minimize the makespan on a single BPM with identical job processing time, unit job size, and dynamic job arrivals. Uzsoy (1994) later proved that both makespan minimization and total completion time minimization on a single BPM with non-identical job sizes are strongly NP-hard. He gave several heuristics and a branch-and-bound algorithm. Dupont and Jolai Ghazvini (1998) presented another two heuristics, BFLPT (Best-Fit Longest Processing Time) and SKP (Successive Knapsack Problem). The first heuristic, BFLPT, is based on the Best-Fit algorithm, developed for the bin-packing problem. The second one attempts to construct a schedule batch per batch, where the jobs are grouped to maximize the occupied space of the batches. Uzsoy and Yang (1997) provided several heuristics and a branch-and-bound algorithm to minimize total weighted completion time. Sung and Choung (2000) considered a single BPM with job release times and presented several better heuristics. Dupont and Dhaenens-Flipo (2002) developed a branch-and-bound procedure for minimizing the makespan on a single BPM. Jolai (2005) developed a dynamic programming algorithm with polynomial time complexity to minimize the number of tardy jobs for a fixed number of job families and limited machine capacity.


                        Zhang, Cai, Lee, and Wong (2001) provided the first theoretical results in the worst-case ratios of minimizing the makespan on a single BPM. Li, Li, Wang, and Liu (2005) presented an approximation algorithm for the general problem with arbitrary release times and job sizes.

Some researchers resort to meta-heuristic approaches. Kashan, Karimi, and Jolai (2006) proposed two genetic algorithms (GA) to minimize the makespan on a single BPM. Damodaran, Manjeshwar, and Srihari (2006) applied a simulated annealing (SA) method for the same problem.

Recently, studies on batch scheduling problems have been expanded from a single BPM to parallel machines, because parallel machines are closer to real-world production systems. Lee, Uzsoy, and Martin-Vega (1992) considered makespan minimization on parallel BPMs with unit job size, and examined the worst-case error bound of an arbitrary list scheduling algorithm. They applied the Longest-Processing-Time (LPT) algorithm to the case of identical and parallel BPMs. Uzsoy (1995) studied the scheduling problems with incompatible job families and dynamic job arrivals for both the single and parallel BPMs. He solved the parallel BPM problem by reducing it to the problem with parallel, unit-capacity machines. Brucker et al. (1998) proved that the problem of scheduling on two identical and parallel BPM with a common deadline, unit processing time as well as unit set-up time is NP-hard. They proposed a dynamic programming algorithm to solve the problem. To minimize the total weighted tardiness for scheduling the parallel BPMs with incompatible families, identical job sizes and arbitrary job weights, Mönch and Almeder (2009) proposed an ant colony system (ACS) that includes an efficient local search technique based on jobs swapping across different batches of the same family, and a MMAS which provides basically the same solution quality as that of the ACS approach. Venkataramana and Srinivasa Raghavan (2010) presented ant colony optimization (ACO)-based algorithms by using the structural properties of the problem. Almeder and Mönch (2011) provided an ACO and a variable neighborhood search (VNS) approach hybridized with a decomposition heuristic and a local search scheme to solve the same problem. The computational experiments showed that the VNS approach outperformed the ACO and a GA approach with respect to time and solution quality.

In order to be closer to the real world applications, the case of non-identical job sizes is considered. Chang, Damodaran, and Melouk (2004) studied the problem of scheduling jobs with non-identical job sizes on identical and parallel BPMs. They proposed a simulated annealing (SA) method to minimize the makespan. After the jobs are randomly sequenced, they are clustered to form batches. Then the batches are assigned to the machines by the LPT rule to generate the initial solution. Simulated annealing is used to locally search a better neighboring solution. They compared the results of the SA method with those of the CPLEX solver and concluded that the SA method obtained better solutions with less running time.


                        Damodaran and Chang (2008) proposed heuristics to solve the parallel BPM scheduling problem, which consists of two independent subproblems; i.e., grouping the jobs into batches and scheduling these batches to minimize the makespan. Two heuristics are applied to grouping the jobs. In both heuristics, the jobs are first sorted in descending order of their processing times. According to the First-Fit-Decreasing (FFD) heuristic, the jobs in the list are put, one by one, into the first batch with enough space to accommodate it, while according to the Best-Fit-Decreasing (BFD) heuristic, the jobs are put, one by one, into the feasible batch with the smallest residual capacity. After the jobs have been grouped into batches, they used either the LPT rule or the Multifit (MF) rule to schedule the batches on the BPMs. In all, there are four heuristics for the parallel BPM problem, by combining the two heuristics for batching and the two heuristics for scheduling. These heuristics are called FFD-LPT, FFD-MF, BFD-LPT and BFD-MF. Finally, the solutions obtained from these four heuristics are compared with the results of the SA (Chang et al., 2004) method and the CPLEX solver.

Some researchers have tried to solve the parallel BPM problems by meta-heuristics. Kashan et al. (2008) developed a hybrid genetic heuristic (HGH) to minimize the makespan on parallel BPMs with arbitrary job sizes. The HGH searches the solution space by generating random batches via the GA operators. For each generated offspring chromosome, a random batch procedure is applied to ensure feasibility, and then for a feasible batching plan, the LPT rule is used to schedule the batches on the machines. Moreover, two local search heuristics are combined to improve the effectiveness of the HGH. The computational results show that the HGH outperforms the SA method (Chang et al., 2004).

We refer the readers to the articles by Potts and Kovalyov (2000), Mathirajan and Sivakumar (2006), and Mönch et al. (2011) for an extensive review of the BPM problems.

There are two types of meta-heuristic algorithms: one type is based on the neighborhood search method and the other type is based on the constructive method (Dorigo & Stutzle, 2004). The former type generally starts with some initial solution and then iteratively improves the solution by a local search mechanism. For this type of meta-heuristics, it is difficult to encode the sequence of batches directly because the numbers of batches are changeable in different solutions. Thus, the neighborhood-search-based meta-heuristics have to encode the sequence of jobs first and then batch the jobs by some heuristic (Kashan et al., 2006, Damodaran et al., 2006). Therefore, the optimization capacity of the metaheuristic cannot be exerted sufficiently because this type of approach depends on the heuristic used to construct batches (Xu, Chen, & Li, 2012). The constructive meta-heuristics, such as ACO, on the other hand, can construct a solution from scratch by iteratively adding the components into an initially empty solution until a feasible solution is obtained. Since being able to construct batches directly without additional heuristics, the constructive meta-heuristics could utilize the optimization ability of ACO more efficiently. Moreover, as a typical distributed algorithm, ACO has properties similar to the self-organized interaction between several simple agents (ants) (Loiola, De Abreu, Boaventura-Netto, Hahn, & Querido, 2007). For these reasons, ACO has been successfully applied to a number of NP-hard combinatorial optimization problems (Ghafurian & Javadian, 2011, Yang & Zhuang, 2010, Ding, Hu, Sun, & Wang, 2012). Recently, ACO has been used to solve the single BPM problem (Cheng, Li, & Chen, 2010, Xu et al., 2012).

MMAS, an improved variant of the ACO algorithms, aims to achieve good search performance by increasing the exploitation of the best solution found during the search process, and to avoid early search stagnation more effectively (Stutzle & Hoos, 2000). Among all the ACO algorithms, MMAS is one of the most prevalent ACO algorithms for optimization problems because of the following three improvements in its search strategy (Stutzle & Hoos, 2000):
                           
                              i.
                              Only one ant, either the best solution in the current iteration (iteration-best ant) or the best solution from the beginning of the search (global-best ant), adds pheromone in each iteration to exploit the best solution.

The pheromone trails of each solution are limited to a specific range to avoid stagnation in the search.

The pheromone trails are initialized to its maximum to enhance the exploration of the search.

Moreover, the convergence of MMAS algorithm has been theoretically proved by Stutzle and Dorigo (2002). Consequently, MMAS has shown better performance in many applications (Pitakaso, Almeder, Doerner, & Hartl, 2007; Wong & See, 2009; Ning, Lam, & Lam, 2010; Ke, Lin, & Lai, 2011). To the best of our knowledge, the only paper that applies the MMAS algorithm to the BPM problem is by Xu, Chen, and Zhu (2011). They proposed a MMAS algorithm to solve the single BPM problem with job release times.

The studied problem can be denoted by 
                        
                           P
                           |
                           p
                           -
                           batch
                           ,
                           
                              
                                 s
                              
                              
                                 j
                              
                           
                           ⩽
                           C
                           |
                           
                              
                                 C
                              
                              
                                 max
                              
                           
                        
                      (Graham, Lawler, Lenstra, & Rinnooy Kan, 1979). There is a set of n jobs, denoted by 
                        
                           J
                           =
                           {
                           
                              
                                 J
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 J
                              
                              
                                 2
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 J
                              
                              
                                 n
                              
                           
                           }
                        
                     , to be processed in batches, denoted by 
                        
                           
                              
                                 B
                              
                              
                                 k
                              
                           
                           (
                           k
                           =
                           1
                           ,
                           2
                           ,
                           …
                           ,
                           b
                           )
                        
                     , which are then scheduled on a set of m identical and parallel batch machines, denoted by 
                        
                           M
                           =
                           {
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 M
                              
                              
                                 m
                              
                           
                           }
                        
                     . The number of batches cannot be determined until all the jobs have been grouped. Each job 
                        
                           
                              
                                 J
                              
                              
                                 j
                              
                           
                           ∈
                           J
                        
                      has a processing time 
                        
                           
                              
                                 p
                              
                              
                                 j
                              
                           
                        
                      and a size 
                        
                           
                              
                                 s
                              
                              
                                 j
                              
                           
                        
                     . Each machine 
                        
                           
                              
                                 M
                              
                              
                                 i
                              
                           
                           ∈
                           M
                        
                      has a maximum capacity denoted by C. We assume that the size of each job does not exceed the machine capacity C. The total size of all the jobs in each batch cannot exceed C. Once the processing of a batch starts, it cannot be interrupted and other jobs cannot be added into the machine until the processing is complete. The processing time of batch 
                        
                           
                              
                                 B
                              
                              
                                 k
                              
                           
                        
                     , denoted by 
                        
                           
                              
                                 P
                              
                              
                                 k
                              
                           
                        
                     , is given by the longest processing time of all the jobs in the batch.

A feasible solution of the problem 
                        
                           P
                           |
                           p
                           -
                           batch
                           ,
                           
                              
                                 s
                              
                              
                                 j
                              
                           
                           ⩽
                           C
                           |
                           
                              
                                 C
                              
                              
                                 max
                              
                           
                        
                      is a grouping of jobs into batches and an assignment of the batches on the machines. Therefore, the proposed algorithm, called ASM, consists of two steps. First, a MMAS-based algorithm is introduced to group all the jobs and generate the batches. Then, a Multifit method used in bin packing is applied to schedule the batches on the machines. We will give an outline of the algorithm first, with details to be described in later subsections.

The MMAS-based batching algorithm employs 
                        
                           
                              
                                 n
                              
                              
                                 a
                              
                           
                        
                      (
                        
                           
                              
                                 n
                              
                              
                                 a
                              
                           
                        
                      is an input parameter) ants to find the best set of batches. Each ant goes through 
                        
                           
                              
                                 I
                              
                              
                                 max
                              
                           
                        
                      (
                        
                           
                              
                                 I
                              
                              
                                 max
                              
                           
                        
                      is an input parameter) iterations. In each iteration, each ant finds a set of batches which will then be input to a local optimization algorithm. The purpose of the local optimization algorithm is to improve the quality of the batch set. The best set of batches from the 
                        
                           
                              
                                 n
                              
                              
                                 a
                              
                           
                        
                      sets will be kept as the iteration-best solution. The global-best solution in the ith iteration will be the best of the i iteration-best solutions obtained in the first i iterations. Finally, the global-best solution obtained in the last iteration will be used as input to the Multifit algorithm.

The Multifit algorithm takes the set of batches obtained by the MMAS-based batching algorithm and assigns the batches on the identical machines. It first computes a lower bound (LB) and an upper bound (UB) for the makespan. It then conducts a binary search in the interval 
                        
                           [
                           LB
                           ,
                           UB
                           ]
                        
                     . For each value 
                        
                           
                              
                                 C
                              
                              
                                 max
                              
                           
                        
                      obtained in the binary search, it treats the m machines as m bins with capacity 
                        
                           
                              
                                 C
                              
                              
                                 max
                              
                           
                        
                     . The batches will be packed into the m bins by the FFD rule. If we are successful in packing the batches into the m bins, then we set UB to be 
                        
                           
                              
                                 C
                              
                              
                                 max
                              
                           
                        
                     ; otherwise, we set LB to be 
                        
                           
                              
                                 C
                              
                              
                                 max
                              
                           
                        
                     . This process is repeated until 
                        
                           UB
                           =
                           LB
                           +
                           1
                        
                     . We then try to pack the batches into the m bins with capacity LB. If we are successful, LB is the final makespan; otherwise, UB will be the final makespan. Depending on the processing times of the batches, the number of iterations may be quite large. Because of time constraint, we restrict ourselves to perform at most eight iterations.

To solve batch scheduling problems with MMAS algorithms, there are two key concerns, i.e., how to encode the solutions and how to define the pheromone and heuristic information? Based on the constructive encoding method, each ant will generate a set of batches in each iteration, instead of generating a sequence of jobs. Intuitively, reducing the total processing time of all the batches tends to minimize the makespan of the problem. Therefore, our objective is to reduce the total processing time of all the batches. Furthermore, we find that the total wasted space (WS) of all the batches directly affects the total processing time of all the batches. Hence, our objective is to reduce the total wasted space of all the batches. Below we will describe the main steps of the proposed MMAS algorithm to obtain a better batching solution.

Since each job is associated with its processing time and its size, we have to consider in the two-dimensional space. Because of the differences in processing times and sizes of the jobs in a batch, there will be wasted space in each batch. Below is the definition of the wasted space.
                              Definition 1
                              Let 
                                    
                                       
                                          
                                             B
                                          
                                          
                                             k
                                          
                                       
                                    
                                  be an arbitrary batch in a feasible schedule. The wasted space of 
                                    
                                       
                                          
                                             B
                                          
                                          
                                             k
                                          
                                       
                                    
                                 , denoted by 
                                    
                                       
                                          
                                             WS
                                          
                                          
                                             k
                                          
                                       
                                    
                                 , is defined as formula (1):
                                    
                                       (1)
                                       
                                          
                                             
                                                WS
                                             
                                             
                                                k
                                             
                                          
                                          =
                                          C
                                          ·
                                          
                                             
                                                P
                                             
                                             
                                                k
                                             
                                          
                                          -
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                
                                                   n
                                                
                                             
                                          
                                          
                                             
                                                s
                                             
                                             
                                                j
                                             
                                          
                                          ·
                                          
                                             
                                                p
                                             
                                             
                                                j
                                             
                                          
                                          ·
                                          
                                             
                                                x
                                             
                                             
                                                jk
                                             
                                          
                                          .
                                       
                                    
                                 
                              

In the formula (1), 
                                    
                                       C
                                       ·
                                       
                                          
                                             P
                                          
                                          
                                             k
                                          
                                       
                                    
                                  is the total area of 
                                    
                                       
                                          
                                             B
                                          
                                          
                                             k
                                          
                                       
                                    
                                  and 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             j
                                             =
                                             1
                                          
                                          
                                             n
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             j
                                          
                                       
                                       ·
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                       ·
                                       
                                          
                                             x
                                          
                                          
                                             jk
                                          
                                       
                                    
                                  is the total area occupied by the jobs in the batch. The difference is the wasted space.

Let B be the batch set of a feasible schedule of 
                                    
                                       P
                                       |
                                       p
                                       -
                                       batch
                                       ,
                                       
                                          
                                             s
                                          
                                          
                                             j
                                          
                                       
                                       ⩽
                                       C
                                       |
                                       
                                          
                                             C
                                          
                                          
                                             max
                                          
                                       
                                    
                                 . The wasted space of B, denoted by 
                                    
                                       
                                          
                                             WS
                                          
                                          
                                             B
                                          
                                       
                                    
                                 , is the total wasted space of all the batches in B, and is given by Eq. (2):
                                    
                                       (2)
                                       
                                          
                                             
                                                WS
                                             
                                             
                                                B
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   k
                                                   =
                                                   1
                                                
                                                
                                                   b
                                                
                                             
                                          
                                          
                                             
                                                WS
                                             
                                             
                                                k
                                             
                                          
                                          .
                                       
                                    
                                 According to the discussion at the beginning of Section 4.1, minimizing the total processing time of all the batches is equivalent to finding a batch set B such that 
                                    
                                       
                                          
                                             WS
                                          
                                          
                                             B
                                          
                                       
                                    
                                  is minimum. Although it is hard to decide how to group the jobs to gain the smallest 
                                    
                                       
                                          
                                             WS
                                          
                                          
                                             B
                                          
                                       
                                    
                                  when constructing the batches, we can try to reduce the wasted space of the current batch as much as possible. Thus, the unscheduled job that can lead to the maximum decrease of the wasted space of the current batch should have a higher probability to be included in the current batch by the ants.


                                 Let 
                                 
                                    
                                       
                                          
                                             B
                                          
                                          
                                             k
                                          
                                       
                                    
                                  
                                 be the current batch and 
                                 
                                    
                                       
                                          
                                             U
                                          
                                          
                                             k
                                          
                                       
                                    
                                  
                                 be its unscheduled job set. Let 
                                 
                                    
                                       
                                          
                                             J
                                          
                                          
                                             y
                                          
                                       
                                       ∈
                                       
                                          
                                             U
                                          
                                          
                                             k
                                          
                                       
                                    
                                  
                                 be a job that satisfies the capacity constraint; i.e., 
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             y
                                          
                                       
                                       ⩽
                                       C
                                       -
                                       
                                          
                                             ∑
                                          
                                          
                                             
                                                
                                                   J
                                                
                                                
                                                   j
                                                
                                             
                                             ∈
                                             
                                                
                                                   B
                                                
                                                
                                                   k
                                                
                                             
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             j
                                          
                                       
                                    
                                 
                                 . If 
                                 
                                    
                                       
                                          
                                             J
                                          
                                          
                                             y
                                          
                                       
                                    
                                  
                                 satisfies condition 
                                 
                                    (3)
                                 
                                 , then 
                                 
                                    
                                       
                                          
                                             J
                                          
                                          
                                             y
                                          
                                       
                                    
                                  
                                 will reduce the wasted space of the current batch 
                                 
                                    
                                       
                                          
                                             B
                                          
                                          
                                             k
                                          
                                       
                                    
                                 
                                 .
                                 
                                    
                                       (3)
                                       
                                          
                                             
                                                s
                                             
                                             
                                                y
                                             
                                          
                                          ·
                                          
                                             
                                                t
                                             
                                             
                                                y
                                             
                                          
                                          >
                                          C
                                          ·
                                          (
                                          
                                             max
                                          
                                          {
                                          
                                             
                                                P
                                             
                                             
                                                k
                                             
                                          
                                          ,
                                          
                                             
                                                p
                                             
                                             
                                                y
                                             
                                          
                                          }
                                          -
                                          
                                             
                                                P
                                             
                                             
                                                k
                                             
                                          
                                          )
                                          .
                                       
                                    
                                 
                              

Let 
                                    
                                       
                                          
                                             
                                                
                                                   B
                                                
                                                
                                                   ∼
                                                
                                             
                                          
                                          
                                             k
                                          
                                       
                                    
                                  be the new batch obtained from 
                                    
                                       
                                          
                                             B
                                          
                                          
                                             k
                                          
                                       
                                    
                                  by adding job 
                                    
                                       
                                          
                                             J
                                          
                                          
                                             y
                                          
                                       
                                    
                                 , then the new wasted space 
                                    
                                       
                                          
                                             
                                                
                                                   WS
                                                
                                                
                                                   ∼
                                                
                                             
                                          
                                          
                                             k
                                          
                                       
                                       =
                                       C
                                       ·
                                       max
                                       {
                                       
                                          
                                             P
                                          
                                          
                                             k
                                          
                                       
                                       ,
                                       
                                          
                                             p
                                          
                                          
                                             y
                                          
                                       
                                       }
                                       -
                                       
                                          
                                             ∑
                                          
                                          
                                             
                                                
                                                   J
                                                
                                                
                                                   j
                                                
                                             
                                             ∈
                                             
                                                
                                                   
                                                      
                                                         B
                                                      
                                                      
                                                         ∼
                                                      
                                                   
                                                
                                                
                                                   k
                                                
                                             
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             j
                                          
                                       
                                       ·
                                       
                                          
                                             p
                                          
                                          
                                             j
                                          
                                       
                                    
                                 . Let 
                                    
                                       Δ
                                       
                                          
                                             WS
                                          
                                          
                                             k
                                          
                                          
                                             y
                                          
                                       
                                    
                                  denote the difference between 
                                    
                                       
                                          
                                             
                                                
                                                   WS
                                                
                                                
                                                   ∼
                                                
                                             
                                          
                                          
                                             k
                                          
                                       
                                    
                                  and 
                                    
                                       
                                          
                                             WS
                                          
                                          
                                             k
                                          
                                       
                                    
                                 , i.e., 
                                    
                                       Δ
                                       
                                          
                                             WS
                                          
                                          
                                             k
                                          
                                          
                                             y
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   WS
                                                
                                                
                                                   ∼
                                                
                                             
                                          
                                          
                                             k
                                          
                                       
                                       -
                                       
                                          
                                             WS
                                          
                                          
                                             k
                                          
                                       
                                    
                                 . If 
                                    
                                       Δ
                                       
                                          
                                             WS
                                          
                                          
                                             k
                                          
                                          
                                             y
                                          
                                       
                                       <
                                       0
                                    
                                 , then the wasted space has decreased. Suppose 
                                    
                                       
                                          
                                             J
                                          
                                          
                                             y
                                          
                                       
                                    
                                  satisfies Eq. (3). There are two cases to consider.
                                    
                                       Case (i)
                                       
                                          
                                             
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                                >
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      k
                                                   
                                                
                                             
                                          . In this case, we have 
                                             
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      y
                                                   
                                                
                                                ·
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                                >
                                                C
                                                ·
                                                (
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                                -
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      k
                                                   
                                                
                                                )
                                             
                                          , or 
                                             
                                                0
                                                >
                                                C
                                                ·
                                                (
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                                -
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      k
                                                   
                                                
                                                )
                                                -
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      y
                                                   
                                                
                                                ·
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                             
                                          . Now, 
                                             
                                                Δ
                                                
                                                   
                                                      WS
                                                   
                                                   
                                                      k
                                                   
                                                   
                                                      y
                                                   
                                                
                                                =
                                                C
                                                ·
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                                -
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      
                                                         
                                                            J
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      ∈
                                                      
                                                         
                                                            
                                                               
                                                                  B
                                                               
                                                               
                                                                  ∼
                                                               
                                                            
                                                         
                                                         
                                                            k
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      j
                                                   
                                                
                                                ·
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      j
                                                   
                                                
                                                -
                                                
                                                   
                                                      
                                                         C
                                                         ·
                                                         
                                                            
                                                               P
                                                            
                                                            
                                                               k
                                                            
                                                         
                                                         -
                                                         
                                                            
                                                               ∑
                                                            
                                                            
                                                               
                                                                  
                                                                     J
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                               ∈
                                                               
                                                                  
                                                                     B
                                                                  
                                                                  
                                                                     k
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               s
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                         ·
                                                         
                                                            
                                                               p
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                
                                                =
                                                C
                                                ·
                                                (
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                                -
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      k
                                                   
                                                
                                                )
                                                -
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      y
                                                   
                                                
                                                ·
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                                <
                                                0
                                             
                                          . Therefore, the wasted space of 
                                             
                                                
                                                   
                                                      B
                                                   
                                                   
                                                      k
                                                   
                                                
                                             
                                           will be decreased by adding 
                                             
                                                
                                                   
                                                      J
                                                   
                                                   
                                                      y
                                                   
                                                
                                             
                                          .


                                          
                                             
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                                ⩽
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      k
                                                   
                                                
                                             
                                          . In this case, we have 
                                             
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      y
                                                   
                                                
                                                ·
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                                >
                                                0
                                             
                                          . Now, 
                                             
                                                Δ
                                                
                                                   
                                                      WS
                                                   
                                                   
                                                      k
                                                   
                                                   
                                                      y
                                                   
                                                
                                                =
                                                C
                                                ·
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      k
                                                   
                                                
                                                -
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      
                                                         
                                                            J
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      ∈
                                                      
                                                         
                                                            
                                                               
                                                                  B
                                                               
                                                               
                                                                  ∼
                                                               
                                                            
                                                         
                                                         
                                                            k
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      j
                                                   
                                                
                                                ·
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      j
                                                   
                                                
                                                -
                                                
                                                   
                                                      
                                                         C
                                                         ·
                                                         
                                                            
                                                               P
                                                            
                                                            
                                                               k
                                                            
                                                         
                                                         -
                                                         
                                                            
                                                               ∑
                                                            
                                                            
                                                               
                                                                  
                                                                     J
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                               ∈
                                                               
                                                                  
                                                                     B
                                                                  
                                                                  
                                                                     k
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               s
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                         ·
                                                         
                                                            
                                                               p
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                
                                                =
                                                -
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      y
                                                   
                                                
                                                ·
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                             
                                          . Since 
                                             
                                                
                                                   
                                                      s
                                                   
                                                   
                                                      y
                                                   
                                                
                                                ·
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      y
                                                   
                                                
                                                >
                                                0
                                             
                                          , we have 
                                             
                                                Δ
                                                
                                                   
                                                      WS
                                                   
                                                   
                                                      k
                                                   
                                                   
                                                      y
                                                   
                                                
                                                <
                                                0
                                             
                                          , which means that the wasted space of 
                                             
                                                
                                                   
                                                      B
                                                   
                                                   
                                                      k
                                                   
                                                
                                             
                                           will be decreased by adding 
                                             
                                                
                                                   
                                                      J
                                                   
                                                   
                                                      y
                                                   
                                                
                                             
                                          . □

According to Proposition 1, we can define a candidate job set, denoted by 
                              
                                 
                                    
                                       CS
                                    
                                    
                                       k
                                    
                                 
                              
                           , consisting of the unscheduled jobs that can reduce the wasted space of 
                              
                                 
                                    
                                       B
                                    
                                    
                                       k
                                    
                                 
                              
                            as follows:
                              
                                 (4)
                                 
                                    
                                       
                                          CS
                                       
                                       
                                          k
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                
                                                   J
                                                
                                                
                                                   y
                                                
                                             
                                             |
                                             
                                                
                                                   J
                                                
                                                
                                                   y
                                                
                                             
                                             ∈
                                             
                                                
                                                   U
                                                
                                                
                                                   k
                                                
                                             
                                             
                                             and
                                             
                                             
                                                
                                                   s
                                                
                                                
                                                   y
                                                
                                             
                                             ⩽
                                             C
                                             -
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      
                                                         
                                                            J
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      ∈
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            k
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   s
                                                
                                                
                                                   j
                                                
                                             
                                             
                                             and
                                             
                                             
                                                
                                                   s
                                                
                                                
                                                   y
                                                
                                             
                                             ·
                                             
                                                
                                                   p
                                                
                                                
                                                   y
                                                
                                             
                                             >
                                             C
                                             ·
                                             (
                                             
                                                max
                                             
                                             {
                                             
                                                
                                                   P
                                                
                                                
                                                   k
                                                
                                             
                                             ,
                                             
                                                
                                                   p
                                                
                                                
                                                   y
                                                
                                             
                                             }
                                             -
                                             
                                                
                                                   P
                                                
                                                
                                                   k
                                                
                                             
                                             )
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        

Note that if 
                              
                                 
                                    
                                       U
                                    
                                    
                                       k
                                    
                                 
                                 =
                                 ∅
                              
                           , then all the batches have been generated. Otherwise, if 
                              
                                 
                                    
                                       CS
                                    
                                    
                                       k
                                    
                                 
                                 =
                                 ∅
                              
                           , then there is no job that can be added to the current batch and reduce the wasted space. In this case, the ant will start a new empty batch. On the other hand, if 
                              
                                 
                                    
                                       CS
                                    
                                    
                                       k
                                    
                                 
                                 
                                 ≠
                                 
                                 ∅
                              
                           , then the ant chooses one of the jobs in 
                              
                                 
                                    
                                       CS
                                    
                                    
                                       k
                                    
                                 
                              
                            and adds it to 
                              
                                 
                                    
                                       B
                                    
                                    
                                       k
                                    
                                 
                              
                           .

In the process of batch formation, the ants choose the unscheduled jobs, step by step, based on pheromone trails and heuristic information between the jobs and the current batch. The pheromone trail represents the past experience of the ants in choosing this job. The definition of the pheromone trails is problem-specific and crucial to the quality of the solution. In our case, the feasible solution is constructed by selecting a job from the candidate set and adding it to the current batch iteratively. Thus, the pheromone trail, 
                              
                                 
                                    
                                       τ
                                    
                                    
                                       k
                                    
                                    
                                       y
                                    
                                 
                                 (
                                 l
                                 )
                              
                           , in iteration l, reflects the desirability of assigning the unscheduled job 
                              
                                 
                                    
                                       J
                                    
                                    
                                       y
                                    
                                 
                              
                            from the candidate set into the current batch 
                              
                                 
                                    
                                       B
                                    
                                    
                                       k
                                    
                                 
                                 (
                                 l
                                 )
                              
                           . It is defined as follows:
                              
                                 (5)
                                 
                                    
                                       
                                          τ
                                       
                                       
                                          k
                                       
                                       
                                          y
                                       
                                    
                                    (
                                    l
                                    )
                                    =
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                
                                                   
                                                      J
                                                   
                                                   
                                                      x
                                                   
                                                
                                                ∈
                                                
                                                   
                                                      B
                                                   
                                                   
                                                      k
                                                   
                                                
                                             
                                          
                                          
                                             
                                                ε
                                             
                                             
                                                xy
                                             
                                          
                                          (
                                          l
                                          )
                                       
                                       
                                          |
                                          
                                             
                                                B
                                             
                                             
                                                k
                                             
                                          
                                          (
                                          l
                                          )
                                          |
                                       
                                    
                                    ,
                                 
                              
                           where 
                              
                                 
                                    
                                       J
                                    
                                    
                                       y
                                    
                                 
                                 ∈
                                 
                                    
                                       CS
                                    
                                    
                                       k
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       xy
                                    
                                 
                                 (
                                 l
                                 )
                              
                            is the desirability factor of batching 
                              
                                 
                                    
                                       J
                                    
                                    
                                       x
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       J
                                    
                                    
                                       y
                                    
                                 
                              
                            together in iteration l. For 
                              
                                 x
                                 
                                 ≠
                                 
                                 y
                                 ,
                                 
                                    
                                       ε
                                    
                                    
                                       xy
                                    
                                 
                                 (
                                 1
                                 )
                              
                            is initialized as 
                              
                                 
                                    
                                       (
                                       (
                                       1
                                       -
                                       ρ
                                       )
                                       ·
                                       LBB
                                       )
                                    
                                    
                                       -
                                       1
                                    
                                 
                              
                           , where 
                              
                                 ρ
                                 ∈
                                 (
                                 0
                                 ,
                                 1
                                 )
                              
                            is an input parameter and LBB is a lower bound of the total processing time of all the batches. LBB is calculated as follows: Sort the n jobs in descending order of their processing times. Then, split each job 
                              
                                 
                                    
                                       J
                                    
                                    
                                       j
                                    
                                 
                              
                            into 
                              
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                 
                              
                            jobs whose size and processing time are one unit and 
                              
                                 
                                    
                                       p
                                    
                                    
                                       j
                                    
                                 
                              
                            units, respectively. Finally, take the first C jobs as the first batch, the next C jobs as the second batch, and so on, until all the jobs are batched. The total processing time of all the batches is the value LBB. The update of 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       xy
                                    
                                 
                                 (
                                 l
                                 )
                              
                            in subsequent iterations will be discussed later in Section 4.1.6.

Note that 
                              
                                 
                                    
                                       τ
                                    
                                    
                                       k
                                    
                                    
                                       y
                                    
                                 
                                 (
                                 l
                                 )
                              
                            is the average of the desirability factors of batching job 
                              
                                 
                                    
                                       J
                                    
                                    
                                       y
                                    
                                 
                              
                            with each job 
                              
                                 
                                    
                                       J
                                    
                                    
                                       x
                                    
                                 
                              
                            in the batch 
                              
                                 
                                    
                                       B
                                    
                                    
                                       k
                                    
                                 
                                 (
                                 l
                                 )
                              
                           .

Heuristic information is another important information in building up a batch, which usually indicates the cost, or the estimate of the cost, of adding a job to the current batch. In our problem, we define the heuristic information by using problem-specific knowledge of the objective. From Proposition 1, we know that the wasted space of the current batch 
                              
                                 
                                    
                                       B
                                    
                                    
                                       k
                                    
                                 
                              
                            will decrease after a job with a negative 
                              
                                 Δ
                                 
                                    
                                       WS
                                    
                                    
                                       k
                                    
                                    
                                       y
                                    
                                 
                              
                            is added into 
                              
                                 
                                    
                                       B
                                    
                                    
                                       k
                                    
                                 
                              
                           . The smaller the 
                              
                                 Δ
                                 
                                    
                                       WS
                                    
                                    
                                       k
                                    
                                    
                                       y
                                    
                                 
                              
                           , the larger the decrease in wasted space. Thus, we propose the heuristic information 
                              
                                 
                                    
                                       η
                                    
                                    
                                       k
                                    
                                    
                                       y
                                    
                                 
                              
                            as follows:
                              
                                 (6)
                                 
                                    
                                       
                                          η
                                       
                                       
                                          k
                                       
                                       
                                          y
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      1
                                                      -
                                                      C
                                                      ·
                                                      (
                                                      
                                                         max
                                                      
                                                      {
                                                      
                                                         
                                                            p
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                      ,
                                                      
                                                         
                                                            P
                                                         
                                                         
                                                            k
                                                         
                                                      
                                                      }
                                                      -
                                                      
                                                         
                                                            P
                                                         
                                                         
                                                            k
                                                         
                                                      
                                                      )
                                                      +
                                                      
                                                         
                                                            s
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                      ·
                                                      
                                                         
                                                            p
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                      ,
                                                   
                                                   
                                                      if
                                                      
                                                      Δ
                                                      
                                                         
                                                            WS
                                                         
                                                         
                                                            k
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                      <
                                                      0
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      1
                                                      ,
                                                   
                                                   
                                                      if
                                                      
                                                      Δ
                                                      
                                                         
                                                            WS
                                                         
                                                         
                                                            k
                                                         
                                                         
                                                            y
                                                         
                                                      
                                                      ⩾
                                                      0
                                                      .
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Note that 
                              
                                 
                                    
                                       η
                                    
                                    
                                       k
                                    
                                    
                                       y
                                    
                                 
                              
                            is always a positive number. Moreover, a job with a smaller value of 
                              
                                 Δ
                                 
                                    
                                       WS
                                    
                                    
                                       k
                                    
                                    
                                       y
                                    
                                 
                              
                            will give a larger value of 
                              
                                 
                                    
                                       η
                                    
                                    
                                       k
                                    
                                    
                                       y
                                    
                                 
                              
                           .

In each iteration, each ant generates a set of batches. The process of batching all the jobs is described as follows:
                              
                                 1.
                                 Each ant a begins with an empty batch and randomly selects an unscheduled job as the first job of the current batch.

Each ant a selects the next job, one by one from 
                                       
                                          
                                             
                                                CS
                                             
                                             
                                                k
                                             
                                          
                                       
                                    , according to the probability 
                                       
                                          
                                             
                                                p
                                             
                                             
                                                k
                                             
                                             
                                                y
                                             
                                          
                                       
                                     and adds it to its current batch until 
                                       
                                          
                                             
                                                CS
                                             
                                             
                                                k
                                             
                                          
                                       
                                     becomes empty. The probability, 
                                       
                                          
                                             
                                                p
                                             
                                             
                                                k
                                             
                                             
                                                y
                                             
                                          
                                       
                                    , is defined as Eq. (7).
                                       
                                          (7)
                                          
                                             
                                                
                                                   p
                                                
                                                
                                                   k
                                                
                                                
                                                   y
                                                
                                             
                                             =
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           k
                                                                        
                                                                        
                                                                           y
                                                                        
                                                                     
                                                                     (
                                                                     l
                                                                     )
                                                                     
                                                                        
                                                                           (
                                                                           
                                                                              
                                                                                 η
                                                                              
                                                                              
                                                                                 k
                                                                              
                                                                              
                                                                                 y
                                                                              
                                                                           
                                                                           )
                                                                        
                                                                        
                                                                           β
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           ∑
                                                                        
                                                                        
                                                                           
                                                                              
                                                                                 J
                                                                              
                                                                              
                                                                                 i
                                                                              
                                                                           
                                                                           ∈
                                                                           
                                                                              
                                                                                 CS
                                                                              
                                                                              
                                                                                 k
                                                                              
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           k
                                                                        
                                                                        
                                                                           i
                                                                        
                                                                     
                                                                     (
                                                                     l
                                                                     )
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       η
                                                                                    
                                                                                    
                                                                                       k
                                                                                    
                                                                                    
                                                                                       i
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           β
                                                                        
                                                                     
                                                                  
                                                               
                                                               ,
                                                            
                                                            
                                                               if
                                                               
                                                               
                                                                  
                                                                     J
                                                                  
                                                                  
                                                                     y
                                                                  
                                                               
                                                               ∈
                                                               
                                                                  
                                                                     CS
                                                                  
                                                                  
                                                                     k
                                                                  
                                                               
                                                               ;
                                                            
                                                         
                                                         
                                                            
                                                               0
                                                               ,
                                                            
                                                            
                                                               otherwise
                                                               ,
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    where 
                                       
                                          
                                             
                                                τ
                                             
                                             
                                                k
                                             
                                             
                                                y
                                             
                                          
                                          (
                                          l
                                          )
                                       
                                     and 
                                       
                                          
                                             
                                                η
                                             
                                             
                                                k
                                             
                                             
                                                y
                                             
                                          
                                       
                                     are provided in Eqs. (5) and (6), respectively, 
                                       
                                          
                                             
                                                CS
                                             
                                             
                                                k
                                             
                                          
                                       
                                     is the candidate job set, and β is an input parameter which reflects the relative influence of the heuristic information. The job 
                                       
                                          
                                             
                                                J
                                             
                                             
                                                y
                                             
                                          
                                       
                                     with the largest 
                                       
                                          
                                             
                                                p
                                             
                                             
                                                k
                                             
                                             
                                                y
                                             
                                          
                                       
                                     will be chosen to be included in the current batch 
                                       
                                          
                                             
                                                B
                                             
                                             
                                                k
                                             
                                          
                                       
                                    .

Each ant a closes its current batch, and repeats Step 1 and Step 2 until 
                                       
                                          
                                             
                                                U
                                             
                                             
                                                k
                                             
                                          
                                       
                                     becomes empty.

After all the jobs are grouped by an ant, a local optimization algorithm based on recessive processing time (RPT) is used to improve the quality of the batch set. The RPT is defined as follows:
                              Definition 3
                              Let 
                                    
                                       
                                          
                                             B
                                          
                                          
                                             k
                                          
                                       
                                    
                                  be an arbitrary batch. The recessive processing time of 
                                    
                                       
                                          
                                             B
                                          
                                          
                                             k
                                          
                                       
                                    
                                 , denoted by 
                                    
                                       
                                          
                                             RPT
                                          
                                          
                                             k
                                          
                                       
                                    
                                 , is defined to be the total processing time of the jobs in 
                                    
                                       
                                          
                                             B
                                          
                                          
                                             k
                                          
                                       
                                    
                                  that does not have any effect on the processing time, 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             k
                                          
                                       
                                    
                                 , of the batch 
                                    
                                       
                                          
                                             B
                                          
                                          
                                             k
                                          
                                       
                                    
                                 . 
                                    
                                       
                                          
                                             RPT
                                          
                                          
                                             k
                                          
                                       
                                    
                                  is defined in Eq. (8):
                                    
                                       (8)
                                       
                                          
                                             
                                                RPT
                                             
                                             
                                                k
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   
                                                      
                                                         J
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   ∈
                                                   
                                                      
                                                         B
                                                      
                                                      
                                                         k
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                p
                                             
                                             
                                                j
                                             
                                          
                                          -
                                          
                                             
                                                
                                                   max
                                                
                                                
                                                   
                                                      
                                                         J
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   ∈
                                                   
                                                      
                                                         B
                                                      
                                                      
                                                         k
                                                      
                                                   
                                                
                                             
                                          
                                          {
                                          
                                             
                                                p
                                             
                                             
                                                j
                                             
                                          
                                          }
                                          .
                                       
                                    
                                 
                              

Note that if there are two or more jobs having the largest processing time in the same batch, the largest processing time is only subtracted once in Eq. (8).

Let B be the batch set generated by an ant. The RPT of B, denoted by 
                                    
                                       
                                          
                                             RPT
                                          
                                          
                                             B
                                          
                                       
                                    
                                 , is the total RPT of the batches in B. It is given by formula (9).
                                    
                                       (9)
                                       
                                          
                                             
                                                RPT
                                             
                                             
                                                B
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   k
                                                   =
                                                   1
                                                
                                                
                                                   b
                                                
                                             
                                          
                                          
                                             
                                                RPT
                                             
                                             
                                                k
                                             
                                          
                                          .
                                       
                                    
                                 
                              

Because
                              
                                 (10)
                                 
                                    
                                       
                                          RPT
                                       
                                       
                                          B
                                       
                                    
                                    =
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             k
                                             =
                                             1
                                          
                                          
                                             b
                                          
                                       
                                    
                                    
                                       
                                          RPT
                                       
                                       
                                          k
                                       
                                    
                                    =
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             k
                                             =
                                             1
                                          
                                          
                                             b
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      
                                                         
                                                            J
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      ∈
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            k
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   p
                                                
                                                
                                                   j
                                                
                                             
                                             -
                                             
                                                
                                                   
                                                      max
                                                   
                                                   
                                                      
                                                         
                                                            J
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      ∈
                                                      
                                                         
                                                            B
                                                         
                                                         
                                                            k
                                                         
                                                      
                                                   
                                                
                                             
                                             {
                                             
                                                
                                                   p
                                                
                                                
                                                   j
                                                
                                             
                                             }
                                          
                                       
                                    
                                    =
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             k
                                             =
                                             1
                                          
                                          
                                             b
                                          
                                       
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             
                                                
                                                   J
                                                
                                                
                                                   j
                                                
                                             
                                             ∈
                                             
                                                
                                                   B
                                                
                                                
                                                   k
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    -
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             k
                                             =
                                             1
                                          
                                          
                                             b
                                          
                                       
                                    
                                    
                                       
                                          
                                             max
                                          
                                          
                                             
                                                
                                                   J
                                                
                                                
                                                   j
                                                
                                             
                                             ∈
                                             
                                                
                                                   B
                                                
                                                
                                                   k
                                                
                                             
                                          
                                       
                                    
                                    {
                                    
                                       
                                          p
                                       
                                       
                                          j
                                       
                                    
                                    }
                                    ,
                                 
                              
                           increasing 
                              
                                 
                                    
                                       RPT
                                    
                                    
                                       B
                                    
                                 
                              
                            will decrease the total processing time of all the batches in B. Thus, a local optimization algorithm, named RLOA, is developed as follows:
                              Algorithm 1
                              The RLOA Algorithm
                                    
                                       1.
                                       Input the batch set B obtained by the ant.

Sort the batches in B in descending order of their processing times.

For 
                                             
                                                k
                                                =
                                                1
                                             
                                           to 
                                             
                                                b
                                                -
                                                1
                                             
                                          
                                          
                                             
                                                (a)
                                                
                                                   
                                                      
                                                         u
                                                         ←
                                                         k
                                                         +
                                                         1
                                                      
                                                   .

while (
                                                      
                                                         u
                                                         ⩽
                                                         b
                                                      
                                                   ) do
                                                      
                                                         i.
                                                         Merge the jobs of 
                                                               
                                                                  
                                                                     
                                                                        B
                                                                     
                                                                     
                                                                        k
                                                                     
                                                                  
                                                               
                                                             and 
                                                               
                                                                  
                                                                     
                                                                        B
                                                                     
                                                                     
                                                                        u
                                                                     
                                                                  
                                                               
                                                             into 
                                                               
                                                                  
                                                                     
                                                                        B
                                                                     
                                                                     
                                                                        ^
                                                                     
                                                                  
                                                               
                                                            , and sort the jobs in descending order of their processing times. Let f be the largest index such that the first f jobs in 
                                                               
                                                                  
                                                                     
                                                                        B
                                                                     
                                                                     
                                                                        ^
                                                                     
                                                                  
                                                               
                                                             satisfies the capacity constraint.

If the remaining jobs in 
                                                               
                                                                  
                                                                     
                                                                        B
                                                                     
                                                                     
                                                                        ^
                                                                     
                                                                  
                                                               
                                                             is not larger than the machine capacity, i.e., 
                                                               
                                                                  
                                                                     
                                                                        ∑
                                                                     
                                                                     
                                                                        j
                                                                        =
                                                                        f
                                                                        +
                                                                        1
                                                                     
                                                                     
                                                                        |
                                                                        
                                                                           
                                                                              B
                                                                           
                                                                           
                                                                              ^
                                                                           
                                                                        
                                                                        |
                                                                     
                                                                  
                                                                  ⩽
                                                                  C
                                                               
                                                            , then
                                                               
                                                                  A.
                                                                  Put the first f jobs of 
                                                                        
                                                                           
                                                                              
                                                                                 B
                                                                              
                                                                              
                                                                                 ^
                                                                              
                                                                           
                                                                        
                                                                      into 
                                                                        
                                                                           
                                                                              
                                                                                 B
                                                                              
                                                                              
                                                                                 k
                                                                              
                                                                           
                                                                        
                                                                      and the remaining jobs into 
                                                                        
                                                                           
                                                                              
                                                                                 B
                                                                              
                                                                              
                                                                                 u
                                                                              
                                                                           
                                                                        
                                                                     ;

If 
                                                                        
                                                                           
                                                                              
                                                                                 B
                                                                              
                                                                              
                                                                                 u
                                                                              
                                                                           
                                                                           =
                                                                           ∅
                                                                        
                                                                     , then 
                                                                        
                                                                           B
                                                                           ←
                                                                           B
                                                                           ⧹
                                                                           
                                                                              
                                                                                 B
                                                                              
                                                                              
                                                                                 u
                                                                              
                                                                           
                                                                           ,
                                                                           
                                                                           b
                                                                           ←
                                                                           b
                                                                           -
                                                                           1
                                                                        
                                                                     ; else insert 
                                                                        
                                                                           
                                                                              
                                                                                 B
                                                                              
                                                                              
                                                                                 u
                                                                              
                                                                           
                                                                        
                                                                      into the appropriate position in B such that the batches still satisfy the decreasing order of their processing times.

Goto the next k.


                                                            
                                                               
                                                                  u
                                                                  ←
                                                                  u
                                                                  +
                                                                  1
                                                               
                                                            .

The most important means of exploitation in MMAS is that either the iteration-best or the global-best solution is used to update the desirability factor. The global-best solution is the best solution found so far. If we choose only the global-best solution, the search may concentrate too much around this solution and the probability of exploring better ones is decreased, which may result in a poor quality solution. Since the iteration-best solution vary from iteration to iteration, most of the components may be strengthened occasionally if the iteration-best solution is used in the update of the desirability factor, which will result in a better performance. Therefore, the iteration-best and the global-best solutions are alternately used in the desirability factor update. The iteration-best solution is chosen as the default and the global-best solution is only used every μ iterations, where μ is an input parameter.

According to the definition in Section 4.1.2, the desirability factor 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       xy
                                    
                                 
                                 (
                                 l
                                 )
                              
                            refers to the expectation of 
                              
                                 
                                    
                                       J
                                    
                                    
                                       x
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       J
                                    
                                    
                                       y
                                    
                                 
                              
                            being batched together in iteration l. Let 
                              
                                 
                                    
                                       m
                                    
                                    
                                       xy
                                    
                                 
                                 (
                                 l
                                 )
                              
                            record the frequency of 
                              
                                 
                                    
                                       J
                                    
                                    
                                       x
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       J
                                    
                                    
                                       y
                                    
                                 
                              
                            being batched together among all the solutions in the first l iterations. Additionally, we define 
                              
                                 Δ
                                 
                                    
                                       ε
                                    
                                    
                                       xy
                                    
                                 
                                 (
                                 l
                                 )
                              
                            as follows: If 
                              
                                 
                                    
                                       J
                                    
                                    
                                       x
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       J
                                    
                                    
                                       y
                                    
                                 
                              
                            are not batched together in any solution in the lth iteration, then 
                              
                                 Δ
                                 
                                    
                                       ε
                                    
                                    
                                       xy
                                    
                                 
                                 (
                                 l
                                 )
                              
                            is defined to be zero. Otherwise, 
                              
                                 Δ
                                 
                                    
                                       ε
                                    
                                    
                                       xy
                                    
                                 
                                 (
                                 l
                                 )
                                 =
                                 Q
                                 /
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                    
                                       ∗
                                    
                                 
                                 (
                                 l
                                 )
                              
                           , where Q is an input parameter, and 
                              
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                    
                                       ∗
                                    
                                 
                                 (
                                 l
                                 )
                              
                            is the total processing time of all the batches in the global-best solution if l is an integral multiple of μ; otherwise, 
                              
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                    
                                       ∗
                                    
                                 
                                 (
                                 l
                                 )
                              
                            is the total processing time of all the batches in the iteration-best solution. With these definitions, the update of 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       xy
                                    
                                 
                              
                            is given as follows.
                              
                                 (11)
                                 
                                    
                                       
                                          ε
                                       
                                       
                                          xy
                                       
                                    
                                    (
                                    l
                                    +
                                    1
                                    )
                                    =
                                    (
                                    1
                                    -
                                    ρ
                                    )
                                    ·
                                    
                                       
                                          ε
                                       
                                       
                                          xy
                                       
                                    
                                    (
                                    l
                                    )
                                    +
                                    
                                       
                                          m
                                       
                                       
                                          xy
                                       
                                    
                                    (
                                    l
                                    )
                                    ·
                                    Δ
                                    
                                       
                                          ε
                                       
                                       
                                          xy
                                       
                                    
                                    (
                                    l
                                    )
                                    .
                                 
                              
                           Here, ρ is the evaporation rate. If 
                              
                                 
                                    
                                       J
                                    
                                    
                                       x
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       J
                                    
                                    
                                       y
                                    
                                 
                              
                            are not batched together in any solution in the lth iteration, then the second term on the right hand side of Eq. (11) will be zero. Otherwise, an amount proportional to 
                              
                                 
                                    
                                       m
                                    
                                    
                                       xy
                                    
                                 
                                 (
                                 l
                                 )
                              
                            will be added to the first term.

To keep the desirability factor from becoming too extreme during the search which may result in a search stagnation, the MMAS algorithm imposes a lower bound 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       min
                                    
                                 
                              
                            and an upper bound 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       max
                                    
                                 
                              
                            on the desirability factor 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       xy
                                    
                                 
                              
                           ; i.e., 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       min
                                    
                                 
                                 ⩽
                                 
                                    
                                       ε
                                    
                                    
                                       xy
                                    
                                 
                                 ⩽
                                 
                                    
                                       ε
                                    
                                    
                                       max
                                    
                                 
                              
                           . This is one of the vital improvements of MMAS (Stutzle & Hoos, 2000). Thus, after the desirability factors are updated in each iteration, the following operation is applied to modulate the desirability factors.
                              
                                 (12)
                                 
                                    
                                       
                                          ε
                                       
                                       
                                          xy
                                       
                                    
                                    (
                                    l
                                    +
                                    1
                                    )
                                    =
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            ε
                                                         
                                                         
                                                            min
                                                         
                                                      
                                                      ,
                                                   
                                                   
                                                      
                                                         
                                                            ε
                                                         
                                                         
                                                            xy
                                                         
                                                      
                                                      (
                                                      l
                                                      +
                                                      1
                                                      )
                                                      <
                                                      
                                                         
                                                            ε
                                                         
                                                         
                                                            min
                                                         
                                                      
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            ε
                                                         
                                                         
                                                            xy
                                                         
                                                      
                                                      (
                                                      l
                                                      +
                                                      1
                                                      )
                                                      ,
                                                   
                                                   
                                                      
                                                         
                                                            ε
                                                         
                                                         
                                                            min
                                                         
                                                      
                                                      ⩽
                                                      
                                                         
                                                            ε
                                                         
                                                         
                                                            xy
                                                         
                                                      
                                                      (
                                                      l
                                                      +
                                                      1
                                                      )
                                                      ⩽
                                                      
                                                         
                                                            ε
                                                         
                                                         
                                                            max
                                                         
                                                      
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            ε
                                                         
                                                         
                                                            max
                                                         
                                                      
                                                      ,
                                                   
                                                   
                                                      
                                                         
                                                            ε
                                                         
                                                         
                                                            xy
                                                         
                                                      
                                                      (
                                                      l
                                                      +
                                                      1
                                                      )
                                                      >
                                                      
                                                         
                                                            ε
                                                         
                                                         
                                                            max
                                                         
                                                      
                                                      .
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           where 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       max
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             (
                                             1
                                             -
                                             ρ
                                             )
                                             ·
                                             
                                                
                                                   C
                                                
                                                
                                                   max
                                                
                                                
                                                   gb
                                                
                                             
                                          
                                       
                                    
                                    
                                       -
                                       1
                                    
                                 
                                 ,
                                 
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                    
                                       gb
                                    
                                 
                              
                            is the total processing time of all the batches in the global-best solution, and 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       min
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             ε
                                          
                                          
                                             max
                                          
                                       
                                       ·
                                       
                                          
                                             
                                                1
                                                -
                                                
                                                   
                                                      0.05
                                                   
                                                   
                                                      n
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       (
                                       n
                                       /
                                       2
                                       -
                                       1
                                       )
                                       ·
                                       
                                          
                                             0.05
                                          
                                          
                                             n
                                          
                                       
                                    
                                 
                              
                           . The formulas for 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       max
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       min
                                    
                                 
                              
                            are taken from (Stutzle & Hoos, 2000).

With the iterations of the algorithm, some desirability factors may become very small, which may decrease the diversity of solutions and cause stagnation in the search. More search diversification can be obtained if a reinitialization of desirability factors is performed (Stutzle & Hoos, 2000). To enhance the performance of the ant system and keep a reasonable exploration level in the search space, the desirability factors are reinitialized to 
                              
                                 
                                    
                                       ε
                                    
                                    
                                       max
                                    
                                 
                              
                            if 
                              
                                 
                                    
                                       C
                                    
                                    
                                       max
                                    
                                    
                                       gb
                                    
                                 
                              
                            has not been improved for L iterations, where L is an input parameter.

The MMAS batching algorithm, combined with the RLOA algorithm, is described as follows:
                              Algorithm 2
                              The MMAS Algorithm 
                                    
                                       
                                          
                                          
                                             
                                                
                                                   Input: job set J; machine capacity C; the number of ants 
                                                      
                                                         
                                                            
                                                               n
                                                            
                                                            
                                                               a
                                                            
                                                         
                                                      
                                                   ; the evaporation rate ρ; the relative importance of heuristics β; parameter μ for desirability factor update; the maximum number of iterations 
                                                      
                                                         
                                                            
                                                               I
                                                            
                                                            
                                                               max
                                                            
                                                         
                                                         ;
                                                         L
                                                         ;
                                                         Q
                                                      
                                                   .
                                             
                                             
                                                
                                                   Output: the global-best solution with the batch set B.
                                             
                                             
                                                
                                                   
                                                      
                                                         1.
                                                         Compute the lower bound LBB according to Section 4.1.2.
                                                      
                                                      
                                                         2.
                                                         Initialize desirability factors: For 
                                                               
                                                                  1
                                                                  ⩽
                                                                  x
                                                                  <
                                                                  y
                                                                  ⩽
                                                                  n
                                                                  ,
                                                                  
                                                                  
                                                                     
                                                                        ε
                                                                     
                                                                     
                                                                        xy
                                                                     
                                                                  
                                                                  (
                                                                  1
                                                                  )
                                                                  ←
                                                                  
                                                                     
                                                                        (
                                                                        (
                                                                        1
                                                                        -
                                                                        ρ
                                                                        )
                                                                        ·
                                                                        LBB
                                                                        )
                                                                     
                                                                     
                                                                        -
                                                                        1
                                                                     
                                                                  
                                                               
                                                            .
                                                      
                                                      
                                                         3.
                                                         
                                                            
                                                               
                                                                  l
                                                                  ←
                                                                  1
                                                               
                                                            . 
                                                               
                                                                  /
                                                                  ∗
                                                               
                                                             The index of the iteration. 
                                                               
                                                                  ∗
                                                                  /
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         4.
                                                         
                                                            
                                                               
                                                                  g
                                                                  ←
                                                                  1
                                                               
                                                            . 
                                                               
                                                                  /
                                                                  ∗
                                                               
                                                             The indicator of the variation of 
                                                               
                                                                  
                                                                     
                                                                        C
                                                                     
                                                                     
                                                                        max
                                                                     
                                                                     
                                                                        gb
                                                                     
                                                                  
                                                               
                                                            . 
                                                               
                                                                  ∗
                                                                  /
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         5.
                                                         While 
                                                               
                                                                  (
                                                                  l
                                                                  ⩽
                                                                  
                                                                     
                                                                        I
                                                                     
                                                                     
                                                                        max
                                                                     
                                                                  
                                                                  )
                                                               
                                                            do 
                                                               
                                                                  /
                                                                  ∗
                                                               
                                                             Iteratively search.
                                                               
                                                                  ∗
                                                                  /
                                                               
                                                            
                                                            
                                                               
                                                                  (a)
                                                                  
                                                                     
                                                                        
                                                                           a
                                                                           ←
                                                                           1
                                                                           ;
                                                                           /
                                                                           ∗
                                                                        
                                                                      The index of the ant. 
                                                                        
                                                                           ∗
                                                                           /
                                                                        
                                                                     
                                                                  
                                                               
                                                               
                                                                  (b)
                                                                  While 
                                                                        
                                                                           (
                                                                           a
                                                                           ⩽
                                                                           
                                                                              
                                                                                 n
                                                                              
                                                                              
                                                                                 a
                                                                              
                                                                           
                                                                           )
                                                                        
                                                                      do 
                                                                        
                                                                           /
                                                                           ∗
                                                                        
                                                                      The ants construct the solutions. 
                                                                        
                                                                           ∗
                                                                           /
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           i.
                                                                           
                                                                              
                                                                                 
                                                                                    k
                                                                                    ←
                                                                                    1
                                                                                    ;
                                                                                    
                                                                                    
                                                                                       
                                                                                          U
                                                                                       
                                                                                       
                                                                                          k
                                                                                       
                                                                                    
                                                                                    ←
                                                                                    J
                                                                                 
                                                                               ;
                                                                        
                                                                        
                                                                           ii.
                                                                           While 
                                                                                 
                                                                                    (
                                                                                    
                                                                                       
                                                                                          U
                                                                                       
                                                                                       
                                                                                          k
                                                                                       
                                                                                    
                                                                                    
                                                                                    ≠
                                                                                    
                                                                                    ∅
                                                                                    )
                                                                                 
                                                                               do 
                                                                                 
                                                                                    /
                                                                                    ∗
                                                                                 
                                                                               Construct a new solution. 
                                                                                 
                                                                                    ∗
                                                                                    /
                                                                                 
                                                                              
                                                                              
                                                                                 
                                                                                    A.
                                                                                    
                                                                                       
                                                                                          
                                                                                             
                                                                                                
                                                                                                   B
                                                                                                
                                                                                                
                                                                                                   k
                                                                                                
                                                                                             
                                                                                             ←
                                                                                             {
                                                                                             
                                                                                                
                                                                                                   J
                                                                                                
                                                                                                
                                                                                                   y
                                                                                                
                                                                                             
                                                                                             }
                                                                                          
                                                                                       , where 
                                                                                          
                                                                                             
                                                                                                
                                                                                                   J
                                                                                                
                                                                                                
                                                                                                   y
                                                                                                
                                                                                             
                                                                                          
                                                                                        is an arbitrary job in 
                                                                                          
                                                                                             
                                                                                                
                                                                                                   U
                                                                                                
                                                                                                
                                                                                                   k
                                                                                                
                                                                                             
                                                                                             ;
                                                                                             
                                                                                             
                                                                                                
                                                                                                   P
                                                                                                
                                                                                                
                                                                                                   k
                                                                                                
                                                                                             
                                                                                             ←
                                                                                             
                                                                                                
                                                                                                   p
                                                                                                
                                                                                                
                                                                                                   y
                                                                                                
                                                                                             
                                                                                             ;
                                                                                             
                                                                                             
                                                                                                
                                                                                                   U
                                                                                                
                                                                                                
                                                                                                   k
                                                                                                
                                                                                             
                                                                                             ←
                                                                                             
                                                                                                
                                                                                                   U
                                                                                                
                                                                                                
                                                                                                   k
                                                                                                
                                                                                             
                                                                                             ⧹
                                                                                             
                                                                                                
                                                                                                   B
                                                                                                
                                                                                                
                                                                                                   k
                                                                                                
                                                                                             
                                                                                          
                                                                                       ;
                                                                                 
                                                                                 
                                                                                    B.
                                                                                    Calculate 
                                                                                          
                                                                                             
                                                                                                
                                                                                                   CS
                                                                                                
                                                                                                
                                                                                                   k
                                                                                                
                                                                                             
                                                                                          
                                                                                        according to Eq. (4);
                                                                                 
                                                                                 
                                                                                    C.
                                                                                    While 
                                                                                          
                                                                                             (
                                                                                             
                                                                                                
                                                                                                   CS
                                                                                                
                                                                                                
                                                                                                   k
                                                                                                
                                                                                             
                                                                                             
                                                                                             ≠
                                                                                             
                                                                                             ∅
                                                                                             )
                                                                                          
                                                                                        do 
                                                                                          
                                                                                             /
                                                                                             ∗
                                                                                          
                                                                                       Select next job from candidate set according to probability 
                                                                                          
                                                                                             
                                                                                                
                                                                                                   p
                                                                                                
                                                                                                
                                                                                                   k
                                                                                                
                                                                                                
                                                                                                   y
                                                                                                
                                                                                             
                                                                                             .
                                                                                             ∗
                                                                                             /
                                                                                          
                                                                                       
                                                                                       
                                                                                          
                                                                                             (1)
                                                                                             For each 
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            J
                                                                                                         
                                                                                                         
                                                                                                            y
                                                                                                         
                                                                                                      
                                                                                                      ∈
                                                                                                      
                                                                                                         
                                                                                                            CS
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                , calculate 
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            τ
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                         
                                                                                                            y
                                                                                                         
                                                                                                      
                                                                                                      (
                                                                                                      l
                                                                                                      )
                                                                                                   
                                                                                                 and 
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            η
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                         
                                                                                                            y
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                 according to Eqs. (5) and (6) respectively;
                                                                                          
                                                                                          
                                                                                             (2)
                                                                                             For each 
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            J
                                                                                                         
                                                                                                         
                                                                                                            y
                                                                                                         
                                                                                                      
                                                                                                      ∈
                                                                                                      
                                                                                                         
                                                                                                            CS
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                , calculate 
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            p
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                         
                                                                                                            y
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                 according to Eq. (7);
                                                                                          
                                                                                          
                                                                                             (3)
                                                                                             
                                                                                                
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            B
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                      
                                                                                                      ←
                                                                                                      
                                                                                                         
                                                                                                            B
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                      
                                                                                                      ∪
                                                                                                      {
                                                                                                      
                                                                                                         
                                                                                                            J
                                                                                                         
                                                                                                         
                                                                                                            i
                                                                                                         
                                                                                                      
                                                                                                      }
                                                                                                   
                                                                                                , where 
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            p
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                         
                                                                                                            i
                                                                                                         
                                                                                                      
                                                                                                      =
                                                                                                      
                                                                                                         
                                                                                                            max
                                                                                                         
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  J
                                                                                                               
                                                                                                               
                                                                                                                  y
                                                                                                               
                                                                                                            
                                                                                                            ∈
                                                                                                            
                                                                                                               
                                                                                                                  CS
                                                                                                               
                                                                                                               
                                                                                                                  k
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                      
                                                                                                      
                                                                                                         
                                                                                                            
                                                                                                               
                                                                                                                  
                                                                                                                     p
                                                                                                                  
                                                                                                                  
                                                                                                                     k
                                                                                                                  
                                                                                                                  
                                                                                                                     y
                                                                                                                  
                                                                                                               
                                                                                                            
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                ;
                                                                                          
                                                                                          
                                                                                             (4)
                                                                                             Update 
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            T
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                      
                                                                                                      ,
                                                                                                      
                                                                                                      
                                                                                                         
                                                                                                            U
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                 and 
                                                                                                   
                                                                                                      
                                                                                                         
                                                                                                            CS
                                                                                                         
                                                                                                         
                                                                                                            k
                                                                                                         
                                                                                                      
                                                                                                   
                                                                                                ;
                                                                                          
                                                                                       
                                                                                    
                                                                                 
                                                                                 
                                                                                    D.
                                                                                    
                                                                                       
                                                                                          
                                                                                             k
                                                                                             ←
                                                                                             k
                                                                                             +
                                                                                             1
                                                                                          
                                                                                       ;
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           iii.
                                                                           Call the RLOA algorithm to optimize the ath solution of the current iteration;
                                                                        
                                                                        
                                                                           iv.
                                                                           Update the current iteration-best solution and global-best solution;
                                                                        
                                                                        
                                                                           v.
                                                                           
                                                                              
                                                                                 
                                                                                    a
                                                                                    ←
                                                                                    a
                                                                                    +
                                                                                    1
                                                                                 
                                                                              ;
                                                                        
                                                                     
                                                                  
                                                               
                                                               
                                                                  (c)
                                                                  If 
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    (
                                                                                    l
                                                                                    ⩾
                                                                                    2
                                                                                    )
                                                                                    
                                                                                    and
                                                                                    
                                                                                    
                                                                                       
                                                                                          
                                                                                             
                                                                                                
                                                                                                   C
                                                                                                
                                                                                                
                                                                                                   max
                                                                                                
                                                                                                
                                                                                                   gb
                                                                                                
                                                                                             
                                                                                             (
                                                                                             l
                                                                                             )
                                                                                             =
                                                                                             
                                                                                                
                                                                                                   C
                                                                                                
                                                                                                
                                                                                                   max
                                                                                                
                                                                                                
                                                                                                   gb
                                                                                                
                                                                                             
                                                                                             (
                                                                                             l
                                                                                             -
                                                                                             1
                                                                                             )
                                                                                          
                                                                                       
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                     
                                                                     then 
                                                                        
                                                                           g
                                                                           ←
                                                                           g
                                                                           +
                                                                           1
                                                                        
                                                                     ; else 
                                                                        
                                                                           g
                                                                           ←
                                                                           1
                                                                        
                                                                     ;
                                                               
                                                               
                                                                  (d)
                                                                  Compute 
                                                                        
                                                                           
                                                                              
                                                                                 ε
                                                                              
                                                                              
                                                                                 max
                                                                              
                                                                           
                                                                        
                                                                      and 
                                                                        
                                                                           
                                                                              
                                                                                 ε
                                                                              
                                                                              
                                                                                 min
                                                                              
                                                                           
                                                                        
                                                                      according to Section 4.1.6;
                                                               
                                                               
                                                                  (e)
                                                                  Update 
                                                                        
                                                                           
                                                                              
                                                                                 m
                                                                              
                                                                              
                                                                                 xy
                                                                              
                                                                           
                                                                           (
                                                                           l
                                                                           )
                                                                        
                                                                      and 
                                                                        
                                                                           Δ
                                                                           
                                                                              
                                                                                 ε
                                                                              
                                                                              
                                                                                 xy
                                                                              
                                                                           
                                                                           (
                                                                           l
                                                                           )
                                                                        
                                                                      for all x and y, according to Section 4.1.6;
                                                               
                                                               
                                                                  (f)
                                                                  If 
                                                                        
                                                                           (
                                                                           g
                                                                           >
                                                                           L
                                                                           )
                                                                        
                                                                      then reinitialize the desirability factors with 
                                                                        
                                                                           
                                                                              
                                                                                 ε
                                                                              
                                                                              
                                                                                 max
                                                                              
                                                                           
                                                                        
                                                                     ; else update desirability factors according to Eqs. (11) and (12);
                                                               
                                                               
                                                                  (g)
                                                                  
                                                                     
                                                                        
                                                                           l
                                                                           ←
                                                                           l
                                                                           +
                                                                           1
                                                                        
                                                                     ;
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         6.
                                                         Output the global-best solution.
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              

The Multifit algorithm by Coffman et al. (1978) is applied to schedule the batches obtained from the MMAS-based batching algorithm. The MF algorithm is described as follows:
                           Algorithm 3
                           The MF Algorithm 
                                 
                                    
                                       
                                       
                                          
                                             
                                                Input: batch set B; machine set M.
                                          
                                          
                                             
                                                Output: the schedule and the makespan.
                                          
                                          
                                             
                                                
                                                   
                                                      1.
                                                      Sort the batches in descending order of their processing times, i.e., 
                                                            
                                                               
                                                                  
                                                                     P
                                                                  
                                                                  
                                                                     1
                                                                  
                                                               
                                                               ⩾
                                                               
                                                                  
                                                                     P
                                                                  
                                                                  
                                                                     2
                                                                  
                                                               
                                                               ⩾
                                                               ⋯
                                                               ⩾
                                                               
                                                                  
                                                                     P
                                                                  
                                                                  
                                                                     b
                                                                  
                                                               
                                                            
                                                         .
                                                   
                                                   
                                                      2.
                                                      Calculate LB and UB, according to Eqs. (13) and (14).
                                                            
                                                               (13)
                                                               
                                                                  LB
                                                                  =
                                                                  
                                                                     max
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    max
                                                                                 
                                                                                 
                                                                                    
                                                                                       
                                                                                          B
                                                                                       
                                                                                       
                                                                                          k
                                                                                       
                                                                                    
                                                                                    ∈
                                                                                    B
                                                                                 
                                                                              
                                                                           
                                                                           {
                                                                           
                                                                              
                                                                                 P
                                                                              
                                                                              
                                                                                 k
                                                                              
                                                                           
                                                                           }
                                                                           ,
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       ∑
                                                                                    
                                                                                    
                                                                                       
                                                                                          
                                                                                             B
                                                                                          
                                                                                          
                                                                                             k
                                                                                          
                                                                                       
                                                                                       ∈
                                                                                       B
                                                                                    
                                                                                 
                                                                                 
                                                                                    
                                                                                       P
                                                                                    
                                                                                    
                                                                                       k
                                                                                    
                                                                                 
                                                                              
                                                                              
                                                                                 m
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                                  .
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               (14)
                                                               
                                                                  UB
                                                                  =
                                                                  
                                                                     max
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    max
                                                                                 
                                                                                 
                                                                                    
                                                                                       
                                                                                          B
                                                                                       
                                                                                       
                                                                                          k
                                                                                       
                                                                                    
                                                                                    ∈
                                                                                    B
                                                                                 
                                                                              
                                                                           
                                                                           {
                                                                           
                                                                              
                                                                                 P
                                                                              
                                                                              
                                                                                 k
                                                                              
                                                                           
                                                                           }
                                                                           ,
                                                                           
                                                                              
                                                                                 2
                                                                                 
                                                                                    
                                                                                       ∑
                                                                                    
                                                                                    
                                                                                       
                                                                                          
                                                                                             B
                                                                                          
                                                                                          
                                                                                             k
                                                                                          
                                                                                       
                                                                                       ∈
                                                                                       B
                                                                                    
                                                                                 
                                                                                 
                                                                                    
                                                                                       P
                                                                                    
                                                                                    
                                                                                       k
                                                                                    
                                                                                 
                                                                              
                                                                              
                                                                                 m
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                                  .
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      3.
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     C
                                                                  
                                                                  
                                                                     max
                                                                  
                                                               
                                                               ←
                                                               (
                                                               LB
                                                               +
                                                               UB
                                                               )
                                                               /
                                                               2
                                                            
                                                         .
                                                   
                                                   
                                                      4.
                                                      Assign the batches, one at a time, to the lowest-indexed machine such that the resulting completion time does not exceed 
                                                            
                                                               
                                                                  
                                                                     C
                                                                  
                                                                  
                                                                     max
                                                                  
                                                               
                                                            
                                                         .
                                                            
                                                               If there is a batch that cannot be assigned to any machine, then 
                                                                     
                                                                        LB
                                                                        ←
                                                                        
                                                                           
                                                                              C
                                                                           
                                                                           
                                                                              max
                                                                           
                                                                        
                                                                     
                                                                   else 
                                                                     
                                                                        UB
                                                                        ←
                                                                        
                                                                           
                                                                              C
                                                                           
                                                                           
                                                                              max
                                                                           
                                                                        
                                                                     
                                                                  .
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      5.
                                                      Repeat Steps 3 and 4 for eight times or until LB is approximately equal to UB.
                                                   
                                                Note that LB and UB are the lower and upper bounds of the makespan, respectively.
                                          
                                       
                                    
                                 
                              
                           

To evaluate the performance of our algorithm, a series of computational experiments are performed in which various algorithms are tested and compared with on a set of randomly generated instances.

@&#EXPERIMENTAL DESIGN@&#

Random instances are generated according to the method used in Melouk, Damodaran, and Chang (2004). To cover different types of problems, three factors that influence the outcome are identified: the number of jobs, the number of machines, and variation in job sizes. Specifically, the number of jobs is chosen to be 50, 75, and 100; the number of machines is chosen to be 2, 3, and 4; two levels of job sizes are chosen from the discrete uniform distribution 
                           
                              [
                              1
                              ,
                              15
                              ]
                           
                         and 
                           
                              [
                              1
                              ,
                              40
                              ]
                           
                        . The processing time of each job is an integer randomly chosen from the discrete uniform distribution 
                           
                              [
                              8
                              ,
                              48
                              ]
                           
                        . One of the machine capacities is set to 40 for all instances. Additionally, the machine capacities of 50 and 60 are selected for instances with 100 jobs. In all, there are thirty categories of the problem by combining different levels of the parameters, where ten instances are generated in each category. The factors and their levels are shown in Table 1
                        .

Like other meta-heuristics, the performance of an ACO algorithm is sensitive to the parameters that affect the search behavior and convergence speed. Hence, to gain better performance, it is desirable to determine the proper values of the parameters. For the proposed algorithm, the parameters that will affect its search performance include the number of ants 
                           
                              
                                 
                                    n
                                 
                                 
                                    a
                                 
                              
                           
                        , the number of iterations 
                           
                              
                                 
                                    I
                                 
                                 
                                    max
                                 
                              
                           
                        , the relative importance of heuristic information β, the evaporation rate ρ, and so on. Thus, a series of preliminary experiments are implemented to find the appropriate values for these parameters.

It is intuitive that the more ants there are, the better the quality of the solution, and definitely the more computation time it takes. Without changing the other parameters, we run the proposed algorithm by using the parameter setting of 
                           
                              
                                 
                                    n
                                 
                                 
                                    a
                                 
                              
                              =
                              10
                              ,
                              20
                              ,
                              n
                              /
                              2
                              ,
                              n
                           
                        , respectively. Since there are no significant differences between the solution quality when 
                           
                              
                                 
                                    n
                                 
                                 
                                    a
                                 
                              
                           
                         is greater than 20, we select 
                           
                              
                                 
                                    n
                                 
                                 
                                    a
                                 
                              
                              =
                              20
                           
                         to trade off between the solution quality and the computation time.

Since there are some effect between different values of different parameters, we simultaneously determine the appropriate values for β, ρ and Q. From the instances with 75 jobs, we randomly select two instances whose job sizes are in [1,15], and two instances whose job sizes are in [1,40]. The same manner of selection is also applied to the other four instances with 100 jobs. Then, we run the proposed algorithm for various combinations of 
                           
                              β
                              ,
                              
                              ρ
                           
                         and Q on the eight instances, where β is an integer in 
                           
                              [
                              1
                              ,
                              15
                              ]
                              ,
                              ρ
                           
                         is a number in 
                           
                              {
                              0.02
                              ,
                              0.1
                              ,
                              0.5
                              ,
                              0.95
                              }
                           
                         and Q is one element of 
                           
                              {
                              1
                              ,
                              10
                              ,
                              n
                              ,
                              LBB
                              }
                           
                        . After calculating and comparing the average makespan with each combination, we find that the best quality is obtained when 
                           
                              β
                              =
                              8
                              ,
                              
                              ρ
                              =
                              0.5
                           
                         and 
                           
                              Q
                              =
                              LBB
                           
                        . Thus, we use this setting for the proposed algorithm. Moreover, we find that there is no obvious improvement in the solution quality after 200 iterations. Therefore, we set 
                           
                              
                                 
                                    I
                                 
                                 
                                    max
                                 
                              
                              =
                              200
                           
                        . The other parameters are set to the default values according to Stutzle and Hoos (2000). Table 2
                         shows the parameter setting chosen for this experiment.

@&#EXPERIMENTAL RESULTS@&#

To verify that all the heuristics are implemented correctly, we experiment with the CPLEX, a mixed-integer linear programming solver, for very small-size problem instances. We randomly generate 10 instances of 20 jobs and 2 machines, where the jobs sizes of 5 instances are in 
                           
                              U
                              [
                              1
                              ,
                              15
                              ]
                           
                         and the other 5 are in 
                           
                              U
                              [
                              1
                              ,
                              40
                              ]
                           
                        . The processing time of each job is in 
                           
                              U
                              [
                              8
                              ,
                              48
                              ]
                           
                        , and the machine capacity (C) is set to be 40. The experimental results of CPLEX are compared with our algorithm as well as the other five algorithms reported in the literature. They are the hybrid genetic heuristic (HGH) proposed by Kashan et al. (2008) and the four deterministic algorithms proposed by Damodaran and Chang (2008) (i.e., FFD-LPT, FFD-MF, BFD-LPT and BFD-MF). Since Kashan et al. (2008) have shown that the performance of the HGH is better than the simulated annealing (SA) method of Chang et al. (2004), we do not compare our algorithm with the SA method. For convenience, we use FL, FM, BL and BM to represent FFD-LPT, FFD-MF, BFD-LPT and BFD-MF, respectively. The four deterministic algorithms are very fast; therefore, we do not measure their computation time. The meta-heuristics are slower; therefore, we measure the computation time of the HGH and our algorithm. For the four deterministic algorithms, the results are definite; i.e., it gives the same result regardless of how many times it is run. However, the results of meta-heuristics are dependent on the initial solutions. Therefore, we run the HGH and our algorithm ten times to obtain the average performance.

Comparative experiments are conducted to evaluate the efficiency and effectiveness of the ASM algorithm. All of the algorithms are programmed in C++ and executed on a PC with an Intel Core 2 processor and 2G RAM.


                        Table 3 presents the experimental results obtained for the small-size problem instances of 20 jobs and 
                           
                              C
                              =
                              40
                           
                        . In Table 3, column 1 denotes the run codes of the job sizes, where 
                           
                              S
                              1
                           
                         and 
                           
                              S
                              2
                           
                         stand for the sizes in 
                           
                              [
                              1
                              ,
                              15
                              ]
                           
                         and 
                           
                              [
                              1
                              ,
                              40
                              ]
                           
                        , respectively. Column 2 represents the sequence number of the instance. Columns 3–4 report the performance of CPLEX, where OS gives the solution value obtained by CPLEX and 
                           
                              
                                 
                                    t
                                 
                                 
                                    ‾
                                 
                              
                           
                         (measured in seconds) denotes the time taken to find the value OS. For each instance, we run CPLEX for 1,800 s. After 
                           
                              
                                 
                                    t
                                 
                                 
                                    ‾
                                 
                              
                           
                         seconds, CPLEX first reach the value OS and it stays the same thereafter. Since there is a huge gap between 
                           
                              
                                 
                                    t
                                 
                                 
                                    ‾
                                 
                              
                           
                         and 1,800 s, we feel that CPLEX has found an optimal solution given by OS; i.e., the value given by OS is the optimal makespan. The performance of each algorithm A is measured by 
                           
                              G
                              =
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      C
                                                   
                                                   
                                                      max
                                                   
                                                   
                                                      A
                                                   
                                                
                                                -
                                                OS
                                             
                                          
                                       
                                    
                                 
                              
                              OS
                              ∗
                              100
                           
                        , where 
                           
                              
                                 
                                    C
                                 
                                 
                                    max
                                 
                                 
                                    A
                                 
                              
                           
                         is the makespan obtained by algorithm A and OS is the optimum makespan obtained by CPLEX. Columns 5–8 report the performance of the four deterministic algorithms. Columns 9–12 and columns 13–16 show the results of the HGH and the ASM, respectively, where 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                              ,
                              
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         and 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         give the average, the best and the worst results, respectively, over ten runs, and 
                           
                              
                                 
                                    t
                                 
                                 
                                    ‾
                                 
                              
                           
                         (measured in seconds) denotes the average running time. The four deterministic algorithms are all run only once since they are deterministic algorithms. For each instance, we use 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         to denote the best G values among the four deterministic algorithms; 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         is printed in boldface in the table. From Table 3, we see that the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the ASM algorithm are zero for instances with job sizes in 
                           
                              [
                              1
                              ,
                              15
                              ]
                           
                        . As for instances with job sizes in 
                           
                              [
                              1
                              ,
                              40
                              ]
                           
                        , the 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         value of the ASM algorithm are better than the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value of the four deterministic algorithms as well as the 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         value of the HGH algorithm.


                        Tables 4–13 present the experimental results for different numbers of jobs and machine capacities combined with different job sizes. The performance of each algorithm A is measured by 
                           
                              G
                              =
                              (
                              
                                 
                                    C
                                 
                                 
                                    max
                                 
                                 
                                    A
                                 
                              
                              -
                              
                                 
                                    LB
                                 
                                 
                                    ‾
                                 
                              
                              )
                              /
                              
                                 
                                    LB
                                 
                                 
                                    ‾
                                 
                              
                              ∗
                              100
                           
                        , where 
                           
                              
                                 
                                    C
                                 
                                 
                                    max
                                 
                                 
                                    A
                                 
                              
                           
                         is the makespan obtained by algorithm A and 
                           
                              
                                 
                                    LB
                                 
                                 
                                    ‾
                                 
                              
                           
                         is the lower bound of the optimal makespan (
                           
                              
                                 
                                    LB
                                 
                                 
                                    ‾
                                 
                              
                           
                         is obtained by formula (23)). In each table, column 1 denotes the number of machines. Column 2 represents the sequence number of the instance. Column 3 gives the 
                           
                              
                                 
                                    LB
                                 
                                 
                                    ‾
                                 
                              
                           
                         value. Columns 4–7 report the performance of the four deterministic algorithms. Columns 8–11 and columns 12–15 show the results of the HGH and the ASM algorithms, respectively, where 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                              ,
                              
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         and 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         give the average, best and worst results, respectively, over ten runs, and 
                           
                              
                                 
                                    t
                                 
                                 
                                    ‾
                                 
                              
                           
                         (measured in seconds) denotes the average running time. However, the four deterministic algorithms are all run only once since they are deterministic algorithms. For each instance, we use 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         to denote the best G values among the four deterministic algorithms; 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         is printed in boldface in the tables.


                        Table 4 summarizes the results produced by the algorithms for all the problem instances (30 instances) with 50 jobs, job sizes in [1,15] and 
                           
                              C
                              =
                              40
                           
                        . The 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         and 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         values of the ASM algorithm outperform the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in every instance, except that they tie in two cases. The 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH in every instance, with a wide margin in most cases. Out of the 30 instances, the 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm beats the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in 14 cases, and ties in 16 cases. The running time of the ASM algorithm is slightly higher than that of the HGH; it is one second higher on the average. Note that the ASM algorithm is run for 200 iterations while the HGH is run for 50 iterations only.


                        Table 5 presents the results for instances with 50 jobs, job sizes in [1,40] and 
                           
                              C
                              =
                              40
                           
                        . The 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         (and hence the 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         and 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                        ) value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in every instance, with a wide margin in most cases. It also outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH. However, the average running time of the ASM algorithm is almost 3seconds higher than that of the HGH.


                        Fig. 1
                         depicts the comparison of the average values for 50 jobs and 
                           
                              C
                              =
                              40
                           
                        . The red vertical bar is for the ASM algorithm while the green vertical bar is for the HGH. The black star is for the average 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value. The top value in the red (or green) vertical bar is the average 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value while the bottom value is the average 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value. A short vertical bar implies that the algorithm is robust, while a long vertical bar implies that it is less robust. The middle line is the average 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         value. As can be seen from Fig. 1, the performance of the ASM algorithm is far better than that of the HGH and the best of the four deterministic algorithms. Moreover, the ASM algorithm is more robust than the HGH.


                        Table 6 shows the results for instances with 75 jobs, job sizes in [1,15] and 
                           
                              C
                              =
                              40
                           
                        . The 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in every instance, except that it ties in two instances. The 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in every case, except that it ties in one instance and underperforms in one instance. The 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in all cases, except that it ties in 11 cases and underperforms in one case. Comparing with the HGH, we see that the 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH in every case. The average running time of the ASM algorithm is slightly higher than the HGH for two machines, but slightly lower for three and four machines.


                        Table 7 gives the results for instances with 75 jobs, job sizes in [1,40] and 
                           
                              C
                              =
                              40
                           
                        . The 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         (and hence the 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         and 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                        ) value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in every case. Moreover, the 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH in every instance. The average running time of the ASM algorithm is higher than the average running time of the HGH, especially when 
                           
                              m
                              =
                              2
                           
                        .


                        Fig. 2
                         depicts the comparison of the average values for 75 jobs and the machine capacity of 40. Similar to Fig. 1, it shows the outperformance of the ASM algorithm compared with the HGH and the best of the four deterministic algorithms.


                        Table 8 presents the results for instances with 100 jobs, job sizes in [1,15] and 
                           
                              C
                              =
                              40
                           
                        . The 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in all but seven cases; these seven cases represent a tie. The 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in all cases, except that it has eight underperformances and one tie. Finally, the 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH in every case. Surprisingly, the average running time of the ASM algorithm is a lot lower than that of the HGH.


                        Table 9 shows the results for instances with 100 jobs, job sizes in [1,40] and 
                           
                              C
                              =
                              40
                           
                        . The 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         (and hence the 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         and 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                        ) value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in every case. Moreover, it outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH in every instance. As in Table 7, the average running time of the ASM algorithm is a lot lower than that of the HGH.


                        Fig. 3
                         depicts the comparison of the average values for 100 jobs and the machine capacity of 40. Similar to Figs. 1 and 2, it shows the outperformance of the ASM algorithm relative to the HGH and the best of the four deterministic algorithms.

From Tables 4–9, we can see that our algorithm is the best among all the algorithms for the machine capacity of 40. This is especially true for job sizes in [1,40], where the 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value of the four deterministic algorithms and the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH in every case. The HGH ranks second in performance for large-sized jobs, but ranks last for small-sized jobs. All algorithms perform better on instances with small job sizes than with large job sizes. A plausible explanation is that in the bin-packing problem, the deterministic algorithms have better worst-case ratio for small piece sizes than large piece sizes. Thus, we can expect the average performance to be better for small job sizes than large job sizes.


                        Table 10 presents the results for instances with 100 jobs, job sizes in [1,15] and 
                           
                              C
                              =
                              50
                           
                        . The 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in all but 13 cases; these 13 cases represent a tie. Out of the 30 instances, the 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         value of the ASM algorithm beats the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in 16 cases, ties in 3 cases, and loses in 11 cases. However, the average 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         of each group of 10 instances is better than the average 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                        . Compared with the HGH, the 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of HGH in all cases, except that it ties in five cases and underperforms in one case. Additionally, the average running time of the ASM algorithm is almost four seconds lower than that of the HGH.


                        Table 11 shows the results for instances with 100 jobs, job sizes in [1,40] and 
                           
                              C
                              =
                              50
                           
                        . The 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in every case. The 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         value of the ASM algorithm beats the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         in every case, except that it underperforms in one instance. The 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in every case, except that it ties in three cases and loses in two cases. Moreover, it outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH in every instance, except that it ties in one instance and underperforms in one instance. As in Table 10, the average running time of the ASM algorithm is lower than that of the HGH.


                        Fig. 4
                         depicts the comparison of the average values for 100 jobs and the machine capacity of 50. As we can see, the performance of the ASM algorithm is far better than that of the HGH and the best of four deterministic algorithms, although the ASM slightly outperforms the best of four deterministic algorithms on instances with small job sizes.


                        Table 12 gives the results for instances with 100 jobs, job sizes in [1,15] and 
                           
                              C
                              =
                              60
                           
                        . The 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in all but fourteen cases that represent a tie. Out of the 30 instances, the 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         value of the ASM algorithm beats the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in 16 cases, ties in 3 cases, and loses in 11 cases. However, the average 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         of each group of 10 instances is all better than that of the average 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                        . Compared with the HGH, the 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         of the ASM algorithm beat the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of HGH in all cases, except that it ties in two cases. Additionally, the average running time of the ASM algorithm is still lower than that of the HGH.


                        Table 13 shows the results for instances with 100 jobs, job sizes in [1,40] and 
                           
                              C
                              =
                              60
                           
                        . The 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in all but five cases that represent a tie. The 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         value of the ASM algorithm beats the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         in every case, except that it underperforms in five instances. The 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    ∗
                                 
                              
                           
                         value in every case, except that it ties in six cases and loses in five cases. Although it outperforms the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH in every instance, except that it ties in six instances and underperforms in two instances, the average 
                           
                              
                                 
                                    G
                                 
                                 
                                    worst
                                 
                              
                           
                         value of the ASM algorithm beats the average 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH. Moreover, the 
                           
                              
                                 
                                    G
                                 
                                 
                                    avg
                                 
                              
                           
                         value of the ASM algorithm beats the 
                           
                              
                                 
                                    G
                                 
                                 
                                    best
                                 
                              
                           
                         value of the HGH in every instance, except that it underperforms in two instance. As in Table 11, the average running time of the ASM algorithm is lower than that of the HGH.


                        Fig. 5
                         depicts the comparison of the average values for 100 jobs and the machine capacity of 60. Similar to Fig. 4, the performance of the ASM algorithm is far better than that of the HGH and the best of the four deterministic algorithms, although the ASM is slightly better than the best of the four deterministic algorithms on instances of small job sizes.

As can be observed from the above experimental results, the overall performance of the ASM algorithm is better than that of the other algorithms, which demonstrates the effectiveness and efficiency of the proposed algorithm. This is due to the effective mechanisms used in the ASM algorithm. The candidate set exploits the knowledge of the problem and it is able to decrease the search space significantly to find better solutions with less running time. Moreover, the local optimization strategy further improves the solution quality.

@&#CONCLUSIONS@&#

In this paper, we consider the batch scheduling on identical and parallel machines with non-identical job sizes to minimize the makespan. We present a novel ACO-based meta-heuristic algorithm, called ASM, to solve this problem. Based on the equivalence between minimizing the wasted space and minimizing the makespan, a candidate set strategy is introduced to decrease the search space and improve the search performance efficiency. A local optimization strategy based on recessive processing time is incorporated in the algorithm to further enhance the solution quality. Then the Multifit method is applied to schedule the batches on the machines. Experimental results show that the proposed algorithm is capable of finding higher quality solutions than all the other heuristics. Moreover, the running time is comparable to that of the HGH.

Future work will focus on applying the proposed algorithm to the scheduling on parallel and identical batch machines with release dates, incompatible families, setup time or other constraints. Scheduling on parallel machines with different capacities is also an interesting problem. Other optimization objectives such as maximum lateness and mean weighted flow time are unexplored.

@&#ACKNOWLEDGEMENTS@&#

The work of the first author is supported by Grants from the National Natural Science Foundation of China (71171184), the Science Foundation of Anhui University (33050044) and the Foundation of China Scholarship Council (201206505002). The work of the second author is supported in part by a Grant from the National Science Foundation (CMMI-0969830).

See Tables 3–13
                     
                     
                     
                     
                     
                     
                     
                     
                     
                     
                     .

@&#REFERENCES@&#

