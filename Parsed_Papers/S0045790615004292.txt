@&#MAIN-TITLE@&#Conditional speculative mixed decimal/binary adders via binary-coded-chiliad encoding


@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Decimal arithmetic adders that accept BCC (radix-1000) encoded operands and produce BCC results are proposed.


                        
                        
                           
                           Six different conditional speculation options are studied.


                        
                        
                           
                           The best proposed design show advantages in area (17%), power (13%) and PDP (14%) measures, over the best previous relevant work.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Decimal computer arithmetic

Speculative decimal addition

Mixed decimal/binary adder

Binary coded chiliad encoding

Densely packed decimal encoding

@&#ABSTRACT@&#


               Graphical abstract
               
                  
                     
                        
                           Image, graphical abstract
                           
                        
                     
                  
               
            

@&#INTRODUCTION@&#

Research on hardware realization of decimal arithmetic has been revived in the past two decades (e.g., [1–7]), in response to new demands for high performance decimal computations. Some recently commercialized general-purpose digital processors include hardware decimal units and decimal arithmetic instruction subsets. For example, IBM included a decimal floating-point hardware unit in the chips of z-196 [8] servers and has doubled these units in the newest z13 servers [1]. Also, Fujitsu announced the new Sparc64 X processor which include an accelerator, called “software on chip (SWoC)”, to speed up operations in cryptography and decimal calculations [5]. The IEEE 754-2008 standard for floating-point decimal arithmetic [9] includes two encodings of decimal numbers. The one that is commonly used for storage of decimal operands and hardware realization of decimal arithmetic operators (e.g., [1,8,10]) is called densely packed decimal (DPD), which packs each three binary coded decimal (BCD) digits as a 10-bit DPD encoding. For example, the 16-digit BCD significand of an IEEE single precision radix-10 floating-point number is packed as five DPD declets, while the most significant BCD digit is encoded together with the exponent in the combination field of the decimal64 representation. Such representation cannot be directly carried out by decimal arithmetic operators, and is subject to unpacking to 16 BCD digits and 10-bit exponent. The IEEE 754-2008 discussions [11] include a proposal for 10-bit radix-1000 packing of three BCD digits in [0, 999] (e.g., 
                        
                           B
                           
                           C
                           
                           D
                           =
                           100
                           B
                           +
                           10
                           C
                           +
                           D
                        
                     ), which was named as binary coded millennium. This encoding, which was not approved, is as storage efficient as DPD and can be as arithmetic efficient as BCD, since it can be directly manipulated by radix-1000 arithmetic operators, with no prior unpacking to three BCD digits and post packing, as is required in the DPD case. However, this binary-coded-chiliad
                        1
                     
                     
                        1
                        Chiliad is aptly named because it demonstrates a group that contains 1000 elements.
                      encoding (BCC as is called in [12]) has been rarely used for realization of decimal arithmetic (e.g., [12,13]).

Since packing and unpacking of DPD declets entails considerable delay and power dissipation overhead, which is not the case for BCC representation of decimal numbers [14], we are motivated to design and implement BCC arithmetic operators.

The only work on BCC addition that we have encountered [12] extends the conditional speculative mixed BCD/binary addition scheme of [15,16] to radix-1000 operands. The conditional speculation is done via manipulating the seven most significant bits of equally weighted digits of addition operands in order to decide on 
                        
                           +
                           24
                           
                           (
                           
                              =
                              
                                 2
                                 10
                              
                              −
                              
                                 
                                    10
                                 
                                 3
                              
                           
                           )
                        
                      speculation.

In this paper, we study all other possible speculation options (i.e., five cases based on 2-6 bits, besides the 7-bit case of [12]) to provide a spectrum of area-delay-power tradeoff for mixed BCC/binary adders. However, for fair comparison, since no simple speculative mixed BCC/binary adder has been reported, we were also motivated to design such adder based on the mixed BCD/binary simple speculative adder of [15].

The rest of this work is organized as follows. Section 2 provides a background on speculative and conditional speculative mixed decimal/binary and the only instance of mixed BCC/binary adders. Details of six practically useful conditional speculation options and corresponding mixed BCC/binary adders are discussed in Section 3. Implementation details are provided in Section 4, where the best speculation option and the corresponding adder design is selected. Comparison with previous mixed BCD/binary and BCC/binary adders, based on synthesis results, is covered in Section 5. Finally, Section 6 draws our conclusions.

@&#BACKGROUND@&#

A ripple-carry BCD adder is structurally the same as a ripple-carry binary adder, where the main difference is that decimal full adders (DFA) are conceptually used in place of binary full adders (FA). The functionality of such n-digit BCD adder is described as 
                        
                           [
                           10
                           
                              c
                              
                                 i
                                 +
                                 1
                              
                           
                           +
                           
                              S
                              i
                           
                           =
                           
                              X
                              i
                           
                           +
                           
                              Y
                              i
                           
                           +
                           
                              c
                              i
                           
                           ,
                           
                           
                              (
                              
                                 
                                    c
                                    0
                                 
                                 =
                                 0
                              
                              )
                           
                           ,
                           
                           0
                           ≤
                           i
                           <
                           n
                           ]
                        
                     , where Xi
                      and Yi, ci, Si
                     , and 
                        
                           c
                           
                              i
                              +
                              1
                           
                        
                      stand for input digits, decimal carry-in bits, sum digits, and carry-out bits, respectively. There are various decimal adder implementations in the relevant literature. For example, ripple-carry decimal adder implementations [17], are based on 4-bit binary adders that produce interim sum-digits 
                        
                           W
                           
                              
                              i
                              ′
                           
                           =
                           
                              X
                              i
                           
                           +
                           
                              Y
                              i
                           
                           +
                           
                              c
                              i
                           
                        
                     , which in case of 
                        
                           W
                           
                              
                              i
                              ′
                           
                           ≥
                           10
                        
                     , should be corrected to 
                        
                           
                              S
                              i
                           
                           =
                           W
                           
                              
                              i
                              ′
                           
                           −
                           10
                        
                      (or equivalently 
                        
                           
                              |
                           
                           
                              W
                              
                                 
                                 i
                                 ′
                              
                              +
                              6
                           
                           
                              
                                 |
                              
                              16
                           
                        
                     ). As in binary adders, this slow ripple-carry scheme can be speeded up via carry look-ahead logic [18]. Another speed-up technique is through early 
                        
                           
                              W
                              i
                           
                           =
                           W
                           
                              
                              i
                              ′
                           
                           +
                           6
                        
                      speculations and possible final 
                        
                           
                              W
                              i
                           
                           −
                           6
                           
                              
                                 c
                                 
                                    i
                                    +
                                    1
                                 
                              
                              ¯
                           
                        
                      corrections [19]. This can be described by 
                        
                           
                              S
                              i
                           
                           =
                           
                              (
                              
                                 
                                    X
                                    i
                                 
                                 +
                                 
                                    Y
                                    i
                                 
                                 +
                                 6
                              
                              )
                           
                           +
                           
                              c
                              i
                           
                           −
                           6
                           
                              
                                 c
                                 
                                    i
                                    +
                                    1
                                 
                              
                              ¯
                           
                        
                     , or 
                        
                           
                              S
                              i
                           
                           =
                           
                              (
                              
                                 
                                    X
                                    i
                                 
                                 +
                                 6
                              
                              )
                           
                           +
                           
                              Y
                              i
                           
                           +
                           
                              c
                              i
                           
                           −
                           6
                           
                              
                                 c
                                 
                                    i
                                    +
                                    1
                                 
                              
                              ¯
                           
                        
                      as in [20], where both parenthesized expressions can be performed in parallel for all decimal digit positions. For example, Fig. 1
                      illustrates the required steps in adding two 6-digit BCD numbers, where the 
                        
                           −
                           6
                           
                              
                                 c
                                 
                                    i
                                    +
                                    1
                                 
                              
                              ¯
                           
                        
                      operations are actually taken place as 
                        
                           
                              
                                 |
                              
                              
                                 10
                                 
                                    
                                       c
                                       
                                          i
                                          +
                                          1
                                       
                                    
                                    ¯
                                 
                              
                              
                                 
                                    |
                                 
                                 16
                              
                           
                           =
                           
                              
                                 |
                              
                              
                                 −
                                 6
                                 
                                    
                                       c
                                       
                                          i
                                          +
                                          1
                                       
                                    
                                    ¯
                                 
                              
                              
                                 
                                    |
                                 
                                 16
                              
                           
                        
                     . With the speculative 
                        
                           (
                           
                              
                                 X
                                 i
                              
                              +
                              6
                           
                           )
                        
                      operation, the hexadecimal carries correctly serve as decimal carries, which brings about the opportunity of utilizing any accelerative word-wide binary addition scheme (e.g., parallel prefix [21]) that leads to reduction of overall latency of the n-digit decimal adder. Furthermore, the same adder can be used for (4n)-bit binary addition.

All the 
                           
                              −
                              6
                              
                                 
                                    c
                                    
                                       i
                                       +
                                       1
                                    
                                 
                                 ¯
                              
                           
                         corrections, in the parallel prefix realizations of [16,19], and other similar decimal adders (e.g., [20]), take place within the critical delay path. For example, the correction logic of this simple speculative decimal addition scheme travels through two gates within the overall 23 gates (i.e., 
                           
                              2
                              /
                              23
                              =
                              9
                              %
                           
                        ) in the 16-digit decimal adder of [16]. However, Vázquez et al. have managed to put the correction logic off the critical delay path via conditional 
                           
                              +
                              6
                           
                         speculation, where reduction of correction cost and some power saving are gained as by-products [15]. This technique, which has been welcome in the design of several arithmetic units (e.g., [22–24]), is described via Algorithm 1
                         (reproduced from [12] and [15]) and Fig. 2
                        . The heart of this algorithm is its Step 1, where 
                           
                              
                                 X
                                 i
                              
                              =
                              
                                 x
                                 i
                                 3
                              
                              
                                 x
                                 i
                                 2
                              
                              
                                 x
                                 i
                                 1
                              
                              
                                 x
                                 i
                                 0
                              
                           
                        , 
                           
                              
                                 Y
                                 i
                              
                              =
                              
                                 y
                                 i
                                 3
                              
                              
                                 y
                                 i
                                 2
                              
                              
                                 y
                                 i
                                 1
                              
                              
                                 y
                                 i
                                 0
                              
                           
                        , 
                           
                              
                                 X
                                 i
                                 ′
                              
                              =
                              
                                 x
                                 i
                                 
                                    ′
                                    3
                                 
                              
                              
                                 x
                                 i
                                 
                                    ′
                                    2
                                 
                              
                              
                                 x
                                 i
                                 
                                    ′
                                    1
                                 
                              
                              
                                 x
                                 i
                                 
                                    ′
                                    0
                                 
                              
                           
                        , and 
                           
                              
                                 S
                                 i
                              
                              =
                              
                                 s
                                 i
                                 3
                              
                              
                                 s
                                 i
                                 2
                              
                              
                                 s
                                 i
                                 1
                              
                              
                                 s
                                 i
                                 0
                              
                           
                        . In case of 
                           
                              
                                 q
                                 i
                                 +
                              
                              =
                              0
                           
                        , no 
                           
                              +
                              6
                           
                         operation takes place, ki
                         is the necessary condition for definite 
                           
                              −
                              6
                           
                         compensation, and D controls binary or decimal addition.

A thorough justification for Algorithm 1 can be found elsewhere [12,15]. However, that of correction condition ki
                        , due to its importance, is also given here. The post (
                           
                              −
                              6
                           
                        ) compensation is required in case of 
                           
                              
                                 k
                                 i
                              
                              =
                              
                                 h
                                 i
                                 3
                              
                              ∧
                              
                                 h
                                 i
                                 2
                              
                              ∧
                              
                                 h
                                 i
                                 1
                              
                              =
                              1
                           
                        , where speculated sum digits are represented by the corresponding half sum bits. Therefore, correction can be easily achieved by zeroing 
                           
                              h
                              i
                              2
                           
                         and 
                           
                              h
                              i
                              1
                           
                         via 
                           
                              
                                 s
                                 i
                                 2
                              
                              =
                              
                                 h
                                 i
                                 2
                              
                              ∧
                              
                                 
                                    k
                                    i
                                 
                                 ¯
                              
                           
                         and 
                           
                              
                                 s
                                 i
                                 1
                              
                              =
                              
                                 h
                                 i
                                 1
                              
                              ∧
                              
                                 
                                    k
                                    i
                                 
                                 ¯
                              
                           
                        .

For example, the addition scheme of Fig. 1 is repeated in Fig. 3
                        , which is based on conditional speculation, where for 
                           
                              i
                              =
                              5
                           
                        , no 
                           
                              +
                              6
                           
                         speculation has taken place due to 
                           
                              
                                 q
                                 5
                                 +
                              
                              =
                              0
                           
                        . Simple off-the-critical-delay-path correction is required only when 
                           
                              
                                 k
                                 i
                              
                              =
                              1
                           
                        , where the interim sum digits cannot be less than 14, as in positions 0,1, and 2.

Recalling our motivation for BCC representation, the rationale for the choice of radix-103 with respect to other power-of-10 radixes (i.e., 
                           
                              
                                 10
                                 i
                              
                              
                                 (
                                 i
                                 =
                                 2
                              
                           
                        , or i > 3)), as is shown in Table 1
                         (reproduced from [12]), is that the encoding efficiency of packing i BCD digit in one radix-10
                           i
                         digit is the highest for 
                           
                              i
                              =
                              3
                           
                        . Regarding the case of 
                           
                              i
                              =
                              2
                           
                        , we have encountered only two instances of radix-100 simulation of decimal arithmetic, which are the adder of [25] and divider of [26]. It is interesting to note that the encoding efficiency of radix-103j
                         encodings for j ∈ {1, 2, 3} is more than 90%.

Realization of decimal adders via radix-1000 addition is briefly noted as a black box in realization of BCD multipliers via BCC digit multiplication units [13]. However, the only previous BCC adder is due to [12], which is briefly described below for ease of reference. Furthermore, we note that in the discussion sessions for adoption of decimal floating-point number representation as part of IEEE 754-2008 standard [9], use of radix-1000 (declet) representation of decimal numbers for compact storage has been proposed, but not approved [11].

Recall that each three BCD digits (e.g., 
                           
                              B
                              
                              C
                              
                              D
                              =
                              100
                              B
                              +
                              10
                              C
                              +
                              D
                              ∈
                              [
                              
                                 0
                                 ,
                                 
                                 999
                              
                              ]
                           
                        ) that consume 12 bits of storage can be equivalently represented as a radix-1000 number in 10 bits. The encoding efficiency of such representation that is called binary coded chiliad (aka binary coded millennium [11]) is equal to that of DPD.

However, arithmetic operators can directly carry out BCC numbers, such that (contrary to DPD) no conversion is required on storage of results and retrieval of operands in and from processor's memory and registers, where it has been shown that considerable power savings is achieved at no delay penalty [14]. Nevertheless, IEEE-standard DPD inputs, need to be converted to BCC, but only once at the input ports, and the reverse conversion is solely required at the output ports. For example, the TELCO benchmark [27] executes the following code (Fig. 4
                        ) on decimal data in order to process the telephone bills, where the number of calls per telephone subscriber (i.e., n) typically amounts to several hundreds. In the conventional DPD-only processing environment, number of the required DPD-to-BCD and reverse conversions amounts to 
                           
                              (
                              
                                 18
                                 n
                                 +
                                 3
                              
                              )
                           
                        , while that of the BCC case is only 
                           
                              (
                              
                                 2
                                 n
                                 +
                                 4
                              
                              )
                           
                        , which are due to BCC-to-DPD conversions on the input and the reverse at the output [14].

The BCD addition schemes that were briefly presented in the preamble of Section 2, can be modified to operate on BCC operands. Since speculative adders are more suitable for efficient mixed decimal/binary architectures [15], we focus on speculative BCC adders. The primary difference with BCD adders is that the speculation constant is 
                           
                              
                                 2
                                 10
                              
                              −
                              1000
                              =
                              24
                              =
                              
                                 
                                    (
                                    11000
                                    )
                                 
                                 
                                    t
                                    w
                                    o
                                 
                              
                           
                         in contrast to 
                           
                              
                                 2
                                 4
                              
                              −
                              10
                              =
                              6
                              =
                              
                                 
                                    (
                                    110
                                    )
                                 
                                 
                                    t
                                    w
                                    o
                                 
                              
                           
                        . Fig. 5
                         depicts the general architecture of a simple speculative BCC adder, where Xi
                        , 
                           
                              X
                              i
                              ′
                           
                        , Yi
                        , and Wi
                         (0 ≤ i < n) variables represent 10-bit BCC digits.


                        Algorithm 1 of Section 2.1, as the conditional speculative BCD addition scheme [15], has been already modified for BCC operands [12], where seven most significant bits of both BCC digit operands participate in evaluation of speculation condition. The three less significant bits are left out since binary representation of BCC speculation constant (i.e., 
                           
                              24
                              =
                              
                                 
                                    (
                                    11000
                                    )
                                 
                                 
                                    t
                                    w
                                    o
                                 
                              
                           
                        ) has three trailing zeros.

Recalling the conditional speculative BCC adder of Section 2.3, we note that leaving out more trailing bits of each BCC digit leads to simpler viable logical equations (i.e., with less number of variables) for expressing the speculation condition. Such alternative partitioning of the bits of BCC digits, which contribute to area-delay-power tradeoff, is depicted by Fig. 6
                     , where m and 
                        
                           l
                           =
                           10
                           −
                           m
                        
                      are partitioning parameters such that the l rightmost bits are left out. The case of 
                        
                           m
                           =
                           1
                        
                      is deliberately excluded since the collective value of left out bits (
                        
                           l
                           =
                           9
                        
                      bits per each operand) can exceed 1000, which means that the speculation condition cannot be expressed just in terms of the leftmost bit of two operands. The design space regarding Fig. 6 is further explored in the rest of this Section.
                  

The conditional speculation scheme of [12], which was designed for the case of 
                        
                           m
                           =
                           7
                        
                     , is generalized above for m ∈ [2, 7] as Algorithm 2. The collective arithmetic value of the bits in the most (least) significant partition is denoted by 
                        
                           V
                           m
                        
                      (
                        
                           V
                           
                              
                                 
                                    
                                    ′
                                 
                              
                              l
                           
                        
                     ). Input digits Xi
                      and Yi
                      (0 ≤ i < n) are either BCC digits (
                        
                           D
                           =
                           1
                        
                     ) or radix-210 digits (
                        
                           D
                           =
                           0
                        
                     ), and 
                        
                           Q
                           i
                           +
                        
                      (see Step 1a) denotes the condition for 
                        
                           +
                           24
                        
                      speculation.

In Step 1, the speculative increase of digits of one operand by 24 is performed when 
                           
                              D
                              
                                 Q
                                 i
                                 +
                              
                              =
                              1
                           
                         (i.e., in decimal mode and when 
                           
                              c
                              
                                 i
                                 +
                                 1
                              
                              0
                           
                         is likely to be 1). Operation of sub-steps a, b and c are further explained below.

                           
                              a)
                              
                                 
                                    
                                       
                                          Q
                                          i
                                          +
                                       
                                       =
                                       
                                          (
                                          
                                             
                                                V
                                                m
                                             
                                             >
                                             1000
                                             −
                                             
                                                2
                                                
                                                   l
                                                   +
                                                   1
                                                
                                             
                                          
                                          )
                                       
                                    
                                 : The 
                                    
                                       +
                                       24
                                    
                                  speculation is not proper if 
                                    
                                       
                                          X
                                          i
                                       
                                       +
                                       
                                          Y
                                          i
                                       
                                       <
                                       999
                                    
                                 . This is reflected in Eq. (2), where 
                                    
                                       c
                                       i
                                       0
                                    
                                  denotes the carry-in. In other words, the 
                                    
                                       +
                                       24
                                    
                                  addition is correct if carry-out is 1.
                                    
                                       (2)
                                       
                                          
                                             
                                                V
                                                m
                                             
                                             +
                                             V
                                             
                                                
                                                   
                                                      
                                                      ′
                                                   
                                                
                                                l
                                             
                                             +
                                             
                                                c
                                                i
                                                0
                                             
                                             >
                                             999
                                          
                                       
                                    
                                 
                              

Such speculation condition that depends on all 20 bits of the two BCC digits is very costly to evaluate. However, given that 
                                    
                                       max
                                       
                                          (
                                          
                                             V
                                             
                                                
                                                   
                                                      
                                                      ′
                                                   
                                                
                                                l
                                             
                                             +
                                             
                                                c
                                                i
                                                0
                                             
                                          
                                          )
                                       
                                       =
                                       
                                          2
                                          
                                             l
                                             +
                                             1
                                          
                                       
                                       −
                                       1
                                    
                                  (e.g., 
                                    
                                       
                                          2
                                          4
                                       
                                       −
                                       1
                                    
                                 , for 
                                    
                                       m
                                       =
                                       7
                                    
                                 ), Eq. (2) can be reduced to Eq. (3), where post-corrections might be required in cases of 
                                    
                                       V
                                       
                                          
                                             
                                                
                                                ′
                                             
                                          
                                          l
                                       
                                       +
                                       
                                          c
                                          i
                                          0
                                       
                                       <
                                       
                                          2
                                          
                                             l
                                             +
                                             1
                                          
                                       
                                       −
                                       1
                                    
                                 .
                                    
                                       (3)
                                       
                                          
                                             
                                                V
                                                m
                                             
                                             +
                                             V
                                             
                                                
                                                   
                                                      
                                                      ′
                                                   
                                                
                                                l
                                             
                                             +
                                             
                                                c
                                                i
                                                0
                                             
                                             >
                                             999
                                             
                                                ⇒
                                                
                                                   max
                                                   
                                                      (
                                                      
                                                         V
                                                         
                                                            
                                                               
                                                                  
                                                                  ′
                                                               
                                                            
                                                            l
                                                         
                                                         +
                                                         
                                                            c
                                                            i
                                                            0
                                                         
                                                      
                                                      )
                                                   
                                                   =
                                                   
                                                      2
                                                      
                                                         l
                                                         +
                                                         1
                                                      
                                                   
                                                   −
                                                   1
                                                
                                             
                                             
                                                V
                                                m
                                             
                                             +
                                             
                                                2
                                                
                                                   l
                                                   +
                                                   1
                                                
                                             
                                             −
                                             1
                                             >
                                             999
                                             ⇒
                                             
                                                V
                                                m
                                             
                                             >
                                             1000
                                             −
                                             
                                                2
                                                
                                                   l
                                                   +
                                                   1
                                                
                                             
                                          
                                       
                                    
                                 
                              


                                 
                                    
                                       X
                                       
                                          
                                          i
                                          ′
                                       
                                       =
                                       
                                          X
                                          i
                                       
                                       +
                                       24
                                       D
                                       
                                          Q
                                          i
                                          +
                                       
                                    
                                 : This is where the actual 
                                    
                                       +
                                       24
                                    
                                  addition takes place in decimal mode.


                                 
                                    
                                       
                                          h
                                          i
                                          j
                                       
                                       =
                                       
                                          x
                                          i
                                          
                                             ′
                                             j
                                          
                                       
                                       ⊕
                                       
                                          y
                                          i
                                          j
                                       
                                    
                                 : These half-sum bits will be needed in computation of interim sum bits 
                                    
                                       w
                                       i
                                       j
                                    
                                  (see Step 3a of Algorithm 2).

The justifications for sub step b of Step 3 is that in decimal addition (i.e., 
                           
                              D
                              =
                              1
                           
                        ), 
                           
                              +
                              24
                           
                         speculation (in case of 
                           
                              
                                 Q
                                 i
                                 +
                              
                              =
                              1
                           
                        ) should be corrected as 
                           
                              W
                              
                                 
                                 i
                                 ′
                              
                              =
                              
                                 W
                                 i
                              
                              −
                              24
                           
                         when 
                           
                              
                                 c
                                 
                                    i
                                    +
                                    1
                                 
                                 0
                              
                              =
                              0
                           
                        .


                        Fig. 7
                         illustrates the steps of conditional speculative BCC addition for the same decimal operands as in Figs. 1 and 3, for 
                           
                              m
                              =
                              2
                           
                        , where for instance 
                           
                              
                                 V
                                 2
                              
                              =
                              768
                              >
                              1000
                              −
                              
                                 2
                                 9
                              
                              =
                              488
                           
                        , leads to 
                           
                              
                                 Q
                                 0
                                 +
                              
                              =
                              1
                           
                        .

Note that 
                           
                              Q
                              i
                              +
                           
                         can be expressed and implemented in parallel for 0 ≤ i < n in terms of generate (g) and propagate (p) signals as is shown in Appendix A, for m ∈ [2, 7], where delay and area measures are also included in terms of δ
                        
                           g
                         and α
                        
                           g
                         (delay and area of a simple gate, respectively). The same notations are used throughout the paper, where delay and area of XOR gates are assumed to be 2δ
                        
                           g
                         and 2α
                        
                           g
                        , respectively, as proposed in [28]. Since this evaluation model ignores the effect of fan-out, circuit synthesis will be undertaken to confirm the estimates.

Recalling the sub step b of Step 3 in Algorithm 2, the straightforward subtraction would involve all the seven most significant bits of Wi
                        . However, it turns out that fewer bits actually participate in 
                           
                              −
                              24
                           
                         correction, as is justified in Appendix B, where the overall complexity of the equations therein decreases as m grows from 2 to 7, while however, those of speculation equations (see Appendix A) get more complex. This will be later more evident in Tables 3 and 4.
                     


                     Fig. 8
                      illustrates a general architecture for the conditional m-speculative mixed decimal/binary adder with BCC encoding of inputs and output, where portions related to Steps of Algorithm 2 are duly marked. The function of correction boxes in Step 3 is based on Table B2 of Appendix B. Note that, 
                        
                           
                              K
                              i
                           
                           =
                           D
                           
                              Q
                              i
                              +
                           
                           
                              
                                 c
                                 
                                    i
                                    +
                                    1
                                 
                                 0
                              
                              ¯
                           
                        
                     , serves as the selector between 
                        
                           
                              W
                              i
                           
                           
                           
                              (
                              
                                 
                                    K
                                    i
                                 
                                 =
                                 0
                              
                              )
                           
                        
                      and 
                        
                           
                              W
                              i
                           
                           −
                           24
                           
                           
                              (
                              
                                 
                                    K
                                    i
                                 
                                 =
                                 1
                              
                              )
                           
                        
                      that leads to the seven most significant bits of Si
                     .


                        Table 2
                         contains delay and area figures of the simple speculative BCC adder of Fig. 5, for operand sizes that are equivalent to 16 and 34 decimal digits (i.e., the standard sizes of IEEE 754-2008 [9]), which are hereafter referred to as BCC-single and BCC-double, respectively. Operation of this adder can be described by Algorithm 2, but with 
                           
                              
                                 Q
                                 i
                                 +
                              
                              =
                              1
                           
                        .


                        Tables 3
                         and 4
                         provide delay and area measures for Steps 1–3 of Algorithm 2 for both word sizes in terms of δ
                        
                           g
                         and α
                        
                           g
                        , respectively, where MSD is meant to refer to the most significant BCD digit, and the figures of Step 2 relate to Kogge–Stone [21] realization of parallel prefix network (PPN). It is interesting to note that both delay and area figures for Step 1 (3) are increasing (decreasing), as m grows from 2 to 7. However, the increasing rate is inferior to the decreasing rate; hence the lowest latency and cost is experienced by the design for 
                           
                              m
                              =
                              2
                           
                        , where the number of bits that contribute to determination of speculation condition is minimum. Also note that the figures for Step 2 in both tables are the same for all m, since the word wide main binary addition is independent of partitioning position. The last point to be noted is that delay of the simple speculative adder of Fig. 5 (i.e., 
                           
                              m
                              =
                              0
                              )
                           
                         is not less than those for m > 1, while its area consumption is less than those for m ≥ 4. Therefore, the case of 
                           
                              m
                              =
                              2
                           
                         shows the lowest delay and area.

For more reliable evaluation and also for correctness checking, we have described with HDL code all the aforementioned choices for conditional speculation (i.e., 2 ≤ m ≤ 7), and also that of simple speculative (i.e., 
                           
                              m
                              =
                              0
                           
                        ) mixed decimal/binary adders (see Tables 2–4). These codes are used for correctness tests (with 105 random inputs) and synthesis of all units via TSMC 0.13 µm CMOS technology typical process, under normal operating conditions, by Synopsys Design Compiler. In addition, dynamic simulation based approach is used for power estimates.


                        Table 5
                         compiles such more reliable area and power measures for m-speculative mixed BCC/binary adder (
                           
                              m
                              ∈
                              {
                              
                                 0
                                 ,
                                 2
                                 …
                                 
                                 7
                              
                              }
                           
                        ), in case of single precision operands. The compiled figures regard to high, average, and low frequencies, where 476 MHz is the fastest implementation for all cases. The corresponding ratios show the superiority of 
                           
                              m
                              =
                              2
                           
                        , over other cases of 
                           
                              m
                              =
                              0
                           
                         and m ∈ [3, 7], except for at most 5% less power dissipation of the case of 
                           
                              m
                              =
                              7
                           
                         in low frequencies. Similar synthesis-based results for BCC-single/binary adder for a continuous range of frequencies, are reported in Figs. 9
                         and 10
                        , for area and power, respectively. The area consumption curves of Fig. 9 confirm the analytical evaluation results for the choice of 
                           
                              m
                              =
                              2
                           
                        , as the related curves meet the least delay constraint and show least area consumption for all the working frequencies. Regarding the power dissipation in different designs, Fig. 10 shows
                         the superiority of the case of 
                           
                              m
                              =
                              2
                           
                        , for delays (frequencies) under 2.7 ns (over 370 MHz), which is indeed within the range of typical frequencies for aggressive processor designs [3]. However, for lower frequencies, the power dissipation in the case of 
                           
                              m
                              =
                              7
                           
                         is the lowest. Therefore, we provide the power-delay-product (PDP) curves of Fig. 11, for a better comparison of power-delay tradeoff of the possible designs, where for the delays under (over) 2.7 ns, the average PDP in the case of 
                           
                              m
                              =
                              2
                           
                         is 17% less (3% more) than that of 
                           
                              m
                              =
                              7
                           
                        .

We provide synthesis based evaluation of the relevant previous adders, and that of the proposed design, with 
                        
                           m
                           =
                           2
                        
                     , which was selected, in the previous section, as the best choice, and that of 
                        
                           m
                           =
                           7
                        
                      
                     [12], as the one with lowest power dissipation in the range of lower working frequencies.

HDL codes for designs of the only previous BCC adder [12] (i.e., with 
                        
                           m
                           =
                           7
                        
                     ), those of BCD adders of [15] with KS PPN and area optimized Ladner-Fischer (LF) PPN, delay optimized quaternary KS (QKS) designs of [15,16], and our proposed design (for 
                        
                           m
                           =
                           2
                        
                     ) are run for correctness tests with 105 random inputs. Using these codes, synthesis of all units are done under the same conditions as in Section 4.2, where the results for mixed Decimal-single/binary (mixed Decimal-double/binary) operands are depicted in Figs. 12–14 (Figs. 15–17), for area, power, and PDP, respectively.

The corresponding curves show that, among the previous BCD designs, the QKS mixed BCD/binary adder of [16] is the fastest (i.e., has met the lowest time constraint 1.8 ns), which confirms the results of FO4 comparison therein. Also, the LF adder shows the least area consumption among BCD adders. However, note that the higher latency, despite the same number of PPN levels, is due to high fan-out of several nodes in the LF PPN.

The only previous BCC adder [12] (i.e., for 
                        
                           m
                           =
                           7
                        
                     ) is slightly slower than the BCD adders, but consumes less area and power. However, the least time constraint met by the proposed design, for 
                        
                           m
                           =
                           2
                        
                     , is 6% more than (equal to) that of [16] for Decimal-single (Decimal-double) operands. One reason for better performance of BCC-double adder is that its main adder is a 114-bit parallel prefix adder with a 7-level PPN, while that of the BCD works is 136-bit adder with 8 levels of parallel prefix nodes. However, in the single precision case, both works use 6-level PPN for 54-bit adder in the proposed design and 64-bit adder for the reference work.

The latency, area consumption, and power dissipation of the proposed adder, for 
                        
                           m
                           =
                           2
                        
                     , are less than that of [12] (i.e., for 
                        
                           m
                           =
                           7
                        
                     ) for delays under 2.7 ns. However, for lower frequencies, the power dissipation in the case of 
                        
                           m
                           =
                           7
                        
                      is the lowest. Regarding power dissipation, the synthesis-based curves (Figs. 13
                      and 16) show in average 13% improvement for the proposed design. Figs. 14
                     
                     
                      and 17
                      show also 14% PDP improvement.

Note that the aforementioned improved performance figures are solely due to realization of the proposed adder design and actual gains will be more due to the lack of need for DPD-to-BCC and the reverse conversions per each addition.

For
                     
                      additional appreciation, regarding the advantages of the BCC adder design for 
                        
                           m
                           =
                           2
                        
                     , we provide Tables 6 and 7 that contain the area and power measures for three previous BCD adders and proposed ones for 
                        
                           m
                           =
                           2
                        
                      and 
                        
                           m
                           =
                           7
                        
                      
                     [12], in case of single and double precision operands, respectively. The compiled figures regard to high, average, and low frequencies, where the [15]-LF case operates only in low frequencies. The corresponding ratios show the superiority of BCC adders over the BCD counterparts.

@&#CONCLUSIONS@&#

Hardware realization of decimal arithmetic, in accordance to IEEE-754-2008 standard, usually uses the densely-packed-decimal (DPD) encoding of decimal numbers that is used for storage in secondary and primary memories and register files. Pre/post conversions, to/from arithmetic-friendly decimal encodings (e.g., BCD) are required, per each arithmetic operation, which results in delay/power overhead. While abiding to DPD standard for storage and decimal data exchange, we observe that the intrinsically manipulatable binary-coded-chiliad (BCC) encoding can be preferred for internal representation of decimal numbers in view of following properties:

                        
                           •
                           Storage of BCC operands, in primary memory and registers, with the same encoding efficiency as DPD.

Obviating the need for pre/post conversions per each arithmetic operation that leads to reduced latency, and power savings up to 14%.

Prospects for at least equi-efficient BCC arithmetic in comparison to the corresponding BCD or other radix-10 arithmetic, as we even achieved better performance in the case of addition.

Equi-width registers for BCC-single (BCC-double) operands and double (quadruple) precision binary operands, which is important for decimal/binary hardware sharing.

To design mixed BCC/binary adders, we studied six different conditional speculation options (including the one of a previous relevant work). Analytical and synthesis based performance evaluations favored one particular new option. As such, the proposed design was compared with the best previous BCC and BCD mixed decimal/binary adders to show advantages in area (17%), power (13%) and PDP (14%) measures. Note that these improvement figures are exclusively due to BCC addition and do not reflect the extra savings and additional speed that are achieved due to no DPD-to-BCC and the reverse conversions before and after each arithmetic operation.

Research is ongoing to study the impact of the proposed adder on unified add/subtract unit, multiplier, divider, and decimal floating-point units.

@&#ACKNOWLEDGMENTS@&#

This research was supported in part by the School of Computer Sciences, Institute for Research in Fundamental Sciences (IPM), P.O. Box: 19395-5746, Tehran, Iran, under Grant CS1394-2-03, and in part by Shahid Beheshti University.


                     Table A1 depicts logical expressions for evaluating the speculation condition 
                        
                           Q
                           i
                           +
                        
                     , delay and area figures for m ∈ [2, 7].

To clearly explain the implementation of this step, we provide Fig. B1
                      as a high level illustration of interim sum generation for six cases of m ∈ [2, 7]. In each case we should deduct 24 when both Eqs. (B1) and (B2) hold (i.e., 
                        
                           
                              Q
                              i
                              +
                           
                           =
                           1
                        
                     ), where we remind that 
                        
                           V
                           m
                        
                      is a multiple of 2
                        l
                     .

                        
                           (B1)
                           
                              
                                 
                                    V
                                    m
                                 
                                 +
                                 24
                                 +
                                 V
                                 
                                    
                                       
                                          
                                          ′
                                       
                                    
                                    l
                                 
                                 +
                                 
                                    c
                                    i
                                    0
                                 
                                 <
                                 1024
                              
                           
                        
                     
                     
                        
                           (B2)
                           
                              
                                 
                                    V
                                    m
                                 
                                 +
                                 24
                                 >
                                 1024
                                 −
                                 
                                    2
                                    
                                       l
                                       +
                                       1
                                    
                                 
                              
                           
                        
                     
                  

In decimal addition (i.e., 
                        
                           D
                           =
                           1
                        
                     ), 
                        
                           +
                           24
                        
                      speculation (in case of 
                        
                           
                              Q
                              i
                              +
                           
                           =
                           1
                        
                     ) should be corrected as 
                        
                           W
                           
                              
                              i
                              ′
                           
                           =
                           
                              W
                              i
                           
                           −
                           24
                        
                      when 
                        
                           
                              c
                              
                                 i
                                 +
                                 1
                              
                              0
                           
                           =
                           0
                        
                     , which can also be expressed as in Eq. (B1). The straightforward subtraction would involve all the seven most significant bits of Wi
                      (to be referred to as 
                        
                           
                              W
                              ^
                           
                           i
                        
                     ). However, it turns out that fewer bits of 
                        
                           
                              W
                              ^
                           
                           i
                        
                      actually participate in 
                        
                           −
                           24
                        
                      correction (i.e., 
                        
                           
                              
                                 
                                    W
                                    ′
                                 
                                 ^
                              
                              i
                           
                           =
                           
                              
                                 W
                                 ^
                              
                              i
                           
                           −
                           3
                        
                     ), which will be justified below.

                        
                           •
                           
                              
                                 
                                    m
                                    =
                                    7
                                 
                              
                              : 
                              Eq. (B2), for 
                                 
                                    l
                                    =
                                    3
                                 
                              , leads to 
                                 
                                    
                                       V
                                       7
                                    
                                    ≥
                                    992
                                 
                              . Obviously no correction is required for 
                                 
                                    
                                       V
                                       7
                                    
                                    ≥
                                    1000
                                 
                              . There remains the singular case of 
                                 
                                    
                                       V
                                       7
                                    
                                    =
                                    992
                                 
                              , where all the bits of 
                                 
                                    
                                       W
                                       ^
                                    
                                    i
                                 
                               are 1, since 
                                 
                                    992
                                    +
                                    24
                                    =
                                    8
                                    ×
                                    127
                                 
                              . Therefore, 
                                 
                                    (
                                    
                                       
                                          
                                             W
                                             ^
                                          
                                          i
                                       
                                       −
                                       3
                                    
                                    )
                                 
                               correction reduces to only zeroing 
                                 
                                    w
                                    i
                                    4
                                 
                               and 
                                 
                                    w
                                    i
                                    3
                                 
                               (i.e., 
                                 
                                    
                                       w
                                       i
                                       
                                          ′
                                          4
                                       
                                    
                                    =
                                    
                                       w
                                       i
                                       
                                          ′
                                          3
                                       
                                    
                                    =
                                    0
                                 
                              ).


                              
                                 
                                    m
                                    =
                                    6
                                 
                              
                              : 
                              Eq. (B2), for 
                                 
                                    l
                                    =
                                    4
                                 
                              , leads to 
                                 
                                    
                                       V
                                       6
                                    
                                    >
                                    968
                                 
                              . Therefore, correction is required only for 
                                 
                                    
                                       V
                                       6
                                    
                                    =
                                    992
                                 
                               and 
                                 
                                    
                                       V
                                       6
                                    
                                    =
                                    976
                                 
                              , as is explained below.

                                 
                                    ○
                                    
                                       
                                          
                                             
                                                V
                                                6
                                             
                                             =
                                             992
                                          
                                       
                                       : Recalling Fig. B1b, note that 
                                          
                                             1008
                                             ≤
                                             16
                                             
                                                (
                                                
                                                   w
                                                   i
                                                   9
                                                
                                                …
                                                
                                                   w
                                                   i
                                                   4
                                                
                                                )
                                             
                                             =
                                             
                                                V
                                                6
                                             
                                             +
                                             16
                                             +
                                             16
                                             
                                                c
                                                i
                                                4
                                             
                                             ≤
                                             1024
                                          
                                       , provided that 
                                          
                                             
                                                c
                                                i
                                                4
                                             
                                             ∈
                                             
                                                {
                                                
                                                   0
                                                   ,
                                                   
                                                   1
                                                
                                                }
                                             
                                          
                                       . The latter is true, since Eq. (B1) leads to 
                                          
                                             V
                                             
                                                
                                                   
                                                      
                                                      ′
                                                   
                                                
                                                4
                                             
                                             +
                                             
                                                c
                                                i
                                                0
                                             
                                             +
                                             8
                                             <
                                             16
                                          
                                        (i.e., 
                                          
                                             
                                                c
                                                i
                                                4
                                             
                                             
                                                =
                                                0
                                                )
                                             
                                          
                                       . Therefore, the former inequality reduces to 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                4
                                             
                                             =
                                             63
                                          
                                       , which means 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                4
                                             
                                             =
                                             
                                                2
                                                6
                                             
                                             −
                                             1
                                             =
                                             
                                                
                                                   (
                                                   111111
                                                   )
                                                
                                                
                                                   t
                                                   w
                                                   o
                                                
                                             
                                          
                                       . This leads to 
                                          
                                             
                                                
                                                   
                                                      W
                                                      ′
                                                   
                                                   ^
                                                
                                                i
                                             
                                             =
                                             
                                                
                                                   W
                                                   ^
                                                
                                                i
                                             
                                             −
                                             3
                                             =
                                             111111
                                             
                                                w
                                                i
                                                3
                                             
                                             −
                                             3
                                             =
                                             1111
                                             
                                                w
                                                i
                                                3
                                             
                                             
                                                
                                                   w
                                                   i
                                                   3
                                                
                                                ¯
                                             
                                             
                                                
                                                   w
                                                   i
                                                   3
                                                
                                                ¯
                                             
                                          
                                       .


                                       
                                          
                                             
                                                V
                                                6
                                             
                                             =
                                             976
                                          
                                       
                                       : Similarly, it holds that 
                                          
                                             992
                                             ≤
                                             
                                                V
                                                6
                                             
                                             +
                                             16
                                             +
                                             16
                                             
                                                c
                                                i
                                                4
                                             
                                             ≤
                                             1008
                                          
                                        and 
                                          
                                             V
                                             
                                                
                                                   
                                                      
                                                      ′
                                                   
                                                
                                                4
                                             
                                             +
                                             
                                                c
                                                i
                                                0
                                             
                                             +
                                             8
                                             <
                                             32
                                          
                                        (i.e., 
                                          
                                             
                                                c
                                                i
                                                4
                                             
                                             ∈
                                             
                                                {
                                                
                                                   0
                                                   ,
                                                   
                                                   1
                                                
                                                }
                                             
                                          
                                       ), which splits the latter as 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                4
                                             
                                             =
                                             62
                                          
                                        and 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                4
                                             
                                             =
                                             63
                                          
                                        for 
                                          
                                             
                                                c
                                                i
                                                4
                                             
                                             =
                                             0
                                          
                                        and 
                                          
                                             
                                                c
                                                i
                                                4
                                             
                                             =
                                             1
                                          
                                       , respectively. Therefore, the former means 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                4
                                             
                                             =
                                             2
                                             ×
                                             
                                                (
                                                
                                                   
                                                      2
                                                      5
                                                   
                                                   −
                                                   1
                                                
                                                )
                                             
                                             =
                                             
                                                
                                                   (
                                                   111110
                                                   )
                                                
                                                
                                                   t
                                                   w
                                                   o
                                                
                                             
                                          
                                       . As a result, 
                                          
                                             
                                                
                                                   
                                                      W
                                                      ′
                                                   
                                                   ^
                                                
                                                i
                                             
                                             =
                                             111110
                                             
                                                w
                                                i
                                                3
                                             
                                             −
                                             3
                                             =
                                             11110
                                             
                                                w
                                                i
                                                3
                                             
                                             
                                                
                                                   w
                                                   i
                                                   3
                                                
                                                ¯
                                             
                                          
                                       . In the other case, 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                4
                                             
                                             =
                                             
                                                2
                                                6
                                             
                                             −
                                             1
                                             =
                                             
                                                
                                                   (
                                                   111111
                                                   )
                                                
                                                
                                                   t
                                                   w
                                                   o
                                                
                                             
                                          
                                       . Thus, 
                                          
                                             
                                                
                                                   
                                                      W
                                                      ′
                                                   
                                                   ^
                                                
                                                i
                                             
                                             =
                                             111111
                                             
                                                w
                                                i
                                                3
                                             
                                             −
                                             3
                                             =
                                             1111
                                             
                                                w
                                                i
                                                3
                                             
                                             
                                                
                                                   w
                                                   i
                                                   3
                                                
                                                ¯
                                             
                                             
                                                
                                                   w
                                                   i
                                                   3
                                                
                                                ¯
                                             
                                          
                                       .


                              m ∈ [2, 5]: 
                              Eqs. (B1) and (B2) lead to Eq. (B3), as a necessary and sufficient condition for 
                                 
                                    −
                                    24
                                 
                               correction, since 2
                                 l
                               > 24. Therefore, correction is required only for 
                                 
                                    
                                       V
                                       m
                                    
                                    =
                                    
                                       2
                                       10
                                    
                                    −
                                    
                                       2
                                       l
                                    
                                 
                               and 
                                 
                                    
                                       V
                                       m
                                    
                                    =
                                    
                                       2
                                       10
                                    
                                    −
                                    
                                       2
                                       
                                          l
                                          +
                                          1
                                       
                                    
                                 
                              .
                                 
                                    (B3)
                                    
                                       
                                          1000
                                          −
                                          
                                             2
                                             
                                                l
                                                +
                                                1
                                             
                                          
                                          <
                                          
                                             V
                                             m
                                          
                                          ≤
                                          1024
                                          −
                                          
                                             2
                                             l
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    ○
                                    
                                       
                                          
                                             
                                                V
                                                m
                                             
                                             =
                                             
                                                2
                                                10
                                             
                                             −
                                             
                                                2
                                                l
                                             
                                          
                                       
                                       : Recalling Fig. B1, note that 
                                          
                                             
                                                2
                                                10
                                             
                                             −
                                             
                                                2
                                                l
                                             
                                             ≤
                                             
                                                2
                                                l
                                             
                                             
                                                (
                                                
                                                   
                                                      w
                                                      i
                                                      9
                                                   
                                                   …
                                                   
                                                      w
                                                      i
                                                      l
                                                   
                                                
                                                )
                                             
                                             =
                                             
                                                V
                                                m
                                             
                                             +
                                             
                                                2
                                                l
                                             
                                             
                                                c
                                                i
                                                l
                                             
                                             ≤
                                             
                                                2
                                                10
                                             
                                          
                                       , provided that 
                                          
                                             
                                                c
                                                i
                                                l
                                             
                                             ∈
                                             
                                                {
                                                
                                                   0
                                                   ,
                                                   
                                                   1
                                                
                                                }
                                             
                                          
                                       . The latter is true, since Eq. (B1) leads to 
                                          
                                             V
                                             
                                                
                                                   
                                                      
                                                      ′
                                                   
                                                
                                                l
                                             
                                             +
                                             24
                                             +
                                             
                                                c
                                                i
                                                0
                                             
                                             <
                                             
                                                2
                                                l
                                             
                                          
                                        (i.e., 
                                          
                                             
                                                c
                                                i
                                                l
                                             
                                             =
                                             0
                                          
                                       ). Therefore, the former inequality reduces to 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                l
                                             
                                             =
                                             
                                                2
                                                m
                                             
                                             −
                                             1
                                          
                                       , which means 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                l
                                             
                                             =
                                             
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            1
                                                            …
                                                            1
                                                         
                                                         ︸
                                                      
                                                      
                                                         m
                                                         −
                                                         b
                                                         i
                                                         t
                                                      
                                                   
                                                   )
                                                
                                                
                                                   t
                                                   w
                                                   o
                                                
                                             
                                          
                                       . Therefore, 
                                          
                                             
                                                
                                                   W
                                                   ^
                                                
                                                i
                                             
                                             −
                                             3
                                             =
                                             
                                                
                                                   
                                                      1
                                                      …
                                                      1
                                                   
                                                   ︸
                                                
                                                
                                                   m
                                                   −
                                                   b
                                                   i
                                                   t
                                                
                                             
                                             
                                                w
                                                
                                                   l
                                                   −
                                                   1
                                                
                                             
                                             …
                                             
                                                w
                                                i
                                                3
                                             
                                             −
                                             3
                                          
                                       .


                                       
                                          
                                             
                                                V
                                                m
                                             
                                             =
                                             
                                                2
                                                10
                                             
                                             −
                                             
                                                2
                                                
                                                   l
                                                   +
                                                   1
                                                
                                             
                                          
                                       : Similarly, it holds that 
                                          
                                             
                                                2
                                                10
                                             
                                             −
                                             
                                                2
                                                
                                                   l
                                                   +
                                                   1
                                                
                                             
                                             ≤
                                             
                                                2
                                                l
                                             
                                             
                                                (
                                                
                                                   
                                                      w
                                                      i
                                                      9
                                                   
                                                   …
                                                   
                                                      w
                                                      i
                                                      l
                                                   
                                                
                                                )
                                             
                                             =
                                             
                                                V
                                                m
                                             
                                             +
                                             
                                                2
                                                l
                                             
                                             
                                                c
                                                i
                                                l
                                             
                                             ≤
                                             
                                                2
                                                10
                                             
                                             −
                                             
                                                2
                                                l
                                             
                                          
                                        and 
                                          
                                             V
                                             
                                                
                                                   
                                                      
                                                      ′
                                                   
                                                
                                                l
                                             
                                             +
                                             24
                                             +
                                             
                                                c
                                                i
                                                0
                                             
                                             <
                                             
                                                2
                                                
                                                   l
                                                   +
                                                   1
                                                
                                             
                                          
                                        (i.e., 
                                          
                                             
                                                c
                                                i
                                                l
                                             
                                             ∈
                                             
                                                {
                                                
                                                   0
                                                   ,
                                                   
                                                   1
                                                
                                                }
                                             
                                          
                                       ), which splits the latter as 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                l
                                             
                                             =
                                             
                                                2
                                                10
                                             
                                             −
                                             
                                                2
                                                
                                                   l
                                                   +
                                                   1
                                                
                                             
                                          
                                        and 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                l
                                             
                                             =
                                             
                                                2
                                                10
                                             
                                             −
                                             
                                                2
                                                l
                                             
                                          
                                        for 
                                          
                                             
                                                c
                                                i
                                                l
                                             
                                             =
                                             0
                                          
                                        and 
                                          
                                             
                                                c
                                                i
                                                l
                                             
                                             =
                                             1
                                          
                                       , respectively. Therefore, the former means 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                l
                                             
                                             =
                                             2
                                             ×
                                             
                                                (
                                                
                                                   
                                                      2
                                                      
                                                         m
                                                         −
                                                         1
                                                      
                                                   
                                                   −
                                                   1
                                                
                                                )
                                             
                                             =
                                             
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            
                                                               11
                                                               …
                                                               11
                                                            
                                                            ︸
                                                         
                                                         
                                                            (
                                                            
                                                               m
                                                               −
                                                               1
                                                            
                                                            )
                                                            −
                                                            b
                                                            i
                                                            t
                                                         
                                                      
                                                      
                                                      0
                                                   
                                                   )
                                                
                                                
                                                   t
                                                   w
                                                   o
                                                
                                             
                                          
                                       . As a result, 
                                          
                                             
                                                
                                                   
                                                      W
                                                      ′
                                                   
                                                   ^
                                                
                                                i
                                             
                                             =
                                             
                                                
                                                   
                                                      11
                                                      …
                                                      11
                                                   
                                                   ︸
                                                
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                   −
                                                   b
                                                   i
                                                   t
                                                
                                             
                                             0
                                             
                                                w
                                                
                                                   l
                                                   −
                                                   1
                                                
                                             
                                             …
                                             
                                                w
                                                i
                                                3
                                             
                                             −
                                             3
                                          
                                       . In the other case, 
                                          
                                             
                                                w
                                                i
                                                9
                                             
                                             …
                                             
                                                w
                                                i
                                                l
                                             
                                             =
                                             
                                                2
                                                m
                                             
                                             −
                                             1
                                             =
                                             
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            11
                                                            …
                                                            11
                                                         
                                                         ︸
                                                      
                                                      
                                                         m
                                                         −
                                                         b
                                                         i
                                                         t
                                                      
                                                   
                                                   )
                                                
                                                
                                                   t
                                                   w
                                                   o
                                                
                                             
                                          
                                       . Thus, 
                                          
                                             
                                                
                                                   
                                                      W
                                                      ′
                                                   
                                                   ^
                                                
                                                i
                                             
                                             =
                                             
                                                (
                                                
                                                   
                                                      
                                                         11
                                                         …
                                                         11
                                                      
                                                      ︸
                                                   
                                                   
                                                      m
                                                      −
                                                      b
                                                      i
                                                      t
                                                   
                                                
                                                )
                                             
                                             
                                                w
                                                
                                                   l
                                                   −
                                                   1
                                                
                                             
                                             …
                                             
                                                w
                                                i
                                                3
                                             
                                             −
                                             3
                                          
                                       .


                     Table B1
                      contains the expressions for bits of 
                        
                           
                              W
                              ^
                           
                           
                              
                              i
                              ′
                           
                           =
                           
                              
                                 W
                                 ^
                              
                              i
                           
                           −
                           3
                        
                     , where those equal to 1 and the three least significant bits of Wi
                      are not corrected (i.e., 
                        
                           
                              w
                              i
                              
                                 ′
                                 2
                              
                           
                           
                              w
                              i
                              
                                 ′
                                 1
                              
                           
                           
                              w
                              i
                              
                                 ′
                                 0
                              
                           
                           =
                           
                              w
                              i
                              2
                           
                           
                              w
                              i
                              1
                           
                           
                              w
                              i
                              0
                           
                        
                     ). All the w-expressions are obtained from simple truth tables.

Recalling Step 3b of Algorithm 2 (i.e., 
                        
                           
                              S
                              i
                           
                           =
                           
                              W
                              i
                           
                           −
                           24
                           D
                           
                              Q
                              i
                              +
                           
                           
                              
                                 c
                                 
                                    i
                                    +
                                    1
                                 
                                 0
                              
                              ¯
                           
                        
                     ), let 
                        
                           
                              K
                              i
                           
                           =
                           D
                           
                              Q
                              i
                              +
                           
                           
                              
                                 c
                                 
                                    i
                                    +
                                    1
                                 
                                 0
                              
                              ¯
                           
                        
                     , which can actually serve as the selector between 
                        
                           
                              
                                 W
                                 ^
                              
                              i
                           
                           
                           
                              (
                              
                                 
                                    K
                                    i
                                 
                                 =
                                 0
                              
                              )
                           
                        
                      and 
                        
                           
                              W
                              ^
                           
                           
                              
                              i
                              ′
                           
                           
                           
                              (
                              
                                 
                                    K
                                    i
                                 
                                 =
                                 1
                              
                              )
                           
                        
                      to lead to 
                        
                           
                              S
                              ^
                           
                           i
                        
                      (i.e., the seven most significant bits of Si
                     ). Note that 
                        
                           
                              s
                              i
                              2
                           
                           
                              s
                              i
                              1
                           
                           
                              s
                              i
                              0
                           
                           =
                           
                              w
                              i
                              2
                           
                           
                              w
                              i
                              1
                           
                           
                              w
                              i
                              0
                           
                        
                     . However, instead of using a multiplexor, the equation 
                        
                           
                              
                                 S
                                 ^
                              
                              i
                           
                           =
                           
                              
                                 K
                                 i
                              
                              ¯
                           
                           
                              
                                 W
                                 ^
                              
                              i
                           
                           ∨
                           
                              K
                              i
                           
                           
                              W
                              ^
                           
                           
                              
                              i
                              ′
                           
                        
                      can be elaborated, via bypassing 
                        
                           
                              W
                              ^
                           
                           
                              
                              i
                              ′
                           
                        
                      signals, to lead to less costly and faster derivation of 
                        
                           
                              S
                              ^
                           
                           i
                        
                     , as in Table B2
                     .

@&#REFERENCES@&#

