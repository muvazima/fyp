@&#MAIN-TITLE@&#Minsum and minmax scheduling on a proportionate flowshop with common flow-allowance

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We study scheduling problems with common flow allowance on a proportionate flowshop.


                        
                        
                           
                           We solve both the minsum and the minmax versions.


                        
                        
                           
                           Both versions are extended to a setting of due-windows.


                        
                        
                           
                           Several unique structural properties of an optimal schedule are proved.


                        
                        
                           
                           All the problems are solved in polynomial time.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Scheduling

Proportionate flowshop

Due-date assignment

Due-window assignment

Flow-allowance

@&#ABSTRACT@&#


               
               
                  We study due-date assignment problems with common flow allowance on a proportionate flowshop. We focus on both minsum and minmax objectives. Both cases are extended to a setting of a due-window. The proposed solution procedures are shown to be significantly different from those of the single machine problems. All the problems studied here are solved in polynomial time: the minsum problems in O(n
                     2) and the minmax problems in O(nlog n), where n is the number of jobs.
               
            

@&#INTRODUCTION@&#

The study of scheduling problems with due-date assignment became popular during the 80′s as a result of the growing interest in Just-In-Time (JIT) production philosophy. The goal was to ensure that jobs/products will be available exactly at their due-dates, in order to minimize both the earliness (mainly inventory) cost and the classical tardiness cost. In these models, jobs completed prior to or after their due-dates are penalized according to their earliness/tardiness values, whereas on-time jobs are not penalized. In recent years, many researchers focused on the study of due-windows, where a time interval is assumed, such that jobs completed within this interval are not penalized. We refer the reader to the survey papers on due-date assignment (Gordon, Proth, & Chu, 2002), and on due-window assignment (Janiak, Janiak, Krysial, & Kwiatkowski, 2015).

Scheduling problems with common flow allowance is an important class of due-date assignment problems. In these problems, the job-dependent due-dates are determined as simple linear functions of the job processing times. In the most basic model (see e.g., Adamopoulos & Pappis, 1996a), the due-date of a given job is defined as the sum of its processing time and a job-independent constant (which is a decision variable). It is clear that a small value for this constant (leading to earlier due-dates) makes the supplier more attractive to customers, whereas a large value (reflecting late due-dates) increases flexibility for the scheduler. Hence a cost is incurred when increasing the flow-allowance constant. Due-date assignment based on common flow allowance is known to be the simplest method to determine job-dependent due-dates.

In this paper we focus on due-date assignment problems with common flow allowance on a proportionate flowshop. This machine setting is a special case of the classical flowshop, where the job processing times are machine-independent. We refer the reader to Panwalkar, Smith and Koulamas (2013) for a recent detailed review of various models of scheduling problems on a proportionate flowshop. The optimal solutions of many scheduling problems on a proportionate flowshop were shown to be identical to those obtained for a single machine (see e.g. Pinedo, 2012). However, the proposed solution procedures introduced in this paper are shown to be significantly different from those known in the literature for the single machine case.

We consider here both minsum and minmax objective functions. In minsum we minimize the total cost incurred by all the jobs, whereas in minmax, the value of the objective function is identical to that of the worst scheduled job, i.e., to the largest cost. Many researchers have studied minsum scheduling models with common flow allowance, after those of Adamopoulos and Pappis (1996a, 1996b). We provide a list of relevant papers (focusing on a minsum objective and a single machine setting) published in the last decade: Wang (2006), Shabtay and Steiner (2007), Mosheiov and Oron (2010), Wang and Wang (2010), Mor and Mosheiov (2012a) and Chen, Ji and Ge (2013). Problems combining a flow-allowance model and a minmax objective have hardly been studied. In fact, we are aware of two papers focusing on this combination: Mor and Mosheiov (2012b, 2012c), who studied this setting on a single machine and on parallel identical machines, respectively.

While the single machine minsum model was shown to be solved by matching processing times to positional weights in O(nlog n) time (Adamopoulos & Pappis, 1996a), we show here that the extension to a setting of a proportionate flowshop requires a computational effort of O(n
                     2). Recall that an optimal schedule for the single machine setting is V-shaped, i.e., consists of a set of jobs sequenced in a non-increasing order of processing times, followed by the remaining jobs sequenced in a non-decreasing order of processing times. We show that an optimal V-shaped schedule remains valid for proportionate flowshop. Thus, our proposed algorithm is based on the important structural property that there are no idle times on the last machine of the flowshop between consecutive jobs belonging to the set of jobs scheduled first. This subsequence is obtained by matching jobs to positional weights in a traditional manner, and the remaining jobs are scheduled to create a V-shape. Regarding the minmax problem, while the single machine minmax problem was shown to be solved (by assigning the largest job to the last position and identifying the relevant case) in O(n) time (Mor & Mosheiov, 2012b), the extension to a proportionate flowshop is shown here to be solved in O(nlog n), due to the required sorting procedure. The solution is based on the monotonicity of the costs, and consequently on the fact that the maximum cost is obtained by the first and the last scheduled jobs.

Both the minsum and the minmax cases are extended to a setting of due-windows. In the extended models, the scheduler is penalized if either the due-window is delayed, and/or if it is larger. Both cases reflect a situation that the scheduler/producer becomes less attractive to customers. Hence, the model contains additional costs for delaying the window, and for increasing the window size (see e.g. Liman, Panwalkar, & Thongmee, 1998). The single machine minsum version was solved in Mosheiov and Oron (2010) in O(nlog n) time (again, by a matching procedure). The proposed algorithm for a proportionate flowshop is based on checking all relevant V-shaped sequences (as for the due-date case), and requires O(n
                     2) time. The single machine minmax version was solved in Mor and Mosheiov (2012b) in O(n) time (by assigning the largest job to the last position). The proposed algorithm for a proportionate flowshop requires sorting and thus runs in O(nlog n) time. Note that the total running times do not increase when extending the setting from a due-date to the more general setting of a due-window, for both minsum and minmax.

The paper is organized as follows. Section 2 contains the notation and the formulation. Section 3 provides the solution for the minsum due-date assignment problem, and Section 4 presents the extension to the setting of a due-window. In Section 5 we introduce the solution for the minmax due-date assignment problem, and Section 6 contains the extension to a due-window assignment.

We study an n-job, m-machine proportionate flowshop problem. The processing time of job j on machine i is denoted by 
                        
                           
                              p
                              
                                 i
                                 j
                              
                           
                           ,
                           
                           i
                           =
                           1
                           ,
                           …
                           ,
                           m
                           ;
                           
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                        
                     . Since the job processing times are machine-independent, in this setting 
                        
                           
                              p
                              
                                 i
                                 j
                              
                           
                           =
                           
                              p
                              j
                           
                           ,
                           
                           i
                           =
                           1
                           ,
                           …
                           ,
                           m
                           ;
                           
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                        
                     . Let 
                        
                           P
                           =
                           
                              ∑
                              
                                 j
                                 =
                                 1
                              
                              n
                           
                           
                              p
                              j
                           
                        
                     , and 
                        
                           
                              p
                              
                                 m
                                 a
                                 x
                              
                           
                           =
                           max
                           
                              {
                              
                                 
                                    p
                                    j
                                 
                                 ,
                                 
                                 j
                                 =
                                 1
                                 ,
                                 …
                                 ,
                                 n
                              
                              }
                           
                        
                      denote sum of the processing times and the maximal job processing time, respectively. We focus on a due-date assignment problem, assuming a common flow-allowance q. Each job is assigned a different due-date, which is equal to the sum of its processing time and a job-independent constant: 
                        
                           
                              d
                              j
                           
                           =
                           
                              p
                              j
                           
                           +
                           q
                           ,
                        
                     
                     
                        
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                           .
                        
                      Note that the definition of (the decision variable) q is identical to its commonly used definition on a single machine.

For a given job schedule, 
                        
                           
                              C
                              
                                 i
                                 j
                              
                           
                           ,
                           
                           i
                           =
                           1
                           ,
                           …
                           ,
                           m
                           ,
                           
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                           ,
                        
                      denotes the completion time of job j on machine i. The completion time of the last operation of job j (on machine m) is denoted by 
                        
                           
                              C
                              j
                           
                           =
                           
                              C
                              
                                 m
                                 j
                              
                           
                           ,
                           
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                           .
                        
                      The starting time of the last operation of job j (on machine m) is denoted by 
                        
                           
                              S
                              j
                           
                           ,
                           
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                           .
                        
                      The earliness of job j is given by 
                        
                           
                              E
                              j
                           
                           =
                           max
                           
                              {
                              
                                 0
                                 ,
                                 
                                    d
                                    j
                                 
                                 −
                                 
                                    C
                                    j
                                 
                              
                              }
                           
                        
                     , and the tardiness of job j is given by 
                        
                           
                              T
                              j
                           
                           =
                           max
                           
                              {
                              
                                 0
                                 ,
                                 
                                    C
                                    j
                                 
                                 −
                                 
                                    d
                                    j
                                 
                              
                              }
                           
                        
                     , 
                        
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                        
                     . Following Adamopoulos and Pappis (1996a), the objective function consists of three cost components: earliness cost (where the unit cost is denoted by α); tardiness cost (where the unit cost is denoted by β); and the flow-allowance cost (where the unit cost is denoted by γ). If a job is early, then its cost contribution is 
                        
                           α
                           
                              E
                              j
                           
                           +
                           γ
                           q
                        
                     , whereas a tardy job has a cost of 
                        
                           β
                           
                              T
                              j
                           
                           +
                           γ
                           q
                        
                     . (Its actual cost is 
                        
                           max
                           
                           {
                           
                              α
                              
                                 E
                                 j
                              
                              +
                              γ
                              q
                              ,
                              
                              β
                              
                                 T
                                 j
                              
                              +
                              γ
                              q
                           
                           }
                        
                     .) It follows that the cost of job j is 
                        
                           α
                           
                              E
                              j
                           
                           +
                           β
                           
                              T
                              j
                           
                           +
                           γ
                           q
                        
                     , and the objective (of a minsum type) is :

                        
                           (1)
                           
                              
                                 Z
                                 =
                                 
                                    ∑
                                    
                                       j
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       α
                                       
                                          E
                                          j
                                       
                                       +
                                       β
                                       
                                          T
                                          j
                                       
                                       +
                                       γ
                                       q
                                    
                                    )
                                 
                                 .
                                 
                              
                           
                        
                     
                  

The minmax objective (see Mor & Mosheiov, 2012b) is:

                        
                           (2)
                           
                              
                                 Z
                                 =
                                 
                                    max
                                    
                                       1
                                       ≤
                                       j
                                       ≤
                                       n
                                    
                                 
                                 
                                    {
                                    
                                       max
                                       
                                       
                                          {
                                          
                                             α
                                             
                                                E
                                                j
                                             
                                             +
                                             γ
                                             q
                                             ,
                                             
                                             β
                                             
                                                T
                                                j
                                             
                                             +
                                             γ
                                             q
                                          
                                          }
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                        
                     
                  

As mentioned, we further extend the problem to a setting of due-windows, where jobs completed within their window are not penalized. The due-window of job 
                        
                           j
                           
                           (
                           
                              j
                              =
                              1
                              ,
                              …
                              ,
                              n
                           
                           )
                        
                      is denoted by 
                        
                           
                              [
                              
                                 
                                    d
                                    j
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 ,
                                 
                                 
                                    d
                                    j
                                    
                                       (
                                       2
                                       )
                                    
                                 
                              
                              ]
                           
                           
                           
                              (
                              
                                 
                                    d
                                    j
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 ≤
                                 
                                    d
                                    j
                                    
                                       (
                                       2
                                       )
                                    
                                 
                              
                              )
                           
                        
                     , where

                        
                           
                              
                                 
                                    d
                                    j
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 =
                                 
                                    p
                                    j
                                 
                                 +
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 ,
                                 
                                 j
                                 =
                                 1
                                 ,
                                 …
                                 ,
                                 n
                                 ,
                              
                           
                        
                     
                     
                        
                           
                              
                                 
                                    d
                                    j
                                    
                                       (
                                       2
                                       )
                                    
                                 
                                 =
                                 
                                    p
                                    j
                                 
                                 +
                                 
                                    q
                                    
                                       (
                                       2
                                       )
                                    
                                 
                                 ,
                                 
                                 j
                                 =
                                 1
                                 ,
                                 …
                                 ,
                                 n
                                 .
                              
                           
                        
                     
                     q
                     (1) and q
                     (2) are decision variables, and q
                     (1) ≤ q
                     (2). Note that, while the due-windows are job-dependent, their size is identical for all jobs: 
                        
                           
                              q
                              
                                 (
                                 2
                                 )
                              
                           
                           −
                           
                              q
                              
                                 (
                                 1
                                 )
                              
                           
                        
                     . The new form of the objective function contains additional cost parameters: γ is the unit cost of delaying the window, and δ is the unit cost of increasing the window size (see e.g. Liman et al., 1998). The minsum objective function becomes:

                        
                           (3)
                           
                              
                                 Z
                                 =
                                 
                                    ∑
                                    
                                       j
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       α
                                       
                                          E
                                          j
                                       
                                       +
                                       β
                                       
                                          T
                                          j
                                       
                                       +
                                       γ
                                       
                                          q
                                          
                                             (
                                             1
                                             )
                                          
                                       
                                       +
                                       δ
                                       
                                          (
                                          
                                             
                                                q
                                                
                                                   (
                                                   2
                                                   )
                                                
                                             
                                             −
                                             
                                                q
                                                
                                                   (
                                                   1
                                                   )
                                                
                                             
                                          
                                          )
                                       
                                    
                                    )
                                 
                                 .
                                 
                              
                           
                        
                     
                  

The minmax objective becomes:

                        
                           (4)
                           
                              
                                 
                                    
                                       Z
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             max
                                             
                                                1
                                                ≤
                                                j
                                                ≤
                                                n
                                             
                                          
                                          
                                             {
                                             max
                                             
                                             
                                                {
                                                α
                                                
                                                   E
                                                   j
                                                
                                                +
                                                γ
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                                +
                                                δ
                                                
                                                   (
                                                   
                                                      
                                                         q
                                                         
                                                            (
                                                            2
                                                            )
                                                         
                                                      
                                                      −
                                                      
                                                         q
                                                         
                                                            (
                                                            1
                                                            )
                                                         
                                                      
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             
                                                β
                                                
                                                   T
                                                   j
                                                
                                                +
                                                γ
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                                +
                                                δ
                                                
                                                   (
                                                   
                                                      
                                                         q
                                                         
                                                            (
                                                            2
                                                            )
                                                         
                                                      
                                                      −
                                                      
                                                         q
                                                         
                                                            (
                                                            1
                                                            )
                                                         
                                                      
                                                   
                                                   )
                                                
                                                }
                                             
                                             }
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

(For convenience, the due-date assignment and the due-window assignment problems with a minsum objective are denoted Problem 1 and Problem 2, respectively. Similarly, the due-date assignment and the due-window assignment problems with a minmax objective are denoted Problem 3 and Problem 4, respectively.).

We focus first on the case that γ ≥ β. In this trivial case, the tardiness cost is smaller than the flow-allowance cost, implying that 
                        
                           q
                           =
                           0
                        
                      is optimal. [Note that for 
                        
                           q
                           =
                           0
                        
                      the cost component γq has a value of zero, and only the βTj
                      cost is relevant since all the jobs (excluding the first which is completed on time) are tardy.] It is easily verified that the optimal job sequence is SPT (Shortest Processing Time first), and the optimal cost is given by 
                        
                           β
                           
                              ∑
                              
                                 j
                                 =
                                 1
                              
                              n
                           
                           
                              (
                              
                                 m
                                 +
                                 n
                                 −
                                 j
                                 −
                                 1
                              
                              )
                           
                           
                              p
                              j
                           
                        
                     . Hence, we assume in the following that γ < β.

We start by proving two properties which were shown to be valid for an optimal schedule in the case of a single machine (Adamopoulos & Pappis, 1996a). Specifically, for a given sequence, if a job is tardy then all its successors are tardy, and if a job is early, then all its predecessors are early. For convenience, we assume that the indices of the jobs are renumbered according to the job sequence. [In the following, Property 1.j, 
                        
                           j
                           =
                           1
                           ,
                           …
                           ,
                           6
                           
                        
                     denotes Property j of an optimal solution of Problem 1: due-date assignment and a minsum objective.].


                     
                        Property 1.1
                        If a given job is tardy (not early), then its successor is tardy (not early):

                              
                                 
                                    
                                       
                                          C
                                          j
                                       
                                       ≥
                                       
                                          d
                                          j
                                       
                                       
                                       ⇒
                                       
                                          C
                                          
                                             j
                                             +
                                             1
                                          
                                       
                                       ≥
                                       
                                          d
                                          
                                             j
                                             +
                                             1
                                          
                                       
                                       ,
                                       
                                       j
                                       =
                                       1
                                       ,
                                       …
                                       ,
                                       n
                                       −
                                       1
                                       .
                                    
                                 
                              
                           
                        


                     
                        Proof
                        Recall that the completion time of job j is the completion time of its last operation (on machine m): 
                              
                                 
                                    C
                                    j
                                 
                                 =
                                 
                                    C
                                    
                                       m
                                       j
                                    
                                 
                                 .
                              
                            It is sufficient to show that: 
                              
                                 
                                    (
                                    
                                       
                                          C
                                          
                                             j
                                             +
                                             1
                                          
                                       
                                       −
                                       
                                          d
                                          
                                             j
                                             +
                                             1
                                          
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    (
                                    
                                       
                                          C
                                          j
                                       
                                       −
                                       
                                          d
                                          j
                                       
                                       
                                    
                                    )
                                 
                                 >
                                 0
                              
                           .

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            i
                                                            ≤
                                                            j
                                                            +
                                                            1
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            i
                                                         
                                                         }
                                                      
                                                      +
                                                      
                                                         ∑
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         
                                                            j
                                                            +
                                                            1
                                                         
                                                      
                                                      
                                                         p
                                                         i
                                                      
                                                      −
                                                      
                                                         (
                                                         
                                                            
                                                               p
                                                               
                                                                  j
                                                                  +
                                                                  1
                                                               
                                                            
                                                            +
                                                            q
                                                         
                                                         )
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                −
                                                
                                                
                                                   (
                                                   
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            i
                                                            ≤
                                                            j
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            i
                                                         
                                                         }
                                                      
                                                      +
                                                      
                                                         ∑
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         j
                                                      
                                                      
                                                         p
                                                         i
                                                      
                                                      −
                                                      
                                                         (
                                                         
                                                            
                                                               p
                                                               j
                                                            
                                                            +
                                                            q
                                                         
                                                         )
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                =
                                                
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   (
                                                   
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            i
                                                            ≤
                                                            j
                                                            +
                                                            1
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                      −
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            i
                                                            ≤
                                                            j
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                   
                                                   )
                                                
                                                +
                                                
                                                   p
                                                   j
                                                
                                                ≥
                                                0
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                           □


                     
                        Property 1.2
                        If a given job is early (not tardy), then its predecessor is early (not tardy):

                              
                                 
                                    
                                       
                                          C
                                          j
                                       
                                       ≤
                                       
                                          d
                                          j
                                       
                                       
                                       ⇒
                                       
                                          C
                                          
                                             j
                                             −
                                             1
                                          
                                       
                                       ≤
                                       
                                          d
                                          
                                             j
                                             −
                                             1
                                          
                                       
                                       ,
                                       
                                       j
                                       =
                                       1
                                       ,
                                       …
                                       ,
                                       n
                                       −
                                       1
                                       .
                                    
                                 
                              
                           
                        


                     
                        Proof
                        it is sufficient to show that: 
                              
                                 
                                    (
                                    
                                       
                                          C
                                          j
                                       
                                       −
                                       
                                          d
                                          j
                                       
                                       
                                    
                                    )
                                 
                                 −
                                 
                                    (
                                    
                                       
                                          C
                                          
                                             j
                                             −
                                             1
                                          
                                       
                                       −
                                       
                                          d
                                          
                                             j
                                             −
                                             1
                                          
                                       
                                    
                                    )
                                 
                                 >
                                 0
                              
                           .

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      
                                                         (
                                                         
                                                            
                                                               p
                                                               
                                                                  j
                                                                  −
                                                                  1
                                                               
                                                            
                                                            +
                                                            q
                                                         
                                                         )
                                                      
                                                      −
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            i
                                                            ≤
                                                            j
                                                            −
                                                            1
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            i
                                                         
                                                         }
                                                      
                                                      −
                                                      
                                                         ∑
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         
                                                            j
                                                            −
                                                            1
                                                         
                                                      
                                                      
                                                         p
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                −
                                                
                                                
                                                   (
                                                   
                                                      
                                                         (
                                                         
                                                            
                                                               p
                                                               j
                                                            
                                                            +
                                                            q
                                                         
                                                         )
                                                      
                                                      −
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            i
                                                            ≤
                                                            j
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            i
                                                         
                                                         }
                                                      
                                                      −
                                                      
                                                         ∑
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         j
                                                      
                                                      
                                                         p
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                =
                                                
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   (
                                                   
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            i
                                                            ≤
                                                            j
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                      −
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            i
                                                            ≤
                                                            j
                                                            −
                                                            1
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                   
                                                   )
                                                
                                                +
                                                
                                                   p
                                                   
                                                      j
                                                      −
                                                      1
                                                   
                                                
                                                ≥
                                                0
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                           □

In the single machine case, it was shown that q is equal to the sum of processing times of a number of jobs (say k), i.e., 
                        
                           q
                           =
                           
                              C
                              k
                           
                        
                     . This property is not necessarily valid for the case of a proportionate flowshop. [Consider for example the following data: 
                        
                           m
                           =
                           4
                           ,
                           
                           n
                           =
                           3
                           ,
                           
                           p
                           =
                           
                           {
                           
                              24
                              ,
                              
                              37
                              ,
                              45
                           
                           }
                        
                     , 
                        
                           α
                           =
                           5
                           ,
                        
                     
                     
                        
                           β
                           =
                           40
                           ,
                           
                           γ
                           =
                           23
                           .
                        
                      It can be easily verified that the (only) optimal sequence is (1, 2, 3) with 
                        
                           k
                           =
                           2
                        
                     , 
                        
                           
                              q
                              *
                           
                           =
                           135
                        
                      and 
                        
                           
                              Z
                              *
                           
                           =
                           12
                           ,
                           070
                           .
                        
                      The value of q* is not equal to any of the jobs completion times.] However, it can be shown that q* coincides with a job starting time on the last machine. [In the above example, q* is equal to the starting time of the job in the second position (which is larger than the completion time of the first scheduled job due to idle time between these jobs): 
                        
                           
                              q
                              *
                           
                           =
                           135
                           =
                           24
                           +
                           3
                           *
                           37
                           =
                           
                              S
                              2
                           
                        
                     .].


                     
                        Property 1.3
                        An optimal schedule exists in which 
                              
                                 q
                                 
                                 =
                                 
                                 
                                    S
                                    k
                                 
                              
                            for some k.


                     
                        Proof
                        Consider an optimal schedule with 
                              
                                 
                                    S
                                    
                                       k
                                       −
                                       1
                                    
                                 
                                 <
                                 q
                                 <
                                 
                                    S
                                    k
                                 
                              
                            for some k. Job k is now a tardy job since 
                              
                                 
                                    C
                                    k
                                 
                                 =
                                 
                                    S
                                    k
                                 
                                 +
                                 
                                    p
                                    k
                                 
                                 >
                                 q
                                 +
                                 
                                    p
                                    k
                                 
                                 =
                                 
                                    d
                                    k
                                 
                              
                           , and following Property 1.1, all the succeeding jobs in positions 
                              
                                 k
                                 +
                                 1
                                 ,
                                 
                                 …
                                 ,
                                 n
                              
                            are tardy. Since, 
                              
                                 
                                    d
                                    
                                       k
                                       −
                                       1
                                    
                                 
                                 =
                                 q
                                 +
                                 
                                    p
                                    
                                       k
                                       −
                                       1
                                    
                                 
                                 >
                                 
                                    S
                                    
                                       k
                                       −
                                       1
                                    
                                 
                                 +
                                 
                                    p
                                    
                                       k
                                       −
                                       1
                                    
                                 
                                 =
                                 
                                    C
                                    
                                       k
                                       −
                                       1
                                    
                                 
                              
                           , job 
                              
                                 k
                                 −
                                 1
                              
                            is an early job, and following Property 1.2, all the preceding jobs, i.e. the jobs in positions 
                              
                                 1
                                 ,
                                 
                                 …
                                 ,
                                 k
                                 −
                                 2
                              
                            are early.

We now check the impact of decreasing q by a small amount of Δ > 0 units of time. The change in the total cost (see (1)) is given by:

                              
                                 
                                    
                                       Δ
                                       Z
                                       =
                                       Δ
                                       
                                          [
                                          
                                             −
                                             α
                                             
                                                (
                                                
                                                   k
                                                   −
                                                   1
                                                
                                                )
                                             
                                             +
                                             β
                                             
                                                (
                                                
                                                   n
                                                   −
                                                   
                                                      (
                                                      
                                                         k
                                                         −
                                                         1
                                                      
                                                      )
                                                   
                                                
                                                )
                                             
                                             −
                                             n
                                             γ
                                          
                                          ]
                                       
                                       .
                                    
                                 
                              
                           
                        

Similarly, the change in the total cost as a function of increasing q by Δ units of time is given by 
                              
                                 −
                                 Δ
                                 Z
                              
                           .

Since Z is a linear function of Δ, it reaches its minimal value either when 
                              
                                 Δ
                                 =
                                 0
                              
                            (i.e.,

                              
                                 
                                    
                                       
                                          
                                             q
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   S
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   )
                                                   ,
                                                   
                                                   or
                                                   
                                                   Δ
                                                   =
                                                
                                                
                                                   p
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                +
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   (
                                                   
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                      −
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                            −
                                                            1
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                i
                                                
                                                   .
                                                   e
                                                
                                                .
                                                
                                                q
                                                =
                                                
                                                   S
                                                   k
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                           □

[It is clear that if there are no idle times between consecutive jobs on the last machine prior to job k, then q is also equal to the completion time of some job, similar to the single machine case.].

From the above, we conclude that:


                     
                        Corollary 1
                        If job k is on time (i.e., 
                              
                                 q
                                 
                                 =
                                 
                                 
                                    S
                                    k
                                 
                              
                           ) all the preceding jobs (in positions 
                              
                                 1
                                 ,
                                 
                                 …
                                 ,
                                 k
                                 −
                                 1
                              
                           ) are early, and all the succeeding jobs (in positions 
                              
                                 k
                                 +
                                 1
                                 ,
                                 
                                 …
                                 ,
                                 n
                              
                           ) are tardy.

Next, we find the index of the on-time job (k), in a similar way to that of Adamopoulos and Pappis (1996a).


                     
                        Property 1.4
                        The index of the on-time job is

                              
                                 (5)
                                 
                                    
                                       k
                                       =
                                       
                                          ⌈
                                          
                                             
                                                n
                                                
                                                   (
                                                   
                                                      β
                                                      −
                                                      γ
                                                   
                                                   )
                                                
                                             
                                             
                                                α
                                                +
                                                β
                                             
                                          
                                          ⌉
                                       
                                       .
                                    
                                 
                              
                           
                        


                     
                        Proof
                        For an arbitrary sequence, if 
                              
                                 q
                                 =
                                 
                                    S
                                    k
                                 
                              
                           , the total cost is given by:

                              
                                 
                                    
                                       
                                          
                                             Z
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   (
                                                   
                                                      α
                                                      
                                                         E
                                                         j
                                                      
                                                      +
                                                      β
                                                      
                                                         T
                                                         j
                                                      
                                                      +
                                                      γ
                                                      q
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                α
                                                
                                                   E
                                                   j
                                                
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      k
                                                      +
                                                      1
                                                   
                                                   n
                                                
                                                β
                                                
                                                   T
                                                   j
                                                
                                                +
                                                n
                                                γ
                                                q
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                α
                                                
                                                   (
                                                   
                                                      
                                                         d
                                                         j
                                                      
                                                      −
                                                      
                                                         C
                                                         j
                                                      
                                                   
                                                   )
                                                
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      k
                                                      +
                                                      1
                                                   
                                                   n
                                                
                                                β
                                                
                                                   (
                                                   
                                                      
                                                         C
                                                         j
                                                      
                                                      −
                                                      
                                                         d
                                                         j
                                                      
                                                   
                                                   )
                                                
                                                +
                                                n
                                                γ
                                                q
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                α
                                                
                                                   (
                                                   
                                                      
                                                         p
                                                         j
                                                      
                                                      +
                                                      q
                                                      −
                                                      
                                                         C
                                                         j
                                                      
                                                   
                                                   )
                                                
                                                +
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      k
                                                      +
                                                      1
                                                   
                                                   n
                                                
                                                β
                                                
                                                   (
                                                   
                                                      
                                                         C
                                                         j
                                                      
                                                      −
                                                      
                                                         p
                                                         j
                                                      
                                                      −
                                                      q
                                                   
                                                   )
                                                
                                                +
                                                n
                                                γ
                                                q
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

By differentiating Z with respect to q and equating to zero, we get,

                              
                                 
                                    
                                       
                                          
                                             ∂
                                             Z
                                          
                                          
                                             ∂
                                             q
                                          
                                       
                                       =
                                       
                                          ∑
                                          
                                             j
                                             =
                                             1
                                          
                                          
                                             k
                                             −
                                             1
                                          
                                       
                                       α
                                       −
                                       
                                          ∑
                                          
                                             j
                                             =
                                             k
                                             +
                                             1
                                          
                                          n
                                       
                                       β
                                       +
                                       n
                                       γ
                                       =
                                       0
                                       .
                                    
                                 
                              
                           
                        

It follows that:


                           
                              
                                 (
                                 
                                    k
                                    −
                                    1
                                 
                                 )
                                 α
                                 −
                                 (
                                 
                                    n
                                    −
                                    k
                                 
                                 )
                                 β
                                 +
                                 n
                                 γ
                                 =
                                 0
                              
                           , leading to:

                              
                                 
                                    
                                       k
                                       =
                                       
                                          
                                             n
                                             
                                                (
                                                
                                                   β
                                                   −
                                                   γ
                                                
                                                )
                                             
                                          
                                          
                                             α
                                             +
                                             β
                                          
                                       
                                       +
                                       
                                          α
                                          
                                             α
                                             +
                                             β
                                          
                                       
                                    
                                 
                              
                           
                        

Consider now an arbitrary sequence with 
                              
                                 
                                    S
                                    k
                                 
                                 <
                                 q
                                 <
                                 
                                    S
                                    
                                       k
                                       +
                                       1
                                    
                                 
                              
                           . As above, it is easy to verify that all the jobs in positions 
                              
                                 1
                                 ,
                                 …
                                 ,
                                 k
                              
                            (including job k) are early, and all the jobs in positions


                           
                              
                                 k
                                 +
                                 1
                                 ,
                                 
                                 …
                                 ,
                                 n
                              
                            are tardy. The total cost is given by:

                              
                                 
                                    
                                       Z
                                       =
                                       
                                          ∑
                                          
                                             j
                                             =
                                             1
                                          
                                          k
                                       
                                       α
                                       
                                          (
                                          
                                             
                                                p
                                                j
                                             
                                             +
                                             q
                                             −
                                             
                                                C
                                                j
                                             
                                          
                                          )
                                       
                                       +
                                       
                                          ∑
                                          
                                             j
                                             =
                                             k
                                             +
                                             1
                                          
                                          n
                                       
                                       β
                                       
                                          (
                                          
                                             
                                                C
                                                j
                                             
                                             −
                                             
                                                p
                                                j
                                             
                                             −
                                             q
                                          
                                          )
                                       
                                       +
                                       n
                                       γ
                                       q
                                       .
                                    
                                 
                              
                           
                        

Following the same procedure, we obtain

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                
                                                   
                                                      ∂
                                                      Z
                                                   
                                                   
                                                      ∂
                                                      q
                                                   
                                                
                                                =
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   k
                                                
                                                
                                                   α
                                                   −
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         k
                                                         +
                                                         1
                                                      
                                                      n
                                                   
                                                   
                                                      β
                                                      +
                                                      n
                                                      γ
                                                      =
                                                      0
                                                      ,
                                                      
                                                      
                                                      k
                                                      α
                                                      −
                                                      (
                                                      n
                                                      −
                                                      k
                                                      )
                                                      β
                                                      +
                                                      n
                                                      γ
                                                      =
                                                      0
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                and
                                                
                                                k
                                                =
                                                
                                                   
                                                      n
                                                      
                                                         (
                                                         
                                                            β
                                                            −
                                                            γ
                                                         
                                                         )
                                                      
                                                   
                                                   
                                                      α
                                                      +
                                                      β
                                                   
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Since 
                              
                                 
                                    
                                       n
                                       (
                                       
                                          β
                                          −
                                          γ
                                       
                                       )
                                    
                                    
                                       α
                                       +
                                       β
                                    
                                 
                                 ≤
                                 k
                                 ≤
                                 
                                    
                                       n
                                       (
                                       
                                          β
                                          −
                                          γ
                                       
                                       )
                                    
                                    
                                       α
                                       +
                                       β
                                    
                                 
                                 +
                                 
                                    α
                                    
                                       α
                                       +
                                       β
                                    
                                 
                              
                           , we conclude that, 
                              
                                 k
                                 =
                                 ⌈
                                 
                                    
                                       n
                                       (
                                       
                                          β
                                          −
                                          γ
                                       
                                       )
                                    
                                    
                                       α
                                       +
                                       β
                                    
                                 
                                 ⌉
                              
                           .□

Note that since we assume here that β > γ, k is non-negative. If k obtains a value larger than n, clearly its actual value is n. Note also that based on Property 1.4, the number of early (tardy) jobs is identical to the number of early (tardy) jobs in the single machine case.


                     
                        Property 1.5
                        An optimal schedule exists in which the early jobs are sequenced in LPT (Longest Processing Time first) order, and the tardy jobs are sequenced in SPT (Shortest Processing Time first) order.


                     
                        Proof
                        By a pair-wise interchange argument. We focus first on the early jobs. Consider an optimal schedule q
                           1, where the early jobs are not LPT. Let x and y denote the first pair of consecutive jobs sequenced not according to LPT: job x is in position i, job y is in position 
                              
                                 i
                                 +
                                 1
                              
                           , and py
                            > px
                           . Let Ej
                           (q
                           1) denote the earliness value of job j in schedule q
                           1.

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                
                                                   E
                                                   x
                                                
                                                
                                                   (
                                                   
                                                      q
                                                      1
                                                   
                                                   )
                                                
                                                +
                                                
                                                   E
                                                   y
                                                
                                                
                                                   (
                                                   
                                                      q
                                                      1
                                                   
                                                   )
                                                
                                                =
                                                
                                                   d
                                                   x
                                                
                                                −
                                                
                                                   C
                                                   x
                                                
                                                +
                                                
                                                   d
                                                   y
                                                
                                                −
                                                
                                                   C
                                                   y
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                =
                                                
                                                
                                                   [
                                                   
                                                      
                                                         p
                                                         x
                                                      
                                                      
                                                      +
                                                      
                                                      q
                                                      −
                                                      
                                                         (
                                                         
                                                            
                                                               ∑
                                                               
                                                                  j
                                                                  =
                                                                  1
                                                               
                                                               
                                                                  i
                                                                  −
                                                                  1
                                                               
                                                            
                                                            
                                                               p
                                                               j
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               p
                                                               x
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               (
                                                               
                                                                  m
                                                                  −
                                                                  1
                                                               
                                                               )
                                                            
                                                            max
                                                            
                                                               {
                                                               
                                                                  
                                                                     max
                                                                     
                                                                        1
                                                                        ≤
                                                                        j
                                                                        ≤
                                                                        i
                                                                        −
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     {
                                                                     
                                                                        p
                                                                        j
                                                                     
                                                                     }
                                                                  
                                                                  ,
                                                                  
                                                                     p
                                                                     x
                                                                  
                                                               
                                                               }
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                +
                                                
                                                
                                                   [
                                                   
                                                      
                                                         p
                                                         y
                                                      
                                                      +
                                                      q
                                                      −
                                                      
                                                         (
                                                         
                                                            
                                                               ∑
                                                               
                                                                  j
                                                                  =
                                                                  1
                                                               
                                                               
                                                                  i
                                                                  −
                                                                  1
                                                               
                                                            
                                                            
                                                               p
                                                               j
                                                            
                                                            +
                                                            
                                                               p
                                                               x
                                                            
                                                            +
                                                            
                                                               p
                                                               y
                                                            
                                                            +
                                                            
                                                               (
                                                               
                                                                  m
                                                                  −
                                                                  1
                                                               
                                                               )
                                                            
                                                            
                                                               max
                                                               
                                                                  1
                                                                  ≤
                                                                  j
                                                                  ≤
                                                                  i
                                                                  +
                                                                  1
                                                               
                                                            
                                                            
                                                               {
                                                               
                                                                  p
                                                                  j
                                                               
                                                               }
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Let q
                           2 denote the sequence obtained by replacing the positions of jobs x and y.

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                
                                                   E
                                                   y
                                                
                                                
                                                   (
                                                   
                                                      q
                                                      2
                                                   
                                                   )
                                                
                                                +
                                                
                                                   E
                                                   x
                                                
                                                
                                                   (
                                                   
                                                      q
                                                      2
                                                   
                                                   )
                                                
                                                =
                                                
                                                   d
                                                   y
                                                
                                                −
                                                
                                                   C
                                                   y
                                                
                                                +
                                                
                                                   d
                                                   x
                                                
                                                −
                                                
                                                   C
                                                   x
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                =
                                                
                                                
                                                   [
                                                   
                                                      
                                                         p
                                                         y
                                                      
                                                      
                                                      +
                                                      
                                                      q
                                                      −
                                                      
                                                         (
                                                         
                                                            
                                                               ∑
                                                               
                                                                  j
                                                                  =
                                                                  1
                                                               
                                                               
                                                                  i
                                                                  −
                                                                  1
                                                               
                                                            
                                                            
                                                               p
                                                               j
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               p
                                                               y
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               (
                                                               
                                                                  m
                                                                  −
                                                                  1
                                                               
                                                               )
                                                            
                                                            max
                                                            
                                                               {
                                                               
                                                                  
                                                                     max
                                                                     
                                                                        1
                                                                        ≤
                                                                        j
                                                                        ≤
                                                                        i
                                                                        −
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     {
                                                                     
                                                                        p
                                                                        j
                                                                     
                                                                     }
                                                                  
                                                                  ,
                                                                  
                                                                     p
                                                                     y
                                                                  
                                                               
                                                               }
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                +
                                                
                                                
                                                   [
                                                   
                                                      
                                                         p
                                                         x
                                                      
                                                      +
                                                      q
                                                      −
                                                      
                                                         (
                                                         
                                                            
                                                               ∑
                                                               
                                                                  j
                                                                  =
                                                                  1
                                                               
                                                               
                                                                  i
                                                                  −
                                                                  1
                                                               
                                                            
                                                            
                                                               p
                                                               j
                                                            
                                                            +
                                                            
                                                               p
                                                               y
                                                            
                                                            +
                                                            
                                                               p
                                                               x
                                                            
                                                            +
                                                            
                                                               (
                                                               
                                                                  m
                                                                  −
                                                                  1
                                                               
                                                               )
                                                            
                                                            
                                                               max
                                                               
                                                                  1
                                                                  ≤
                                                                  j
                                                                  ≤
                                                                  i
                                                                  +
                                                                  1
                                                               
                                                            
                                                            
                                                               {
                                                               
                                                                  p
                                                                  j
                                                               
                                                               }
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

It follows that:

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                
                                                   E
                                                   x
                                                
                                                
                                                   (
                                                   
                                                      q
                                                      1
                                                   
                                                   )
                                                
                                                +
                                                
                                                   E
                                                   y
                                                
                                                
                                                   (
                                                   
                                                      q
                                                      1
                                                   
                                                   )
                                                
                                                −
                                                
                                                   (
                                                   
                                                      
                                                         E
                                                         y
                                                      
                                                      
                                                         (
                                                         
                                                            q
                                                            2
                                                         
                                                         )
                                                      
                                                      +
                                                      
                                                         E
                                                         x
                                                      
                                                      
                                                         (
                                                         
                                                            q
                                                            2
                                                         
                                                         )
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                =
                                                
                                                
                                                   p
                                                   y
                                                
                                                −
                                                
                                                   p
                                                   x
                                                
                                                +
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   [
                                                   max
                                                   
                                                      {
                                                      
                                                         
                                                            max
                                                            
                                                               1
                                                               ≤
                                                               j
                                                               ≤
                                                               i
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            {
                                                            
                                                               p
                                                               j
                                                            
                                                            }
                                                         
                                                         ,
                                                         
                                                            p
                                                            y
                                                         
                                                      
                                                      }
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                
                                                   −
                                                   
                                                   max
                                                   
                                                      {
                                                      
                                                         
                                                            max
                                                            
                                                               1
                                                               ≤
                                                               j
                                                               ≤
                                                               i
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            {
                                                            
                                                               p
                                                               j
                                                            
                                                            }
                                                         
                                                         ,
                                                         
                                                            p
                                                            x
                                                         
                                                      
                                                      }
                                                   
                                                   ]
                                                
                                                >
                                                0
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Consider now an optimal schedule q
                           1, where the tardy jobs are not SPT. As above, let x (in position i) and y (in position j) denote the first pair of consecutive jobs sequenced not according to SPT (py
                            < px
                           ). Let Tj
                           (q
                           1) denote the tardiness value of job j in schedule q
                           1.

                              
                                 
                                    
                                       
                                          T
                                          x
                                       
                                       
                                          (
                                          
                                             q
                                             1
                                          
                                          )
                                       
                                       +
                                       
                                          T
                                          y
                                       
                                       
                                          (
                                          
                                             q
                                             1
                                          
                                          )
                                       
                                       =
                                       
                                          C
                                          x
                                       
                                       −
                                       
                                          d
                                          x
                                       
                                       +
                                       
                                          C
                                          y
                                       
                                       −
                                       
                                          d
                                          y
                                       
                                    
                                 
                              
                           
                           
                              
                                 
                                    
                                       =
                                       
                                          [
                                          
                                             
                                                (
                                                
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      
                                                         i
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      p
                                                      j
                                                   
                                                   +
                                                   
                                                      p
                                                      x
                                                   
                                                   +
                                                   
                                                      (
                                                      
                                                         m
                                                         −
                                                         1
                                                      
                                                      )
                                                   
                                                   max
                                                   
                                                      {
                                                      
                                                         
                                                            max
                                                            
                                                               1
                                                               ≤
                                                               j
                                                               ≤
                                                               i
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            {
                                                            
                                                               p
                                                               j
                                                            
                                                            }
                                                         
                                                         ,
                                                         
                                                            p
                                                            x
                                                         
                                                      
                                                      }
                                                   
                                                
                                                )
                                             
                                             −
                                             
                                                (
                                                
                                                   
                                                      p
                                                      x
                                                   
                                                   +
                                                   q
                                                
                                                )
                                             
                                          
                                          ]
                                       
                                    
                                 
                              
                           
                           
                              
                                 
                                    
                                       
                                       +
                                       
                                          [
                                          
                                             
                                                (
                                                
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      
                                                         i
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      p
                                                      j
                                                   
                                                   +
                                                   
                                                      p
                                                      x
                                                   
                                                   +
                                                   
                                                      p
                                                      y
                                                   
                                                   +
                                                   
                                                      (
                                                      
                                                         m
                                                         −
                                                         1
                                                      
                                                      )
                                                   
                                                   
                                                      max
                                                      
                                                         1
                                                         ≤
                                                         j
                                                         ≤
                                                         i
                                                         +
                                                         1
                                                      
                                                   
                                                   
                                                      {
                                                      
                                                         p
                                                         j
                                                      
                                                      }
                                                   
                                                
                                                )
                                             
                                             −
                                             
                                                (
                                                
                                                   
                                                      p
                                                      y
                                                   
                                                   +
                                                   q
                                                
                                                )
                                             
                                          
                                          ]
                                       
                                       .
                                    
                                 
                              
                           
                        

After replacing the positions of jobs x and y we obtain:

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                
                                                   T
                                                   y
                                                
                                                
                                                   (
                                                   
                                                      q
                                                      2
                                                   
                                                   )
                                                
                                                +
                                                
                                                   T
                                                   x
                                                
                                                
                                                   (
                                                   
                                                      q
                                                      2
                                                   
                                                   )
                                                
                                                =
                                                
                                                   C
                                                   y
                                                
                                                −
                                                
                                                   d
                                                   y
                                                
                                                +
                                                
                                                   C
                                                   x
                                                
                                                −
                                                
                                                   d
                                                   x
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                =
                                                
                                                
                                                   [
                                                   
                                                      
                                                         (
                                                         
                                                            
                                                               ∑
                                                               
                                                                  j
                                                                  =
                                                                  1
                                                               
                                                               
                                                                  i
                                                                  −
                                                                  1
                                                               
                                                            
                                                            
                                                               p
                                                               j
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               p
                                                               y
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               (
                                                               
                                                                  m
                                                                  −
                                                                  1
                                                               
                                                               )
                                                            
                                                            max
                                                            
                                                               {
                                                               
                                                                  
                                                                     max
                                                                     
                                                                        1
                                                                        ≤
                                                                        j
                                                                        ≤
                                                                        i
                                                                        
                                                                        −
                                                                        
                                                                        1
                                                                     
                                                                  
                                                                  
                                                                     {
                                                                     
                                                                        p
                                                                        j
                                                                     
                                                                     }
                                                                  
                                                                  ,
                                                                  
                                                                     p
                                                                     y
                                                                  
                                                               
                                                               }
                                                            
                                                         
                                                         )
                                                      
                                                      
                                                      −
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               p
                                                               y
                                                            
                                                            
                                                            +
                                                            
                                                            q
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                +
                                                
                                                
                                                   [
                                                   
                                                      
                                                         (
                                                         
                                                            
                                                               ∑
                                                               
                                                                  j
                                                                  =
                                                                  1
                                                               
                                                               
                                                                  i
                                                                  −
                                                                  1
                                                               
                                                            
                                                            
                                                               p
                                                               j
                                                            
                                                            +
                                                            
                                                               p
                                                               y
                                                            
                                                            +
                                                            
                                                               p
                                                               x
                                                            
                                                            +
                                                            
                                                               (
                                                               
                                                                  m
                                                                  −
                                                                  1
                                                               
                                                               )
                                                            
                                                            
                                                               max
                                                               
                                                                  1
                                                                  ≤
                                                                  j
                                                                  ≤
                                                                  i
                                                                  +
                                                                  1
                                                               
                                                            
                                                            
                                                               {
                                                               
                                                                  p
                                                                  j
                                                               
                                                               }
                                                            
                                                         
                                                         )
                                                      
                                                      −
                                                      
                                                         (
                                                         
                                                            
                                                               p
                                                               x
                                                            
                                                            +
                                                            q
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

It follows that:

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                
                                                   T
                                                   x
                                                
                                                
                                                   (
                                                   
                                                      q
                                                      1
                                                   
                                                   )
                                                
                                                +
                                                
                                                   T
                                                   y
                                                
                                                
                                                   (
                                                   
                                                      q
                                                      1
                                                   
                                                   )
                                                
                                                −
                                                
                                                   (
                                                   
                                                      
                                                         T
                                                         y
                                                      
                                                      
                                                         (
                                                         
                                                            q
                                                            2
                                                         
                                                         )
                                                      
                                                      +
                                                      
                                                         T
                                                         x
                                                      
                                                      
                                                         (
                                                         
                                                            q
                                                            2
                                                         
                                                         )
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                =
                                                
                                                
                                                   p
                                                   x
                                                
                                                −
                                                
                                                   p
                                                   y
                                                
                                                +
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   [
                                                   max
                                                   
                                                      {
                                                      
                                                         
                                                            max
                                                            
                                                               1
                                                               ≤
                                                               j
                                                               ≤
                                                               i
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            {
                                                            
                                                               p
                                                               j
                                                            
                                                            }
                                                         
                                                         ,
                                                         
                                                            p
                                                            x
                                                         
                                                      
                                                      }
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                
                                                   −
                                                   
                                                   max
                                                   
                                                      {
                                                      
                                                         
                                                            max
                                                            
                                                               1
                                                               ≤
                                                               j
                                                               ≤
                                                               i
                                                               −
                                                               1
                                                            
                                                         
                                                         
                                                            {
                                                            
                                                               p
                                                               j
                                                            
                                                            }
                                                         
                                                         ,
                                                         
                                                            p
                                                            y
                                                         
                                                      
                                                      }
                                                   
                                                   ]
                                                
                                                >
                                                0
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                           □

In the next property we refer to positional weights. Now it seems convenient to define p
                     [j] to be the processing time of the job assigned to position 
                        
                           j
                           ,
                           
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                        
                     . Based on Property 1.5, the optimal sequence is V-shaped. Thus, for a given V-shaped sequence, let r denote the position of the last job in the sequence (r ≥ k), which is not larger than the processing time of the job assigned to position 1, i.e., 
                        
                           
                              
                                 r
                                 =
                                 max
                              
                              
                                 j
                                 ≥
                                 k
                              
                           
                           
                              {
                              
                                 j
                                 :
                                 
                                 
                                    p
                                    
                                       [
                                       j
                                       ]
                                    
                                 
                                 ≤
                                 
                                    p
                                    
                                       [
                                       1
                                       ]
                                    
                                 
                              
                              }
                           
                        
                     . [Clearly, 
                        
                           
                              p
                              
                                 [
                                 
                                    r
                                    +
                                    1
                                 
                                 ]
                              
                           
                           >
                           
                              p
                              
                                 [
                                 1
                                 ]
                              
                           
                        
                     .] It follows that the first r jobs are scheduled with no idle times between them on the last machine (since the first job is the largest). It is easy to verify that the following (larger) jobs in positions 
                        
                           r
                           +
                           1
                           ,
                           …
                           ,
                           n
                        
                     , are scheduled in SPT order with idle times between them. Given these observations, we introduce in the following "pseudo" positional weights (dependent on r). The positional weights of positions 
                        
                           2
                           ,
                           
                           3
                           ,
                           …
                           ,
                           r
                        
                      (which are identical to those obtained for the single machine case) will be used in our proposed solution procedure. [We note that the positional weights for the single machine case given in Adamopoulos and Pappis (1996a) contain a minor mistake. We refer the reader to Appendix A for the correction.] Let 
                        
                           
                              w
                              j
                           
                           ,
                           
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                        
                      denote these positional weights. Then,


                     
                        Property 1.6
                        For a given r, the positional weights are given by:

                              
                                 (6)
                                 
                                    
                                       
                                          w
                                          j
                                       
                                       =
                                       
                                          {
                                          
                                             
                                                
                                                   
                                                      α
                                                      −
                                                      β
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            r
                                                         
                                                         )
                                                      
                                                      +
                                                      n
                                                      γ
                                                      m
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      α
                                                      j
                                                      +
                                                      n
                                                      γ
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      2
                                                      ,
                                                      …
                                                      ,
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      β
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            j
                                                         
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      k
                                                      ,
                                                      
                                                      …
                                                      ,
                                                      
                                                      r
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      β
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            j
                                                         
                                                         )
                                                      
                                                      +
                                                      β
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      r
                                                      +
                                                      1
                                                      ,
                                                      
                                                      …
                                                      ,
                                                      
                                                      n
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        


                     
                        Proof
                        From the optimality of the V-shape, it is clear that r ≥ k. Since p
                           [1] ≥ p
                           [r], as mentioned, there is no idle time between the jobs in positions 
                              
                                 1
                                 ,
                                 …
                                 ,
                                 r
                              
                           . Thus,

                              
                                 
                                    
                                       
                                          
                                             Z
                                          
                                          
                                             =
                                          
                                          
                                             
                                                α
                                                
                                                   [
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         
                                                            k
                                                            −
                                                            1
                                                         
                                                      
                                                      j
                                                      
                                                         p
                                                         
                                                            [
                                                            j
                                                            ]
                                                         
                                                      
                                                   
                                                   ]
                                                
                                                +
                                                β
                                                
                                                   [
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            k
                                                         
                                                         r
                                                      
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            j
                                                         
                                                         )
                                                      
                                                      
                                                         p
                                                         
                                                            [
                                                            j
                                                            ]
                                                         
                                                      
                                                   
                                                   ]
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                β
                                                
                                                   [
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            r
                                                            +
                                                            1
                                                         
                                                         n
                                                      
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            j
                                                         
                                                         )
                                                      
                                                      
                                                         p
                                                         
                                                            [
                                                            j
                                                            ]
                                                         
                                                      
                                                      +
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            r
                                                            +
                                                            1
                                                         
                                                         n
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               p
                                                               
                                                                  [
                                                                  j
                                                                  ]
                                                               
                                                            
                                                            −
                                                            
                                                               p
                                                               
                                                                  [
                                                                  1
                                                                  ]
                                                               
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                n
                                                γ
                                                
                                                   [
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         
                                                            k
                                                            −
                                                            1
                                                         
                                                      
                                                      
                                                         p
                                                         
                                                            [
                                                            j
                                                            ]
                                                         
                                                      
                                                      +
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         p
                                                         
                                                            [
                                                            1
                                                            ]
                                                         
                                                      
                                                   
                                                   ]
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Note that the first term reflects the earliness cost of the first 
                              
                                 k
                                 −
                                 1
                              
                            jobs, the second term reflects the tardiness cost of the jobs in positions 
                              
                                 k
                                 ,
                                 k
                                 +
                                 1
                                 ,
                                 …
                                 ,
                                 r
                              
                            (scheduled with no idle times), the third term reflects the tardiness cost of the jobs scheduled in positions 
                              
                                 r
                                 +
                                 1
                                 ,
                                 …
                                 ,
                                 n
                              
                            (scheduled with idle times between them), and the fourth term is the cost of the flow allowance.

                              
                                 
                                    
                                       
                                          
                                             Z
                                          
                                          
                                             =
                                          
                                          
                                             
                                                [
                                                
                                                   α
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      
                                                         k
                                                         −
                                                         1
                                                      
                                                   
                                                   j
                                                   
                                                      p
                                                      
                                                         [
                                                         j
                                                         ]
                                                      
                                                   
                                                   +
                                                   β
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         k
                                                      
                                                      n
                                                   
                                                   
                                                      (
                                                      
                                                         n
                                                         −
                                                         j
                                                      
                                                      )
                                                   
                                                   
                                                      p
                                                      
                                                         [
                                                         j
                                                         ]
                                                      
                                                   
                                                   +
                                                   n
                                                   γ
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      
                                                         k
                                                         −
                                                         1
                                                      
                                                   
                                                   
                                                      p
                                                      
                                                         [
                                                         j
                                                         ]
                                                      
                                                   
                                                
                                                ]
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                
                                                   [
                                                   
                                                      β
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            r
                                                         
                                                         n
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               p
                                                               
                                                                  [
                                                                  j
                                                                  ]
                                                               
                                                            
                                                            −
                                                            
                                                               p
                                                               
                                                                  [
                                                                  1
                                                                  ]
                                                               
                                                            
                                                         
                                                         )
                                                      
                                                      +
                                                      n
                                                      γ
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         p
                                                         
                                                            [
                                                            1
                                                            ]
                                                         
                                                      
                                                   
                                                   ]
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Thus, if wj
                            is the positional weight of job j, we obtain:

                              
                                 
                                    
                                       
                                          w
                                          j
                                       
                                       =
                                       
                                          {
                                          
                                             
                                                
                                                   
                                                      α
                                                      −
                                                      β
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            r
                                                         
                                                         )
                                                      
                                                      +
                                                      n
                                                      γ
                                                      m
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      α
                                                      j
                                                      +
                                                      n
                                                      γ
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      2
                                                      ,
                                                      …
                                                      ,
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      β
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            j
                                                         
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      k
                                                      ,
                                                      
                                                      …
                                                      ,
                                                      
                                                      r
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      β
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            j
                                                         
                                                         )
                                                      
                                                      +
                                                      β
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      r
                                                      +
                                                      1
                                                      ,
                                                      
                                                      …
                                                      ,
                                                      
                                                      n
                                                   
                                                
                                             
                                          
                                       
                                       
                                    
                                 
                              
                           
                           □

By the definition of r and the V-shape property, the processing times of the jobs in positions 
                        
                           2
                           ,
                           
                           3
                           ,
                           …
                           ,
                           r
                        
                     , are smaller (not larger) than that of the job in position 1, and the processing time of the job in position 1 is smaller (not larger) than that of the jobs in positions 
                        
                           r
                           +
                           1
                           ,
                           …
                           ,
                           n
                        
                     . It follows that for a given r value, the sequence is completely determined. First, the smallest jobs are scheduled in positions 
                        
                           2
                           ,
                           
                           3
                           ,
                           …
                           ,
                           r
                        
                     . Note again that their positional weights (Property 1.6) are identical to the positional weights obtained (for these positions) for the single machine case. Then, the next largest job is assigned to position 1. Finally, the remaining jobs are assigned to the last positions.

Thus, a solution algorithm starts with solving the single machine case (and as a result obtaining the values of k and the positional weights). Then we consider all r values: 
                        
                           r
                           =
                           k
                           ,
                           …
                           ,
                           n
                        
                     . For a given r value, as explained above, the candidate sequence consists of: (i) a block of the smallest jobs in positions 
                        
                           2
                           ,
                           …
                           ,
                           r
                        
                      (determined by weights obtained for the single machine problem); (ii) the next largest job is assigned to position 1; (iii) the remaining (largest) jobs are scheduled in a non-decreasing order in positions 
                        
                           r
                           +
                           1
                           ,
                           …
                           ,
                           n
                        
                     . The best of these (at most n) candidates is the optimal solution. A pseudo-code of the algorithm is the following:
                  


                     
                        Theorem 1
                        
                           
                              Algorithm 1
                            
                           solves the minsum due-date assignment case in O(n
                           2) time.
                        


                     
                        Proof
                        Optimality is guaranteed since all candidates for optimality (i.e., the V-shaped sequences, see the above discussion) are covered. The initial solution of the single machine case (Step 1) requires O(nlog n) time. In Step 2, there are no more than n iterations, and the calculation of the cost of the sequence at each iteration is performed in O(n) time. Thus, the total running time is O(n
                           2).□

We refer the reader to Appendix B, for a numerical example (Example 1) demonstrating the use of Algorithm 1.

The popular extension to a setting of due-windows reflects the commonly considered option of a time interval for delivery with no penalty. As mentioned, this job-dependent interval is denoted by 
                        
                           
                              [
                              
                                 
                                    d
                                    j
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 ,
                                 
                                 
                                    d
                                    j
                                    
                                       (
                                       2
                                       )
                                    
                                 
                              
                              ]
                           
                           
                           
                              (
                              
                                 
                                    d
                                    j
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 ≤
                                 
                                    d
                                    j
                                    
                                       (
                                       2
                                       )
                                    
                                 
                              
                              )
                           
                        
                     , where 
                        
                           
                              d
                              j
                              
                                 (
                                 1
                                 )
                              
                           
                           =
                           
                              p
                              j
                           
                           +
                           
                              q
                              
                                 (
                                 1
                                 )
                              
                           
                           ,
                           
                        
                     and 
                        
                           
                              d
                              j
                              
                                 (
                                 2
                                 )
                              
                           
                           =
                           
                              p
                              j
                           
                           +
                           
                              q
                              
                                 (
                                 2
                                 )
                              
                           
                           ,
                           
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                           .
                        
                      [q
                     (1) and q
                     (2)( ≥ q
                     (1)) are decision variables.]

The objective function is minimum total earliness, tardiness, due-window starting time and size; see (3). The following properties of an optimal schedule are similar to those proved above for the due-date case, and are brought here with no proofs (which are similar to those provided above). We also refer the reader to Mosheiov and Oron (2010), for the proofs in the case of a single machine. [As above, Property 2.j denotes Property j of an optimal schedule of Problem 2: due-window assignment and a minsum criterion.]


                     
                        Property 2.1
                        If a given job is tardy (not early), then its successor is tardy (not early):

                              
                                 
                                    
                                       
                                          C
                                          j
                                       
                                       ≥
                                       
                                          d
                                          j
                                          
                                             (
                                             2
                                             )
                                          
                                       
                                       
                                       ⇒
                                       
                                          C
                                          
                                             j
                                             +
                                             1
                                          
                                       
                                       ≥
                                       
                                          d
                                          
                                             j
                                             +
                                             1
                                          
                                          
                                             (
                                             2
                                             )
                                          
                                       
                                       ,
                                       
                                       j
                                       =
                                       1
                                       ,
                                       …
                                       ,
                                       n
                                       −
                                       1
                                       .
                                    
                                 
                              
                           
                        


                     
                        Property 2.2
                        If a given job is early (not tardy), then its predecessor is early (not tardy):

                              
                                 
                                    
                                       
                                          C
                                          j
                                       
                                       ≤
                                       
                                          d
                                          j
                                          
                                             (
                                             1
                                             )
                                          
                                       
                                       
                                       ⇒
                                       
                                          C
                                          
                                             j
                                             −
                                             1
                                          
                                       
                                       ≤
                                       
                                          d
                                          
                                             j
                                             −
                                             1
                                          
                                          
                                             (
                                             1
                                             )
                                          
                                       
                                       ,
                                       
                                       j
                                       =
                                       1
                                       ,
                                       …
                                       ,
                                       n
                                       −
                                       1
                                       .
                                    
                                 
                              
                           
                        


                     
                        Property 2.3
                        An optimal schedule exists in which 
                              
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 
                                 =
                                 
                                 
                                    S
                                    k
                                 
                              
                            for some k, and 
                              
                                 
                                    q
                                    
                                       (
                                       2
                                       )
                                    
                                 
                                 
                                 =
                                 
                                 
                                    S
                                    l
                                 
                              
                            for some l, l ≥ k.


                     
                        Property 2.4
                        The indices of the jobs defined in Property 2.3. are:

                              
                                 (7)
                                 
                                    
                                       k
                                       =
                                       
                                          ⌈
                                          
                                             
                                                n
                                                
                                                   (
                                                   
                                                      δ
                                                      −
                                                      γ
                                                   
                                                   )
                                                
                                             
                                             α
                                          
                                          ⌉
                                       
                                       
                                       and
                                       
                                       
                                       l
                                       =
                                       
                                          ⌈
                                          
                                             
                                                n
                                                
                                                   (
                                                   
                                                      β
                                                      −
                                                      δ
                                                   
                                                   )
                                                
                                             
                                             β
                                          
                                          ⌉
                                       
                                       .
                                       
                                    
                                 
                              
                           
                        

[Clearly, if either k or l obtain negative values, their actual value is zero. Similarly, if either k or l obtain values larger than n, their actual value is n. If we obtain a k-value larger than l, it follows that 
                        
                           k
                           =
                           l
                        
                      (the due-window is reduced to a due-date). We will focus here on the general case of a due-window of a positive size: 0 < k < l < n.].


                     
                        Property 2.5
                        An optimal schedule exists in which the early jobs (processed prior to their due-window) are sequenced in LPT, and the tardy jobs (processed after their window) are sequenced in SPT.

In order to calculate the positional weights, we follow the procedure described in Section 3. Here r denotes the position of the last job in the sequence (r ≥ l), which is not larger than the processing time of job assigned to position 1, i.e., 
                        
                           
                              
                                 r
                                 =
                                 max
                              
                              
                                 j
                                 ≥
                                 l
                              
                           
                           
                              {
                              
                                 j
                                 :
                                 
                                 
                                    p
                                    
                                       [
                                       j
                                       ]
                                    
                                 
                                 ≤
                                 
                                    p
                                    
                                       [
                                       1
                                       ]
                                    
                                 
                              
                              }
                           
                        
                     . [Again, 
                        
                           
                              p
                              
                                 [
                                 
                                    r
                                    +
                                    1
                                 
                                 ]
                              
                           
                           >
                           
                              p
                              
                                 [
                                 1
                                 ]
                              
                           
                        
                     .] As above, the first r jobs are scheduled with no idle times between them on the last machine, and the following jobs are scheduled in positions 
                        
                           r
                           +
                           1
                           ,
                           …
                           ,
                           n
                        
                      in SPT order (with idle times between them). The total cost is given by:

                        
                           
                              
                                 
                                    
                                       Z
                                    
                                    
                                       =
                                    
                                    
                                       
                                          α
                                          
                                             [
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                j
                                                
                                                   p
                                                   
                                                      [
                                                      j
                                                      ]
                                                   
                                                
                                             
                                             ]
                                          
                                          +
                                          β
                                          
                                             [
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      l
                                                   
                                                   r
                                                
                                                
                                                   (
                                                   
                                                      n
                                                      −
                                                      j
                                                   
                                                   )
                                                
                                                
                                                   p
                                                   
                                                      [
                                                      j
                                                      ]
                                                   
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          β
                                          
                                             [
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      r
                                                      +
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   (
                                                   
                                                      n
                                                      −
                                                      j
                                                   
                                                   )
                                                
                                                
                                                   p
                                                   
                                                      [
                                                      j
                                                      ]
                                                   
                                                
                                                +
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      r
                                                      +
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   (
                                                   
                                                      
                                                         p
                                                         
                                                            [
                                                            j
                                                            ]
                                                         
                                                      
                                                      −
                                                      
                                                         p
                                                         
                                                            [
                                                            1
                                                            ]
                                                         
                                                      
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          n
                                          γ
                                          
                                             [
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   p
                                                   
                                                      [
                                                      j
                                                      ]
                                                   
                                                
                                                +
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   p
                                                   
                                                      [
                                                      1
                                                      ]
                                                   
                                                
                                             
                                             ]
                                          
                                          +
                                          n
                                          δ
                                          
                                             [
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      k
                                                   
                                                   
                                                      l
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   p
                                                   
                                                      [
                                                      j
                                                      ]
                                                   
                                                
                                             
                                             ]
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

Thus, the “pseudo” positional weights (dependent on r) are the following:


                     
                        Property 2.6
                        For a given r, the positional weights are given by:

                              
                                 (8)
                                 
                                    
                                       
                                          w
                                          j
                                       
                                       =
                                       
                                          {
                                          
                                             
                                                
                                                   
                                                      α
                                                      −
                                                      β
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            r
                                                         
                                                         )
                                                      
                                                      +
                                                      n
                                                      γ
                                                      m
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      α
                                                      j
                                                      +
                                                      n
                                                      γ
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      2
                                                      ,
                                                      …
                                                      ,
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      n
                                                      δ
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      k
                                                      ,
                                                      …
                                                      ,
                                                      l
                                                      −
                                                      1
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      β
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            j
                                                         
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      l
                                                      ,
                                                      
                                                      …
                                                      ,
                                                      
                                                      r
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      β
                                                      
                                                         (
                                                         
                                                            n
                                                            −
                                                            j
                                                         
                                                         )
                                                      
                                                      +
                                                      β
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      j
                                                      =
                                                      r
                                                      +
                                                      1
                                                      ,
                                                      
                                                      …
                                                      ,
                                                      
                                                      n
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Based on all the properties we propose the following algorithm. We start with solving the single machine case (and as a result obtaining the values of k, l and the positional weights). Then we consider all r values: 
                        
                           r
                           =
                           l
                           ,
                           …
                           ,
                           n
                        
                     . As above, for a given r value, the candidate sequence contains job r in position 1, a block of the smallest jobs in positions 
                        
                           2
                           ,
                           …
                           ,
                           r
                        
                      (determined by the positional weights obtained for the single machine problem), and the remaining large jobs in SPT order in positions 
                        
                           r
                           +
                           1
                           ,
                           …
                           ,
                           n
                        
                     . The best of these candidates is clearly the optimal solution. A pseudo-code (which is similar to the one proposed for the case of due-date assignment) is the following:
                  


                     
                        Theorem 2
                        
                           
                              Algorithm 2
                            
                           solves the minsum due-window assignment case in O(n
                           2) time.
                        


                     
                        Proof
                        As above, optimality is guaranteed since all candidate V-shaped sequences are checked. After the solution of the single machine problem in Step 1 (requiring running time of O(nlog n)), Step 2 contains at most n iterations, and the effort per iteration is O(n) time. Thus, the total running time remains O(n
                           2).□

We refer the reader to Appendix B, for a numerical example (Example 2) demonstrating the use of Algorithm 2.

There are two major differences between the minmax version studied in this section and the minsum version studied earlier. First, as many scheduling problems of a minmax type, it can be formulated as a linear program (LP), where a variable representing the cost is minimized, subject to a set of constraints guarantying that its value is not smaller than that of each individual job. Secondly, a different definition of q is more appropriate: 
                        
                           
                              d
                              j
                           
                           =
                           m
                           
                              p
                              j
                           
                           +
                           q
                           ,
                           
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                        
                     , to reflect the extended waiting time, 
                        
                           
                              (
                              
                                 m
                                 −
                                 1
                              
                              )
                           
                           
                              p
                              j
                           
                        
                     , of the last operation of job j (on the last machine) if job j is scheduled first. As above, we assume that the jobs are renumbered according to their position in the sequence. It follows that the problem (for a given job sequence) can be formulated as the following LP:

                        
                           (9)
                           
                              
                                 
                                    
                                    
                                    
                                       
                                          min
                                          Z
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          s
                                          .
                                          t
                                          .
                                       
                                    
                                 
                                 
                                    
                                       Z
                                    
                                    
                                       ≥
                                    
                                    
                                       
                                          α
                                          
                                             E
                                             k
                                          
                                          +
                                          γ
                                          q
                                          =
                                          α
                                          
                                             (
                                             
                                                
                                                   d
                                                   k
                                                
                                                −
                                                
                                                   C
                                                   k
                                                
                                             
                                             )
                                          
                                          +
                                          γ
                                          q
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          α
                                          
                                             [
                                             
                                                
                                                   (
                                                   
                                                      m
                                                      
                                                         p
                                                         k
                                                      
                                                      +
                                                      q
                                                   
                                                   )
                                                
                                                −
                                                
                                                   (
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         k
                                                      
                                                      
                                                         p
                                                         j
                                                      
                                                      +
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                          +
                                          γ
                                          q
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             (
                                             
                                                α
                                                +
                                                γ
                                             
                                             )
                                          
                                          q
                                          −
                                          α
                                          
                                             (
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   p
                                                   j
                                                
                                                +
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   (
                                                   
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                      −
                                                      
                                                         p
                                                         k
                                                      
                                                   
                                                   )
                                                
                                             
                                             )
                                          
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       k
                                    
                                    
                                       =
                                    
                                    
                                       
                                          1
                                          ,
                                          …
                                          ,
                                          n
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (10)
                           
                              
                                 
                                    
                                       Z
                                    
                                    
                                       ≥
                                    
                                    
                                       
                                          β
                                          
                                             T
                                             k
                                          
                                          +
                                          γ
                                          q
                                          =
                                          β
                                          
                                             (
                                             
                                                
                                                   C
                                                   k
                                                
                                                −
                                                
                                                   d
                                                   k
                                                
                                             
                                             )
                                          
                                          +
                                          γ
                                          q
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          β
                                          
                                             [
                                             
                                                
                                                   (
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         k
                                                      
                                                      
                                                         p
                                                         j
                                                      
                                                      +
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                   
                                                   )
                                                
                                                −
                                                
                                                   (
                                                   
                                                      m
                                                      
                                                         p
                                                         k
                                                      
                                                      +
                                                      q
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                          +
                                          γ
                                          q
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             (
                                             
                                                γ
                                                −
                                                β
                                             
                                             )
                                          
                                          q
                                          +
                                          β
                                          
                                             (
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   p
                                                   j
                                                
                                                +
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   (
                                                   
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                      −
                                                      
                                                         p
                                                         k
                                                      
                                                   
                                                   )
                                                
                                             
                                             )
                                          
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       k
                                    
                                    
                                       =
                                    
                                    
                                       
                                          1
                                          ,
                                          …
                                          ,
                                          n
                                          ,
                                          
                                          
                                          Z
                                          ,
                                          q
                                          ≥
                                          0
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

Note that the set of constraints (9) guarantees that the cost is at least as large as the earliness (plus flow allowance) cost of each job, and the set of constraints (10) guarantees that the cost is at least as large as the tardiness (plus flow allowance) cost of each job.

An important property of an optimal schedule for the minmax single machine version (see Mor & Mosheiov, 2012b) refers to the monotonicity of the earliness and tardiness costs. Specifically, in a single machine setting it can be shown that for any given j, if job j is early, then the earliness cost of its predecessor is larger (not smaller), and if job j is tardy, its successor has a larger (not smaller) tardiness cost. It is easy to see (by simple counter examples) that these two properties are not valid any more in our proportionate flowshop setting. However, we prove in the following two weaker claims regarding the earliness of the first scheduled job. [In this Section, Property 3.j denotes Property j of an optimal schedule of Problem 3: due-date assignment and a minmax criterion.].


                     
                        Property 3.1
                        The earliness of the job scheduled in the first position is equal to q.


                     
                        Proof
                        
                           
                              
                                 
                                    E
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 =
                                 
                                    d
                                    1
                                 
                                 −
                                 
                                    C
                                    1
                                 
                                 =
                                 m
                                 
                                    p
                                    1
                                 
                                 +
                                 q
                                 −
                                 m
                                 
                                    p
                                    1
                                 
                                 =
                                 q
                              
                           .


                     
                        Property 3.2
                        The job scheduled in the first position has the largest earliness cost, i.e.,


                           
                              
                                 
                                    E
                                    1
                                 
                                 ≥
                                 
                                    E
                                    k
                                 
                                 ,
                                 
                                 k
                                 =
                                 2
                                 ,
                                 
                                 …
                                 ,
                                 n
                              
                           .


                     
                        Proof
                        
                           
                              
                                 
                                    E
                                    k
                                 
                                 =
                                 
                                    (
                                    
                                       m
                                       
                                          p
                                          k
                                       
                                       +
                                       q
                                    
                                    )
                                 
                                 −
                                 
                                    (
                                    
                                       
                                          ∑
                                          
                                             j
                                             =
                                             1
                                          
                                          k
                                       
                                       
                                          p
                                          j
                                       
                                       +
                                       
                                          (
                                          
                                             m
                                             −
                                             1
                                          
                                          )
                                       
                                       *
                                       
                                          max
                                          
                                             1
                                             ≤
                                             j
                                             ≤
                                             k
                                          
                                       
                                       
                                          {
                                          
                                             p
                                             j
                                          
                                          }
                                       
                                    
                                    )
                                 
                                 ,
                                 
                                 k
                                 =
                                 1
                                 ,
                                 …
                                 ,
                                 n
                                 .
                              
                           
                           
                              
                                 
                                    
                                       
                                          E
                                          k
                                       
                                       =
                                       q
                                       −
                                       
                                          (
                                          
                                             m
                                             −
                                             1
                                          
                                          )
                                       
                                       
                                          (
                                          
                                             
                                                max
                                                
                                                   1
                                                   ≤
                                                   j
                                                   ≤
                                                   k
                                                
                                             
                                             
                                                {
                                                
                                                   p
                                                   j
                                                
                                                }
                                             
                                             −
                                             
                                                p
                                                
                                                   (
                                                   k
                                                   )
                                                
                                             
                                          
                                          )
                                       
                                       −
                                       
                                          ∑
                                          
                                             j
                                             =
                                             1
                                          
                                          
                                             k
                                             −
                                             1
                                          
                                       
                                       
                                          p
                                          j
                                       
                                       ,
                                       
                                       k
                                       =
                                       1
                                       ,
                                       …
                                       ,
                                       n
                                       .
                                    
                                 
                              
                           
                        

We have to show that for any given 
                              
                                 k
                                 
                                 (
                                 
                                    k
                                    =
                                    1
                                    ,
                                    …
                                    ,
                                    n
                                 
                                 )
                              
                           :

                              
                                 
                                    
                                       q
                                       ≥
                                       q
                                       −
                                       
                                          (
                                          
                                             m
                                             −
                                             1
                                          
                                          )
                                       
                                       
                                          (
                                          
                                             
                                                max
                                                
                                                   1
                                                   ≤
                                                   j
                                                   ≤
                                                   k
                                                
                                             
                                             
                                                {
                                                
                                                   p
                                                   j
                                                
                                                }
                                             
                                             −
                                             
                                                p
                                                k
                                             
                                          
                                          )
                                       
                                       −
                                       
                                          ∑
                                          
                                             j
                                             =
                                             1
                                          
                                          
                                             k
                                             −
                                             1
                                          
                                       
                                       
                                          p
                                          j
                                       
                                       .
                                    
                                 
                              
                           
                        

This is true since pk
                            ≤ max 1 ≤ j ≤ k
                           {pj
                           } for any k value.□

Given Property 3.2, the problem can be formulated as the following simpler LP, denoted by LP1:

                        
                           (11)
                           
                              
                                 
                                    
                                    
                                    
                                       
                                          min
                                          Z
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          s
                                          .
                                          t
                                          .
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          Z
                                          ≥
                                          α
                                          
                                             E
                                             1
                                          
                                          +
                                          γ
                                          q
                                          =
                                          
                                             (
                                             
                                                α
                                                +
                                                γ
                                             
                                             )
                                          
                                          q
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (12)
                           
                              
                                 
                                    
                                       Z
                                    
                                    
                                       ≥
                                    
                                    
                                       
                                          β
                                          
                                             T
                                             k
                                          
                                          +
                                          γ
                                          q
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          β
                                          
                                             [
                                             
                                                
                                                   (
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         k
                                                      
                                                      
                                                         p
                                                         
                                                            (
                                                            j
                                                            )
                                                         
                                                      
                                                      +
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      *
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            
                                                               (
                                                               j
                                                               )
                                                            
                                                         
                                                         }
                                                      
                                                   
                                                   )
                                                
                                                −
                                                
                                                   (
                                                   
                                                      m
                                                      
                                                         p
                                                         
                                                            (
                                                            k
                                                            )
                                                         
                                                      
                                                      +
                                                      q
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          γ
                                          q
                                          ,
                                          k
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          n
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          Z
                                          ,
                                          q
                                       
                                    
                                    
                                       ≥
                                    
                                    
                                       
                                          0
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

Based on the above, we prove in the following a much stronger property:


                     
                        Property 3.3
                        An optimal schedule exists which is SPT (Shortest Processing Time first).


                     
                        Proof
                        Assume that an optimal schedule π
                           1 is not SPT. Thus, let k and l denote the first pair of consecutive jobs sequenced not according to SPT: job k is in position (i), job l is in position 
                              
                                 (
                                 
                                    i
                                    +
                                    1
                                 
                                 )
                              
                           , and 
                              
                                 
                                    max
                                    
                                       1
                                       ≤
                                       j
                                       ≤
                                       i
                                       −
                                       1
                                    
                                 
                                 
                                    {
                                    
                                       p
                                       j
                                    
                                    }
                                 
                                 ≤
                                 
                                    p
                                    l
                                 
                                 <
                                 
                                    p
                                    k
                                 
                              
                           . Let 
                              
                                 
                                    P
                                    
                                       (
                                       
                                          i
                                          −
                                          1
                                       
                                       )
                                    
                                 
                                 =
                                 
                                    ∑
                                    
                                       j
                                       =
                                       1
                                    
                                    
                                       i
                                       −
                                       1
                                    
                                 
                                 
                                    p
                                    j
                                 
                              
                           .

The cost contribution of jobs k and l in π
                           1:

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   Z
                                                   
                                                      π
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      k
                                                      ,
                                                      l
                                                   
                                                   )
                                                
                                             
                                          
                                          
                                             =
                                          
                                          
                                             
                                                max
                                                
                                                   {
                                                   α
                                                   
                                                      [
                                                      
                                                         
                                                            (
                                                            
                                                               m
                                                               
                                                                  p
                                                                  k
                                                               
                                                               +
                                                               q
                                                            
                                                            )
                                                         
                                                         −
                                                         
                                                            (
                                                            
                                                               
                                                                  P
                                                                  
                                                                     (
                                                                     
                                                                        i
                                                                        −
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                               +
                                                               m
                                                               
                                                                  p
                                                                  k
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      ]
                                                   
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                γ
                                                q
                                                ,
                                                α
                                                
                                                   [
                                                   
                                                      
                                                         (
                                                         
                                                            m
                                                            
                                                               p
                                                               l
                                                            
                                                            +
                                                            q
                                                         
                                                         )
                                                      
                                                      −
                                                      
                                                         (
                                                         
                                                            
                                                               P
                                                               
                                                                  (
                                                                  
                                                                     i
                                                                     −
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            +
                                                            
                                                               p
                                                               l
                                                            
                                                            +
                                                            m
                                                            
                                                               p
                                                               k
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                                +
                                                γ
                                                q
                                                }
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                max
                                                
                                                   {
                                                   α
                                                   
                                                      [
                                                      
                                                         q
                                                         −
                                                         
                                                            P
                                                            
                                                               (
                                                               
                                                                  i
                                                                  −
                                                                  1
                                                               
                                                               )
                                                            
                                                         
                                                      
                                                      ]
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                   +
                                                   
                                                   γ
                                                   q
                                                   ,
                                                   α
                                                   
                                                      [
                                                      
                                                         q
                                                         −
                                                         
                                                            (
                                                            
                                                               
                                                                  P
                                                                  
                                                                     (
                                                                     
                                                                        i
                                                                        −
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                               +
                                                               
                                                                  p
                                                                  
                                                                     (
                                                                     l
                                                                     )
                                                                  
                                                               
                                                               +
                                                               m
                                                               
                                                                  (
                                                                  
                                                                     
                                                                        p
                                                                        k
                                                                     
                                                                     −
                                                                     
                                                                        p
                                                                        l
                                                                     
                                                                  
                                                                  )
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      ]
                                                   
                                                   +
                                                   γ
                                                   q
                                                   }
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Obtain a schedule π
                           2 by a standard pair-wise interchange of jobs k and l:

                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   Z
                                                   
                                                      π
                                                      2
                                                   
                                                
                                                
                                                   (
                                                   
                                                      k
                                                      ,
                                                      l
                                                   
                                                   )
                                                
                                             
                                          
                                          
                                             =
                                          
                                          
                                             
                                                max
                                                
                                                   {
                                                   α
                                                   
                                                      [
                                                      
                                                         
                                                            (
                                                            
                                                               m
                                                               
                                                                  p
                                                                  l
                                                               
                                                               +
                                                               q
                                                            
                                                            )
                                                         
                                                         −
                                                         
                                                            (
                                                            
                                                               
                                                                  P
                                                                  
                                                                     (
                                                                     
                                                                        i
                                                                        −
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                               +
                                                               m
                                                               
                                                                  p
                                                                  l
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      ]
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                γ
                                                q
                                                ,
                                                
                                                α
                                                
                                                   [
                                                   
                                                      
                                                         (
                                                         
                                                            m
                                                            
                                                               p
                                                               k
                                                            
                                                            +
                                                            q
                                                         
                                                         )
                                                      
                                                      −
                                                      
                                                         (
                                                         
                                                            
                                                               P
                                                               
                                                                  (
                                                                  
                                                                     i
                                                                     −
                                                                     1
                                                                  
                                                                  )
                                                               
                                                            
                                                            +
                                                            
                                                               p
                                                               l
                                                            
                                                            +
                                                            m
                                                            
                                                               p
                                                               k
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                                +
                                                γ
                                                q
                                                }
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                max
                                                
                                                   {
                                                   α
                                                   
                                                      [
                                                      q
                                                      −
                                                      
                                                         P
                                                         
                                                            (
                                                            
                                                               i
                                                               −
                                                               1
                                                            
                                                            )
                                                         
                                                      
                                                      ]
                                                   
                                                   +
                                                   γ
                                                   q
                                                   ,
                                                   α
                                                   
                                                      [
                                                      
                                                         q
                                                         −
                                                         
                                                            (
                                                            
                                                               
                                                                  P
                                                                  
                                                                     (
                                                                     
                                                                        i
                                                                        −
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                               +
                                                               
                                                                  p
                                                                  l
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      ]
                                                   
                                                   +
                                                   γ
                                                   q
                                                   }
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

We prove that 
                              
                                 
                                    Z
                                    
                                       π
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       k
                                       ,
                                       l
                                    
                                    )
                                 
                                 ≥
                                 
                                    Z
                                    
                                       π
                                       2
                                    
                                 
                                 
                                    (
                                    
                                       k
                                       ,
                                       l
                                    
                                    )
                                 
                              
                            by showing that

                              
                                 
                                    
                                       
                                          
                                          
                                          
                                             
                                                α
                                                
                                                   [
                                                   
                                                      q
                                                      −
                                                      
                                                         P
                                                         
                                                            (
                                                            
                                                               i
                                                               −
                                                               1
                                                            
                                                            )
                                                         
                                                      
                                                   
                                                   ]
                                                
                                                +
                                                γ
                                                q
                                                ≥
                                                max
                                                
                                                   {
                                                   α
                                                   
                                                      [
                                                      
                                                         q
                                                         −
                                                         
                                                            P
                                                            
                                                               (
                                                               
                                                                  i
                                                                  −
                                                                  1
                                                               
                                                               )
                                                            
                                                         
                                                      
                                                      ]
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                
                                                   +
                                                   
                                                   γ
                                                   q
                                                   ,
                                                   α
                                                   
                                                      [
                                                      
                                                         q
                                                         −
                                                         
                                                            (
                                                            
                                                               
                                                                  P
                                                                  
                                                                     (
                                                                     
                                                                        i
                                                                        −
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                               +
                                                               
                                                                  p
                                                                  l
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      ]
                                                   
                                                   +
                                                   γ
                                                   q
                                                   }
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

The latter is true due to:

                              
                                 (i)
                                 
                                    
                                       
                                          α
                                          
                                             [
                                             
                                                q
                                                −
                                                
                                                   P
                                                   
                                                      (
                                                      
                                                         i
                                                         −
                                                         1
                                                      
                                                      )
                                                   
                                                
                                             
                                             ]
                                          
                                          +
                                          γ
                                          q
                                          =
                                          α
                                          
                                             [
                                             
                                                q
                                                −
                                                
                                                   P
                                                   
                                                      (
                                                      
                                                         i
                                                         −
                                                         1
                                                      
                                                      )
                                                   
                                                
                                             
                                             ]
                                          
                                          +
                                          γ
                                          q
                                       
                                    ;


                                    
                                       
                                          α
                                          
                                             [
                                             
                                                q
                                                −
                                                
                                                   P
                                                   
                                                      (
                                                      
                                                         i
                                                         −
                                                         1
                                                      
                                                      )
                                                   
                                                
                                             
                                             ]
                                          
                                          +
                                          γ
                                          q
                                          ≥
                                          α
                                          
                                             [
                                             
                                                q
                                                −
                                                (
                                                
                                                   
                                                      P
                                                      
                                                         (
                                                         
                                                            i
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                   
                                                   +
                                                   
                                                      p
                                                      l
                                                   
                                                
                                                )
                                             
                                             ]
                                          
                                          +
                                          γ
                                          q
                                       
                                     (since, pl
                                     > 0).

It follows that π
                           2 is optimal as well, which completes the proof.□

Based on Property 3.3, the following further simplification of LP1 is possible:

                        
                           
                              
                                 min
                                 Z
                              
                           
                        
                     
                     
                        
                           
                              
                                 s
                                 .
                                 t
                                 .
                              
                           
                        
                     
                     
                        
                           
                              
                                 Z
                                 ≥
                                 
                                    (
                                    
                                       α
                                       +
                                       γ
                                    
                                    )
                                 
                                 q
                                 ,
                              
                           
                        
                     
                     
                        
                           
                              
                                 Z
                                 ≥
                                 
                                    (
                                    
                                       γ
                                       −
                                       β
                                    
                                    )
                                 
                                 q
                                 +
                                 β
                                 
                                    ∑
                                    
                                       j
                                       =
                                       1
                                    
                                    
                                       k
                                       −
                                       1
                                    
                                 
                                 
                                    p
                                    j
                                 
                                 ,
                                 
                                 k
                                 =
                                 1
                                 ,
                                 …
                                 ,
                                 n
                                 ,
                              
                           
                        
                     
                     
                        
                           
                              
                                 Z
                                 ,
                                 q
                                 ≥
                                 0
                                 .
                              
                           
                        
                     
                  

Since the sequence of partial sums 
                        
                           
                              ∑
                              
                                 j
                                 =
                                 1
                              
                              
                                 k
                                 −
                                 1
                              
                           
                           
                              p
                              j
                           
                        
                     ,
                        
                           
                           k
                           =
                           1
                           ,
                           …
                           ,
                           n
                        
                     , is non-decreasing in k, the maximum value (and thus the dominant constraint) is obtained for 
                        
                           k
                           =
                           n
                        
                     . Clearly, 
                        
                           
                              max
                              
                                 1
                                 ≤
                                 k
                                 ≤
                                 n
                              
                           
                           
                              {
                              
                                 
                                    ∑
                                    
                                       j
                                       =
                                       1
                                    
                                    
                                       k
                                       −
                                       1
                                    
                                 
                                 
                                    p
                                    j
                                 
                              
                              }
                           
                           =
                           
                              ∑
                              
                                 j
                                 =
                                 1
                              
                              n
                           
                           
                              p
                              j
                           
                           −
                           
                              p
                              n
                           
                        
                     . Note that since the jobs are sequenced in SPT order, 
                        
                           
                              ∑
                              
                                 j
                                 =
                                 1
                              
                              n
                           
                           
                              p
                              j
                           
                           −
                           
                              p
                              n
                           
                           =
                           P
                           −
                           
                              p
                              
                                 m
                                 a
                                 x
                              
                           
                        
                     .

Thus, a further reduction is possible, and the final version of LP1 contains only two constraints:

                        
                           
                              
                                 min
                                 Z
                              
                           
                        
                     
                     
                        
                           
                              
                                 s
                                 .
                                 t
                                 .
                              
                           
                        
                     
                     
                        
                           
                              
                                 Z
                                 ≥
                                 
                                    (
                                    
                                       α
                                       +
                                       γ
                                    
                                    )
                                 
                                 q
                                 ,
                              
                           
                        
                     
                     
                        
                           
                              
                                 Z
                                 ≥
                                 
                                    (
                                    
                                       γ
                                       −
                                       β
                                    
                                    )
                                 
                                 q
                                 +
                                 β
                                 
                                    (
                                    
                                       P
                                       −
                                       
                                          p
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                    
                                    )
                                 
                                 ,
                              
                           
                        
                     
                     
                        
                           
                              
                                 Z
                                 ,
                                 q
                                 ≥
                                 0
                                 .
                              
                           
                        
                     
                  

The optimal solution of LP1 depends on the relations between the tardiness unit cost and the unit cost of flow allowance. Specifically:

                        
                           
                              Case 1: γ ≤ β.


                              q* and Z* are obtained in the intersection of the constraints:
                                 
                                    
                                       
                                          
                                             (
                                             
                                                α
                                                +
                                                γ
                                             
                                             )
                                          
                                          q
                                          =
                                          
                                             (
                                             
                                                β
                                                −
                                                γ
                                             
                                             )
                                          
                                          q
                                          +
                                          β
                                          
                                             (
                                             
                                                P
                                                −
                                                
                                                   p
                                                   
                                                      m
                                                      a
                                                      x
                                                   
                                                
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                           

Thus, the optimal values of the flow-allowance and the objective function are:
                                 
                                    (13)
                                    
                                       
                                          
                                             q
                                             *
                                          
                                          =
                                          
                                             
                                                β
                                                
                                                   (
                                                   
                                                      P
                                                      −
                                                      
                                                         p
                                                         
                                                            m
                                                            a
                                                            x
                                                         
                                                      
                                                   
                                                   )
                                                
                                             
                                             
                                                α
                                                +
                                                β
                                             
                                          
                                          ;
                                       
                                    
                                 
                              
                              
                                 
                                    (14)
                                    
                                       
                                          
                                             Z
                                             *
                                          
                                          =
                                          
                                             q
                                             *
                                          
                                          
                                             (
                                             
                                                α
                                                +
                                                γ
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                           


                              Case 2: γ > β.

In this case it is clear that 
                                 
                                    q
                                    =
                                    0
                                 
                               minimizes the right-hand-side of both constraints and all the jobs are tardy:
                                 
                                    (15)
                                    
                                       
                                          
                                             q
                                             *
                                          
                                          =
                                          0
                                          ;
                                       
                                    
                                 
                              
                              
                                 
                                    (16)
                                    
                                       
                                          
                                             Z
                                             *
                                          
                                          =
                                          β
                                          
                                             (
                                             
                                                P
                                                −
                                                
                                                   p
                                                   
                                                      m
                                                      a
                                                      x
                                                   
                                                
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                           

The final solution procedure is summarized below:
                  


                     
                        Theorem 3
                        
                           
                              Algorithm 3
                            
                           solves the minmax due-date assignment case in O(nlog n) time.
                        


                     
                        Proof
                        It is clear that the optimal solution (SPT sequence and due-date assignment based either on Case 1 or on Case 2) is obtained by Algorithm 3. The total running time is O(nlog n) due to the initial sorting of the jobs.□

We refer the reader to Appendix B, for a Numerical Example 3 demonstrating the use of Algorithm 3.

Following Section 4, we extend the setting to a due-window, and denote the due-window of job 
                        
                           j
                           
                           (
                           
                              j
                              =
                              1
                              ,
                              …
                              ,
                              n
                           
                           )
                        
                      by 
                        
                           [
                           
                              
                                 d
                                 j
                                 
                                    (
                                    1
                                    )
                                 
                              
                              ,
                              
                              
                                 d
                                 j
                                 
                                    (
                                    2
                                    )
                                 
                              
                           
                           ]
                        
                     . Following the definition of the due-date given in Section 5, we define here: 
                        
                           
                              d
                              j
                              
                                 (
                                 1
                                 )
                              
                           
                           =
                           m
                           
                              p
                              j
                           
                           +
                           
                              q
                              
                                 (
                                 1
                                 )
                              
                           
                        
                      and 
                        
                           
                              d
                              j
                              
                                 (
                                 2
                                 )
                              
                           
                           =
                           m
                           
                              p
                              j
                           
                           +
                           
                              q
                              
                                 (
                                 2
                                 )
                              
                           
                           ,
                           
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                           ,
                        
                      where q
                     (1) and q
                     (2) are decision variables, and q
                     (1) ≤ q
                     (2). Recall that the due-windows are job-dependent, but have identical size (
                        
                           
                              q
                              
                                 (
                                 2
                                 )
                              
                           
                           −
                           
                              q
                              
                                 (
                                 1
                                 )
                              
                           
                        
                     ). The minmax objective function for this version is

                        
                           (17)
                           
                              
                                 
                                    
                                       Z
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             max
                                             
                                                1
                                                ≤
                                                j
                                                ≤
                                                n
                                             
                                          
                                          
                                             {
                                             max
                                             
                                             
                                                {
                                                α
                                                
                                                   E
                                                   j
                                                
                                                +
                                                γ
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                                +
                                                δ
                                                
                                                   (
                                                   
                                                      
                                                         q
                                                         
                                                            (
                                                            2
                                                            )
                                                         
                                                      
                                                      −
                                                      
                                                         q
                                                         
                                                            (
                                                            1
                                                            )
                                                         
                                                      
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             β
                                             
                                                T
                                                j
                                             
                                             +
                                             γ
                                             
                                                q
                                                
                                                   (
                                                   1
                                                   )
                                                
                                             
                                             +
                                             δ
                                             
                                                (
                                                
                                                   
                                                      q
                                                      
                                                         (
                                                         2
                                                         )
                                                      
                                                   
                                                   −
                                                   
                                                      q
                                                      
                                                         (
                                                         1
                                                         )
                                                      
                                                   
                                                
                                                )
                                             
                                             }
                                          
                                          }
                                       
                                    
                                 
                              
                           
                        
                     
                  

It follows that the linear program for the case of a due-window, denoted by LP2, is:

                        
                           (18)
                           
                              
                                 
                                    
                                    
                                    
                                       
                                          min
                                          Z
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          s
                                          .
                                          t
                                          .
                                       
                                    
                                 
                                 
                                    
                                       Z
                                    
                                    
                                       ≥
                                    
                                    
                                       
                                          α
                                          
                                             E
                                             k
                                          
                                          +
                                          γ
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          δ
                                          
                                             (
                                             
                                                
                                                   q
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                                −
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          α
                                          
                                             (
                                             
                                                
                                                   d
                                                   k
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                                −
                                                
                                                   C
                                                   k
                                                
                                             
                                             )
                                          
                                          +
                                          γ
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          δ
                                          
                                             (
                                             
                                                
                                                   q
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                                −
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          α
                                          
                                             [
                                             
                                                
                                                   (
                                                   
                                                      m
                                                      
                                                         p
                                                         k
                                                      
                                                      +
                                                      
                                                         q
                                                         
                                                            (
                                                            1
                                                            )
                                                         
                                                      
                                                   
                                                   )
                                                
                                                −
                                                
                                                   (
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         k
                                                      
                                                      
                                                         p
                                                         j
                                                      
                                                      +
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          γ
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          δ
                                          
                                             (
                                             
                                                
                                                   q
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                                −
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             (
                                             
                                                α
                                                +
                                                γ
                                                −
                                                δ
                                             
                                             )
                                          
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          δ
                                          
                                             q
                                             
                                                (
                                                2
                                                )
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          −
                                          
                                          α
                                          
                                             (
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   p
                                                   j
                                                
                                                
                                                +
                                                
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   (
                                                   
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                      −
                                                      
                                                         p
                                                         k
                                                      
                                                   
                                                   )
                                                
                                             
                                             )
                                          
                                          ,
                                          
                                          k
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          n
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (19)
                           
                              
                                 
                                    
                                       Z
                                    
                                    
                                       ≥
                                    
                                    
                                       
                                          β
                                          
                                             T
                                             k
                                          
                                          +
                                          γ
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          δ
                                          
                                             (
                                             
                                                
                                                   q
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                                −
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          β
                                          
                                             (
                                             
                                                
                                                   C
                                                   k
                                                
                                                −
                                                
                                                   d
                                                   k
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                             
                                             )
                                          
                                          +
                                          γ
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          δ
                                          
                                             (
                                             
                                                
                                                   q
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                                −
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          β
                                          
                                             [
                                             
                                                
                                                   (
                                                   
                                                      
                                                         ∑
                                                         
                                                            j
                                                            =
                                                            1
                                                         
                                                         k
                                                      
                                                      
                                                         p
                                                         j
                                                      
                                                      +
                                                      
                                                         (
                                                         
                                                            m
                                                            −
                                                            1
                                                         
                                                         )
                                                      
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                   
                                                   )
                                                
                                                −
                                                
                                                   (
                                                   
                                                      m
                                                      
                                                         p
                                                         k
                                                      
                                                      +
                                                      
                                                         q
                                                         
                                                            (
                                                            2
                                                            )
                                                         
                                                      
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          γ
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          δ
                                          
                                             (
                                             
                                                
                                                   q
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                                −
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             (
                                             
                                                γ
                                                −
                                                δ
                                             
                                             )
                                          
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          
                                             (
                                             
                                                δ
                                                −
                                                β
                                             
                                             )
                                          
                                          
                                             q
                                             
                                                (
                                                2
                                                )
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          β
                                          
                                             (
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   p
                                                   j
                                                
                                                
                                                +
                                                
                                                
                                                   (
                                                   
                                                      m
                                                      −
                                                      1
                                                   
                                                   )
                                                
                                                
                                                   (
                                                   
                                                      
                                                         max
                                                         
                                                            1
                                                            ≤
                                                            j
                                                            ≤
                                                            k
                                                         
                                                      
                                                      
                                                         {
                                                         
                                                            p
                                                            j
                                                         
                                                         }
                                                      
                                                      −
                                                      
                                                         p
                                                         k
                                                      
                                                   
                                                   )
                                                
                                             
                                             )
                                          
                                          ,
                                          
                                          k
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          n
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           
                              
                                 
                                    q
                                    
                                       (
                                       2
                                       )
                                    
                                 
                                 ≥
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 ,
                              
                           
                        
                     
                     
                        
                           
                              
                                 Z
                                 ,
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 ,
                                 
                                    q
                                    
                                       (
                                       2
                                       )
                                    
                                 
                                 ≥
                                 0
                                 .
                              
                           
                        
                     
                  

It can be easily shown that Properties 3.1 and 3.2 proved for the due-date case (Section 5) still hold for the case of a due-window. Moreover, a standard pair-wise interchange argument proves that Property 3.3 (the optimality of SPT, proved in Section 5) remains valid. Based on Properties 3.1, 3.2 and the optimality of SPT, we state in the following two slightly stronger properties, focusing on the cost contribution of the first and last scheduled jobs. [In the following, Property 4, j denotes property j of an optimal schedule of Problem 4: due-window assignment and a minmax criterion.] Property 4.1 follows immediately from Properties 3.1 and 3.2.


                     
                        Property 4.1
                        The maximum (total) earliness cost (i.e., 
                              
                                 α
                                 
                                    E
                                    k
                                 
                                 +
                                 γ
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 +
                                 δ
                                 
                                    (
                                    
                                       
                                          q
                                          
                                             (
                                             2
                                             )
                                          
                                       
                                       −
                                       
                                          q
                                          
                                             (
                                             1
                                             )
                                          
                                       
                                    
                                    )
                                 
                              
                           ) is obtained by the job assigned to the first position.


                     
                        Property 4.2
                        The maximum (total) tardiness cost (i.e., 
                              
                                 β
                                 
                                    T
                                    k
                                 
                                 +
                                 γ
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 +
                                 δ
                                 
                                    (
                                    
                                       
                                          q
                                          
                                             (
                                             2
                                             )
                                          
                                       
                                       −
                                       
                                          q
                                          
                                             (
                                             1
                                             )
                                          
                                       
                                    
                                    )
                                 
                              
                           ) is obtained by the job assigned to the last position.


                     
                        Proof
                        From Property 3.3, it is clear that 
                              
                                 
                                    max
                                    
                                       1
                                       ≤
                                       j
                                       ≤
                                       k
                                    
                                 
                                 
                                    {
                                    
                                       p
                                       j
                                    
                                    }
                                 
                                 −
                                 
                                    p
                                    k
                                 
                                 =
                                 0
                                 ,
                                 
                                 k
                                 =
                                 1
                                 ,
                                 
                                 …
                                 n
                              
                           , implying that,

                              
                                 
                                    
                                       
                                          
                                             Z
                                          
                                          
                                             ≥
                                          
                                          
                                             
                                                β
                                                
                                                   T
                                                   n
                                                
                                                +
                                                γ
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                                +
                                                δ
                                                
                                                   (
                                                   
                                                      
                                                         q
                                                         
                                                            (
                                                            2
                                                            )
                                                         
                                                      
                                                      −
                                                      
                                                         q
                                                         
                                                            (
                                                            1
                                                            )
                                                         
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      γ
                                                      −
                                                      δ
                                                   
                                                   )
                                                
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                                +
                                                
                                                   (
                                                   
                                                      δ
                                                      −
                                                      β
                                                   
                                                   )
                                                
                                                
                                                   q
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                                +
                                                β
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      n
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   p
                                                   j
                                                
                                                ≥
                                                β
                                                
                                                   T
                                                   k
                                                
                                                +
                                                γ
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                          
                                             
                                                +
                                                
                                                δ
                                                
                                                   (
                                                   
                                                      
                                                         q
                                                         
                                                            (
                                                            2
                                                            )
                                                         
                                                      
                                                      −
                                                      
                                                         q
                                                         
                                                            (
                                                            1
                                                            )
                                                         
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             =
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      γ
                                                      −
                                                      δ
                                                   
                                                   )
                                                
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                                +
                                                
                                                   (
                                                   
                                                      δ
                                                      −
                                                      β
                                                   
                                                   )
                                                
                                                
                                                   q
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                                +
                                                β
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   
                                                      k
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   p
                                                   j
                                                
                                                ,
                                                
                                                k
                                                =
                                                1
                                                ,
                                                …
                                                ,
                                                n
                                                .
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                           □

Thus, linear program LP2 is reduced to the following program:

                        
                           (20)
                           
                              
                                 
                                    
                                    
                                    
                                       
                                          min
                                          Z
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          s
                                          .
                                          t
                                          .
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          Z
                                          ≥
                                          α
                                          
                                             E
                                             1
                                          
                                          +
                                          γ
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          δ
                                          
                                             (
                                             
                                                
                                                   q
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                                −
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                             
                                             )
                                          
                                          =
                                          
                                             (
                                             
                                                α
                                                +
                                                γ
                                                −
                                                δ
                                             
                                             )
                                          
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          
                                          δ
                                          
                                             q
                                             
                                                (
                                                2
                                                )
                                             
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           (21)
                           
                              
                                 
                                    
                                       Z
                                    
                                    
                                       ≥
                                    
                                    
                                       
                                          β
                                          
                                             T
                                             n
                                          
                                          +
                                          γ
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          +
                                          δ
                                          
                                             (
                                             
                                                
                                                   q
                                                   
                                                      (
                                                      2
                                                      )
                                                   
                                                
                                                −
                                                
                                                   q
                                                   
                                                      (
                                                      1
                                                      )
                                                   
                                                
                                             
                                             )
                                          
                                          =
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          
                                             (
                                             
                                                γ
                                                −
                                                δ
                                             
                                             )
                                          
                                          +
                                          
                                             q
                                             
                                                (
                                                2
                                                )
                                             
                                          
                                          
                                             (
                                             
                                                δ
                                                −
                                                β
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          β
                                          
                                             (
                                             
                                                P
                                                −
                                                
                                                   p
                                                   
                                                      m
                                                      a
                                                      x
                                                   
                                                
                                             
                                             )
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           
                              
                                 
                                    q
                                    
                                       (
                                       2
                                       )
                                    
                                 
                                 ≥
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 ,
                              
                           
                        
                     
                     
                        
                           
                              
                                 Z
                                 ,
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 ,
                                 
                                 
                                    q
                                    
                                       (
                                       2
                                       )
                                    
                                 
                                 ≥
                                 0
                                 
                                 .
                              
                           
                        
                     
                  

LP2 is similar to the linear program obtained for the single machine case (see Mor & Mosheiov, 2012b). Since the cost function is linear in both q
                     (1) and q
                     (2), in an optimal solution, these two variables get one of their extreme values. Thus, q
                     1 gets either its smallest possible value (zero), or its maximum possible value (q
                     (2)), and q
                     (2) gets either its minimal value (q
                     (1)or its maximum value (
                        
                           P
                           −
                           
                              p
                              
                                 m
                                 a
                                 x
                              
                           
                        
                     ). It follows that the optimal size of the due-window is either the maximum possible, (i.e., 
                        
                           P
                           −
                           
                              p
                              
                                 m
                                 a
                                 x
                              
                           
                        
                     ), or the minimum possible (i.e., zero, when the window is, in fact, reduced to a due-date). Specifically, we have the following options:

                        
                           Case 1 (maximum size): 
                                 
                                    
                                       q
                                       
                                          (
                                          1
                                          )
                                       
                                    
                                    =
                                    0
                                 
                               and 
                                 
                                    
                                       q
                                       
                                          (
                                          2
                                          )
                                       
                                    
                                    =
                                    P
                                    −
                                    
                                       p
                                       
                                          m
                                          a
                                          x
                                       
                                    
                                 
                              .

Substituting these values in constraints (20) and (21) leads to the following optimal cost value:
                                 
                                    
                                       
                                          Z
                                          =
                                          δ
                                          
                                             q
                                             
                                                (
                                                2
                                                )
                                             
                                          
                                          =
                                          δ
                                          
                                             (
                                             
                                                P
                                                −
                                                
                                                   p
                                                   
                                                      m
                                                      a
                                                      x
                                                   
                                                
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                           

Case 2 (reduction to a due-date):

Subcase 2.1: 
                                 
                                    q
                                    =
                                    
                                       q
                                       
                                          (
                                          1
                                          )
                                       
                                    
                                    =
                                    
                                       q
                                       
                                          (
                                          2
                                          )
                                       
                                    
                                    =
                                    0
                                 
                              . (Minimal q value.)

The resulting cost is: 
                                 
                                    Z
                                    =
                                    β
                                    (
                                    
                                       P
                                       −
                                       
                                          p
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                    
                                    )
                                 
                              .

Subcase 2.2: 
                                 
                                    0
                                    <
                                    q
                                    =
                                    
                                       q
                                       
                                          (
                                          1
                                          )
                                       
                                    
                                    =
                                    
                                       q
                                       
                                          (
                                          2
                                          )
                                       
                                    
                                    <
                                    P
                                    −
                                    
                                       p
                                       
                                          m
                                          a
                                          x
                                       
                                    
                                 
                              .

The intersection of constraints (20) and (21) leads to the following value:
                                 
                                    
                                       
                                          q
                                          =
                                          
                                             q
                                             
                                                (
                                                1
                                                )
                                             
                                          
                                          =
                                          
                                             q
                                             
                                                (
                                                2
                                                )
                                             
                                          
                                          =
                                          
                                             
                                                β
                                                
                                                   (
                                                   
                                                      P
                                                      −
                                                      
                                                         p
                                                         
                                                            m
                                                            a
                                                            x
                                                         
                                                      
                                                   
                                                   )
                                                
                                             
                                             
                                                α
                                                +
                                                β
                                             
                                          
                                          .
                                       
                                    
                                 
                              
                           

The resulting cost is: 
                                 
                                    Z
                                    =
                                    (
                                    
                                       α
                                       +
                                       γ
                                    
                                    )
                                    q
                                 
                              .

Subcase 2.3: 
                                 
                                    q
                                    =
                                    
                                       q
                                       
                                          (
                                          1
                                          )
                                       
                                    
                                    =
                                    
                                       q
                                       
                                          (
                                          2
                                          )
                                       
                                    
                                    =
                                    P
                                    −
                                    
                                       p
                                       
                                          m
                                          a
                                          x
                                       
                                    
                                 
                              . (Maximal q value.)

The resulting cost is: 
                                 
                                    Z
                                    =
                                    (
                                    
                                       α
                                       +
                                       γ
                                    
                                    )
                                    q
                                 
                              
                              .
                           

Given these four candidates for optimality, it is clear that there is no need to solve LP2. One should simply check all four cases and choose the due-window that produces minimum cost.

Thus, the solution procedure for the case of a due-window is the following:
                  


                     
                        Theorem 4
                        
                           
                              Algorithm 4
                            
                           solves the minmax due-window assignment case in O(nlog n) time.
                        


                     
                        Proof
                        Optimality is guaranteed by the SPT job sequence and due-window assignment based on one of the four possible cases. Regarding the running time: Step 1 requires O(nlog n) time, and Step 2 is performed in constant time, implying a total running time is O(nlog n).□

Again, we refer the reader to Appendix B, for a Numerical Example 4 demonstrating the use of Algorithm 4.

@&#CONCLUSION@&#

We extended results of single machine due-date and due-window assignment problems with common flow allowance to a setting of a proportionate flowshop. We solved both the minsum and the minmax problems. The solution procedures are shown to be significantly different (and require more computational effort) from those used in the single machine case. Despite these differences, all the problems were shown to remain polynomially solvable. Future research may focus on solving minsum and minmax common flow allowance problems on other machine settings, such as a (general) flowshop and a jobshop.

@&#ACKNOWLEDGMENTS@&#

This research was supported by the Israel Science Foundation (grant No. 1286/14). The second author was supported in part by the Recanati Fund of The School of Business Administration, and Charles I. Rosen Chair of Management, The Hebrew University of Jerusalem, Israel.

In their seminal article dealing with common flow allowance on a single machine, Adamopoulos and Pappis (1996a) define 
                        
                           q
                           =
                           
                              C
                              
                                 r
                                 −
                                 1
                              
                           
                        
                      (i.e., job r is completed exactly on time). They claim that 
                        
                           r
                           =
                           
                              
                                 n
                                 (
                                 
                                    β
                                    −
                                    γ
                                 
                                 )
                              
                              
                                 α
                                 +
                                 β
                              
                           
                        
                     , and that the positional weights are given by:

                        
                           
                              
                                 
                                    w
                                    j
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                             
                                                n
                                                γ
                                                +
                                                j
                                                α
                                                ,
                                             
                                          
                                          
                                             
                                                j
                                                =
                                                1
                                                ,
                                                …
                                                ,
                                                r
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   (
                                                   
                                                      n
                                                      −
                                                      j
                                                   
                                                   )
                                                
                                                β
                                                ,
                                             
                                          
                                          
                                             
                                                j
                                                =
                                                r
                                                +
                                                1
                                                ,
                                                …
                                                ,
                                                n
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     
                  

We claim that the positional weight of the job in position r is wrong, and the correct positional weights are:

                        
                           (A1)
                           
                              
                                 
                                    w
                                    j
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          
                                             
                                                n
                                                γ
                                                +
                                                j
                                                α
                                                ,
                                             
                                          
                                          
                                             
                                                j
                                                =
                                                1
                                                ,
                                                …
                                                ,
                                                r
                                                −
                                                1
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   (
                                                   
                                                      n
                                                      −
                                                      j
                                                   
                                                   )
                                                
                                                β
                                                ,
                                             
                                          
                                          
                                             
                                                j
                                                =
                                                r
                                                ,
                                                …
                                                ,
                                                n
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     
                  


                     
                        Proof
                        Since job r is on time, it has no earliness/tardiness cost. Thus,

                              
                                 
                                    
                                       Z
                                       =
                                       α
                                       
                                          ∑
                                          
                                             j
                                             =
                                             1
                                          
                                          
                                             r
                                             −
                                             1
                                          
                                       
                                       
                                          E
                                          j
                                       
                                       +
                                       β
                                       
                                          ∑
                                          
                                             j
                                             =
                                             r
                                             +
                                             1
                                          
                                          n
                                       
                                       
                                          T
                                          j
                                       
                                       +
                                       n
                                       γ
                                       q
                                       .
                                    
                                 
                              
                           
                           
                              
                                 
                                    
                                       Z
                                       =
                                       α
                                       
                                          ∑
                                          
                                             j
                                             =
                                             1
                                          
                                          
                                             r
                                             −
                                             1
                                          
                                       
                                       
                                          (
                                          
                                             
                                                (
                                                
                                                   
                                                      p
                                                      j
                                                   
                                                   +
                                                   q
                                                
                                                )
                                             
                                             −
                                             
                                                C
                                                j
                                             
                                          
                                          )
                                       
                                       +
                                       β
                                       
                                          ∑
                                          
                                             j
                                             =
                                             r
                                             +
                                             1
                                          
                                          n
                                       
                                       
                                          (
                                          
                                             
                                                C
                                                j
                                             
                                             −
                                             
                                                (
                                                
                                                   
                                                      p
                                                      j
                                                   
                                                   +
                                                   q
                                                
                                                )
                                             
                                          
                                          )
                                       
                                       +
                                       n
                                       γ
                                       
                                          ∑
                                          
                                             j
                                             =
                                             1
                                          
                                          
                                             r
                                             −
                                             1
                                          
                                       
                                       
                                          p
                                          j
                                       
                                       .
                                    
                                 
                              
                           
                        

The earliness cost is given by: 
                              
                                 α
                                 
                                    ∑
                                    
                                       j
                                       =
                                       1
                                    
                                    
                                       r
                                       −
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          (
                                          
                                             
                                                p
                                                j
                                             
                                             +
                                             q
                                          
                                          )
                                       
                                       −
                                       
                                          C
                                          j
                                       
                                    
                                    )
                                 
                                 =
                                 α
                                 
                                    ∑
                                    
                                       j
                                       =
                                       1
                                    
                                    
                                       r
                                       −
                                       1
                                    
                                 
                                 j
                                 
                                    p
                                    j
                                 
                              
                           .

The tardiness cost is given by: 
                              
                                 β
                                 
                                    ∑
                                    
                                       j
                                       =
                                       r
                                       +
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       C
                                       j
                                    
                                    −
                                    
                                       (
                                       
                                          p
                                          j
                                       
                                       +
                                       q
                                       )
                                    
                                    )
                                 
                                 =
                                 β
                                 
                                    (
                                    
                                       n
                                       −
                                       r
                                    
                                    )
                                 
                                 
                                    p
                                    r
                                 
                                 +
                                 β
                                 
                                    ∑
                                    
                                       j
                                       =
                                       r
                                       +
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       n
                                       −
                                       j
                                    
                                    )
                                 
                                 
                                    p
                                    j
                                 
                              
                           .

The cost of (increasing) the flow allowance is: 
                              
                                 n
                                 γ
                                 q
                                 =
                                 n
                                 γ
                                 
                                    ∑
                                    
                                       j
                                       =
                                       1
                                    
                                    
                                       r
                                       −
                                       1
                                    
                                 
                                 
                                    p
                                    j
                                 
                              
                           .

It follows that:

                              
                                 (i)
                                 The positional weights of positions 
                                       
                                          1
                                          ,
                                          …
                                          ,
                                          r
                                          −
                                          1
                                          :
                                       
                                    
                                    
                                       
                                          n
                                          γ
                                          +
                                          j
                                          α
                                       
                                    ,

The positional weight of position 
                                       
                                          r
                                          :
                                          (
                                          
                                             n
                                             −
                                             r
                                          
                                          )
                                          β
                                          ,
                                       
                                    
                                 

The positional weights of positions 
                                       
                                          r
                                          +
                                          1
                                          ,
                                          …
                                          ,
                                          n
                                          :
                                          (
                                          
                                             n
                                             −
                                             j
                                          
                                          )
                                          β
                                          ,
                                       
                                    
                                 


                     
                        Example 1
                        (Algorithm 1):

Consider the following data: 
                              
                                 m
                                 =
                                 4
                                 ,
                                 n
                                 =
                                 8
                                 ,
                                 p
                                 =
                                 {
                                 34
                                 ,
                                 12
                                 ,
                                 43
                                 ,
                                 28
                                 ,
                                 46
                                 ,
                                 18
                                 ,
                                 4
                                 ,
                                 24
                                 }
                              
                           , 
                              
                                 α
                                 =
                                 5
                                 ,
                              
                           
                           
                              
                                 
                                    
                                       β
                                       =
                                       65
                                       ,
                                       
                                       γ
                                       =
                                       14
                                       .
                                    
                                 
                              
                           
                        

Since β > γ, we apply 
                              Algorithm 1.


                           
                              
                                 k
                                 =
                                 ⌈
                                 
                                    
                                       n
                                       (
                                       
                                          β
                                          −
                                          γ
                                       
                                       )
                                    
                                    
                                       α
                                       +
                                       β
                                    
                                 
                                 ⌉
                                 =
                                 6
                              
                           . The single machine positional weights (Step 1) are: 
                              
                                 w
                                 =
                                 
                                 (
                                 
                                    117
                                    ,
                                    
                                    122
                                    ,
                                    
                                    127
                                    ,
                                    
                                    132
                                    ,
                                    
                                    137
                                    ,
                                    
                                    130
                                    ,
                                    
                                    65
                                    ,
                                    
                                    0
                                 
                                 )
                              
                           . Jobs are sorted and renumbered in non-decreasing order (Step 2). [Given the sorted sequence, the solution of the single machine problem is (6, 5, 4, 2, 1, 3, 7, 8).]

First iteration: 
                              
                                 r
                                 =
                                 k
                                 =
                                 6
                              
                           .

The block of the smallest jobs is assigned to positions 
                              
                                 2
                                 ,
                                 …
                                 ,
                                 6
                              
                           : (5, 4, 2, 1, 3). The next largest job (6) is assigned to position 1, and the remaining jobs (7, 8) are assigned to the last positions in a non-decreasing order.

The resulting sequence (π(6)) is (6, 5, 4, 2, 1, 3, 7, 8), with 
                              
                                 q
                                 =
                                 204
                              
                            and 
                              
                                 Z
                                 =
                                 
                                 33228
                              
                           .

Second iteration: 
                              
                                 r
                                 =
                                 7
                              
                           .

The block of the smallest jobs is assigned to positions 
                              
                                 2
                                 ,
                                 …
                                 ,
                                 7
                              
                           : (5, 4, 2, 1, 3, 6). The next largest job (7) is assigned to position 1, and the remaining job (8) is assigned to the last position.

The resulting sequence (π(7)) is (7, 5, 4, 2, 1, 3, 6, 8), with 
                              
                                 q
                                 =
                                 240
                              
                            and 
                              
                                 Z
                                 =
                                 
                                 33210
                              
                           .

Third iteration: 
                              
                                 r
                                 =
                                 8
                              
                           .

The block of the smallest jobs is assigned to positions 
                              
                                 2
                                 ,
                                 …
                                 ,
                                 8
                              
                           : (5, 4, 2, 1, 3, 6, 7), and the next largest job (8) is assigned to position 1.

The resulting sequence (π(8)) is (8, 5, 4, 2, 1, 3, 6, 7), with 
                              
                                 q
                                 =
                                 252
                              
                            and 
                              
                                 Z
                                 =
                                 
                                 33984
                              
                           .

A summary of the solution procedure is given in Table 1
                           . We conclude that the optimal solution (obtained in the second iteration) consists of : 
                              
                                 
                                    π
                                    *
                                 
                                 =
                                 π
                                 
                                    (
                                    7
                                    )
                                 
                              
                           , 
                              
                                 
                                    q
                                    *
                                 
                                 =
                                 240
                              
                           , 
                              
                                 
                                    d
                                    *
                                 
                                 =
                                 
                                 
                                    (
                                    
                                       283
                                       ,
                                       
                                       268
                                       ,
                                       
                                       264
                                       ,
                                       
                                       252
                                       ,
                                       
                                       244
                                       ,
                                       
                                       258
                                       ,
                                       
                                       274
                                       ,
                                       
                                       286
                                    
                                    )
                                 
                              
                            and 
                              
                                 
                                    Z
                                    *
                                 
                                 =
                                 
                                 33210
                              
                           .

[Note that if, e.g., 
                              
                                 β
                                 =
                                 9
                                 <
                                 14
                                 =
                                 γ
                              
                            (and all other parameters remain unchanged), the optimal solution is obtained by the SPT sequence, with 
                              
                                 
                                    q
                                    *
                                 
                                 =
                                 0
                              
                            and 
                              
                                 
                                    Z
                                    *
                                 
                                 =
                                 β
                                 
                                    ∑
                                    
                                       j
                                       =
                                       1
                                    
                                    n
                                 
                                 
                                    (
                                    
                                       m
                                       +
                                       n
                                       −
                                       j
                                       −
                                       1
                                    
                                    )
                                 
                                 
                                    p
                                    j
                                 
                                 =
                                 9972
                              
                           .].


                     
                        Example 2
                        (Algorithm 2):

Consider
                            the following data: 
                              
                                 m
                                 =
                                 4
                                 ,
                                 
                                 n
                                 =
                                 8
                                 ,
                                 
                                 p
                                 =
                                 
                                 {
                                 
                                    25
                                    ,
                                    
                                    14
                                    ,
                                    
                                    8
                                    ,
                                    
                                    12
                                    ,
                                    
                                    13
                                    ,
                                    
                                    33
                                    ,
                                    
                                    42
                                    ,
                                    
                                    43
                                 
                                 }
                              
                           , 
                              
                                 α
                                 =
                                 12
                                 ,
                              
                           
                           
                              
                                 
                                    
                                       β
                                       =
                                       55
                                       ,
                                       
                                       γ
                                       =
                                       16
                                       ,
                                       
                                          
                                          δ
                                       
                                       =
                                       20
                                       .
                                    
                                 
                              
                           
                        


                           
                              
                                 k
                                 =
                                 ⌈
                                 
                                    
                                       n
                                       (
                                       
                                          δ
                                          −
                                          γ
                                       
                                       )
                                    
                                    α
                                 
                                 ⌉
                                 =
                                 3
                              
                           , 
                              
                                 l
                                 =
                                 ⌈
                                 
                                    
                                       n
                                       (
                                       
                                          β
                                          −
                                          δ
                                       
                                       )
                                    
                                    β
                                 
                                 ⌉
                                 =
                                 6
                              
                           , and the single machine positional weights (Step 1) are: 
                              
                                 w
                                 =
                                 
                                 (
                                 
                                    140
                                    ,
                                    
                                    152
                                    ,
                                    
                                    160
                                    ,
                                    
                                    160
                                    ,
                                    
                                    160
                                    ,
                                    
                                    110
                                    ,
                                    
                                    55
                                    ,
                                    
                                    0
                                 
                                 )
                              
                           . We now sort the jobs in a non-decreasing order (Step 2). [The solution of the single machine problem is (5, 4, 3, 2, 1, 6, 7, 8).]

First iteration: 
                              
                                 r
                                 =
                                 l
                                 =
                                 6
                              
                           .

The block of the smallest jobs is assigned to positions 
                              
                                 2
                                 ,
                                 …
                                 ,
                                 6
                              
                           : (4, 3, 2, 1, 5). The next largest job (6) is assigned to position 1, and the remaining jobs (7, 8) are assigned to the last positions in a non-decreasing order.

The resulting sequence (π(6)) is (6, 4, 3, 2, 1, 5, 7, 8), with 
                              
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 =
                                 146
                                 ,
                                 
                                 
                                    q
                                    
                                       (
                                       2
                                       )
                                    
                                 
                                 =
                                 179
                              
                            and 
                              
                                 Z
                                 =
                                 
                                 32895
                              
                           .

Second iteration: 
                              
                                 r
                                 =
                                 7
                              
                           .

The block of the smallest jobs is assigned to positions 
                              
                                 2
                                 ,
                                 …
                                 ,
                                 7
                              
                           : (4, 3, 2, 1, 5, 6). (Note that the positional weight of the last position in the block is the smallest, hence the largest job (6 is assigned to this position.) The next largest job (7) is assigned to position 1, and the remaining job (8) is assigned to the last position.

The resulting sequence (π(7)) is (7, 4, 3, 2, 1, 5, 6, 8), with 
                              
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 =
                                 182
                                 ,
                                 
                                 
                                    q
                                    
                                       (
                                       2
                                       )
                                    
                                 
                                 =
                                 215
                              
                            and 
                              
                                 Z
                                 =
                                 
                                 34146
                              
                           .

Third iteration: 
                              
                                 r
                                 =
                                 8
                              
                           .

The block of the smallest jobs is assigned to positions 
                              
                                 2
                                 ,
                                 …
                                 ,
                                 8
                              
                           : (4, 3, 2, 1, 5, 6, 7). (As in the previous iteration, the largest job in the block is assigned to its last position.) The next largest job (8) is assigned to position 1.

The resulting sequence (π(8)) is (8, 4, 3, 2, 1, 5, 6, 7), with 
                              
                                 
                                    q
                                    
                                       (
                                       1
                                       )
                                    
                                 
                                 =
                                 186
                                 ,
                                 
                                 
                                    q
                                    
                                       (
                                       2
                                       )
                                    
                                 
                                 =
                                 219
                              
                            and 
                              
                                 Z
                                 =
                                 
                                 34505
                              
                           .

A summary of the solution procedure is given in Table 2. We conclude that the optimal sequence is π(6) (obtained in the first iteration) with 
                              
                                 
                                    
                                       (
                                       
                                          q
                                          
                                             (
                                             1
                                             )
                                          
                                       
                                       )
                                    
                                    *
                                 
                                 =
                                 146
                                 ,
                                 
                                 
                                 
                                    
                                       (
                                       
                                          q
                                          
                                             (
                                             2
                                             )
                                          
                                       
                                       )
                                    
                                    *
                                 
                                 =
                                 179
                              
                           ,


                           
                              
                                 
                                    
                                       (
                                       
                                          d
                                          
                                             (
                                             1
                                             )
                                          
                                       
                                       )
                                    
                                    *
                                 
                                 =
                                 
                                    (
                                    
                                       179
                                       ,
                                       
                                       160
                                       ,
                                       
                                       154
                                       ,
                                       
                                       158
                                       ,
                                       
                                       159
                                       ,
                                       
                                       171
                                       ,
                                       
                                       188
                                       ,
                                       
                                       189
                                    
                                    )
                                 
                              
                           , 
                              
                                 
                                    
                                       (
                                       
                                          d
                                          
                                             (
                                             2
                                             )
                                          
                                       
                                       )
                                    
                                    *
                                 
                                 =
                                 
                                    (
                                    
                                       212
                                       ,
                                       
                                       193
                                       ,
                                       
                                       187
                                       ,
                                       
                                       191
                                       ,
                                       
                                       192
                                       ,
                                       
                                       204
                                       ,
                                       
                                       221
                                       ,
                                       
                                       222
                                    
                                    )
                                 
                              
                            and 
                              
                                 
                                    Z
                                    *
                                 
                                 =
                                 
                                 32895
                              
                           .


                     
                        Example 3
                        (Algorithm 3):

Consider the following data: 
                              
                                 m
                                 =
                                 4
                                 ,
                                 
                                 n
                                 =
                                 8
                              
                           . The processing times (after sorting):


                           
                              
                                 p
                                 =
                                 {
                                 
                                    3
                                    ,
                                    
                                    6
                                    ,
                                    
                                    11
                                    ,
                                    
                                    16
                                    ,
                                    
                                    18
                                    ,
                                    
                                    27
                                    ,
                                    
                                    38
                                    ,
                                    
                                    41
                                 
                                 }
                              
                           . The cost parameters: 
                              
                                 α
                                 =
                                 5
                              
                           , 
                              
                                 β
                                 =
                                 15
                              
                           , 
                              
                                 γ
                                 =
                                 12
                              
                           .

                              
                                 
                                    
                                       P
                                       =
                                       
                                          ∑
                                          
                                             j
                                             =
                                             1
                                          
                                          n
                                       
                                       
                                          p
                                          j
                                       
                                       =
                                       160
                                       ,
                                       
                                       and
                                       
                                       
                                          p
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                       =
                                       41
                                       .
                                    
                                 
                              
                           
                        

Since γ ≤ β, the optimal common flow-allowance is (see (13)):

                              
                                 
                                    
                                       
                                          q
                                          *
                                       
                                       =
                                       
                                          
                                             β
                                             
                                                (
                                                
                                                   
                                                      ∑
                                                      
                                                         j
                                                         =
                                                         1
                                                      
                                                      n
                                                   
                                                   
                                                      p
                                                      
                                                         (
                                                         j
                                                         )
                                                      
                                                   
                                                   −
                                                   
                                                      p
                                                      
                                                         m
                                                         a
                                                         x
                                                      
                                                   
                                                
                                                )
                                             
                                          
                                          
                                             α
                                             +
                                             β
                                          
                                       
                                       =
                                       
                                          
                                             15
                                             ×
                                             
                                                (
                                                
                                                   160
                                                   −
                                                   41
                                                
                                                )
                                             
                                          
                                          
                                             5
                                             +
                                             15
                                          
                                       
                                       =
                                       89.25
                                       .
                                    
                                 
                              
                           
                        

The due-dates are: 
                              
                                 
                                    d
                                    *
                                 
                                 =
                                 
                                    (
                                    
                                       101.25
                                       ,
                                       
                                       113.25
                                       ,
                                       
                                       133.25
                                       ,
                                       153.25
                                       ,
                                       
                                       161.25
                                       ,
                                    
                                    
                                       197.25
                                       ,
                                       
                                       241.25
                                       ,
                                       
                                       253.25
                                    
                                    )
                                 
                              
                           .

The optimal cost (see (14)) is:

                              
                                 
                                    
                                       
                                          Z
                                          *
                                       
                                       =
                                       
                                          (
                                          
                                             α
                                             +
                                             γ
                                          
                                          )
                                       
                                       
                                          q
                                          *
                                       
                                       =
                                       
                                          (
                                          
                                             5
                                             +
                                             12
                                          
                                          )
                                       
                                       ×
                                       89.25
                                       =
                                       1517.25
                                       .
                                    
                                 
                              
                           
                        

[If we change the tardiness unit cost to 
                              
                                 β
                                 =
                                 8
                                 <
                                 12
                                 =
                                 γ
                              
                           , we obtain (see (15) and (16)): 
                              
                                 
                                    q
                                    *
                                 
                                 =
                                 0
                              
                           , and 
                              
                                 
                                    Z
                                    *
                                 
                                 =
                                 β
                                 
                                    (
                                    
                                       P
                                       −
                                       
                                          p
                                          
                                             m
                                             a
                                             x
                                          
                                       
                                    
                                    )
                                 
                                 =
                                 8
                                 ×
                                 
                                    (
                                    
                                       160
                                       −
                                       41
                                    
                                    )
                                 
                                 =
                                 952
                                 .
                              
                           ].


                     
                        Example 4
                        (Algorithm 4):

We solve a 4-machine 8-job problem. The job processing times (after sorting) are:


                           
                              
                                 p
                                 =
                                 {
                                 
                                    1
                                    ,
                                    
                                    4
                                    ,
                                    
                                    15
                                    ,
                                    
                                    17
                                    ,
                                    
                                    19
                                    ,
                                    
                                    33
                                    ,
                                    
                                    39
                                    ,
                                    
                                    45
                                 
                                 }
                              
                           . Different combinations of cost parameters lead to different optimal solutions; see Table 3.
                        

@&#REFERENCES@&#

