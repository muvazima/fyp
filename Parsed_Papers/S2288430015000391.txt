@&#MAIN-TITLE@&#A novel approach to predict surface roughness in machining operations using fuzzy set theory

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           This work uses innovative methods in process prediction with the application of FST.


                        
                        
                           
                           Many potential benefits of fuzzy set theory have been presented and instantiated.


                        
                        
                           
                           The fuzzy set equations are built on the data obtained from the experiments.


                        
                        
                           
                           A detailed analysis is presented using experimental case study.


                        
                        
                           
                           The results indicate the good accuracy of proposed method.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Design of experiments

Fuzzy logic

Surface roughness

End milling

Process control

@&#ABSTRACT@&#


               
               
                  The increase of consumer needs for quality metal cutting related products with more precise tolerances and better product surface roughness has driven the metal cutting industry to continuously improve quality control of metal cutting processes. In this paper, two different approaches are discussed. First, design of experiments (DOE) is used to determine the significant factors and then fuzzy logic approach is presented for the prediction of surface roughness. The data used for the training and checking the fuzzy logic performance is derived from the experiments conducted on a CNC milling machine. In order to obtain better surface roughness, the proper sets of cutting parameters are determined before the process takes place. The factors considered for DOE in the experiment were the depth of cut, feed rate per tooth, cutting speed, tool nose radius, the use of cutting fluid and the three components of the cutting force. Finally the significant factors were used as input factors for fuzzy logic mechanism and surface roughness is predicted with empirical formula developed. Test results show good agreement between the actual process output and the predicted surface roughness.
               
            

@&#INTRODUCTION@&#

Manufacturing has played an ever-increasing role in our lives. Not only are we concerned with how products are produced and delivered to us, but we are also concerned with how well the products are built. Manufacturers around the world continuously seek new and improved methods of product manufacturing to meet the expectations of the consumer. There are many aspects of manufacturing that can be considered when looking for new and improved methods of production. Efforts can be focused on manufacturing systems, manufacturing processes, or manufacturing materials. All of these efforts together transform raw materials into end products. Within the area of manufacturing processes, different processes can be evaluated for their impact on processing time, efficiency of production methods, and quality of finished products.

The quality of finished products is defined by how closely the finished product adheres to the specifications. Surface roughness (R
                     
                        a
                     ) is the most commonly used index to determine surface quality. It is a measure of smoothness for a machined surface. Surface quality is defined and identified by the combination of surface finish, surface texture, and surface roughness. Surface finish and surface roughness express and represent the same characteristic. Surface roughness is defined as the fine irregularities produced on a workpiece by a cutting tool. Surface texture relates to deviations from a nominal surface that forms the pattern of the surface. The terms surface texture, surface finish, and surface roughness are used interchangeably in industry as well as in this paper [1]. Many lifelong attributes of a product are determined by how well the integrity of the surface finish is maintained. Painting or coating adherence, surface reflectivity, and frictional requirements are examples for which the surface roughness may be specified. Defects occur when the surface roughness requirement is not met. Applied surfaces may fail to adhere properly and parts may not assemble properly due to excessive frictional components exhibited through poorly machined surfaces.

Numerous factors affect surface roughness in the machining process. While some factors are difficult or impossible to control, some controllable process parameters include feed, cutting speed, tool geometry, and tool setup. Other factors that are harder to control include tool vibration, work-piece and machine vibration, tool wear and degradation, and workpiece and tool material variability [2]. These factors interact to influence the quality of the surface finish produced. When the surface does not meet the specifications, parameters are adjusted and the original or a new workpiece is inserted into the machining center for machining [3]. Depending on the materials, the effect of major variables on the surface roughness changes significantly. For instance, highly ductile materials tend to induce a built-up edge on the tool nose, hence creating degraded surface in terms of roughness. Very brittle materials such as cast iron also create challenging machining conditions due to fractures, which worsens the surface roughness. In the case of aluminum alloys, as the hardness of material increases, the surface roughness tends to improve. However, very hard materials induce vibration during the machining that generates the rough surface finish. Therefore, some widely machined common materials such as medium carbon alloy steel contain the elements that help improve the machinability. Moderately ductile yet hard materials fixed on a rigid machine tool tend to manifest the desirable machining condition, if the cutting tool materials, coolants, chip breakers and major variables are correctly applied. The major variables can be independently controlled to attain the desired surface roughness. For instance, the feed rate is usually set at a slow level to improve the surface roughness. The cutting speed is set at a rather higher level to prevent the built-up edge from occurring on the tool nose. Cutting depth is usually set to be small in order to reduce the machining vibration as well as the resistance or opposing cutting force from the materials. Overall, a combination of slow feed rate, higher cutting speed, and small depth of cut is employed to generate the smooth surface.

In this context, the main idea behind this research is that one should develop techniques to predict the surface roughness of a product before milling to evaluate the robustness of machining parameters for keeping a desired surface roughness and increasing product quality for a given set of cutting conditions, work material, tool insert type and tool geometry. It is also important that the prediction technique be accurate and reliable [4]. This can be achieved with the help of Fuzzy logic and fuzzy inference systems which are proven to be effective techniques for the identification, prediction and control of complex, nonlinear, and vague systems. Fuzzy logic is particularly attractive due to its ability to solve problems in the absence of accurate mathematical models [5]. The overall objective of this research was to develop an algorithm for milling operation that predicts surface roughness with designed set of conditions. Two approaches DOE and Fuzzy Logic were used where the design of experiments (DOE) is an effective approach to optimize the throughput in various manufacturing-related processes. The fractional factorial DOE and statistical analysis of variance (ANOVA) will be used to represent, infer, and screen the milling parameters in order to generate appropriate training data for the fuzzy logic. Furthermore, ANOVA will be used to check the statistical significance of individual milling parameters on the value of the surface roughness. Once the significant factors are determined, these factors will be used as input parameters for Fuzzy Logic and with the help of Fuzzy inference system. IF-THEN rules are framed depending on the operator׳s experience and knowledge which employs a mode of approximate reasoning that resembles the decision-making process of humans. The behavior of a fuzzy system is easily understood by a human expert as knowledge is expressed by means of intuitive, linguistic rules [6]. A fuzzy system is usually designed by interviewing an expert and formulating their implicit knowledge of the underlying process into a set of linguistic variables and fuzzy rules. For complex control tasks, obtaining the fuzzy knowledge base from an expert often requires a tedious and unreliable trial and error approach. Unlike neural networks, generic fuzzy systems do not require training data as part of their development process. However, several techniques have been proposed to extract fuzzy rules from training data gathered from observations of the operator control strategy [5]. Fuzzy rules and membership functions are build using fuzzyTECH 5.5i software from which fuzzy output (surface roughness) is derived. Surface finish of the machined part is the output of the process which is then compared with the experimental data. Minimum error is obtained through numerous experiments or data points. The fuzzy logic model built is capable of predicting the surface finish for a given set of inputs (cutting speed, feed rate, and depth of cut). As such, the machinist may predict the quality of the surface for a given set of working parameters and may also set the process parameters to achieve a certain surface finish. The model is verified experimentally by employing different sets of inputs. This study deals with the experimental results obtained during end milling on 6061 T6 Al.

Fuzzy logic is a basic concept which refers to all theories and technologies that employ fuzzy set. It is basically a multi-valued logic that allows intermediate values to be defined between conventional evaluations like yes/no, true/false, black/white etc. to degrees of truth between 0 and 1 [7]. Fuzzy logic was invented by Professor Zadeh in 1964. The concept of fuzzy logic came from the idea of grade of membership, which became the backbone of fuzzy set theory. Fuzzy logic is the logic of approximate reasoning with traditional precise reasoning as the limiting case [8]. What zadeh means by “the logic of approximate reasoning” is that in many cases “4th digit” accuracy is not crucial to system performance, but rather, what is important is quick approximate judgments, much like how a human would perform. For example, Zadeh wrote that a set of speed measurements grouped around a point on a speed continuum would be lumped together and called “slow” by fuzzy logic. By eliminating these precise measurements, computations would be simplified and executed more rapidly [9]. Fuzzy logic core technique is based on four basic concepts. (1) Fuzzy sets: sets with smooth boundaries; (2) linguistic variables whose values are both qualitatively and quantitatively described by a fuzzy set; (3) possibility distributions which constraints on the value of a linguistic variable imposed by assigning it a fuzzy set and (4) fuzzy if-then rules: a knowledge scheme for describing a functional mapping or a logic formula that generalizes an implication in tow valued logic. [8].

A fuzzy set is a generalization to classical set to allow objects to take partial membership in vague concepts (i.e., fuzzy sets) [10]. The Best way to introduce fuzzy sets is to start with a limitation of classical sets. A set in classical set theory always has a sharp boundary because membership in a set is black and white concept—an object either completely belongs to the set or does not belong to the set at all. [8]. The degree an object belongs to a fuzzy set, which is a real number between 0 and 1, is called the membership value in the set. The meaning of a fuzzy set is thus characterized by a membership function that maps elements of a universe of discourse to their corresponding membership values. The membership function of a fuzzy set “A” is denoted as µ
                           
                              A
                           . In addition to membership functions, a fuzzy set is also associated with a linguistically meaningful term (e.g., “healthy” family). Associating a fuzzy set to a linguistic term offers two important benefits [11].

A Fuzzy set can be defined in two ways: (1) by enumerating membership values of those elements in the set (completely or partially), or (2) by defining the membership function mathematically. The first approach is possible only if the set is discrete, because a continuous fuzzy set has an infinite number of elements. Generally, a fuzzy set A can be defined through enumeration using expression
                                 
                                    (1)
                                    
                                       A
                                       =
                                       
                                          
                                             ∑
                                             i
                                          
                                          
                                             
                                                
                                                   μ
                                                
                                                
                                                   A
                                                
                                             
                                             (
                                             
                                                
                                                   x
                                                
                                                
                                                   i
                                                
                                             
                                             )
                                             /
                                             
                                                
                                                   x
                                                
                                                
                                                   i
                                                
                                             
                                          
                                       
                                    
                                 
                              where the summation and addition operators refer to the union operation and the notation μ
                              
                                 A
                              (x
                              
                                 i
                              )/x
                              
                                 i
                               refers to a fuzzy set containing exactly one(partial) element x with a membership degree μ
                              
                                 A
                              (x
                              
                                 i
                              ).

A membership function (MF) is a curve that defines how each point in the input space is mapped to a membership value (or degree of membership) between 0 and 1. The input space is sometimes referred to as the universe of discourse, a fancy name for a simple concept. It characterizes the fuzziness in a fuzzy set-whether the elements in the set are discrete or continuous- in a graphical form for eventual use in the mathematical formalisms of fuzzy set theory [12]. There exits numerous types of membership functions, the most commonly used in practice are triangles, trapezoids, bell curves, Gaussian, and sigmoidal functions. All of them are parameterized functions commonly used to define one dimensional MFs with a single input. Most of the membership functions can be described with a few parameters (e.g. three in the case of a triangle: endpoints and apex), which makes it very easy to calculate the degree of membership of a specific value.

Linguistic variables play an essential role in fuzzy logic, artificial intelligence and decision making systems. Basically, they are words or expressions that describe the inputs and outputs of a system. For example, consider the amount of traffic on I-10 East. When it is said, “Traffic Flow is Low,” the expression “Low” is the name of a fuzzy set that describes the amount of traffic, while the linguistic variable is “Traffic Flow.” A linguistic variable is a variable whose value can be described: 1) qualitatively using an expression involving linguistic terms, and 2) quantitatively using a corresponding membership function [13]. The linguistic term is useful for communicating concepts and knowledge with human beings; whereas membership function is useful for processing numeric input data. A linguistic variable is like a composition of a symbolic variable in AI (a variable whose value is a symbol) and a numeric variable (a variable whose value is a number) in science and engineering. In general, the value of a linguistic variable can be a linguistic expression involving a set of linguistic terms, modifiers such as “very,” “more or less” (called hedges), and connectives (e.g., “and,” “or”) [11].

Among all the techniques developed using fuzzy sets, fuzzy if-then rules are by far the most visible due to their wide range of successful industrial applications ranging from consumer products, robotics, manufacturing, process control, automotive control, medical imaging, to financial trading. A fuzzy if-then rule associates a condition about linguistic variables to a conclusion. From a knowledge representation viewpoint, a fuzzy if-then rule is a scheme for capturing knowledge that involves imprecision. The main feature of reasoning using these rules (i.e., fuzzy rule-based reasoning) is its partial matching capability, which enables an inference to be made from a fuzzy rule even when the rule׳s condition is only partially satisfied [8]. That is, it computes the degree the input data matches the condition of a rule. 
                           Fig. 1 illustrates one way to calculate the matching degree between fuzzy input A′ and a fuzzy condition A. Matching degree (A, A′)=sup
                              x
                            min (μ
                           
                              A
                            (x), μ
                           
                              A′(x))

The degree of the input data matches the condition of a rule is combined with the consequent (i.e., “then” part) of the rule to form a conclusion inferred by the fuzzy rule. The higher is the matching degree; the closer is the inferred conclusion to the rule׳s consequence. There are two different types of fuzzy rules: 1) fuzzy mapping rules, and 2) fuzzy implication rules (see 
                           Table 1). A fuzzy mapping rule describes a functional mapping relationship between inputs and an output using linguistic terms, while a fuzzy implication rule describes a generalized logic implication relationship between two logic formula involving linguistic variables. The foundation of fuzzy mapping rule is fuzzy graph, while the foundation of fuzzy implication rule is a generalization to two-valued logic or narrow sense of fuzzy logic. The inference of fuzzy mapping rules involves a set of rules whose antecedent conditions form a fuzzy partition of the input space. Such a collection of fuzzy mapping rules is called a fuzzy model. The inference of fuzzy implication rules are performed individually. Even though the inference results of these rules can be combined, the desired properties of their inference are described in terms of the behavior of individual rules (e.g., generalized modus ponens and modus tollens involving hedges). Consequently, fuzzy mapping rules are designed as a group, whereas fuzzy implication rules are designed individually [8,11]. In general, the distinctions between fuzzy implication rules and fuzzy mapping rules are subtle, yet important.

The algorithm of fuzzy rule-based inference consists of three basic steps and an additional optional step: fuzzy matching, fuzzy inference, fuzzy combination and defuzzification [14];
                              
                                 a.
                                 
                                    Fuzzy matching: it is a process to calculate the degree to which the input data match the condition of the fuzzy rules.


                                    Inference: it is a process to calculate the rule׳s conclusion based on its matching degree. After the fuzzy matching step, a fuzzy inference step is invoked for each of the relevant rules to produce a conclusion based on their matching degree. There are two methods: (1) the clipping method and (2) the scaling method.


                                    Combining fuzzy conclusions: the two steps in fuzzy inference described so far enable each fuzzy rule to infer a fuzzy statement about the value of the consequent variable. Because a fuzzy rule-based system consists of a set of fuzzy rules with partially overlapping conditions, a particular input to the system often “triggers” multiple fuzzy rules (i.e., more than one rule will match the input to a nonzero degree). Therefore, a third step is needed to combine the inference results of these rules.


                                    Defuzzification: for a fuzzy system whose final output needs to be in a crisp (non-fuzzy) form, a fourth step is needed to convert the final combined fuzzy conclusions into a crisp one. This step is called defuzzification which gives a quantitative summary and is more commonly used in fuzzy logic control and many other industrial applications. There are two common defuzzification techniques: mean of maximum and center of area.
                                       
                                          i)
                                          Mean of Maximum (MOM)

The Mean of Maximum (MOM) defuzzification method calculates the average of those output values that have the highest possibility degrees. Suppose “y is A” is a fuzzy conclusion to be defuzzified. We can express the MOM defuzzification method using the following formula:
                                                
                                                   (2)
                                                   
                                                      MOM
                                                      (
                                                      A
                                                      )
                                                      =
                                                      
                                                         
                                                            
                                                               ∑
                                                               
                                                                  
                                                                     
                                                                        y
                                                                     
                                                                     ⁎
                                                                  
                                                                  ∈
                                                                  P
                                                               
                                                            
                                                            
                                                               
                                                                  
                                                                     y
                                                                  
                                                                  ⁎
                                                               
                                                            
                                                         
                                                         
                                                            |
                                                            P
                                                            |
                                                         
                                                      
                                                   
                                                
                                             where P is the set of output values y with highest possibility degree in A, i.e., an example of MOM.

A major limitation of MOM defuzzification is that it does not take in to account the overall shape of the possibility distribution. Two fuzzy conclusions with the same peak points, but otherwise different shapes, will yield the same defuzzified result using the MOM method. The above example depicts of such results.

Center of Area (COA)

The Center-of-Area (COA) method (also referred to as the center-of-gravity, or centroid method in the literature) is the most popular defuzzification technique. Unlike MOM, the COA method takes into account the entire possibility distribution in calculating its representative point. The defuzzification method is similar to the formula for calculating the center of gravity in physics, if we view µ
                                             
                                                A
                                              (x) as the density of mass at x. Alternatively, we can view the COA method as calculating a weighted average, where µ
                                                A
                                              (x) serves weight for value x. If x is discrete, the defuzzification result of A is
                                                
                                                   (3)
                                                   
                                                      COA
                                                      (
                                                      A
                                                      )
                                                      =
                                                      
                                                         
                                                            
                                                               ∑
                                                               x
                                                            
                                                            
                                                               
                                                                  
                                                                     μ
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               (
                                                               x
                                                               )
                                                               ×
                                                               x
                                                            
                                                         
                                                         
                                                            
                                                               ∑
                                                               x
                                                            
                                                            
                                                               
                                                                  
                                                                     μ
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               (
                                                               x
                                                               )
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          

Similarly, if x is continuous, the result is
                              
                                 (4)
                                 
                                    COA
                                    (
                                    A
                                    )
                                    =
                                    
                                       
                                          ∫
                                          
                                             
                                                
                                                   μ
                                                
                                                
                                                   A
                                                
                                             
                                             (
                                             x
                                             )
                                             x
                                             d
                                             x
                                          
                                       
                                       
                                          ∫
                                          
                                             
                                                
                                                   μ
                                                
                                                
                                                   A
                                                
                                             
                                             (
                                             x
                                             )
                                             d
                                             x
                                          
                                       
                                    
                                 
                              
                           
                        

An example of COA defuzzification is shown in above 
                           Fig. 2. The main disadvantage of the COA method is its high computational cost but the calculation can be simplified for some fuzzy models. Even though this is the case for most fuzzy rule-based systems, there are situations in which defuzzification cannot be completely separated from the fusion step [8] (
                           Fig. 3).

The terms surface finish and surface roughness are used widely in industry and are generally used to quantify the smoothness of a surface finish. In 1947, the American Standard B46.1-1947 “Surface texture” defined many of the concepts of surface metrology and terminology which overshadowed previous standards. A few concepts are discussed and shown as follows [15,16]:


                        Surface texture: surface texture is the pattern of the surface which deviates from a nominal surface. The deviations may be repetitive or random and may result from roughness, waviness, lay, and flaws [17].


                        Real surface: the real surface of an object is the peripheral skin which separates it from the surrounding medium. This surface invariably assimilates structural deviations which are classified as form errors, waviness, and surface roughness.


                        Roughness: roughness consists of the finer irregularities of the surface texture usually including those irregularities that result from the inherent action of the production process. These are considered to include traverse feed marks and other irregularities within the limits of the roughness sampling length. Profiles of roughness and waviness are shown in 
                        Fig. 4 
                        [17,24].


                        Roughness width: roughness width is the distance parallel to the nominal surface between successive peaks or ridges which constitute the predominant pattern of the roughness.


                        Roughness width cutoff: roughness width cutoff is included in the measurement of average roughness height which denotes the greatest spacing of repetitive surface irregularities. It is rated in thousandths of an inch. Standard tables list roughness width cutoff values of 0.003, 0.10, 0.030, 0.100, 0.300 and 1.000 in. If no value is specified, a rating of 0.030″ is assumed.


                        Waviness: waviness is the more widely spaced component of surface texture. Unless otherwise noted, waviness should include all irregularities whose spacing is greater than the roughness sampling length and less than the waviness sampling length. Waviness may result from such factors as machine or work deflections, vibration chatter, heat treatment, or warping strains. Roughness may be considered as superimposed on a wavy surface as shown in Fig. 4 
                        [17,18,24].


                        Waviness height: waviness height is the peak-to-valley distance which is rated in inches.


                        Waviness width: waviness width is the spacing of successive wave peaks or successive wave valleys which is rated in inches.


                        Lay: lay is the direction of the predominant surface pattern, ordinarily determined by the production method used.


                        Flaws: flaws are unintentional, unexpected and unwanted interruptions in the topography typical of a part surface.


                        Peak: a peak is the point of maximum height on that portion of a profile that lies above the center line and between two intersections of the profile with the center line.


                        Valley: a valley is the point of maximum depth on that portion of a profile that lies below the center line and between two intersections of the profile with the center line.


                        Roughness sampling length: the roughness sampling length is the sampling length within which the roughness average is determined. This length is chosen, or specified, to separate the profile irregularities which are designated as roughness from those irregularities designated as waviness.

Surface finish could be specified in many different parameters. A large number of newly developed surface roughness parameters were conceived and the instruments to measure them were developed, due to the need for different parameters in a wide variety of machining operations. Some of the popular parameters of surface finish specification are described as follows:


                           Roughness average, R
                           
                              a
                           : this parameter is also known as the arithmetic mean roughness value, (arithmetic average) AA or (center line average) CLA. R
                           
                              a
                            is universally recognized and the most used international parameter of roughness. Therefore,
                              
                                 (5)
                                 
                                    
                                       
                                          R
                                       
                                       
                                          a
                                       
                                    
                                    =
                                    
                                       1
                                       L
                                    
                                    
                                       ∫
                                       0
                                       l
                                    
                                    
                                       
                                          |
                                          
                                             Y
                                             (
                                             x
                                             )
                                          
                                          |
                                       
                                       d
                                       x
                                    
                                 
                              
                           where R
                           
                              a
                            is the arithmetic average deviation from the mean line, L is the sampling length and y is the ordinate of the curve of the profile. It is the arithmetic mean of the deviation of the roughness profile [24], from the mean line. An example of the surface profile is as shown in 
                           Fig. 5 
                           [24]. An approximation of the average roughness R
                           
                              a
                            may be obtained by adding the Y increments, without regard to sign and dividing the sum by the number of increments

Therefore
                              
                                 (6)
                                 
                                    
                                       
                                          R
                                       
                                       
                                          a
                                       
                                    
                                    =
                                    
                                       
                                          (
                                          
                                             
                                                y
                                             
                                             
                                                1
                                             
                                          
                                          +
                                          
                                             
                                                y
                                             
                                             
                                                2
                                             
                                          
                                          +
                                          
                                             
                                                y
                                             
                                             
                                                3
                                             
                                          
                                          +
                                          
                                             
                                                y
                                             
                                             
                                                4
                                             
                                          
                                          +
                                          ⋯
                                          
                                             
                                                y
                                             
                                             
                                                n
                                             
                                          
                                          )
                                       
                                       n
                                    
                                 
                              
                           
                           Root-mean-square (rms) roughness, R
                           
                              q
                           : R
                           
                              q
                            is the root-mean-square parameter corresponding to q [24],
                              
                                 (7)
                                 
                                    
                                       
                                          R
                                       
                                       
                                          q
                                       
                                    
                                    =
                                    
                                       
                                          
                                             [
                                             
                                                
                                                   1
                                                   L
                                                
                                             
                                             ]
                                          
                                          
                                             ∫
                                             0
                                             1
                                          
                                          
                                             
                                                
                                                   (
                                                   Y
                                                   (
                                                   x
                                                   )
                                                   )
                                                
                                                2
                                             
                                             d
                                          
                                       
                                    
                                    x
                                 
                              
                           Or approximately
                              
                                 (8)
                                 
                                    
                                       
                                          R
                                       
                                       
                                          a
                                       
                                    
                                    =
                                    
                                       
                                          (
                                          
                                             
                                                y
                                             
                                             
                                                1
                                             
                                             
                                                2
                                             
                                          
                                       
                                    
                                    +
                                    
                                       
                                          y
                                       
                                       
                                          2
                                       
                                       
                                          2
                                       
                                    
                                    +
                                    
                                       
                                          y
                                       
                                       
                                          3
                                       
                                       
                                          2
                                       
                                    
                                    +
                                    
                                       
                                          y
                                       
                                       
                                          4
                                       
                                       
                                          2
                                       
                                    
                                    +
                                    
                                       
                                          y
                                       
                                       
                                          5
                                       
                                       
                                          2
                                       
                                    
                                    +
                                    ⋯
                                    
                                       
                                          y
                                       
                                       
                                          n
                                       
                                       
                                          2
                                       
                                    
                                    )
                                    /
                                    n
                                 
                              
                           
                           Maximum peak-to-valley roughness height, R
                           
                              y
                            or R
                           
                              max
                           : this is the distance between two lines parallel to the mean line that contacts the extreme upper and lower points on the profile within the roughness sampling length.


                           Ten-point height, R
                           
                              z
                           : R
                           
                              z
                            is also known as the IS0 10-point height parameter and is measured on the unfiltered profile only. It is numerically the average height difference between the five highest peaks and the five lowest valleys within the sampling length.


                           Skewness, R
                           
                              sk
                           : R
                           
                              sk
                            is the measure of the symmetry of the profile about the mean line. It will distinguish between asymmetrical profiles of the same R
                           
                              s
                            or R
                           
                              q
                            because it is sensitive to occasional deep valleys or high peaks. A negative skewness would represent profiles with deep scratches. A surface profile with valleys filled in or high peaks have positive skewness. 
                           Fig. 6 illustrates these two cases.
                              
                                 (9)
                                 
                                    
                                       
                                          R
                                       
                                       
                                          s
                                          k
                                       
                                    
                                    =
                                    
                                       1
                                       
                                          n
                                          
                                             
                                                R
                                             
                                             
                                                q
                                             
                                             
                                                3
                                             
                                          
                                       
                                    
                                    
                                       ∑
                                       1
                                       n
                                    
                                    
                                       
                                          
                                             y
                                          
                                          
                                             t
                                          
                                          
                                             3
                                          
                                       
                                    
                                 
                              
                           where n=number of data points in the profile.


                           Kurtosis, R
                           
                              ku
                           : R
                           
                              ku
                            is a measure of the sharpness of the surface profile. If R
                           
                              ku
                           <3, then distribution has relatively few high peaks and low valleys. If R
                           
                              ku
                           
                           >3, the surface has relatively many high peaks and low valleys. Therefore
                              
                                 (10)
                                 
                                    
                                       
                                          R
                                       
                                       
                                          k
                                          u
                                       
                                    
                                    =
                                    
                                       1
                                       
                                          n
                                          
                                             
                                                R
                                             
                                             
                                                q
                                             
                                             
                                                4
                                             
                                          
                                       
                                    
                                    
                                       ∑
                                       1
                                       n
                                    
                                    
                                       
                                          
                                             y
                                          
                                          
                                             t
                                          
                                          
                                             4
                                          
                                       
                                    
                                 
                              
                           where n=the number of data points in the profile.

The basic geometry of the end milling is shown in 
                           Fig. 7, where V
                           
                              c
                            is the cutting speed (rpm), D is the diameter of the cutter (mm), N
                           
                              s
                            is the rotational speed of the cutter (rpm), f
                           
                              t
                            is feed per tooth (mm/tooth), f
                           
                              r
                            
                           (f, n,) is the feed per revolution (mm/rev), n
                           
                              t
                            is the number of teeth on the cutter, f
                           
                              m
                           (f, N,) is the feed per minute (mm/min), a
                           
                              a
                            is the axial depth (mm) and a
                           
                              r
                            is the radial depth (width) of cut (mm). In end-milling operations, the theoretical surface roughness is generally dependent on the cutting tool geometry, the tool material, the workpiece geometry, the workpiece material, the cutting conditions, the cutter run-out, the mode of milling, the machine-tool rigidity, etc. However, the theoretical surface roughness, R
                           
                              a
                            for end milling can be estimated using the following equation [19–21]:
                              
                                 (11)
                                 
                                    
                                       
                                          R
                                       
                                       
                                          a
                                       
                                    
                                    =
                                    
                                       
                                          
                                             f
                                          
                                          
                                             t
                                          
                                       
                                       2
                                    
                                    /
                                    (
                                    32
                                    (
                                    R
                                    ±
                                    
                                       
                                          f
                                       
                                       
                                          t
                                       
                                    
                                    
                                       
                                          n
                                       
                                       
                                          t
                                       
                                    
                                    /
                                    Π
                                    )
                                    )
                                 
                              
                           where R, is the surface roughness CLA (μm), n, is the number of teeth on the cuter, R is the radius of the cutter, and the +ve sign refers to up milling and the −ve sign to down milling. The surface finish produced in the face-milling operating by an end-mill insert can be expressed as [22,23]:
                              
                                 (12)
                                 
                                    
                                       
                                          R
                                       
                                       
                                          a
                                       
                                    
                                    =
                                    
                                       
                                          
                                             f
                                          
                                          
                                             t
                                          
                                       
                                       2
                                    
                                    /
                                    32
                                    r
                                 
                              
                           where r is the nose radius of the end-mill insert. The actual surface roughness is usually greater than the theoretical roughness values given by the Eq. 11 and Eq. 12 because of the above expressions do not take into account vibration, deflection of the work–tool system, chatter, and the built-up-edge embedded machined.

Among several CNC industrial machining processes, milling is a fundamental machining operation. The quality of the surface plays a very important role in the performance of milling as a good-quality milled surface significantly improves fatigue strength, corrosion resistance, or creep life. Surface roughness also affects several functional attributes of parts, such as contact causing surface friction, wearing, light reflection, heat transmission, ability of distributing and holding a lubricant, coating, or resisting fatigue. Therefore, the desired finish surface is usually specified and the appropriate processes are selected to reach the required quality. Several factors will influence the final surface roughness in a CNC milling operation. The final surface roughness might be considered as the sum of two independent effects: 1) the ideal surface roughness is a result of the geometry of tool and feed rate and 2) the natural surface roughness is a result of the irregularities in the cutting operation [24]. Factors such as spindle speed, feed rate, and depth of cut that control the cutting operation can be setup in advance. However, factors such as tool geometry, tool wear, chip loads and chip formations, or the material properties of both tool and workpiece are uncontrolled [25]. Even in the occurrence of chatter or vibrations of the machine tool, defects in the structure of the work material, wear of tool, or irregularities of chip formation contribute to the surface damage in practice during machining [26]. One should develop techniques to predict the surface roughness of a product before milling in order to evaluate the fitness of machining parameters such as feed rate or spindle speed for keeping a desired surface roughness and increasing product quality. It is also important that the prediction technique should be accurate, reliable, low-cost, and non-destructive. Therefore, the purpose of this study is to develop one surface prediction technique which is termed the multiple regression prediction model and then evaluate its prediction ability.

Important factors which have impact on surface roughness are feed rate, depth of cut, cutting speed, tool angle and cooling fluid. Apart from these, factors such as tool material, nose radius, cutting forces and vibrations will also have an affect on surface roughness. Fishbone diagram below gives us clear notion of the factors responsible for surface roughness (
                           Fig. 8).

@&#METHODOLOGY@&#

This research is divided into two phases where phase one is implementing design of experiments to determine important factors from experiments and to derive regression models. Phase Two is applying fuzzy logic to predict surface roughness and to develop a surface roughness prediction model in end milling. The selection of machining parameters becomes dependent on the experience and intuition of the process engineers or machinists who specify the parameters in order to generate a required surface roughness, especially when there is no prior knowledge or cutting data. A machinability database can only give a rough approximation of the process behavior; hence machining parameters are selected conservatively. A small number of test cuts can be made to gauge the surface roughness and the machining parameters may be adjusted accordingly, yet this approach can hardly reach the optimum solution in a consistent manner. If a new set of cutting experiments is to be avoided to get the correct machining parameters, the accurate prediction of surface roughness may be a substitute for the model reformulation. Instead, surface roughness can be roughly predicted based on the anticipated process behavior that is directly inferred from the process knowledge and experience [27]. 
                     Fig. 9 illustrates a conceptual framework of methodology development which includes design of experiment sand fuzzy logic.

To develop a surface roughness model, the experiments examined the impact of the following parameters on the surface roughness in end milling: (1) feed rate, (2) spindle speed, (3) depth of cut, (4) nose radius, and (5) cutting fluid. The data needed for the training must derive from experiments rather than handbooks for a more realistic depiction of the phenomenon under investigation. The factors that are potentially taken into account are taken from literatures and are briefly analyzed first. Then, in view of the number of factors and continuous range of values that most of them take, a strategy for reduction of the number of experiments (measured values) should be devised. These factors were chosen from previous researches done in end milling. Note that design of experiments was performed based on the levels of interest for each factor.

The levels of interest for each factor are presented in 
                        Table 2. This research assumes that the three-, four- and five-factor interactions are negligible, because these high order interactions are normally assumed highly impossible in practice. Therefore, a 25−1 fractional design is selected. This resolution V design leads to 16 runs of experiments and a replicate number of three are selected, respectively. As a result, the total number of experiments is 16×3=48. The design is shown in 
                        Table 3.

The order of the 48 experiments is randomized first. Then these experiments are conducted on three-axis, vertical CNC milling machine (Cincinnati Milacron Arrow 750 CNC VMC with a 0.0001″-repeatability). A spindle touch probe (a Renishaw MP 700 surface sensing wireless probe) and a Renishaw TS27R tool setting probe are used to collect the surface roughness data. Three measurements are taken for each sample and each measurement is about 120 degrees apart. The average AA values of the three measurements from each sample are presented in Table 3.

These runs are then performed in statistical software “MINITAB” where runs are analyzed using factorial design and ANOVA is performed for surface roughness. Results from ANOVA have proven that feed rate, cutting speed and depth of cut are the three significant factors out of five factors. P values, T values R
                        2=95.54% and R
                        2 (adj.)=93.44% values proves our tests and validates the results. These three factors feed rate, cutting speed and depth of cut are taken as input factors for fuzzy logic and phase two is performed.

Fuzzy logic approach is used to construct the algorithms that predict the surface roughness. The basic concept of fuzzy logic is to categorize the variables into fuzzy sets with a degree of certainty in the numerical interval (between 0 and 1) so that the imprecision and vagueness in the data structure and human knowledge can be handled without constructing complex mathematical models [28,29]. The construction of a fuzzy algorithm is based on significant factors that were developed in Section 3 where feed rate, cutting speed and depth of cut were found to be the most significant variables to the outcome of the surface roughness. The functional relation defined by a fuzzy predictor is: f:F,C
                        
                           s
                        
                        , D→R
                        
                           a1 where f denotes nonlinear relationship between surface roughness and F (feed rate) and C
                        
                           s
                         (Cutting speed), D (Depth of cut) and R
                        
                           a1, (fuzzy output) is a subset of surface roughness R
                        
                           a
                        . The fuzzy algorithm has three inputs and a single output. Feed rate, cutting speed and depth of cut are two fuzzy inputs, where as the predicted value of surface roughness is the fuzzy output. Three fuzzy inputs are the same as the independent variables derived from DOE and ANOVA. The basic structure of the fuzzy predictor is illustrated in 
                        Fig. 10 below.

In this research, only feed rate, cutting speed and depth of cut are significant factors from empirical experiments. Therefore, these factors form as input variables which impact singleton output variable, surface roughness. Below, membership functions of these input variables are introduced next.


                           Feed rate: seven different membership functions for feed rate are chosen based on machining experts and fuzzy logic experts. The row vector of feed rate is FT={VS, S, MS, M, MF, F, VF} where VS is very slow feed rate (40mm/min); S is slow (80mm/min); MS is medium slow (110mm/min); M is medium (150mm/min); MF is medium fast (195mm/min); F is fast (240mm/min); VF is very fast (300mm/min).


                           Cutting speed: membership functions of cutting speed are divided into 3 different speeds


                           C
                           
                              s
                           ={S, M, H} where S is slow cutting speed (1200rpm); M is medium cutting speed (2600 rpm); H is high cutting speed (4000rpm).


                           Depth of cut: depth of cut also has 3 membership functions. D
                           
                              c
                           ={S, M, D} where S is shallow depth of cut (2mm); M is medium deep (10mm); D is deep (20mm).


                           Surface roughness: the output factor of fuzzy logic has been divided into 5 membership functions R
                           
                              a
                           ={VF, F, M, R, VR} where VF is very fine (30µm); F is fine (50µm); M is medium (100µm); R is rough (130µm); VRis very rough (150µm).

Surface roughness values are selected from the experiment data, which represent the average values of surface roughness under three different levels of cutting speed, depth of cut and cutting speed.

The partition of fuzzy input determines the number of rules. Since there are seven, three and three partitions for each input variable, there would be 63 rules. Basically, fuzzy rules dictate the relationship between the input variables and the output variables, which allows the proper selection of control actions according to the characteristics of the fuzzy inputs and Fuzzy outputs are obtained by the Center of Area (CoA) defuzzification method. 
                           Table 4 summarizes the fuzzy rule base defined in this study.

Milling Operation was performed on a three-axis, vertical CNC milling machine (Cincinnati Milacron Arrow 750 CNC VMC with a 0.0001″ repeatability). A spindle touch probe (a Renishaw MP 700 surface sensing wireless probe) and a Renishaw TS27R tool setting probe are used to collect the surface roughness data. All experiments are performed on Aluminum 6061 T6 and a total of 20 parts were machined using a 1-in. diameter, 2-flute cobalt high speed steel (HSS) end mill. This particular type of alloy and inserts are chosen because 6061 T6 AL has an ultimate tensile strength of at least 42,000psi (290MPa) and yield strength of at least 35,000psi (241MPa). In thicknesses of 0.250in. (6.35mm) or less, it has elongation of 8% or more; in thicker sections, it has elongation of 10%. Moreover, it presents fewer tool life problems than most other metals; it is very easy to cut, so tools have great longevity. It has low cutting forces and the mean temperature developed in aluminum chips is usually 5000–9000F with somewhat higher magnitudes at the chip/tool interface. Positive rake angles of 110, 150, and 200 are required but 200 and 260 styles are preferred to achieve both positive rakes and ample clearances. High cutting speeds are maintained throughout the experiment to delay built-up edge, reduce time in cut, and dissipate more heat into chips and less into the tool nose. Centrifugal force from higher speeds also helps to expel chips [30]. High speed steel or cobalt cutting tools are chosen for shorter production runs in non-ferrous materials and applications where machining conditions restrict the use of harder, more brittle substrates. These tools exhibit lower wear resistance and notably less heat resistance than carbide cutting tools [31].

To establish the prediction model, regression model and to find the impact of significant factors a software package MINITAB (Minitab 2005) is used to perform ANOVA and Regression analysis using the experimental data. 
                        Table 5 summarizes the DOE result and the model. Both the high R
                        2, adjusted-R
                        2 value and the zero P-value in the analysis of variance (ANOVA) presented in Table 5 shows that this model has a satisfactory goodness of fit. Among the five parameters considered, feed rate, cutting speed and depth of cut significantly affect the surface roughness independently for a significance level α=0.05. In addition, five two-factor interaction terms among these five variables also significantly affect the surface roughness for α=0.05, which are feed rate and cutting speed, feed rate and depth of cut, cutting speed and Depth of Cut, cutting speed and nose radius, depth of cut and cutting fluid. The graphs of Normal probability plot, constant variance plot, histogram plot depicts that the data is normally and evenly distributed and validates that this model has a satisfactory goodness of fit.

The fuzzyTECH 5.5i edition is a complete fuzzy logic software development system for all microcontroller devices. The graphical editor and analyzer tools provide efficient system design, optimization and verification. It generates the fuzzy logic system designed as highly optimized assembly code, thus circumventing the need for specialized hardware. It is description and capability. Its main benefits are the following graphical development environment, arbitrary curved and linear membership functions, standard MAX-MIN/MAX-DOT and advanced FAM inference methods with compensatory operators, individual rule weighting, rule blocks, various defuzzification methods (Centre of Maximum, Centre of Minimum, Centre of Area, Mean of Maximum), off line simulation with graphic tools, real-time code generation, etc. For example, 
                        Fig. 11 shows the screen output, indicating Rule 31 (If cutting speed is medium, feed rate is medium and depth of cut is shallow, then surface roughness is medium.). 
                        Fig. 12 shows the 3D plot as well as the transfer plot for Rule 31.

Ten data points are tested randomly from the machining experiment and fuzzy tech with same cutting speed, feed rate, and depth of cut. 
                        Table 6 shows the comparison of experimental data and the fuzzy output. The fuzzy output values are slightly higher than the experimental data because the fuzzy output weight for medium surface roughness is 2.12, which is higher than the first experimental data point (2.05μin). Therefore, the subsequent fuzzy output values appear higher than the experimental data. The important thing is that the gradient of the fuzzy output is very similar to that of the experimental data. This means that the fuzzy prediction can be accurate, if the construction of the output membership functions is correct. The difference of Fuzzy output and experimental R
                        
                           a
                         are shown in 
                        Fig. 13. The test results show that a surface roughness model has been successfully built, hence one can predict the surface roughness before the machining process is performed.

@&#CONCLUSIONS@&#

The purpose of this research was to develop a prediction model for surface roughness. This system is designed to provide the real-time surface roughness values need for decision-making in a more realistic industrial environment. The purpose of proposing the fuzzy model was to develop a leading to a more timely tuned prediction model. A fuzzy model of 63 rules was developed for predicting the surface roughness for a given set of inputs cutting speed, feed rate, and depth of cut. The obtained fuzzy model is capable of predicting the surface roughness for a given set of inputs (cutting speed, feed rate, and depth of cut). Therefore, the operator can predict the quality of the surface for a given set of working parameters and will be able to set the machining parameters to achieve a certain surface quality. The model is verified by comparing the fuzzy output with the experimental data used to build the empirical model. The results of these experiments are in a good agreement with those predicted using the fuzzy model. The accuracy of the obtained model is a function of the number of the rules and depends on the clustering parameters. Changing these parameters may increase the numbers of the rule that in turn affect the accuracy of the obtained model. The model resulting in the R
                     
                        a
                      value deviating the least from the actual R
                     
                        a
                      value and is regarded as the most robust surface roughness prediction model. Percentage deviation was the criterion to judge the prediction efficiency of the fuzzy model and multiple regression equation. The most important conclusion to be reported is that the developed system for the prediction and control of surface roughness as applied to the milling of aluminum block works. The accuracy of the system is 95%, as tested experimentally under realistic operating conditions. However, it is also worthwhile to comment on the degree of development effort and time. The process of generating the data and to achieve the best input to output mapping was very time consuming.

@&#ACKNOWLEDGMENT@&#

This work was partially supported by the National Science Foundation (Award # DUE-1246050) and the US Dept. of Education (Awards #P031S120131 and #P120A130061). This research was also supported by the Basic Science Research Program through the National Research Foundation of Korea (NRF) funded by the Ministry of Education (Grant no. NRF-2013R1A1A2006108). The authors wish to express sincere gratitude for their financial support received the duration of the research.

@&#REFERENCES@&#

