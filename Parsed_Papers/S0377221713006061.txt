@&#MAIN-TITLE@&#Determining near optimal base-stock levels in two-stage general inventory systems

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We consider a two-level general inventory system.


                        
                        
                           
                           We propose an easily implementable, scalable decomposition heuristic for determining base-stock levels.


                        
                        
                           
                           The base-stock levels identified by the heuristic are near optimal.


                        
                        
                           
                           Considerable improvements can be obtained compared to common- sense heuristics.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Supply chain management

Inventory management

Safety stocks

General inventory system

@&#ABSTRACT@&#


               
               
                  This paper proposes an easily implementable, scalable decomposition heuristic for determining near optimal base stocks in two-level general inventory systems. In this heuristic, the general system is decomposed into assembly systems—one for each end product. For these assembly systems, the base-stock levels are calculated separately, taking into account risk-pooling effects for the common components. Our numerical analyses yield two main insights: First, the base-stock levels determined by the heuristic are close-to-optimal. Second, considerable improvements can be obtained compared to common-sense heuristics.
               
            

@&#INTRODUCTION@&#

This paper considers a two-level general inventory system. Outside suppliers deliver components to a raw material warehouse. Customers’ demands are fulfilled from stocks of finished products. For replenishing these stocks, components are taken out of the warehouse and assembled. We have product-specific components as well as common components, which are included in the bill-of-materials of multiple end products. The assembly capacity is unlimited. The lead times for producing the finished product and for supply of components are deterministic and may be significant. There are no fixed costs for supply and assembly. Demands are stochastic. In case of shortages of finished products, demands are backordered. Both components and finished products can be held in stock at the expense of item-specific inventory holding costs. All problem parameters are stationary. The objective is to minimize the long-run average expected inventory and backorder costs.

This setting has a high practical relevance. Examples are the production of circuit boards (e.g., Grotzinger, Srinivasan, Akella, & Bollapragada, 1993) and of surgery sets (e.g., customer procedure trays at Paul Hartmann AG). Surgery sets consist of up to 60 different components. Customers can configure their sets on their own, thereby choosing between several thousands of different components. Often customers order their sets continuously during some years. Before a set can be sold, it has to be sterilized. Since sterilization and transport after assembly take at least 3weeks (including quarantine time), stocks of finished products have to be built up. Capacities can often be regarded as unlimited in this context. Assembly personnel is extendable rather easily at short-term (e.g., through flexible working hours), and sterilization activities can be outsourced. As the (deterministic) sterilization and transport times are much larger than the assembly time, the assumption of deterministic production lead times seems appropriate in this context.

In practice, inventory management in such systems is often driven by simple heuristics without focus on cost-effectiveness. We believe that a major reason for this is the lack of scalable approaches which yield near optimal solutions and do not require heavy computation. Even the potential benefits from more sophisticated methods are largely unknown. Probably the most important topics in this context are the choice of the safety stocks and the strategy for component allocation. For component allocation, we assume a fixed and—in our opinion—favorable procedure. The main contribution of this paper is a new, simple heuristic for determining the safety stocks. We assume that the inventory levels of products and components are controlled using base-stock policies. Our heuristic decomposes the general system into separate assembly systems. For these assembly systems, the optimal base stocks can be determined using standard approaches. Among those is the procedure of Shang and Song (2003), which is the base for the heuristic developed by us. The main idea of our heuristic is to take the risk-pooling effects due to component commonality into account. When calculating the base stocks of the common components, the cumulated secondary demand for all their successors is considered. Apart from our new heuristic, we evaluate two “common-sense” heuristics in computational tests: level-by-level optimization and holding stocks of finished products only. Our heuristic performs well. In all of its variants, the resulting costs increased by less than 0.9–1.2% on the average, compared to the optimal solution from enumerating all combinations of base stocks between wide upper and lower limits. Compared to the common-sense heuristics, the improvement is considerable. The solutions have been more than 7.9% cheaper.

In the literature, effective heuristics for determining safety stocks in general inventory systems are rare. Despite the significant advances during the last years (e.g., Song & Yao, 2002; Benjaafar & ElHafsi, 2006; Song & Zhao, 2009; Lu & Song, 2005; Lu, Song, & Zhao, 2010; Dogru, Reiman, & Wang, 2010; Nadar, Akan, & Scheller-Wolf, 2012), this is also true for assemble-to-order (ATO) systems (see also Song & Zipkin, 2003 for this argument). ATO systems represent an important special case of the setting investigated in this paper: In ATO systems we have negligible lead times for assembly, such that finished products are not held in inventory. (A further related problem class is the repair kit problem (e.g., Smith, Chambers, & Shlifer, 1980). This problems share with ATO systems the assumption of zero finished product inventory since repair jobs cannot be done in advance. A main difference is that for component replenishment, the repairman undertakes a tour to a central depot. Thus, the repair kit models usually consider a single period or a periodic review policy with negligible component replenishment lead times.)

We are aware of two bodies of work dealing with scalable heuristics for general inventory systems (see also Graves & Willems, 2003 & de Kok & Fransoo, 2003 for overviews). The first is the so-called “guaranteed-service model approach” (e.g., Inderfurth & Minner, 1998; Graves, Willems, & Zipkin, 2000; Humair & Willems, 2006). Here a fixed external service time and upper bounded demand are assumed. Then each stage is able to quote a guaranteed, deterministic service time to its successors, which simplifies the determination of the safety stocks. The scope differs significantly from ours because the trade-off between inventory holding and backorder costs for finished products is not optimized by these models—this trade-off is exogenously predetermined by the amount of the external service time and the demand bound.

The second body corresponds to the “stochastic-service model approach”. On the one hand, this includes large-scale, generic supply chain models where the stochastic lead times between stages are approximated by a random variable, while assuming that at most one component can be out of stock (e.g., Ettl, Feigin, Lin, & Yao, 2000). This assumption is especially critical in assembly structures with many components. There, we have a significant probability for stockouts of more than one component at one instance of time. Our heuristic does not rely on this assumption.

On the other hand, some researchers propose heuristics particularly designed for inventory systems with an assembly focus. Chew, Lee, and Lau (2010) determine safety stocks using infinitesimal perturbation analysis and a steepest descent algorithm. This requires significant problem-specific computing, in contrast to the heuristic proposed here. de Kok and Visschers (1999) propose a decomposition algorithm. For the special case where different components have the longest cumulative lead times, they outline a concrete solution procedure. More general settings, like the one investigated in this paper, are not considered. In this special case, the system is decomposed into serial systems, like our approach. The solution procedure of de Kok and Visschers (1999), however, cannot be compared with ours since its objective is different: the minimization of inventory subject to a service-level constraint. However, there is one important analogy: De Kok and Visschers solve the serial systems separately. Since they do not take risk-pooling effects into account, however, their solutions will often become suboptimal. We investigated an analogous scenario in our computational tests of Section 4 (α
                     
                        i
                     
                     =0). There, the degree of suboptimality ranged between 1.8% and 5.1% compared to the preferred variant of our heuristic.

This paper is organized as follows. Section 2 presents the model and the allocation procedure. The decomposition heuristic is described in Section 3. The computational study in Section 4 provides insights into the solution quality of the heuristic and the potential savings compared to common-sense heuristics. Section 5 concludes the paper.

Consider a two-level general inventory system. There are i
                     =1,…, m finished products. The products are assembled on resources with unlimited capacities using components j
                     =1,…, n. Denote the number of units of component j required to assemble product i by r
                     
                        ji
                     , where r
                     
                        ji
                     
                     ⩾0. The components are procured from outside suppliers with unlimited capacities. The lead times L
                     
                        i
                      and L
                     
                        j
                      for assembly and supply are deterministic. Inventory holding is allowed for all items. Denote by h
                     
                        i
                      and h
                     
                        j
                      the (local) holding costs for the products and components, respectively, per unit time. The echelon holding costs of products are 
                        
                           
                              
                                 h
                              
                              
                                 i
                              
                              
                                 e
                              
                           
                        
                     . For each product i, customers’ demand follows a Poisson process {D
                     
                        i
                     (t): t
                     >0} with rate λ
                     
                        i
                     , where D
                     
                        i
                     (t) is the cumulative demand in the interval (0,
                     t]. (Note that the heuristic is applicable for other distributions, too. Therefore, we will keep our exposition as generic as possible and highlight the settings specific to Poisson demand.) Demands are satisfied from on-hand inventory if possible. Shortages are backordered. Each unit backorder of product i incurs a (penalty) cost b
                     
                        i
                     .

The following variables are used to describe the dynamics of the system:

For the products,
                        
                           
                              
                              
                              
                                 
                                    
                                       B
                                       
                                          i
                                       (t)
                                    backorders of product i in period t,
                                 
                                 
                                    
                                       I
                                       
                                          i
                                       (t)
                                    on-hand inventory of product i in period t,
                                 
                                 
                                    
                                       IN
                                       
                                          i
                                       (t)
                                    net inventory of product i in period t, IN
                                       
                                          i
                                       (t)=
                                       I
                                       
                                          i
                                       (t)−
                                       B
                                       
                                          i
                                       (t),
                                 
                                 
                                    
                                       IO
                                       
                                          i
                                       (t)
                                    inventory on order of product i in period t,
                                 
                                 
                                    
                                       IT
                                       
                                          i
                                       (t)
                                    work-in-progress inventory of product i in period t (this corresponds to transit inventory in multiple-retailer models),
                                 
                                 
                                    
                                       ITP
                                       
                                          i
                                       (t)
                                    work-in-progress inventory position of product i in period t,
                                 
                                 
                                    
                                    
                                       ITP
                                       
                                          i
                                       (t)=
                                       IT
                                       
                                          i
                                       (t)+
                                       IN
                                       
                                          i
                                       (t).
                                 
                              
                           
                        
                     For the components,
                        
                           
                              
                              
                              
                                 
                                    
                                       W
                                       
                                          j
                                       (t)
                                    units of component j that are consumed for production in period t,
                                 
                                 
                                    
                                       I
                                       
                                          j
                                       (t)
                                    on-hand inventory of component j in period t,
                                 
                                 
                                    
                                       IO
                                       
                                          j
                                       (t)
                                    inventory on order of component j in period t.
                                 
                              
                           
                        
                     
                  

Moreover, denote D
                     
                        i
                      as the lead time demand for product i. This is a random variable with the distribution of D
                     
                        i
                     (t, t
                     +
                     L
                     
                        i
                     ]=
                     D
                     
                        i
                      (t
                     +
                     L
                     
                        i
                     )−
                     D
                     
                        i
                     (t).

The sequence of events in the system is as follows: At first, the on-hand component inventories are allocated to the outstanding orders (a). The production of finished goods is carried out and inventory replenishments from the suppliers arrive (b). The customers’ demands occur (c). The resulting inventories as well as new reorders are determined (d). Last, holding and backorder costs are calculated (e).

The allocation procedure, which determines W
                     
                        j
                     (t) and, consequently, IT
                     
                        i
                     (t) in step (a), will be described below. For actualizing the inventories in step (d), we rely on the following calculation. The net inventory of product i is determined considering the incoming and outgoing elements over the production lead time:
                        
                           (1)
                           
                              
                                 
                                    IN
                                 
                                 
                                    i
                                 
                              
                              (
                              t
                              )
                              =
                              
                                 
                                    IN
                                 
                                 
                                    i
                                 
                              
                              (
                              t
                              -
                              
                                 
                                    L
                                 
                                 
                                    i
                                 
                              
                              )
                              +
                              
                                 
                                    IT
                                 
                                 
                                    i
                                 
                              
                              (
                              t
                              -
                              
                                 
                                    L
                                 
                                 
                                    i
                                 
                              
                              )
                              -
                              
                                 
                                    D
                                 
                                 
                                    i
                                 
                              
                              
                              for
                              
                              i
                              =
                              1
                              ,
                              …
                              ,
                              m
                              .
                           
                        
                     We rely on IT
                     
                        i
                     (t) instead of IO
                     
                        i
                     (t) as incoming elements in (1) because in case of component shortages, not all orders IO
                     
                        i
                     (t) will be fulfilled within the production lead time. The amount of delayed orders for product i in period t is equal to IO
                     
                        i
                     (t)−
                     IT
                     
                        i
                     (t). From IN
                     
                        i
                     (t), we obtain I
                     
                        i
                     (t) and B
                     
                        i
                     (t) by
                        
                           
                              
                                 
                                    
                                    
                                       
                                          
                                             
                                                I
                                             
                                             
                                                i
                                             
                                          
                                          (
                                          t
                                          )
                                          =
                                          
                                             max
                                          
                                          {
                                          0
                                          ,
                                          
                                             
                                                IN
                                             
                                             
                                                i
                                             
                                          
                                          (
                                          t
                                          )
                                          }
                                          
                                          for
                                          
                                          i
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          m
                                          ,
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                             
                                                B
                                             
                                             
                                                i
                                             
                                          
                                          (
                                          t
                                          )
                                          =
                                          
                                             max
                                          
                                          {
                                          0
                                          ,
                                          -
                                          
                                             
                                                IN
                                             
                                             
                                                i
                                             
                                          
                                          (
                                          t
                                          )
                                          }
                                          
                                          for
                                          
                                          i
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          m
                                          .
                                       
                                    
                                 
                              
                           
                        
                     For the inventories of components, we have
                        
                           (2)
                           
                              
                                 
                                    I
                                 
                                 
                                    j
                                 
                              
                              (
                              t
                              )
                              =
                              
                                 
                                    I
                                 
                                 
                                    j
                                 
                              
                              (
                              t
                              -
                              
                                 
                                    L
                                 
                                 
                                    j
                                 
                              
                              )
                              -
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       τ
                                       =
                                       t
                                       -
                                       
                                          
                                             L
                                          
                                          
                                             j
                                          
                                       
                                       +
                                       1
                                    
                                    
                                       t
                                    
                                 
                              
                              
                                 
                                    W
                                 
                                 
                                    j
                                 
                              
                              (
                              τ
                              )
                              +
                              
                                 
                                    IO
                                 
                                 
                                    j
                                 
                              
                              (
                              t
                              -
                              
                                 
                                    L
                                 
                                 
                                    j
                                 
                              
                              )
                              
                              for
                              
                              j
                              =
                              1
                              ,
                              …
                              ,
                              n
                              .
                           
                        
                     Eq. (2) is constructed analogously to (1). A main difference is that we rely here on the on-hand inventories instead of the net inventories since external (back) orders on the component level are not included in our model.

For determining the reorders in step (d), assume that each product i and each component j are controlled centrally using base-stock policies. (Note that the optimal policy in this setting is not known. Dynamic programming (see, e.g., Powell, 2007) could be applied to calculate an approximately optimal policy. This approach has been used, e.g., for comparing different pull systems in Ohno (2011). For our target, the development of a simple heuristic, a predetermined policy seems to be better suited. Like most of the literature (e.g., Lu & Song, 2005), we assume a base-stock policy as a surrogate for the optimal one.) The installation base-stock levels are s
                     
                        i
                      for product i and s
                     
                        j
                      for component j. Since we have base-stock policies, the reorders are determined by
                        
                           
                              
                                 
                                    
                                    
                                       
                                          
                                             
                                                IO
                                             
                                             
                                                i
                                             
                                          
                                          (
                                          t
                                          )
                                          =
                                          
                                             
                                                s
                                             
                                             
                                                i
                                             
                                          
                                          -
                                          
                                             
                                                IN
                                             
                                             
                                                i
                                             
                                          
                                          (
                                          t
                                          )
                                          
                                          for
                                          
                                          i
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          m
                                          ,
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                             
                                                IO
                                             
                                             
                                                j
                                             
                                          
                                          (
                                          t
                                          )
                                          =
                                          
                                             
                                                s
                                             
                                             
                                                j
                                             
                                          
                                          -
                                          
                                             
                                                I
                                             
                                             
                                                j
                                             
                                          
                                          (
                                          t
                                          )
                                          
                                          for
                                          
                                          j
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          n
                                          .
                                       
                                    
                                 
                              
                           
                        
                     Next, we address the allocation (step a). For general inventory systems, the optimal allocation strategy is not known. In this paper, we develop a new strategy, which is not too complex and combines features of two strategies, which have proved favorable in special cases. (Note that our heuristic can be applied in combination with any allocation procedure. The procedure outlined here seems effective and underlies our computational tests of Section 4.) The first is “myopic allocation” (see Federgruen & Zipkin, 1984). Given a divergent system, the common component is allocated in such a way that the current costs for inventory holding and backorders are minimized. Define 
                        
                           
                              
                                 ITP
                              
                              
                                 i
                              
                              
                                 -
                              
                           
                           (
                           t
                           )
                        
                      as the inventory position of product i before allocation in period t. The inventory position after allocation is ITP
                     
                        i
                     (t). Assume that the total amount of the common component to be allocated, 
                        
                           
                              
                                 ITP
                              
                              
                                 r
                              
                           
                           (
                           t
                           )
                           =
                           
                              
                                 ∑
                              
                              
                                 i
                                 =
                                 1
                              
                              
                                 m
                              
                           
                           
                              
                                 ITP
                              
                              
                                 i
                              
                           
                           (
                           t
                           )
                        
                     , is an input data for the allocation. The costs related with product i in period t are C
                     
                        i
                     (ITP
                     
                        i
                     (t))=
                     h
                     
                        i
                     
                     I
                     
                        i
                     (t)+
                     b
                     
                        i
                     
                     B
                     
                        i
                     (t), where both I
                     
                        i
                     (t) and B
                     
                        i
                     (t) depend on ITP
                     
                        i
                     (t). Formally, myopic allocation means to choose ITP
                     
                        i
                     (t) (i
                     =1,…,
                     m) as the optimal solution to
                        
                           
                              
                                 min
                              
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         i
                                                         =
                                                         1
                                                      
                                                      
                                                         m
                                                      
                                                   
                                                
                                                
                                                   
                                                      C
                                                   
                                                   
                                                      i
                                                   
                                                
                                                (
                                                
                                                   
                                                      ITP
                                                   
                                                   
                                                      i
                                                   
                                                
                                                (
                                                t
                                                )
                                                )
                                             
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                i
                                                =
                                                1
                                             
                                             
                                                m
                                             
                                          
                                       
                                       
                                          
                                             ITP
                                          
                                          
                                             i
                                          
                                       
                                       (
                                       t
                                       )
                                       =
                                       
                                          
                                             ITP
                                          
                                          
                                             r
                                          
                                       
                                       (
                                       t
                                       )
                                       ,
                                       
                                          
                                             ITP
                                          
                                          
                                             i
                                          
                                       
                                       (
                                       t
                                       )
                                       ⩾
                                       
                                          
                                             ITP
                                          
                                          
                                             i
                                          
                                          
                                             -
                                          
                                       
                                       (
                                       t
                                       )
                                       
                                       for
                                       
                                       i
                                       =
                                       1
                                       ,
                                       …
                                       ,
                                       m
                                    
                                 
                              
                              ,
                           
                        
                     where 
                        
                           
                              
                                 ITP
                              
                              
                                 i
                              
                           
                           (
                           t
                           )
                           ∈
                           Z
                           (
                           i
                           =
                           1
                           ,
                           …
                           ,
                           m
                           )
                        
                      in case of Poisson demand.

The second strategy is no-holdback (NHB) allocation, which is used for ATO systems (see Lu et al., 2010). Here shortages of particular components may prevent the assembly of prioritized products. There are two ways to react: One is FCFS (first-come-first-served), i.e., to reserve the inventories of the available components for the prioritized products and to wait for the missing components to arrive. The other option is NHB, i.e., not to reserve inventories, but to produce the next product with available components according to the given priorities.

In this paper, we take the largest marginal cost savings in the current period as prioritization criterion—like in myopic allocation. Component inventories are not reserved—like in NHB. Instead, we allocate in case of shortages the available components to the product with the second-largest marginal cost savings, then to that with the third-largest savings, and so on.

Below we state our allocation procedure in algorithmic form. We use a fixed step size ∊ for increasing IT
                     
                        i
                     (t) (and, hence, ITP
                     
                        i
                     (t)) during the allocation. For the Poisson distribution, ∊
                     =1 holds. (For continuous distributions, the trade-off between the envisaged accuracy and the computational effort determines the step size.) To reduce the computational effort, in each step of the algorithm we only consider the relevant subset of products A
                     ⊆{1,…,
                     m}, i.e., the products with sufficient component inventory and outstanding orders. Define P
                     
                        i
                      as the set of predecessors of product i. The function determineMarginalCostReduction (IT
                     
                        i
                     (t),
                     i,
                     ∊) calculates the cost reduction for increasing IT
                     
                        i
                     (t) by ∊. In case of Poisson demand, the result of this function equals
                        
                           
                              
                                 
                                    b
                                 
                                 
                                    i
                                 
                              
                              (
                              1
                              -
                              
                                 
                                    F
                                 
                                 
                                    i
                                 
                              
                              (
                              
                                 
                                    ITP
                                 
                                 
                                    i
                                 
                              
                              +
                              ∊
                              )
                              )
                              -
                              
                                 
                                    h
                                 
                                 
                                    i
                                 
                              
                              
                                 
                                    F
                                 
                                 
                                    i
                                 
                              
                              (
                              
                                 
                                    ITP
                                 
                                 
                                    i
                                 
                              
                              +
                              ∊
                              )
                              ,
                           
                        
                     with F
                     
                        i
                     (.) as the cumulative distribution function (cdf) of D
                     
                        i
                     .
                        Algorithm 1
                        Allocation procedure
                              
                                 
                              
                           
                        

This section provides the main contribution of this paper, the new decomposition heuristic. The basic idea of the heuristic is simple: To decompose the general system into assembly systems and to calculate the optimal base-stock levels for them. For each product, the decomposition generates an assembly system, which consists of this product and its predecessors (see Fig. 1
                      for an illustration). Based on that, there is a straightforward approach for calculating the base stocks for the original, general system: At first, the optimal base stocks are separately determined for each assembly system. Then we sum up for each component the base stocks of all assembly systems. Unfortunately, this approach will usually yield suboptimal results since it overstates the inventories of the common components. This is because the synergy effects of component commonality are not accounted for. Our heuristic devises an effective way to capture these synergy effects: When we calculate the base stocks for common components, we rely on a reduced demand variability.

As a base for this calculation, we use the decomposition heuristic developed by Shang and Song (2003) for serial systems. Consider the assembly system for product i. Assume that this assembly system has been transformed into a serial system with k
                     =1,…, K stages, where K
                     =∣P
                     
                        i
                     ∣+1. (Each assembly system with deterministic component lead times can be transformed into an equivalent serial system, see Rosling, 1989.) From the last stage K, the customers’ demands for product i are satisfied. The other stages correspond to the predecessors of product i. We introduce the mapping matrix M
                     
                        i
                     (j) to link a component j to the stage k
                     <
                     K of the assembly system of product i, i.e., we set M
                     
                        i
                     (j)=
                     k. The structure of this mapping depends on the lead times of components; the components with shorter lead times form the stages nearer to the customer and vice versa. Let the echelon holding costs in the system of product i be 
                        
                           
                              
                                 h
                              
                              
                                 ki
                              
                              
                                 e
                              
                           
                           =
                           
                              
                                 h
                              
                              
                                 j
                              
                           
                        
                     , with 
                        
                           j
                           =
                           
                              
                                 M
                              
                              
                                 i
                              
                              
                                 -
                                 1
                              
                           
                           
                              
                                 
                                    k
                                 
                              
                           
                        
                      for stages k
                     <
                     K and 
                        
                           
                              
                                 h
                              
                              
                                 Ki
                              
                              
                                 e
                              
                           
                           =
                           
                              
                                 h
                              
                              
                                 i
                              
                           
                           -
                           
                              
                                 ∑
                              
                              
                                 j
                                 ∈
                                 
                                    
                                       P
                                    
                                    
                                       i
                                    
                                 
                              
                           
                           
                              
                                 h
                              
                              
                                 j
                              
                           
                        
                     . Moreover, the lead time demand is D
                     
                        ki
                     
                     =
                     D
                     
                        i
                     (t
                     +
                     L
                     
                        j
                     
                     +
                     L
                     
                        i
                     )−
                     D
                     
                        i
                     (t), with 
                        
                           j
                           =
                           
                              
                                 M
                              
                              
                                 i
                              
                              
                                 -
                                 1
                              
                           
                           (
                           k
                           )
                        
                      for stage k
                     <
                     K and D
                     
                        i
                      for stage K. The resulting echelon base-stock level is 
                        
                           
                              
                                 s
                              
                              
                                 ki
                              
                              
                                 e
                              
                           
                        
                     .

We consider two extreme scenarios for our calculation of the component base stocks. In the first one, we determine the base stocks for each assembly system separately. Then the algorithm of Shang and Song (2003) can be applied directly. Let F
                     
                        ki
                     (·) be the cdf of D
                     
                        ki
                     . Applying the formulas of Shang and Song (2003), we have:
                        
                           (3)
                           
                              
                                 
                                    s
                                 
                                 
                                    ki
                                 
                                 
                                    e
                                    ,
                                    lb
                                 
                              
                              =
                              
                                 
                                    F
                                 
                                 
                                    ki
                                 
                                 
                                    -
                                    1
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   b
                                                
                                                
                                                   i
                                                
                                             
                                             +
                                             
                                                
                                                   ∑
                                                
                                                
                                                   l
                                                   =
                                                   1
                                                
                                                
                                                   k
                                                   -
                                                   1
                                                
                                             
                                             
                                                
                                                   h
                                                
                                                
                                                   li
                                                
                                                
                                                   e
                                                
                                             
                                          
                                          
                                             
                                                
                                                   b
                                                
                                                
                                                   i
                                                
                                             
                                             +
                                             
                                                
                                                   ∑
                                                
                                                
                                                   l
                                                   =
                                                   1
                                                
                                                
                                                   K
                                                
                                             
                                             
                                                
                                                   h
                                                
                                                
                                                   li
                                                
                                                
                                                   e
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              ,
                           
                        
                     
                     
                        
                           (4)
                           
                              
                                 
                                    s
                                 
                                 
                                    ki
                                 
                                 
                                    e
                                    ,
                                    ub
                                 
                              
                              =
                              
                                 
                                    F
                                 
                                 
                                    ki
                                 
                                 
                                    -
                                    1
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   b
                                                
                                                
                                                   i
                                                
                                             
                                             +
                                             
                                                
                                                   ∑
                                                
                                                
                                                   l
                                                   =
                                                   1
                                                
                                                
                                                   k
                                                   -
                                                   1
                                                
                                             
                                             
                                                
                                                   h
                                                
                                                
                                                   li
                                                
                                                
                                                   e
                                                
                                             
                                          
                                          
                                             
                                                
                                                   b
                                                
                                                
                                                   i
                                                
                                             
                                             +
                                             
                                                
                                                   ∑
                                                
                                                
                                                   l
                                                   =
                                                   1
                                                
                                                
                                                   k
                                                
                                             
                                             
                                                
                                                   h
                                                
                                                
                                                   li
                                                
                                                
                                                   e
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              ,
                           
                        
                     
                     
                        
                           
                              
                                 
                                    s
                                 
                                 
                                    ki
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             ki
                                          
                                          
                                             e
                                             ,
                                             lb
                                          
                                       
                                       +
                                       
                                          
                                             s
                                          
                                          
                                             ki
                                          
                                          
                                             e
                                             ,
                                             ub
                                          
                                       
                                    
                                 
                              
                              /
                              2
                              .
                           
                        
                     As indicated above, the base stocks 
                        
                           
                              
                                 s
                              
                              
                                 ki
                              
                              
                                 e
                              
                           
                        
                      resulting from this recursion are usually too large for the common components. Therefore, we consider them as upper limits in our heuristic and refer to their calculation as the “variant without demand bundling”. Set 
                        
                           
                              
                                 s
                              
                              
                                 i
                              
                           
                           =
                           
                              
                                 s
                              
                              
                                 Ki
                              
                              
                                 e
                              
                           
                        
                     , and for k
                     <
                     K, set 
                        
                           
                              
                                 s
                              
                              
                                 ji
                              
                              
                                 e
                                 ,
                                 +
                              
                           
                           =
                           
                              
                                 s
                              
                              
                                 ki
                              
                              
                                 e
                              
                           
                        
                      with 
                        
                           j
                           =
                           
                              
                                 M
                              
                              
                                 i
                              
                              
                                 -
                                 1
                              
                           
                           (
                           k
                           )
                        
                     .

In the other extreme scenario, we take the complete risk-pooling effects into account. We call this the “variant with demand bundling”. This variant only applies to (component) stages k
                     <
                     K; for products, we take same values without demand bundling. We regard the resulting component base stocks as lower limits for s
                     
                        j
                      (j
                     =1,…,
                     n). Define 
                        
                           
                              
                                 
                                    
                                       D
                                    
                                    
                                       ∼
                                    
                                 
                              
                              
                                 ki
                              
                           
                        
                      as the lead time demand for stage k
                     <
                     K of the assembly system i cumulated over all successors, where primary demand sources are all products sharing the common component 
                        
                           j
                           =
                           
                              
                                 M
                              
                              
                                 i
                              
                              
                                 -
                                 1
                              
                           
                           (
                           k
                           )
                        
                     . That is to say, 
                        
                           
                              
                                 
                                    
                                       D
                                    
                                    
                                       ∼
                                    
                                 
                              
                              
                                 ki
                              
                           
                           =
                           
                              
                                 ∑
                              
                              
                                 l
                                 =
                                 1
                              
                              
                                 m
                              
                           
                           
                              
                                 r
                              
                              
                                 jl
                              
                           
                           (
                           
                              
                                 D
                              
                              
                                 l
                              
                           
                           (
                           t
                           +
                           
                              
                                 L
                              
                              
                                 l
                              
                           
                           +
                           
                              
                                 L
                              
                              
                                 j
                              
                           
                           )
                           -
                           
                              
                                 D
                              
                              
                                 l
                              
                           
                           (
                           t
                           )
                           )
                        
                      with 
                        
                           j
                           =
                           
                              
                                 M
                              
                              
                                 i
                              
                              
                                 -
                                 1
                              
                           
                           (
                           k
                           )
                        
                     . Moreover, denote by σ
                     
                        ki
                      the standard deviation of D
                     
                        ki
                     . The calculation of σ
                     
                        ki
                      depends on the demand distribution. In case of the Poisson distribution, we have σ
                     
                        ki
                     
                     =
                     λ
                     
                        i
                     (L
                     
                        j
                     
                     +
                     L
                     
                        i
                     ) with 
                        
                           j
                           =
                           
                              
                                 M
                              
                              
                                 i
                              
                              
                                 -
                                 1
                              
                           
                           (
                           k
                           )
                        
                     . To calculate the component base stocks with demand bundling, we also rely on (3) and (4), but with F
                     
                        ki
                     (·) replaced by 
                        
                           
                              
                                 
                                    
                                       F
                                    
                                    
                                       ∼
                                    
                                 
                              
                              
                                 ki
                              
                           
                           (
                           ·
                           )
                        
                     , the cdf of 
                        
                           
                              
                                 
                                    
                                       D
                                    
                                    
                                       ∼
                                    
                                 
                              
                              
                                 ki
                              
                           
                        
                     . The results of this calculation, 
                        
                           
                              
                                 s
                              
                              
                                 ki
                              
                              
                                 e
                                 ,
                                 lb
                              
                           
                        
                      and 
                        
                           
                              
                                 s
                              
                              
                                 ki
                              
                              
                                 e
                                 ,
                                 ub
                              
                           
                        
                     , are used as follows:
                        
                           (5)
                           
                              
                                 
                                    
                                       
                                          s
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    ki
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             ki
                                          
                                          
                                             e
                                             ,
                                             lb
                                          
                                       
                                       +
                                       
                                          
                                             s
                                          
                                          
                                             ki
                                          
                                          
                                             e
                                             ,
                                             ub
                                          
                                       
                                    
                                 
                              
                              /
                              2
                              ,
                           
                        
                     
                     
                        
                           (6)
                           
                              
                                 
                                    s
                                 
                                 
                                    ki
                                 
                                 
                                    e
                                 
                              
                              =
                              E
                              [
                              
                                 
                                    D
                                 
                                 
                                    ki
                                 
                              
                              ]
                              +
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   s
                                                
                                                
                                                   ̃
                                                
                                             
                                          
                                          
                                             ki
                                          
                                          
                                             e
                                          
                                       
                                       -
                                       E
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            D
                                                         
                                                         
                                                            ∼
                                                         
                                                      
                                                   
                                                   
                                                      ki
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          r
                                       
                                       
                                          ji
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          ki
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          l
                                          =
                                          1
                                       
                                       
                                          m
                                       
                                    
                                    
                                       
                                          r
                                       
                                       
                                          jl
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          kl
                                       
                                    
                                 
                              
                              ,
                              
                              with
                              
                              j
                              =
                              
                                 
                                    M
                                 
                                 
                                    i
                                 
                                 
                                    -
                                    1
                                 
                              
                              (
                              k
                              )
                              .
                           
                        
                     In (5), we determine for component 
                        
                           j
                           =
                           
                              
                                 M
                              
                              
                                 i
                              
                              
                                 -
                                 1
                              
                           
                           (
                           k
                           )
                        
                      the base stock which covers the total secondary demand. From this base stock, we separate in (6) the safety stock and assign to 
                        
                           
                              
                                 s
                              
                              
                                 ki
                              
                              
                                 e
                              
                           
                        
                      a fraction proportional to r
                     
                        ji
                     
                     σ
                     
                        ki
                     . Then we set 
                        
                           
                              
                                 s
                              
                              
                                 ji
                              
                              
                                 e
                                 ,
                                 -
                              
                           
                           =
                           
                              
                                 s
                              
                              
                                 ki
                              
                              
                                 e
                              
                           
                        
                      with 
                        
                           j
                           =
                           
                              
                                 M
                              
                              
                                 i
                              
                              
                                 -
                                 1
                              
                           
                           (
                           k
                           )
                        
                     .

Finally, the component base stocks for the entire system, 
                        
                           
                              
                                 s
                              
                              
                                 j
                              
                              
                                 e
                              
                           
                           (
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                           )
                        
                     , are computed as weighted sums of 
                        
                           
                              
                                 s
                              
                              
                                 ji
                              
                              
                                 e
                                 ,
                                 +
                              
                           
                        
                      and 
                        
                           
                              
                                 s
                              
                              
                                 ji
                              
                              
                                 e
                                 ,
                                 -
                              
                           
                        
                     :
                        
                           (7)
                           
                              
                                 
                                    s
                                 
                                 
                                    j
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                       ,
                                       
                                          
                                             r
                                          
                                          
                                             ji
                                          
                                       
                                       >
                                       0
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             α
                                          
                                          
                                             i
                                          
                                       
                                       
                                          
                                             s
                                          
                                          
                                             ji
                                          
                                          
                                             e
                                             ,
                                             +
                                          
                                       
                                       +
                                       (
                                       1
                                       -
                                       
                                          
                                             α
                                          
                                          
                                             i
                                          
                                       
                                       )
                                       
                                          
                                             s
                                          
                                          
                                             ji
                                          
                                          
                                             e
                                             ,
                                             -
                                          
                                       
                                    
                                 
                              
                              .
                           
                        
                     The optimal choice of the weighting parameter α
                     
                        i
                      (0⩽
                     α
                     
                        i
                     
                     ⩽1, i
                     =1,…, m) will be discussed at the end of this section.

Next, we will illustrate the heuristic for a divergent system. Consider a system of one component and two products, where h
                     1
                     =
                     h
                     2 and b
                     1
                     =
                     b
                     2. We rely here on the so-called “balance assumption”. This assumption allows to (disassemble and) redistribute costlessly and instantaneously the on-hand inventories, backorders and work-in-progress inventories of products during the allocation (step (a), see Section 2). While not completely realistic, this assumption is an appropriate approximation and makes the divergent system analytically tractable. In particular, myopic allocation is optimal then. Moreover, given h
                     1
                     =
                     h
                     2 and b
                     1
                     =
                     b
                     2, the divergent system reduces to a (single) serial system, for which the optimal base-stock policy is known (see, e.g., Zipkin, 2000).

When applying our heuristic to this divergent system, the system gets decomposed into two serial systems, consisting of product 1 and component 1, and product 2 and component 1, respectively. Consider the demand bundling case (α
                     
                        i
                     
                     =0). Here we have
                        
                           (8)
                           
                              
                                 
                                    s
                                 
                                 
                                    1
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    s
                                 
                                 
                                    11
                                 
                                 
                                    e
                                    ,
                                    -
                                 
                              
                              +
                              
                                 
                                    s
                                 
                                 
                                    12
                                 
                                 
                                    e
                                    ,
                                    -
                                 
                              
                              =
                              E
                              [
                              
                                 
                                    D
                                 
                                 
                                    11
                                 
                              
                              ]
                              +
                              (
                              
                                 
                                    
                                       
                                          s
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    11
                                 
                                 
                                    e
                                 
                              
                              -
                              E
                              [
                              
                                 
                                    
                                       
                                          D
                                       
                                       
                                          ∼
                                       
                                    
                                 
                                 
                                    11
                                 
                              
                              ]
                              )
                              
                                 
                                    
                                       
                                          r
                                       
                                       
                                          11
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          11
                                       
                                    
                                 
                                 
                                    
                                       
                                          r
                                       
                                       
                                          11
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          11
                                       
                                    
                                    +
                                    
                                       
                                          r
                                       
                                       
                                          12
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          12
                                       
                                    
                                 
                              
                              +
                              E
                              [
                              
                                 
                                    D
                                 
                                 
                                    12
                                 
                              
                              ]
                              +
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   s
                                                
                                                
                                                   ̃
                                                
                                             
                                          
                                          
                                             12
                                          
                                          
                                             e
                                          
                                       
                                       -
                                       E
                                       [
                                       
                                          
                                             
                                                
                                                   D
                                                
                                                
                                                   ∼
                                                
                                             
                                          
                                          
                                             12
                                          
                                       
                                       ]
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          r
                                       
                                       
                                          12
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          12
                                       
                                    
                                 
                                 
                                    
                                       
                                          r
                                       
                                       
                                          11
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          11
                                       
                                    
                                    +
                                    
                                       
                                          r
                                       
                                       
                                          12
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          12
                                       
                                    
                                 
                              
                              =
                              E
                              [
                              
                                 
                                    D
                                 
                                 
                                    11
                                 
                              
                              ]
                              +
                              E
                              [
                              
                                 
                                    D
                                 
                                 
                                    12
                                 
                              
                              ]
                              +
                              
                                 
                                    
                                       
                                          s
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    11
                                 
                                 
                                    e
                                 
                              
                              -
                              E
                              [
                              
                                 
                                    
                                       
                                          D
                                       
                                       
                                          ∼
                                       
                                    
                                 
                                 
                                    11
                                 
                              
                              ]
                              =
                              
                                 
                                    
                                       
                                          s
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    11
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          s
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    12
                                 
                                 
                                    e
                                 
                              
                              .
                           
                        
                     The same base-stock level 
                        
                           
                              
                                 
                                    
                                       s
                                    
                                    
                                       ̃
                                    
                                 
                              
                              
                                 11
                              
                              
                                 e
                              
                           
                           =
                           
                              
                                 
                                    
                                       s
                                    
                                    
                                       ̃
                                    
                                 
                              
                              
                                 12
                              
                              
                                 e
                              
                           
                        
                      results from a direct application of the heuristic of Shang and Song (2003) to the single serial system into which the original distribution system can be transferred. That means, our heuristic yields the same result as directly solving the centralized problem by the approach of Shang and Song (2003).

In case of normally distributed demand, a further interesting interpretation of the lower-limit component base stocks can be obtained. (A normal distribution is a common approximation for a Poisson distribution, see, e.g., Zipkin (2000). We rely on this distribution type in this paragraph since our insights can be conveyed more clearly that way.) Then the base stock can be calculated as the sum of the expected lead time demand and a safety stock that depends on the standard deviation of the lead time demand:
                        
                           (9)
                           
                              
                                 
                                    
                                       
                                          s
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    11
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          s
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    12
                                 
                                 
                                    e
                                 
                              
                              =
                              E
                              [
                              
                                 
                                    
                                       
                                          D
                                       
                                       
                                          ∼
                                       
                                    
                                 
                                 
                                    11
                                 
                              
                              ]
                              +
                              
                                 
                                    
                                       
                                          σ
                                       
                                       
                                          ̃
                                       
                                    
                                 
                                 
                                    11
                                 
                              
                              
                                 
                                    f
                                 
                                 
                                    ext
                                 
                              
                              ,
                           
                        
                     where f
                     
                        ext
                      is an external safety factor and 
                        
                           
                              
                                 
                                    
                                       σ
                                    
                                    
                                       ̃
                                    
                                 
                              
                              
                                 11
                              
                           
                        
                      the standard deviation of 
                        
                           
                              
                                 
                                    
                                       D
                                    
                                    
                                       ∼
                                    
                                 
                              
                              
                                 11
                              
                           
                        
                     . Combining (9) with (6) yields
                        
                           (10)
                           
                              
                                 
                                    s
                                 
                                 
                                    1
                                    i
                                 
                                 
                                    e
                                    ,
                                    -
                                 
                              
                              =
                              E
                              [
                              
                                 
                                    D
                                 
                                 
                                    1
                                    i
                                 
                              
                              ]
                              +
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   s
                                                
                                                
                                                   ̃
                                                
                                             
                                          
                                          
                                             1
                                             i
                                          
                                          
                                             e
                                          
                                       
                                       -
                                       E
                                       [
                                       
                                          
                                             
                                                
                                                   D
                                                
                                                
                                                   ∼
                                                
                                             
                                          
                                          
                                             1
                                             i
                                          
                                       
                                       ]
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          r
                                       
                                       
                                          1
                                          i
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          1
                                          i
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          l
                                          =
                                          1
                                       
                                       
                                          m
                                       
                                    
                                    
                                       
                                          r
                                       
                                       
                                          1
                                          l
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          1
                                          l
                                       
                                    
                                 
                              
                              =
                              E
                              [
                              
                                 
                                    D
                                 
                                 
                                    1
                                    i
                                 
                              
                              ]
                              +
                              
                                 
                                    
                                       E
                                       [
                                       
                                          
                                             
                                                
                                                   D
                                                
                                                
                                                   ∼
                                                
                                             
                                          
                                          
                                             1
                                             i
                                          
                                       
                                       ]
                                       +
                                       
                                          
                                             
                                                
                                                   σ
                                                
                                                
                                                   ̃
                                                
                                             
                                          
                                          
                                             1
                                             i
                                          
                                       
                                       
                                          
                                             f
                                          
                                          
                                             ext
                                          
                                       
                                       -
                                       E
                                       [
                                       
                                          
                                             
                                                
                                                   D
                                                
                                                
                                                   ∼
                                                
                                             
                                          
                                          
                                             1
                                             i
                                          
                                       
                                       ]
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          r
                                       
                                       
                                          1
                                          i
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          1
                                          i
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          l
                                          =
                                          1
                                       
                                       
                                          m
                                       
                                    
                                    
                                       
                                          r
                                       
                                       
                                          1
                                          l
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          1
                                          l
                                       
                                    
                                 
                              
                              =
                              E
                              [
                              
                                 
                                    D
                                 
                                 
                                    1
                                    i
                                 
                              
                              ]
                              +
                              
                                 
                                    σ
                                 
                                 
                                    1
                                    i
                                 
                              
                              
                                 
                                    
                                       
                                          r
                                       
                                       
                                          1
                                          i
                                       
                                    
                                    
                                       
                                          
                                             
                                                σ
                                             
                                             
                                                ̃
                                             
                                          
                                       
                                       
                                          1
                                          i
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          l
                                          =
                                          1
                                       
                                       
                                          m
                                       
                                    
                                    
                                       
                                          r
                                       
                                       
                                          1
                                          l
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          1
                                          l
                                       
                                    
                                 
                              
                              
                                 
                                    f
                                 
                                 
                                    ext
                                 
                              
                              ,
                              
                              i
                              =
                              1
                              ,
                              2
                              .
                           
                        
                     The result of (10) is precisely the component base stock for the separate serial system of product i calculated analogously to (9), however with a demand variability reduced by the risk-pooling factor 
                        
                           
                              
                                 r
                              
                              
                                 1
                                 i
                              
                           
                           
                              
                                 
                                    
                                       σ
                                    
                                    
                                       ̃
                                    
                                 
                              
                              
                                 11
                              
                           
                           /
                           
                              
                                 ∑
                              
                              
                                 l
                                 =
                                 1
                              
                              
                                 m
                              
                           
                           
                              
                                 r
                              
                              
                                 1
                                 l
                              
                           
                           
                              
                                 σ
                              
                              
                                 1
                                 l
                              
                           
                        
                     . This is another interpretation of what the heuristic does: It performs a (standard) calculation of the base stocks with a reduced demand variability for the common components.

In general systems, we adhere to the same methodology. However, myopic allocation is a less accurate approximation here and may result in too low component base stocks. On the one hand—as it has been recognized for distribution systems (see, e.g., Zipkin, 2000)—myopic allocation ignores some of the risk-pooling effects of common components. On the other hand, due to the assembly elements in general structures, we need an exact match of components for each finished product. If there is no such a match, the stocks of the available components cannot be used for demand fulfillment and become “dead” stocks in the current period. This is a further reason for increasing the stocks of the common components since dead stocks of single-purpose components are less probable then. Therefore, we propose to set α
                     
                        i
                     
                     >0. For an indication which values of α
                     
                        i
                      are most appropriate, we refer to our computational study of Section 4. There, the total costs are approximately convex functions of α
                     
                        i
                      with fairly broad minima around α
                     
                        i
                     
                     ∈[0.3,0.65].


                     Algorithm 2 summarizes the decomposition heuristic. The function sortPi() yields 
                        
                           
                              
                                 P
                              
                              
                                 i
                              
                              
                                 s
                              
                           
                        
                     , the set of predecessors of product i sorted according to ascending lead times. For the sorting, any efficient procedure (e.g., quicksort) can be applied.
                        Algorithm 2
                        Decomposition heuristic
                              
                                 
                              
                           
                        

Note that the inputs for the heuristic are limited to common data for supply chain modeling. Apart from the system structure and cost factors, we need estimations about the primary demands D
                     
                        i
                      (i
                     =1,…,
                     m) and the cumulative secondary demands 
                        
                           
                              
                                 
                                    
                                       D
                                    
                                    
                                       ∼
                                    
                                 
                              
                              
                                 ji
                              
                           
                           
                           (
                           i
                           =
                           1
                           ,
                           …
                           ,
                           m
                           ,
                           j
                           =
                           1
                           ,
                           …
                           ,
                           n
                           )
                        
                     . The secondary demands can be obtained by folding the primary demands. Alternatively, when the demand data are estimated from the past, the secondary demands are directly observable (e.g., as the result of a previous MRP run). Then the computational effort is equivalent to that for determining optimal base stocks in the decomposed serial inventory systems.

Two major questions for determining the theoretical and practical value of the heuristic are:
                           
                              •
                              What is the optimality gap of the heuristic?

How relevant is it to have near optimal base stocks? How large are the savings compared to common-sense strategies?

We have conducted a computational study to obtain insights into these questions. There, we have evaluated 1664 test instances using simulation. These instances are based on different combinations of parameters regarding the system structure and the proportions of item-specific values such as lead times and backorder costs. The simulations have been run for 20,000 time periods with 20 replications. To evaluate the accuracy of the simulations, we have calculated confidence intervals for I
                        
                           i
                        (t) (i
                        =1,…,
                        m) and I
                        
                           j
                        (t) (j
                        =1,…,
                        n) based on a Student distribution and a confidence level of 99%. When evaluating the base stocks resulting from our heuristic by simulation, the average widths of these intervals have been smaller than 0.32% of their averages. This suggests that our results are representative. In the symmetric instances, the installation base stocks of upstream echelons k have been set equal to their equivalents in downstream echelons l
                        >
                        k.

We have calculated c
                        
                           h
                        , the costs from our heuristic, with α
                        
                           i
                        
                        =0.5. We have compared c
                        
                           h
                         with the (near) optimal costs c
                        ∗ resulting from enumerating all base-stocks levels between wide, predetermined upper and lower limits (the determination of these limits is explained below), the minimum costs c
                        
                           he
                         from enumerating all combinations of 0⩽
                        α
                        
                           i
                        
                        ⩽1 with a step size of 0.05, as well as the costs from two simple heuristics observable in practice: Level-by level optimization (c
                        
                           l
                        ) and holding only finished products but no components in inventory (c
                        
                           f
                        ). For all these heuristics, we assume that base-stock policies and the allocation procedure described in Section 2 are applied. All resulting reorder levels have been rounded to the next integer.

In level-by-level optimization, the optimal base stocks are determined sequentially for finished products and components. Then the system can be decomposed into separate single-item systems that can be optimized locally. For this purpose, we need to assume deterministic availability of components and internal backorder costs 
                           
                              
                                 
                                    
                                       
                                          b
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    j
                                 
                              
                           
                         for component shortages. Given that components are always available, the lead times for replenishing products i (i
                        =1,…,
                        m) are equal to L
                        
                           i
                        . Let S
                        
                           j
                         be the set of successors of component j. For calculating the internal backorder costs, we propose the following approach, which balances holding and backorder costs:
                           
                              
                                 
                                    
                                       
                                          
                                             b
                                          
                                          
                                             ˆ
                                          
                                       
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          
                                             
                                                S
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             b
                                          
                                          
                                             i
                                          
                                       
                                       
                                          
                                             h
                                          
                                          
                                             j
                                          
                                       
                                    
                                    
                                       
                                          
                                             h
                                          
                                          
                                             i
                                          
                                       
                                       
                                          
                                             r
                                          
                                          
                                             ji
                                          
                                       
                                       |
                                       
                                          
                                             P
                                          
                                          
                                             i
                                          
                                       
                                       |
                                    
                                 
                                 .
                              
                           
                        Then the locally optimal base stocks can be calculated using the newsvendor formula:
                           
                              (11)
                              
                                 
                                    
                                       
                                       
                                          
                                             
                                                
                                                   s
                                                
                                                
                                                   i
                                                
                                             
                                             =
                                             
                                                
                                                   F
                                                
                                                
                                                   i
                                                
                                                
                                                   -
                                                   1
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  b
                                                               
                                                               
                                                                  i
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  b
                                                               
                                                               
                                                                  i
                                                               
                                                            
                                                            +
                                                            
                                                               
                                                                  h
                                                               
                                                               
                                                                  i
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                             for
                                             
                                             i
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             m
                                             ,
                                          
                                       
                                    
                                    
                                       
                                       
                                          
                                             
                                                
                                                   s
                                                
                                                
                                                   j
                                                
                                             
                                             =
                                             
                                                
                                                   
                                                      
                                                         F
                                                      
                                                      
                                                         ∼
                                                      
                                                   
                                                
                                                
                                                   j
                                                
                                                
                                                   -
                                                   1
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        b
                                                                     
                                                                     
                                                                        ˆ
                                                                     
                                                                  
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        b
                                                                     
                                                                     
                                                                        ˆ
                                                                     
                                                                  
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                            +
                                                            
                                                               
                                                                  h
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                             for
                                             
                                             j
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             n
                                             .
                                          
                                       
                                    
                                    
                                       
                                          
                                       
                                    
                                 
                              
                           
                        
                     

If only finished products are held in stock, the general system decomposes into single-item systems, too. Here, we again apply (11), with the following adjustment: For the lead time we take the sum of the assembly lead time for product i and the maximum supply lead time of its predecessors. That is to say, we set F
                        
                           i
                        () equal to the cdf of 
                           
                              
                                 
                                    D
                                 
                                 
                                    i
                                 
                              
                              (
                              t
                              +
                              
                                 
                                    L
                                 
                                 
                                    i
                                 
                              
                              +
                              
                                 
                                    max
                                 
                                 
                                    j
                                    ∈
                                    
                                       
                                          P
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              {
                              
                                 
                                    L
                                 
                                 
                                    j
                                 
                              
                              }
                              )
                              -
                              
                                 
                                    D
                                 
                                 
                                    i
                                 
                              
                              (
                              t
                              )
                           
                        .

The identification of an optimal solution raises significant problems. We are not aware of any efficient procedure for determining optimal base stocks in the setting considered here. For discrete demand distributions such as the Poisson distribution, complete enumeration can be applied. However, the number of stock levels to be investigated increases exponentially with the number of products and components. To limit the computational effort, we restrict the scope of the enumeration as follows: First, for the test instances with a symmetric structure, we conjecture that symmetric base stocks are near optimal, and limit our search to them. Second, we start the enumeration at lower bounds 
                           
                              
                                 
                                    s
                                 
                                 
                                    i
                                 
                                 
                                    enum
                                    ,
                                    -
                                 
                              
                              ,
                              
                              
                                 
                                    s
                                 
                                 
                                    j
                                 
                                 
                                    enum
                                    ,
                                    -
                                 
                              
                           
                         and proceed up to upper bounds 
                           
                              
                                 
                                    s
                                 
                                 
                                    i
                                 
                                 
                                    enum
                                    ,
                                    +
                                 
                              
                              ,
                              
                              
                                 
                                    s
                                 
                                 
                                    j
                                 
                                 
                                    enum
                                    ,
                                    +
                                 
                              
                           
                        . For the products, we construct the bounds similarly as Gallego, Özer, and Zipkin (2007) do: The upper bounds are set equal to the base stocks chosen in case of holding product inventories only. (Gallego et al., 2007 conjecture that the optimal base stocks will not exceed this upper bound when holding nonzero inventory of components.) As 
                           
                              
                                 
                                    s
                                 
                                 
                                    i
                                 
                                 
                                    enum
                                    ,
                                    -
                                 
                              
                           
                        , we take the base stocks from level-by-level optimization. These base stocks should underestimate the optimal ones since they presume complete component availability. Regarding the components, Gallego et al. (2007) take 
                           
                              
                                 
                                    ∑
                                 
                                 
                                    i
                                    =
                                    1
                                 
                                 
                                    m
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    ji
                                 
                                 
                                    e
                                    ,
                                    +
                                 
                              
                           
                         as upper bounds. In general systems, however, the existence of a common component may slightly increase the optimal base stocks of single-purpose components compared to 
                           
                              
                                 
                                    ∑
                                 
                                 
                                    i
                                    =
                                    1
                                 
                                 
                                    m
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    ji
                                 
                                 
                                    e
                                    ,
                                    +
                                 
                              
                           
                         (see Baker, Magazine, & Nuttle, 1986). To account for these effects, we define
                           
                              
                                 
                                    
                                       s
                                    
                                    
                                       ji
                                    
                                    
                                       max
                                    
                                 
                                 =
                                 E
                                 (
                                 
                                    
                                       D
                                    
                                    
                                       j
                                    
                                 
                                 )
                                 +
                                 
                                    
                                       
                                          max
                                       
                                       
                                          l
                                          ∈
                                          
                                             
                                                P
                                             
                                             
                                                i
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                s
                                             
                                             
                                                li
                                             
                                             
                                                e
                                                ,
                                                +
                                             
                                          
                                          -
                                          E
                                          (
                                          
                                             
                                                D
                                             
                                             
                                                l
                                             
                                          
                                          )
                                       
                                    
                                 
                              
                           
                        and set
                           
                              
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                    
                                       enum
                                       ,
                                       +
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          =
                                          1
                                          ,
                                          
                                             
                                                r
                                             
                                             
                                                ji
                                             
                                          
                                          >
                                          0
                                       
                                       
                                          m
                                       
                                    
                                 
                                 
                                    
                                       s
                                    
                                    
                                       ji
                                    
                                    
                                       max
                                    
                                 
                                 .
                              
                           
                        For the lower bound base stocks, we set 
                           
                              
                                 
                                    s
                                 
                                 
                                    j
                                 
                                 
                                    enum
                                    ,
                                    -
                                 
                              
                              =
                              0
                           
                        . In general, all upper bounds have been rounded up and all lower bounds rounded down.

To obtain representative results, we have investigated different input parameters and performed sensitivity analyses. We consider several structures, the well-known “system-W” and “system-M” as well as 3 larger general structures—termed “system-G1”, “system-G2”, and “system-G3” here (see Fig. 2
                        ). For all structures we choose r
                        
                           ij
                        
                        ∈{0,1}.

We focus on symmetric data since the computational effort for enumerating base-stock levels is much lower here. For the system-W, that means we have equal parameters for products 1 and 2, and for components 3 and 5, respectively. In total, we consider all of the following parameters combinations: 
                           
                              
                                 
                                    h
                                 
                                 
                                    1
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    h
                                 
                                 
                                    2
                                 
                                 
                                    e
                                 
                              
                              ∈
                              {
                              0.5
                              ,
                              3
                              }
                           
                        , h
                        3
                        =
                        h
                        5
                        ∈{0.5,3}, h
                        4
                        ∈{0.5,3}, b
                        1
                        =
                        b
                        2
                        ∈{20,120}, L
                        1
                        =
                        L
                        2
                        ∈{1,3}, L
                        3
                        =
                        L
                        5
                        ∈{1,2}, L
                        4
                        ∈{1,2}, and λ
                        1
                        =
                        λ
                        2
                        ∈{1,2,3}. That way, 384 test instances have been obtained. Similarly to the other structures, these instances cover a broad range of different service-levels in their optimal solutions. For the products, the service-levels cover the range [67.1%,99.7%], and for the components, the (internal) service-levels cover [0%,99.2%].

We proceed analogously with the other structures. For the system-M, we obtain 1024 instances by combining 
                           
                              
                                 
                                    h
                                 
                                 
                                    1
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    h
                                 
                                 
                                    3
                                 
                                 
                                    e
                                 
                              
                              ∈
                              {
                              0.5
                              ,
                              3
                              }
                           
                        , 
                           
                              
                                 
                                    h
                                 
                                 
                                    2
                                 
                                 
                                    e
                                 
                              
                              ∈
                              {
                              0.5
                              ,
                              3
                              }
                           
                        , h
                        4
                        =
                        h
                        5
                        ∈{0.5,3}, b
                        1
                        =
                        b
                        3
                        ∈{20,120}, b
                        2
                        ∈{20,120}, L
                        1
                        =
                        L
                        3
                        ∈{1,3}, L
                        2
                        ∈{1,3}, L
                        4
                        =
                        L
                        5
                        ∈{1,2}, λ
                        1
                        =
                        λ
                        3
                        ∈{1,2}, and λ
                        2
                        ∈{1,2}. For the system-G1, we have generated 256 instances using the following parameters: 
                           
                              
                                 
                                    h
                                 
                                 
                                    1
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    h
                                 
                                 
                                    3
                                 
                                 
                                    e
                                 
                              
                              ∈
                              {
                              0.5
                              ,
                              
                              3
                              }
                           
                        , h
                        4
                        =
                        h
                        6
                        ∈{0.5,3}, 
                           
                              
                                 
                                    h
                                 
                                 
                                    2
                                 
                                 
                                    e
                                 
                              
                              =
                              2
                           
                        , h
                        5
                        ∈{0.5,3}, b
                        1
                        =
                        b
                        3
                        ∈{20,120}, b
                        2
                        ∈{20,120}, L
                        1
                        =
                        L
                        3
                        =
                        L
                        4
                        =
                        L
                        5
                        =
                        L
                        6
                        =1, L
                        2
                        ∈{1,2}, λ
                        1
                        =
                        λ
                        3
                        =1, and λ
                        2
                        ∈{1,2}. The instances for the system-G2 are combinations of: 
                           
                              
                                 
                                    h
                                 
                                 
                                    1
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    h
                                 
                                 
                                    3
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    h
                                 
                                 
                                    5
                                 
                                 
                                    e
                                 
                              
                              =
                              2
                           
                        , 
                           
                              
                                 
                                    h
                                 
                                 
                                    2
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    h
                                 
                                 
                                    4
                                 
                                 
                                    e
                                 
                              
                              ∈
                              {
                              0.5
                              ,
                              3
                              }
                           
                        , h
                        6
                        =
                        h
                        7
                        ∈{0.5,3}, b
                        1
                        =
                        b
                        5
                        =60, b
                        3
                        ∈{20,120}, b
                        2
                        =
                        b
                        4
                        ∈{20,120}, L
                        1
                        =
                        L
                        2
                        =
                        L
                        3
                        =
                        L
                        4
                        =
                        L
                        5
                        =1, L
                        6
                        =
                        L
                        7
                        ∈{1,2}, λ
                        1
                        =
                        λ
                        2
                        =
                        λ
                        4
                        =
                        λ
                        5
                        =1, and λ
                        3
                        ∈{1,2}. For the system-G3, the parameter combinations are: 
                           
                              
                                 
                                    h
                                 
                                 
                                    1
                                 
                                 
                                    e
                                 
                              
                              =
                              
                                 
                                    h
                                 
                                 
                                    3
                                 
                                 
                                    e
                                 
                              
                              ∈
                              {
                              0.5
                              ,
                              3
                              }
                              ,
                              
                              
                                 
                                    h
                                 
                                 
                                    2
                                 
                                 
                                    e
                                 
                              
                              =
                              2
                           
                        , h
                        4
                        =
                        h
                        7
                        =2, h
                        5
                        =
                        h
                        6
                        ∈{0.5,3}, b
                        1
                        =
                        b
                        3
                        ∈{20,120}, b
                        2
                        =60, L
                        1
                        =
                        L
                        2
                        =
                        L
                        3
                        =
                        L
                        4
                        =
                        L
                        7
                        =1, L
                        5
                        =
                        L
                        6
                        ∈{1,2}, and λ
                        1
                        =
                        λ
                        2
                        =
                        λ
                        3
                        =1.

For asymmetric data, we limit to the system-W and the system-M. For the former, we have generated 32 instances based on combinations of 
                           
                              
                                 
                                    h
                                 
                                 
                                    1
                                 
                                 
                                    e
                                 
                              
                              ∈
                              {
                              0.5
                              ,
                              3
                              }
                              ,
                              
                              
                                 
                                    h
                                 
                                 
                                    2
                                 
                                 
                                    e
                                 
                              
                              =
                              2
                           
                        , h
                        3
                        =2, h
                        4
                        ∈{0.5,3}, h
                        5
                        ∈{0.5,3}, b
                        1
                        ∈{20,120}, b
                        2
                        =60, L
                        1
                        =
                        L
                        2
                        =
                        L
                        3
                        =
                        L
                        4
                        =
                        L
                        5
                        =1, and λ
                        1
                        =
                        λ
                        2
                        =1. For the system-M, we obtained 16 instances by combining 
                           
                              
                                 
                                    h
                                 
                                 
                                    1
                                 
                                 
                                    e
                                 
                              
                              =
                              2
                              ,
                              
                                 
                                    h
                                 
                                 
                                    2
                                 
                                 
                                    e
                                 
                              
                              ∈
                              {
                              0.5
                              ,
                              3
                              }
                              ,
                              
                              
                                 
                                    h
                                 
                                 
                                    3
                                 
                                 
                                    e
                                 
                              
                              =
                              1
                           
                        , h
                        4
                        ∈{0.5,3}, h
                        5
                        =2, b
                        1
                        =60, b
                        2
                        ∈{20,120}, b
                        3
                        ∈{20,120}, L
                        1
                        =
                        L
                        2
                        =
                        L
                        3
                        =
                        L
                        4
                        =
                        L
                        5
                        =1, and λ
                        1
                        =
                        λ
                        2
                        =
                        λ
                        3
                        =1.

@&#RESULTS@&#

As the main indicator for the performance of the heuristic, we take δ
                        
                           h
                        
                        =(c
                        
                           h
                        
                        −
                        c
                        ∗)/c
                        ∗, the percentage cost increase of the heuristic compared to the best solution from enumeration. Analogously, define δ
                        
                           he
                        
                        =(c
                        
                           he
                        
                        −
                        c
                        ∗)/c
                        ∗, δ
                        
                           l
                        
                        =(c
                        
                           l
                        
                        −
                        c
                        ∗)/c
                        ∗ and δ
                        
                           f
                        
                        =(c
                        
                           f
                        
                        −
                        c
                        ∗)/c
                        ∗. Let 
                           
                              
                                 
                                    δ
                                 
                                 
                                    u
                                 
                                 
                                    h
                                 
                              
                           
                        , 
                           
                              
                                 
                                    δ
                                 
                                 
                                    u
                                 
                                 
                                    he
                                 
                              
                              ,
                              
                                 
                                    δ
                                 
                                 
                                    u
                                 
                                 
                                    l
                                 
                              
                           
                        , and 
                           
                              
                                 
                                    δ
                                 
                                 
                                    u
                                 
                                 
                                    f
                                 
                              
                           
                         denote the respective values for test instances u
                        =1,…, U, with U as the number of test instances. Define 
                           
                              
                                 
                                    
                                       
                                          D
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    iu
                                 
                              
                           
                         and 
                           
                              
                                 
                                    
                                       
                                          B
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    iu
                                 
                              
                           
                         as the averages of D
                        
                           i
                        (t) and B
                        
                           i
                        (t) over all time periods and iterations for instance u. Let the average (gamma) service-level for instance u be 
                           
                              
                                 
                                    
                                       
                                          A
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    u
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             m
                                          
                                       
                                       (
                                       
                                          
                                             
                                                
                                                   D
                                                
                                                
                                                   ¯
                                                
                                             
                                          
                                          
                                             iu
                                          
                                       
                                       -
                                       
                                          
                                             
                                                
                                                   B
                                                
                                                
                                                   ¯
                                                
                                             
                                          
                                          
                                             iu
                                          
                                       
                                       )
                                    
                                 
                              
                              
                                 
                                    
                                       
                                          D
                                       
                                       
                                          ¯
                                       
                                    
                                 
                                 
                                    iu
                                 
                              
                           
                        .


                        Table 1
                         summarizes the main results of our computational tests. It displays the averages 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    h
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             u
                                             =
                                             1
                                          
                                          
                                             U
                                          
                                       
                                       
                                          
                                             δ
                                          
                                          
                                             u
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                              
                              U
                           
                        , 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    he
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             u
                                             =
                                             1
                                          
                                          
                                             U
                                          
                                       
                                       
                                          
                                             δ
                                          
                                          
                                             u
                                          
                                          
                                             he
                                          
                                       
                                    
                                 
                              
                              U
                           
                        , 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    l
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             u
                                             =
                                             1
                                          
                                          
                                             U
                                          
                                       
                                       
                                          
                                             δ
                                          
                                          
                                             u
                                          
                                          
                                             l
                                          
                                       
                                    
                                 
                              
                              U
                           
                        , 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    f
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             u
                                             =
                                             1
                                          
                                          
                                             U
                                          
                                       
                                       
                                          
                                             δ
                                          
                                          
                                             u
                                          
                                          
                                             f
                                          
                                       
                                    
                                 
                              
                              U
                           
                        , and 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    hf
                                 
                              
                              =
                              
                                 
                                    ∑
                                 
                                 
                                    u
                                    =
                                    1
                                 
                                 
                                    U
                                 
                              
                              min
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      δ
                                                   
                                                   
                                                      u
                                                   
                                                   
                                                      h
                                                   
                                                
                                                ,
                                                
                                                   
                                                      δ
                                                   
                                                   
                                                      u
                                                   
                                                   
                                                      f
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              U
                           
                         according to the different test sets. Additionally, the maxima 
                           
                              
                                 
                                    δ
                                 
                                 
                                    max
                                 
                                 
                                    h
                                 
                              
                              =
                              
                                 
                                    max
                                 
                                 
                                    u
                                    =
                                    1
                                 
                                 
                                    U
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             δ
                                          
                                          
                                             u
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                              
                           
                         and 
                           
                              
                                 
                                    δ
                                 
                                 
                                    max
                                    ,
                                    90
                                    %
                                 
                                 
                                    h
                                 
                              
                              =
                              
                                 
                                    max
                                 
                                 
                                    u
                                    =
                                    1
                                    ,
                                    
                                       
                                          
                                             
                                                A
                                             
                                             
                                                ¯
                                             
                                          
                                       
                                       
                                          u
                                       
                                    
                                    >
                                    90
                                    %
                                 
                                 
                                    U
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             δ
                                          
                                          
                                             u
                                          
                                          
                                             h
                                          
                                       
                                    
                                 
                              
                           
                         are provided.

Two major conclusions can be drawn from this: First, the solutions determined by our heuristic are close-to-optimal. The average optimality gap is 1.2% in the base variant with α
                        =0.5. The maximum gaps turned out to be large in some settings. Fortunately, all these settings share a special property, which occurs less frequently in practice: low customer service. For the instances with an average service-level greater than 90%, the maximum gaps have been smaller than 5.7% over all structures. This underlines the favorable performance of the heuristic since blind spots, where we have a significant optimality gap, only occur in special settings with low customer service.

Second, the heuristic outperforms common-sense heuristics substantially. The average cost gaps of the common-sense heuristics to the best solution from enumeration could be reduced by more than 7.9%. The computational effort has been low. Including the simulation runs, the computing time of our heuristic was less than 5seconds for every test instance.

As it could be expected, when enumerating all values for α
                        
                           i
                        , the performance of the heuristic improves somewhat compared to the base variant. For large problem instances, however, this enumeration becomes tedious since the number of enumeration steps increases exponentially with the number of common components. A probably better way to improve the performance is to take the minimum of δ
                        
                           h
                         and δ
                        
                           f
                        , i.e., 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    hf
                                 
                              
                           
                        . This does not affect the computational effort significantly and allows for a comparable solution quality.

Regarding the sensitivities of the input parameters, two main relationships can be observed. At first, consider the ratio between backorder and inventory holding costs. Fig. 3
                         shows 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    h
                                 
                              
                              ,
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    l
                                 
                              
                           
                        , and 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    f
                                 
                              
                           
                         for the symmetric system-W with respect to q
                        =
                        h
                        1/b
                        1
                        =
                        h
                        2/b
                        2 (for the other test sets, the results are quite similar). As already indicated by the maximum gaps in Table 1 (in particular, their reduction for service-levels above 90%), our heuristic performs best for low q. For the instances with q
                        ⩽7.5%, the average gap is 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    h
                                 
                              
                              =
                              0.4
                              %
                           
                         instead of 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    h
                                 
                              
                              =
                              2.1
                              %
                           
                        . Such low ratios between holding and backorder costs can be frequently observed in practice. For the common-sense heuristics no unambiguous trends can be recognized.

Moreover, we consider the effects of varying λ
                        
                           i
                         for the system-M (see Table 2
                        , the effects for the other structures are similar). For our heuristic, the gaps to the optimum decrease with larger λ
                        
                           i
                        , whereas those of the common-sense heuristics remains stable. We suppose that this decrease is due to the discreteness of the Poisson distribution. When λ
                        
                           i
                         and, hence, the base stocks are small, rounding may have a stronger (negative) impact than in case of large λ
                        
                           i
                        .

Next, we investigate the consequences of different choices for α
                        
                           i
                        . For different values of α
                        
                           i
                         (step size: 0.05), Fig. 4
                         shows 
                           
                              (
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    h
                                 
                              
                              -
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    he
                                 
                              
                              )
                              /
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    he
                                 
                              
                           
                        , the gaps to the best solution from enumerating all values of α
                        
                           i
                         according to the structures of instances. Two observations are worth to be mentioned. First, the results are rather insensitive near the minimum. Throughout all test sets, the best choice is 0.3⩽
                        α
                        
                           i
                        
                        ⩽0.65. Extreme values of α
                        
                           i
                        , i.e., full risk-pooling and no risk-pooling, may yield substantially larger costs. This makes the benefits of our heuristic transparent, which chooses component base stocks between these extremes. Second, taking the best constant α
                        
                           i
                        , the deviations to 
                           
                              
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ˆ
                                       
                                    
                                 
                                 
                                    he
                                 
                              
                           
                         are smaller than 0.38% for every structure. This suggests that enumerating constant α
                        
                           i
                        
                        =
                        α (i
                        =1,…,
                        m) yields only little higher costs than enumerating all possible combinations of α
                        
                           i
                         for the common components. The relative increase of the computational effort for enumerating constant α
                        
                           i
                         is modest and independent of the size of the instances. E.g., with a step size of 0.05 for α
                        
                           i
                        , the heuristic has to be applied 20 times, including an evaluation of each run using simulation. This suggests that for obtaining a high performance of the heuristic, it is not mandatory to identify the best values for α
                        
                           i
                         a priori.

@&#CONCLUSION@&#

This paper introduced a new heuristic for determining near optimal base stocks in general two-level inventory systems. The heuristic is simple and scalable. It can be implemented easily (e.g., using the standard functionalities of a spreadsheet) with low computational effort. An important limitation of the heuristic is that it does not account for fixed costs. In our opinion, this is a beneficial area for future research.

@&#ACKNOWLEDGEMENTS@&#

We would like to thank Stefan Schmid, Jaroslav Novak, and Sabine Stabenow for discussions on safety stock planning as well as two anonymous referees for their helpful remarks.

@&#REFERENCES@&#

