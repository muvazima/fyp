@&#MAIN-TITLE@&#A variational based model for estimating true tracklets in wide area surveillance

@&#HIGHLIGHTS@&#


               
                  
                     
                        
                           
                           Preprocessing of the extracted tracklets before extracting the persistent track


                        
                        
                           
                           An intermediate step on multi-object multi-camera tracking problem


                        
                        
                           
                           Variational data association model for estimating true tracklets


                        
                        
                           
                           Extracting the least possible true tracklets from erroneous tracklets


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Variational model

Wide area surveillance

True tracklet estimation

Multi-object tracking

Camera network tracking

@&#ABSTRACT@&#


               
               
                  In many wide area surveillance applications, tracking objects is usually accomplished by using network of cameras. A common approach to any multi-objects tracking algorithm in a network of cameras comprises of two main steps. First, the movement trajectory of each object, within the field of view of a camera, is extracted and is called object tracklet. Then, the set of tracklets are used to determine the persistent trace of each object. In this paper, we assume that the tracklets are extracted by a conventional tracking algorithm. The occurrence of occlusion between objects, within the viewing scene, leads to various types of errors on the extracted tracklets. If these erroneous tracklets are used in a multi-object tracking algorithm and ignoring the correction phase, then the errors are propagated and affect the results of tracking algorithm. Therefore the true tracklets have to be estimated from the erroneous tracklets. In this paper, we propose a variational model for estimating the true tracklets. The variational principle proposed in this model is established by first introducing a variational energy function. Then the erroneous tracklets are used to estimate the true tracklets through optimizing the energy function. The proposed method is evaluated on two well known datasets and a synthetic dataset which is particularly developed to demonstrate the performance of our algorithm under challenging scenarios. The 10 common metrics, which are used in other multi-objects tracking applications, are used for quantitative evaluations. Our experimental results illustrate that our proposed model estimates the true tracklets which improves the overall association performances.
               
            

@&#INTRODUCTION@&#

The development and use of visual surveillance systems are becoming widespread in the growing cities. An intelligent surveillance system takes advantage of many cameras, which are connected in a network, to cover and monitor a wide area. An important component of these intelligent surveillance systems is the tracking module. The tracking module is used for visual object tracking. The visual object tracking is performed by detecting an object in the frame by frame of a video which is captured from one or many cameras.

There are numerous methods that have been proposed to deal with the object tracking task under different scenarios in the images captured by a single camera [30,2]. However, the multi-objects tracking in a network of cameras is a young and challenging field of research.

The multi-objects tracking task in a network of cameras usually consists of two main steps [1,31,10]. In the first step, objects are tracked in each camera using a single camera tracking algorithm [30,2]. The trajectories of moving objects which are detected within a single camera images are called tracklets. Then the extracted tracklets are associated to determine the persistent traces of all objects. In the second step, it is usually assumed that the input tracklets are accurate and consequently no analysis is required in this stage. A correct tracklet refers to the one that all its observed sample points, which are extracted from the consecutive frames, belonging to one object. Therefore, extracting the correct tracklets before any association step is an essential requirement. On the other hand, in a real world scenario, many challenging events arise which affect the performance of any tracking algorithm. An important challenge in object tracking is occlusion which is caused by sudden disappearing of objects [30,24] in video frames. In this situation, the tracking algorithms may make a wrong decision and wrong objects are tracked. As a result, the extracted tracklet is associated with more than one object. We refer to these tracklets as the erroneous tracklets.

The erroneous tracklets in the extraction stage are resolved by some authors by introducing complex and robust algorithms in the initial step [24,3,25,39,38]. For example, in [24] several models with many parameters are introduced and a success rate of 85% is achieved. In that paper, the authors use different algorithms to handle occlusion in different situations. Algorithms include: (i) a content-adaptive progressive occlusion analysis algorithm, which combines the information provided by spatiotemporal context, reference target, and motion constraints together, (ii) a variant-mask template matching for rectifying the target location, (iii) a drift-inhibitive masked Kalman appearance filter, which accurately evaluates the influence of template drift, and (iv) a local best match authentication algorithm.

In other work [39], the main reliance is based on viewing the multi-camera with an overlapped camera network; however, the cameras in the multi-camera tracking surveillance system are usually non-overlapped, particularly in wide area surveillance systems. Also, in [37], a novel approach is proposed for multi-objects tracking in a single camera and the results of this paper illustrate that the obtained tracklets yet embed unavoidable errors.

In all of these methods, the errors are corrected to some extent only under some restrictive assumptions imposed on the behavior of objects and the topology of cameras, to name a few. Under the absence of any assumption, the occurrence of errors on the extracted tracklets are inevitable. Thus, the risk of occurring errors in the extracted tracklets in the first step is high. Evidently, if the erroneous tracklets are not corrected before association, the errors will be propagated to the association results which are the persistent trace of objects. Therefore, an intermediate step is required to correct the errors.

In this paper, we propose a novel variational model as an intermediate step to estimate error free tracklets from erroneous tracklets before they are used in step-two of the tracking algorithm, as shown in Fig. 1
                     . In this figure, the block diagram illustrates the inclusion of our proposed intermediate step in conjunction with the two conventional steps.

The conventional two steps algorithms for associating tracklets which were proposed previously aim to generate the persistent trace of objects in camera networks [1]. In some of these works, the error free ground truth tracklets are assumed to be available and therefore they are used in the association process [10,23,13,32,14,26]. In other works, the erroneous tracklets are collected and are used as input to the algorithm. Therefore, the intermediate step which is introduced above is necessary to estimate the true tracklets.

In [1,31,5], the errors are categorized into two classes and different solutions are proposed for each class. In the first class which is the lost class, a tracking error (TE) metric [9] is used to quantify the errors. The TE metric is the distance between the model of tracked object in the current observation and the predicted model of the object based on past observations. When TE metric is greater than some thresholds, lost track error is detected and the rest of the tracklet is removed. A shortcoming of this algorithm is severe under change of lighting conditions or pose of the objects, which are the popular challenging events in tracking scenarios, causing change of object model in each observation. Consequently, the TE metric fails to pinpoint the true part of tracklets.

The second class of error is due to track switching. In this regard, a simple approach is adapted to resolve the problem. In this approach, the tracklets are split into more segments at points where objects are overlapped. If a candidate erroneous tracklet is broken into more segments where it was not actually necessary, its information content is deteriorated. The missing information of tracklets, which is the consequence of tracklet splitting, affects the associations results and increases the complexity of computations in the association phase. Nevertheless, if erroneous tracklets are not modified, the errors propagate the association results. Therefore, in this paper, we propose a novel model for identifying and estimating the true tracklets which reduces the aforementioned side effects.

In the tracklet estimation process, our objective is to create the least possible number of the true tracklets from each erroneous tracklet with no observation error. Erroneous tracklets in the occluded situations arise in different forms. In Fig. 2
                     a an example scenario is shown to demonstrate how occlusions in a scene can lead to erroneous tracklets. In Fig. 2a the two trajectories of objects are presented. The trajectory of object 1 is shown by solid line and the second object by dotted line.

Due to occlusion, the two acquired observations contain portions of other object's observations. In this example, if the break points of erroneous tracklets, along with TE metric, are used to determine the true tracklets it would result in creating more than one tracklet for each object. As shown in Fig. 3
                     , the tracklet of object 2 is split into 3 tracklets. Among these three tracklets, two are true tracklets and the other is not. We are interested to estimate the true tracklets of an object in a manner that the true tracklets of each object is detected correctly and is composed of one tracklet alone, even if the true tracklet has missing data, as shown in Fig. 4
                      (a),(b). The desired results are achievable by data association between observation points of the erroneous tracklet. However, since the solution space of this association task grows exponentially with the number of observations of the tracklet, an efficient method is desirable to solve this problem. Since, this problem is an ill-posed inverse problem [4], it is formulated as 
                        
                           (1)
                           
                              τ
                              =
                              A
                              Ê
                           
                        
                     where τ is the erroneous tracklet which is used as an observation in this problem and is assumed to be known, the 
                        Ê
                      is the estimated true tracklet set which is the solution of the problem and is unknown and A is the occlusion effect which degrades the true tracklets. Here, we are interested to extract the true tracklet set 
                        Ê
                      from the erroneous trackletτ. If the dot and line objects in Fig. 2 have distinctive models (appearance or motion model), which makes them unique compared to other objects, only one true tracklet set can be found in this example scenario as shown in Fig. 4. But, if they don’t have any distinctive models, more than one solution can be found which are shown in Figs. 3 and 4b. These kinds of problems are known as the ill-posed problems [4].

There are various noises, i.e pose and illumination variation, occlusion, clutter and sensor noise, which is almost impossible to find the distinctive models in these problems. Furthermore, extending the camera coverage, i.e. more viewing sites and more objects, obtaining unique distinctive models become even more complex. So, for each observation, more than one solution is possible which makes the problem of estimating true tracklets an ill-posed one. Furthermore, since the variational model is an effective solution for solving the ill-posed inverse problem [16,36,34,35,22,20], we propose a variational model for associating observations of the erroneous tracklet.

The rest of the paper is organized as follows. In Section 2 the mathematical formulation of the proposed model is presented. The experiments which are performed for evaluating our proposed model are given in Section 3 and finally, the conclusion is given in Section 4.

As stated in Section 1, extraction of correct tracklets influences the overall performance of a multi-objects tracking in a network of camera. The tracklet sets are generated by any conventional tracking algorithm such as the algorithm presented in [30], or by other methods such as a simple bounding box or accurate curve silhouette [2]. On the other hand, in a multi-object tracking problem, occlusion of objects is a common challenge, and its occurrence causes that the tracklets to be erroneous. Hence, in the association step these erroneous tracklets must be corrected beforehand. In our proposed model, the true tracklets are estimated from erroneous tracklets using a variational model which is optimized by using an energy function. The list of symbols for all parameters which are used throughout this paper are presented in Table 1
                     .

In this section, a variational data association model for estimating the true tracklets is presented. We first introduce the proposed variational energy function, then a level set representation of this energy function is presented. Finally, a numerical solution for solving the variational data association model is proposed.

In the process of estimating true tracklet, we are interested to associate observations of each object as a separate tracklet. Our approach is optimized to extract the longest tracklets which have similar appearance and low variance among all observations. An energy function based on these considerations is defined as, 
                              
                                 (2)
                                 
                                    
                                       
                                          
                                             J
                                             
                                                
                                                   Ê
                                                
                                             
                                             =
                                          
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   ∈
                                                   Ê
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         λ
                                                      
                                                      
                                                         1
                                                      
                                                   
                                                   ×
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         m
                                                         =
                                                         1
                                                      
                                                      
                                                         |
                                                         τ
                                                         |
                                                      
                                                   
                                                   C
                                                   L
                                                   
                                                      
                                                         S
                                                      
                                                      
                                                         
                                                            
                                                               τ
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                   (
                                                   τ
                                                   (
                                                   m
                                                   )
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             +
                                             
                                                
                                                   λ
                                                
                                                
                                                   2
                                                
                                             
                                             ×
                                             
                                                
                                                   ∑
                                                
                                                
                                                   m
                                                   =
                                                   1
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               τ
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             S
                                             
                                                
                                                   M
                                                
                                                
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   (
                                                   m
                                                   )
                                                
                                             
                                             −
                                             
                                                
                                                   λ
                                                
                                                
                                                   3
                                                
                                             
                                             ×
                                             L
                                             
                                                
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                             +
                                             
                                                
                                                   
                                                      
                                                         λ
                                                      
                                                      
                                                         4
                                                      
                                                   
                                                   ×
                                                   D
                                                   C
                                                   
                                                      
                                                         
                                                            
                                                               τ
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           which comprises of four components. The CLS(⋅) is the closeness component and is included to identify and control the estimated tracklet such that it selects those observations with similar appearance model. The SM(⋅) is the smoothness component and its objective is to estimate the tracklet containing the observations with low variance in appearance models. The constraint on the longest tracklet computation is satisfied with terms L(⋅) which is presented the length of the tracklet and DC(⋅) is the discontinuity rate of the tracklet. The closeness part is defined as, 
                              
                                 (3)
                                 
                                    C
                                    L
                                    
                                       
                                          S
                                       
                                       
                                          
                                             
                                                τ
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                    (
                                    τ
                                    (
                                    m
                                    )
                                    )
                                    =
                                    
                                       
                                          
                                             
                                                
                                                   D
                                                   A
                                                   
                                                      
                                                         
                                                            
                                                               F
                                                            
                                                            
                                                               A
                                                            
                                                         
                                                         (
                                                         τ
                                                         (
                                                         m
                                                         )
                                                         )
                                                         ,
                                                         
                                                         
                                                            
                                                               F
                                                            
                                                            
                                                               A
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     τ
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   +
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     τ
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                               ∈
                                                               Ê
                                                            
                                                            
                                                               
                                                                  
                                                                     τ
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                               ≠
                                                               
                                                                  
                                                                     τ
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  τ
                                                                  
                                                                     m
                                                                  
                                                               
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         −
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               (
                                                               τ
                                                               (
                                                               m
                                                               )
                                                               )
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           i
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                   if
                                                   
                                                   τ
                                                   (
                                                   m
                                                   )
                                                   ∈
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         1
                                                         −
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               (
                                                               τ
                                                               (
                                                               m
                                                               )
                                                               )
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   +
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     τ
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                               ∈
                                                               Ê
                                                            
                                                            
                                                               
                                                                  
                                                                     τ
                                                                  
                                                                  
                                                                     i
                                                                  
                                                               
                                                               ≠
                                                               
                                                                  
                                                                     τ
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               (
                                                               τ
                                                               (
                                                               m
                                                               )
                                                               )
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           i
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         −
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               (
                                                               τ
                                                               (
                                                               m
                                                               )
                                                               )
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                   if
                                                   
                                                   τ
                                                   (
                                                   m
                                                   )
                                                   ∉
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   ,
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           and, the smoothness part is given as, 
                              
                                 (4)
                                 
                                    
                                       
                                          
                                             S
                                             
                                                
                                                   M
                                                
                                                
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   (
                                                   m
                                                   )
                                                
                                             
                                             =
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                     (
                                                                     m
                                                                     )
                                                                  
                                                               
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         −
                                                         
                                                            Mean
                                                         
                                                         
                                                            
                                                               F
                                                            
                                                            
                                                               A
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     τ
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   2
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             +
                                             
                                                
                                                   ∑
                                                
                                                
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         i
                                                      
                                                   
                                                   ∈
                                                   Ê
                                                   ,
                                                   
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         i
                                                      
                                                   
                                                   ≠
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               D
                                                               A
                                                               
                                                                  
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 τ
                                                                              
                                                                              
                                                                                 j
                                                                              
                                                                           
                                                                           (
                                                                           m
                                                                           )
                                                                        
                                                                     
                                                                     ,
                                                                     
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 τ
                                                                              
                                                                              
                                                                                 j
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                               −
                                                               
                                                                  Mean
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   −
                                                   
                                                      
                                                         
                                                            
                                                               D
                                                               A
                                                               
                                                                  
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 τ
                                                                              
                                                                              
                                                                                 j
                                                                              
                                                                           
                                                                           (
                                                                           m
                                                                           )
                                                                        
                                                                     
                                                                     ,
                                                                     
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 τ
                                                                              
                                                                              
                                                                                 i
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                               −
                                                               
                                                                  Mean
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           i
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           where Mean F
                           
                              A
                            (τ
                           
                              j
                           ) is the mean distance of the observations of estimated tracklet and is defined as, 
                              
                                 (5)
                                 
                                    
                                       
                                          
                                             
                                                Mean
                                             
                                             
                                                
                                                   F
                                                
                                                
                                                   A
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                             =
                                             
                                                
                                                   1
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               τ
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   ∑
                                                
                                                
                                                   m
                                                   =
                                                   1
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               τ
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             D
                                             A
                                             
                                                
                                                   
                                                      
                                                         F
                                                      
                                                      
                                                         A
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               τ
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                         (
                                                         m
                                                         )
                                                      
                                                   
                                                   ,
                                                   
                                                   
                                                      
                                                         F
                                                      
                                                      
                                                         A
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               τ
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        

The F
                           
                              A
                           (⋅) represents the appearance model. In this paper, the RGB histogram is used as the appearance model. The F
                           
                              A
                            (τ
                           
                              j
                           (m)) is the appearance model of the object in the mth frame of trackletτ
                           
                              j
                            and the F
                           
                              A
                            (τ
                           
                              j
                           ) is the mean appearance model of the trackletτ
                           
                              j
                           , respectively, which is obtained by averaging the appearance model of an object in all frames of the trackletτ
                           
                              j
                           .


                           Figs. 5 and 6
                           
                            present the proposed energy function, with more details. In Figs. 5 and 6, a two dimensional appearance model is assumed for each observation of the object. Then, the observations of the erroneous tracklet are drawn in the two dimensional chart. It is assumed that the erroneous tracklet includes three different true tracklets. The appearance model of each true tracklet is shown by a different geometric shape. As mentioned, each extracted true tracklet contains a mean appearance model, which is presented in these figures by bold shape. Assuming euclidean distance as a measure, the distance between two appearance models are also shown. In this figure it is assumed that the new observation τ(m) of the erroneous tracklet is being analyzed.

As shown in Fig. 5, the main objective of closeness part is to assign the new observation to the true tracklet with minimum distance between appearance model of new observation and mean appearance model of true tracklet. Similarly, the requirement of including the smoothness part of energy function is demonstrated in Fig. 6. As it is shown, the smoothness part assigns the new observation (τ(m)) to the true tracklet in a way that the distance between appearance model of the new observation and mean appearance model of true tracklet is similar to the same distance of other observation of this true tracklet. As explained, the closeness and smoothness parts assign the observation based on the appearance model while geometrical constraints are excluded. Therefore, the length and discontinuity parts are added to the energy function which prevent production of short and slashed tracklets.

In order to use this energy function for estimating the true tracklets, a proper representation for the proposed variational multiphase energy function is required. This representation is defined in the following.

A multiphase level set [42] is used to represent our proposed variational energy function. In this representation, all estimated tracklets which are obtained from erroneous trackletτ are represented by Ω
                           ={ω
                           1,⋯ ,ω
                           
                              q
                           } where each estimated tracklet of this set is represented by ω
                           
                              j
                            and is defined as, 
                              
                                 
                                    
                                       
                                          
                                             ω
                                          
                                          
                                             j
                                          
                                       
                                       :
                                       X
                                       →
                                       Y
                                    
                                 
                              
                           where X
                           ={1,⋯ ,|τ|} and Y is 
                              Y
                              ⊂
                              R
                            and |τ| is the number of observations of the object in the tracklet and, 
                              
                                 (6)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   τ
                                                   (
                                                   m
                                                   )
                                                   ∈
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   
                                                   if
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   (
                                                   m
                                                   )
                                                   ≥
                                                   0
                                                
                                             
                                             
                                                
                                                   τ
                                                   (
                                                   m
                                                   )
                                                   ∉
                                                   
                                                      
                                                         τ
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   
                                                   if
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   (
                                                   m
                                                   )
                                                   <
                                                   0
                                                   .
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

In this representation, the smoothness part of the energy function is rewritten as, 
                              
                                 (7)
                                 
                                    
                                       
                                          
                                             S
                                             
                                                
                                                   M
                                                
                                                
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                             (
                                             m
                                             )
                                             =
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           τ
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                     (
                                                                     m
                                                                     )
                                                                  
                                                               
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         −
                                                         
                                                            Mean
                                                         
                                                         
                                                            
                                                               F
                                                            
                                                            
                                                               A
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   2
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   υ
                                                   =
                                                   1
                                                   ,
                                                   
                                                   υ
                                                   ≠
                                                   j
                                                
                                                
                                                   |
                                                   Ω
                                                   |
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               D
                                                               A
                                                               
                                                                  
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 τ
                                                                              
                                                                              
                                                                                 j
                                                                              
                                                                           
                                                                           (
                                                                           m
                                                                           )
                                                                        
                                                                     
                                                                     ,
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 ω
                                                                              
                                                                              
                                                                                 j
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                               −
                                                               
                                                                  Mean
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   −
                                                   
                                                      
                                                         
                                                            
                                                               D
                                                               A
                                                               
                                                                  
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 τ
                                                                              
                                                                              
                                                                                 j
                                                                              
                                                                           
                                                                           (
                                                                           m
                                                                           )
                                                                        
                                                                     
                                                                     ,
                                                                     
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 ω
                                                                              
                                                                              
                                                                                 υ
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                               −
                                                               
                                                                  Mean
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           υ
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           where the index of 
                              S
                              
                                 
                                    M
                                 
                                 
                                    
                                       
                                          ω
                                       
                                       
                                          j
                                       
                                    
                                 
                              
                              (
                              m
                              )
                            is to emphasize the smoothness of our new representation. The closeness part is also redefined as, 
                              
                                 (8)
                                 
                                    
                                       
                                          
                                             C
                                             L
                                             
                                                
                                                   S
                                                
                                                
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                             (
                                             m
                                             )
                                             =
                                          
                                          
                                             
                                                
                                                   D
                                                   A
                                                   
                                                      
                                                         
                                                            
                                                               F
                                                            
                                                            
                                                               A
                                                            
                                                         
                                                         (
                                                         τ
                                                         (
                                                         m
                                                         )
                                                         )
                                                         ,
                                                         
                                                         
                                                            
                                                               F
                                                            
                                                            
                                                               A
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   +
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         |
                                                         Ω
                                                         |
                                                         −
                                                         1
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   ×
                                                   
                                                      
                                                         
                                                            
                                                               ∑
                                                            
                                                            
                                                               υ
                                                               =
                                                               1
                                                               ,
                                                               υ
                                                               ≠
                                                               j
                                                            
                                                            
                                                               |
                                                               Ω
                                                               |
                                                            
                                                         
                                                         
                                                            
                                                               D
                                                               A
                                                               
                                                                  
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     (
                                                                     τ
                                                                     (
                                                                     m
                                                                     )
                                                                     )
                                                                     ,
                                                                     
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 ω
                                                                              
                                                                              
                                                                                 j
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               −
                                                               D
                                                               A
                                                               
                                                                  
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     (
                                                                     τ
                                                                     (
                                                                     m
                                                                     )
                                                                     )
                                                                     ,
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 ω
                                                                              
                                                                              
                                                                                 υ
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             ×
                                             H
                                             
                                                
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   (
                                                   m
                                                   )
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             +
                                             
                                                
                                                   
                                                      
                                                         1
                                                         −
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               (
                                                               τ
                                                               (
                                                               m
                                                               )
                                                               )
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             +
                                             
                                                
                                                   1
                                                
                                                
                                                   |
                                                   Ω
                                                   |
                                                   −
                                                   1
                                                
                                             
                                             ×
                                             
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         υ
                                                         =
                                                         1
                                                         ,
                                                         
                                                         υ
                                                         ≠
                                                         j
                                                      
                                                      
                                                         |
                                                         Ω
                                                         |
                                                      
                                                   
                                                   
                                                      
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               (
                                                               τ
                                                               (
                                                               m
                                                               )
                                                               )
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           υ
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               −
                                                               D
                                                               A
                                                               
                                                                  
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     (
                                                                     τ
                                                                     (
                                                                     m
                                                                     )
                                                                     )
                                                                     ,
                                                                     
                                                                     
                                                                        
                                                                           F
                                                                        
                                                                        
                                                                           A
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 ω
                                                                              
                                                                              
                                                                                 j
                                                                              
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             ×
                                             
                                                
                                                   1
                                                   −
                                                   H
                                                   
                                                      
                                                         
                                                            
                                                               ω
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                         (
                                                         m
                                                         )
                                                      
                                                   
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        

In this representation, the H(⋅) is the Heaviside step function which is defined as, 
                              
                                 (9)
                                 
                                    H
                                    (
                                    z
                                    )
                                    =
                                    
                                       
                                          
                                             
                                                
                                                   1
                                                   
                                                
                                                
                                                   if
                                                   z
                                                   ≥
                                                   0
                                                
                                             
                                             
                                                
                                                   0
                                                   
                                                
                                                
                                                   if
                                                   z
                                                   <
                                                   0
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Furthermore, the appearance mean distance for each estimated tracklet is rewritten as, 
                              
                                 (10)
                                 
                                    
                                       Mean
                                    
                                    
                                       
                                          F
                                       
                                       
                                          A
                                       
                                    
                                    
                                       
                                          
                                             
                                                ω
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                m
                                                =
                                                1
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            τ
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          D
                                          A
                                          
                                             
                                                
                                                   
                                                      F
                                                   
                                                   
                                                      A
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            τ
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      (
                                                      m
                                                      )
                                                   
                                                
                                                ,
                                                
                                                
                                                   
                                                      F
                                                   
                                                   
                                                      A
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            ω
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          ×
                                          H
                                          
                                             
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                
                                                (
                                                m
                                                )
                                             
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                m
                                                =
                                                1
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            τ
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          H
                                          
                                             
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                
                                                (
                                                m
                                                )
                                             
                                          
                                       
                                    
                                    ,
                                 
                              
                           and, the appearance model of each estimated tracklet in the level set representation is computed by, 
                              
                                 (11)
                                 
                                    
                                       
                                          F
                                       
                                       
                                          A
                                       
                                    
                                    
                                       
                                          
                                             
                                                ω
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                m
                                                =
                                                1
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            τ
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                F
                                             
                                             
                                                A
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      τ
                                                   
                                                   
                                                      j
                                                   
                                                
                                                (
                                                m
                                                )
                                             
                                          
                                          ×
                                          H
                                          
                                             
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                
                                                (
                                                m
                                                )
                                             
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                m
                                                =
                                                1
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            τ
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                          H
                                          
                                             
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                
                                                (
                                                m
                                                )
                                             
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        

The L (ω
                           
                              j
                           ) part of the energy function is defined as, 
                              
                                 (12)
                                 
                                    L
                                    
                                       
                                          
                                             
                                                ω
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          1
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                          
                                       
                                    
                                    ×
                                    
                                       
                                          ∑
                                       
                                       
                                          m
                                          =
                                          1
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                          
                                       
                                    
                                    H
                                    
                                       
                                          
                                             
                                                ω
                                             
                                             
                                                j
                                             
                                          
                                          (
                                          m
                                          )
                                       
                                    
                                    ,
                                 
                              
                           and, the DC (ω
                           
                              j
                           ) is defined as, 
                              
                                 (13)
                                 
                                    D
                                    C
                                    
                                       
                                          
                                             
                                                ω
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                    =
                                    
                                       
                                          ∑
                                       
                                       
                                          m
                                          =
                                          1
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      ∂
                                                   
                                                   
                                                      ∂
                                                      m
                                                   
                                                
                                                H
                                                
                                                   
                                                      
                                                         
                                                            ω
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      (
                                                      m
                                                      )
                                                   
                                                
                                             
                                          
                                       
                                       
                                          2
                                       
                                    
                                    =
                                    
                                       
                                          ∑
                                       
                                       
                                          m
                                          =
                                          1
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                δ
                                                
                                                   
                                                      
                                                         
                                                            ω
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      (
                                                      m
                                                      )
                                                   
                                                
                                                ×
                                                
                                                   
                                                      ∂
                                                   
                                                   
                                                      ∂
                                                      m
                                                   
                                                
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                
                                                (
                                                m
                                                )
                                             
                                          
                                       
                                       
                                          2
                                       
                                    
                                    .
                                 
                              
                           which counts the number of breaks in the estimated tracklet of the optimization process. So, the variational form of the proposed energy function using level set representation is rewritten as, 
                              
                                 (14)
                                 
                                    
                                       
                                          
                                             J
                                             [
                                             Ω
                                             ]
                                             =
                                          
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                
                                                   |
                                                   Ω
                                                   |
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         m
                                                         =
                                                         1
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               1
                                                            
                                                         
                                                         ×
                                                         
                                                            
                                                               
                                                                  CLS
                                                               
                                                            
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         m
                                                         )
                                                         +
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         ×
                                                         S
                                                         
                                                            
                                                               M
                                                            
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         m
                                                         )
                                                         ×
                                                         H
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                               (
                                                               m
                                                               )
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         −
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               3
                                                            
                                                         
                                                         ×
                                                         
                                                            
                                                               1
                                                            
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         ×
                                                         H
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                               (
                                                               m
                                                               )
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               4
                                                            
                                                         
                                                         ×
                                                         
                                                            
                                                               
                                                                  
                                                                     δ
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 ω
                                                                              
                                                                              
                                                                                 j
                                                                              
                                                                           
                                                                           (
                                                                           m
                                                                           )
                                                                        
                                                                     
                                                                     ×
                                                                     
                                                                        
                                                                           ∂
                                                                        
                                                                        
                                                                           ∂
                                                                           m
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                     (
                                                                     m
                                                                     )
                                                                  
                                                               
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        

The energy function presented in Eq. (14) is used to estimate the tracklets. The solution to this optimization equation is denoted by,
                              
                                 (15)
                                 
                                    
                                       
                                          Ω
                                       
                                       
                                          *
                                       
                                    
                                    =
                                    
                                       
                                          argmin
                                       
                                       
                                          Ω
                                       
                                    
                                    
                                    J
                                    [
                                    Ω
                                    ]
                                    .
                                 
                              
                           
                        

Furthermore, the ϵ regularized version of the energy function Eq. (14) is introduced to facilitate the solution of our optimization problem and is given by, 
                              
                                 (16)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   J
                                                
                                                
                                                   ϵ
                                                
                                             
                                             [
                                             Ω
                                             ]
                                             =
                                          
                                          
                                             
                                                
                                                   ∑
                                                
                                                
                                                   j
                                                   =
                                                   1
                                                
                                                
                                                   |
                                                   Ω
                                                   |
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         m
                                                         =
                                                         1
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               1
                                                            
                                                         
                                                         ×
                                                         
                                                            
                                                               
                                                                  CLS
                                                               
                                                            
                                                            
                                                               ϵ
                                                               ,
                                                               
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         m
                                                         )
                                                         +
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                         ×
                                                         S
                                                         
                                                            
                                                               M
                                                            
                                                            
                                                               ϵ
                                                               ,
                                                               
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                         (
                                                         m
                                                         )
                                                         ×
                                                         
                                                            
                                                               H
                                                            
                                                            
                                                               ϵ
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                               (
                                                               m
                                                               )
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         −
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               3
                                                            
                                                         
                                                         ×
                                                         
                                                            
                                                               1
                                                            
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         ×
                                                         
                                                            
                                                               H
                                                            
                                                            
                                                               ϵ
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                               (
                                                               m
                                                               )
                                                            
                                                         
                                                         +
                                                         
                                                            
                                                               λ
                                                            
                                                            
                                                               4
                                                            
                                                         
                                                         ×
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           δ
                                                                        
                                                                        
                                                                           ϵ
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 ω
                                                                              
                                                                              
                                                                                 j
                                                                              
                                                                           
                                                                           (
                                                                           m
                                                                           )
                                                                        
                                                                     
                                                                     ×
                                                                     
                                                                        
                                                                           ∂
                                                                        
                                                                        
                                                                           ∂
                                                                           m
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                     (
                                                                     m
                                                                     )
                                                                  
                                                               
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        

In this paper, the regularized version of H(⋅) which is introduced in [12] is used. This function is defined as, 
                              
                                 (17)
                                 
                                    
                                       
                                          H
                                       
                                       
                                          ϵ
                                       
                                    
                                    (
                                    z
                                    )
                                    =
                                    
                                       
                                          1
                                       
                                       
                                          2
                                       
                                    
                                    
                                       
                                          1
                                          +
                                          
                                             
                                                2
                                             
                                             
                                                π
                                             
                                          
                                          arctan
                                          ⁡
                                          
                                             
                                                
                                                   
                                                      z
                                                   
                                                   
                                                      ϵ
                                                   
                                                
                                             
                                          
                                       
                                    
                                    ,
                                 
                              
                           and, the regularized version of the Delta Kronecker function is defined as,
                              
                                 (18)
                                 
                                    
                                       
                                          δ
                                       
                                       
                                          ϵ
                                       
                                    
                                    (
                                    z
                                    )
                                    =
                                    
                                       
                                          d
                                       
                                       
                                          d
                                          z
                                       
                                    
                                    
                                       
                                          H
                                       
                                       
                                          ϵ
                                       
                                    
                                    (
                                    z
                                    )
                                    ,
                                 
                              
                           also, 
                              
                                 
                                    CLS
                                 
                                 
                                    ϵ
                                    ,
                                    
                                    
                                       
                                          ω
                                       
                                       
                                          j
                                       
                                    
                                 
                              
                              (
                              .
                              )
                            and 
                              S
                              
                                 
                                    M
                                 
                                 
                                    ϵ
                                    ,
                                    
                                    
                                       
                                          ω
                                       
                                       
                                          j
                                       
                                    
                                 
                              
                              (
                              .
                              )
                            are the same as 
                              
                                 
                                    CLS
                                 
                                 
                                    
                                       
                                          ω
                                       
                                       
                                          j
                                       
                                    
                                 
                              
                              (
                              .
                              )
                            and 
                              S
                              
                                 
                                    M
                                 
                                 
                                    
                                       
                                          ω
                                       
                                       
                                          j
                                       
                                    
                                 
                              
                              (
                              .
                              )
                           , respectively, only the H(.) is replaced with H
                           
                              ϵ
                           (.).

This optimization problem is solved by fixing F
                           
                              A
                            and MeanF
                           
                              A
                            then J
                           
                              ϵ
                           [Ω] is minimized with respect to Ω using the Euler–Lagrange equation [4]. Employing gradient descent and representing ω
                           
                              j
                           (m) by an artificial time parameter t ≥ 0, ω
                           
                              j
                           (m) is changed to ω
                           
                              j
                           (t, m), then, the level set representation of our optimization Eq. (16) is converted to a partial differential equation (PDE), where its solution yields the jth optimal true tracklet which is estimated from the erroneous trackletτ . The PDE is given by, 
                              
                                 (19)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∂
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   (
                                                   t
                                                   ,
                                                   
                                                   m
                                                   )
                                                
                                                
                                                   ∂
                                                   t
                                                
                                             
                                             =
                                          
                                          
                                             −
                                             
                                                
                                                   
                                                      
                                                         a
                                                      
                                                      
                                                         ϵ
                                                         ,
                                                         
                                                         
                                                            
                                                               ω
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                   (
                                                   m
                                                   )
                                                   +
                                                   S
                                                   
                                                      
                                                         M
                                                      
                                                      
                                                         
                                                            
                                                               ω
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                   (
                                                   m
                                                   )
                                                   −
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   −
                                                   2
                                                   ×
                                                   δ
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                               
                                                               (
                                                               t
                                                               ,
                                                               
                                                               m
                                                               )
                                                            
                                                         
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                   ×
                                                   
                                                      
                                                         
                                                            
                                                               ∂
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                      
                                                      
                                                         ∂
                                                         
                                                            
                                                               m
                                                            
                                                            
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   (
                                                   t
                                                   ,
                                                   
                                                   m
                                                   )
                                                
                                             
                                             ×
                                             
                                                
                                                   δ
                                                
                                                
                                                   ϵ
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                   (
                                                   t
                                                   ,
                                                   
                                                   m
                                                   )
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           where 
                              
                                 
                                    a
                                 
                                 
                                    ϵ
                                    ,
                                    
                                    
                                       
                                          ω
                                       
                                       
                                          j
                                       
                                    
                                 
                              
                              (
                              m
                              )
                            is defined as, 
                              
                                 (20)
                                 
                                    
                                       
                                          
                                             
                                                
                                                   a
                                                
                                                
                                                   ϵ
                                                   ,
                                                   
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                             
                                             (
                                             m
                                             )
                                             =
                                          
                                          
                                             2
                                             ×
                                             D
                                             A
                                             
                                                
                                                   
                                                      
                                                         F
                                                      
                                                      
                                                         ϵ
                                                         ,
                                                         
                                                         A
                                                      
                                                   
                                                   (
                                                   τ
                                                   (
                                                   m
                                                   )
                                                   )
                                                   ,
                                                   
                                                   
                                                      
                                                         F
                                                      
                                                      
                                                         ϵ
                                                         ,
                                                         
                                                         A
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               ω
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             +
                                             
                                                
                                                   2
                                                
                                                
                                                   |
                                                   Ω
                                                   |
                                                   −
                                                   1
                                                
                                             
                                             ×
                                             
                                                
                                                   
                                                      
                                                         ∑
                                                      
                                                      
                                                         υ
                                                         =
                                                         1
                                                         ,
                                                         
                                                         υ
                                                         ≠
                                                         j
                                                      
                                                      
                                                         |
                                                         Ω
                                                         |
                                                      
                                                   
                                                   
                                                      
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     ϵ
                                                                     ,
                                                                     
                                                                     A
                                                                  
                                                               
                                                               (
                                                               τ
                                                               (
                                                               m
                                                               )
                                                               )
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     ϵ
                                                                     ,
                                                                     
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           j
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         −
                                                         D
                                                         A
                                                         
                                                            
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     ϵ
                                                                     ,
                                                                     
                                                                     A
                                                                  
                                                               
                                                               (
                                                               τ
                                                               (
                                                               m
                                                               )
                                                               )
                                                               ,
                                                               
                                                               
                                                                  
                                                                     F
                                                                  
                                                                  
                                                                     ϵ
                                                                     ,
                                                                     
                                                                     A
                                                                  
                                                               
                                                               
                                                                  
                                                                     
                                                                        
                                                                           ω
                                                                        
                                                                        
                                                                           υ
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             −
                                             1
                                             ,
                                          
                                       
                                    
                                 
                              
                           and, for each estimated tracklet, one candidate observation (called candidate point) is selected which is not modified in the optimization process. For estimating the first tracklet, the first observation of the erroneous tracklet is selected as the candidate point. For other estimated tracklets, first observation of the erroneous tracklet which is not assigned to any estimated tracklets, is selected as the candidate point. Based on this assumption the initial conditions which are used for solving the PDE are defined as, 
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            ω
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      (
                                                      0
                                                      ,
                                                      
                                                      0
                                                      )
                                                      =
                                                      ϵ
                                                      ,
                                                      
                                                      
                                                         
                                                            ω
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      (
                                                      0
                                                      ,
                                                      
                                                      ⋅
                                                      )
                                                      =
                                                      0
                                                      
                                                   
                                                   
                                                      
                                                      if
                                                      j
                                                      =
                                                      0
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            ω
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      (
                                                      0
                                                      ,
                                                      
                                                      
                                                         CandidatePoint
                                                      
                                                      )
                                                      =
                                                      ϵ
                                                      ,
                                                      
                                                      
                                                         
                                                            ω
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      (
                                                      0
                                                      ,
                                                      
                                                      ⋅
                                                      )
                                                      =
                                                      0
                                                      
                                                   
                                                   
                                                      
                                                      if
                                                      j
                                                      >
                                                      0
                                                      .
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

In addition, based on the definition of the candidate point and assuming that the estimated tracklets do not change in the boundaries, the boundary conditions are defined as, 
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            ω
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      (
                                                      t
                                                      ,
                                                      
                                                      0
                                                      )
                                                      =
                                                      ϵ
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            d
                                                            
                                                               
                                                                  ω
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                            (
                                                            t
                                                            ,
                                                            
                                                            
                                                               
                                                                  
                                                                     
                                                                        ω
                                                                     
                                                                     
                                                                        j
                                                                     
                                                                  
                                                               
                                                            
                                                            )
                                                         
                                                         
                                                            d
                                                            m
                                                         
                                                      
                                                      =
                                                      0
                                                      
                                                      
                                                   
                                                   
                                                      
                                                      if
                                                      j
                                                      =
                                                      0
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            ω
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                      (
                                                      t
                                                      ,
                                                      
                                                      
                                                         CandidatePoint
                                                      
                                                      )
                                                      =
                                                      ϵ
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            d
                                                            
                                                               
                                                                  ω
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                            
                                                               
                                                                  t
                                                                  ,
                                                                  
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              ω
                                                                           
                                                                           
                                                                              j
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            d
                                                            m
                                                         
                                                      
                                                      =
                                                      0
                                                      ,
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            d
                                                            
                                                               
                                                                  ω
                                                               
                                                               
                                                                  j
                                                               
                                                            
                                                            (
                                                            t
                                                            ,
                                                            
                                                            0
                                                            )
                                                         
                                                         
                                                            d
                                                            m
                                                         
                                                      
                                                      =
                                                      0
                                                      
                                                   
                                                   
                                                      
                                                      if
                                                      j
                                                      >
                                                      0
                                                      .
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

An analytical solution for this PDE is not feasible, hence, a numerical solution is sought which is presented in Section 2.1.3.

In order to solve the PDE, we use a finite differences implicit schema [15,33]. By discretizing the partial derivative part of the equation, an finite difference equation (FDE) is obtained as, 
                              
                                 (21)
                                 
                                    
                                       
                                          
                                          
                                             −
                                             S
                                             ×
                                             
                                                
                                                   δ
                                                
                                                
                                                   h
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               ω
                                                            
                                                            
                                                               j
                                                            
                                                            
                                                               n
                                                            
                                                         
                                                         (
                                                         m
                                                         )
                                                      
                                                   
                                                
                                                
                                                   2
                                                
                                             
                                             ×
                                             
                                                
                                                   ω
                                                
                                                
                                                   j
                                                
                                                
                                                   n
                                                   +
                                                   1
                                                
                                             
                                             (
                                             m
                                             −
                                             1
                                             )
                                             +
                                             
                                                
                                                   2
                                                   S
                                                   
                                                      
                                                         δ
                                                      
                                                      
                                                         h
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     ω
                                                                  
                                                                  
                                                                     j
                                                                  
                                                                  
                                                                     n
                                                                  
                                                               
                                                               (
                                                               m
                                                               )
                                                            
                                                         
                                                      
                                                      
                                                         2
                                                      
                                                   
                                                   +
                                                   1
                                                
                                             
                                             ×
                                             
                                                
                                                   ω
                                                
                                                
                                                   j
                                                
                                                
                                                   n
                                                   +
                                                   1
                                                
                                             
                                             (
                                             m
                                             )
                                          
                                       
                                       
                                          
                                          
                                             −
                                             S
                                             
                                                
                                                   δ
                                                
                                                
                                                   h
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               ω
                                                            
                                                            
                                                               j
                                                            
                                                            
                                                               n
                                                            
                                                         
                                                         (
                                                         m
                                                         )
                                                      
                                                   
                                                
                                                
                                                   2
                                                
                                             
                                             ×
                                             
                                                
                                                   ω
                                                
                                                
                                                   j
                                                
                                                
                                                   n
                                                   +
                                                   1
                                                
                                             
                                             (
                                             m
                                             +
                                             1
                                             )
                                             =
                                             
                                                
                                                   ω
                                                
                                                
                                                   j
                                                
                                                
                                                   n
                                                
                                             
                                             (
                                             m
                                             )
                                             −
                                             
                                                
                                                   δ
                                                
                                                
                                                   h
                                                
                                             
                                             
                                                
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         n
                                                      
                                                   
                                                   (
                                                   m
                                                   )
                                                
                                             
                                             ×
                                             
                                                
                                                   b
                                                
                                                
                                                   
                                                      
                                                         ω
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         n
                                                      
                                                   
                                                
                                             
                                             (
                                             m
                                             )
                                             ×
                                             Δ
                                             t
                                             ,
                                          
                                       
                                    
                                 
                              
                           where h is the space interval, Δt is the time step, 
                              
                                 
                                    ω
                                 
                                 
                                    j
                                 
                                 
                                    n
                                 
                              
                              (
                              m
                              )
                            is defined as, 
                              
                                 (22)
                                 
                                    
                                       
                                          ω
                                       
                                       
                                          j
                                       
                                       
                                          n
                                       
                                    
                                    (
                                    m
                                    )
                                    =
                                    
                                       
                                          ω
                                       
                                       
                                          j
                                       
                                    
                                    (
                                    n
                                    ×
                                    Δ
                                    t
                                    ,
                                    
                                    m
                                    ×
                                    h
                                    )
                                    ,
                                 
                              
                           and, 
                              
                                 
                                    b
                                 
                                 
                                    
                                       
                                          ω
                                       
                                       
                                          j
                                       
                                       
                                          n
                                       
                                    
                                 
                              
                              (
                              m
                              )
                            is defined as, 
                              
                                 (23)
                                 
                                    
                                       
                                          b
                                       
                                       
                                          
                                             
                                                ω
                                             
                                             
                                                j
                                             
                                             
                                                n
                                             
                                          
                                       
                                    
                                    (
                                    m
                                    )
                                    =
                                    
                                       
                                          
                                             
                                                a
                                             
                                             
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                   
                                                      n
                                                   
                                                
                                             
                                          
                                          (
                                          m
                                          )
                                          +
                                          S
                                          
                                             
                                                M
                                             
                                             
                                                
                                                   
                                                      ω
                                                   
                                                   
                                                      j
                                                   
                                                   
                                                      n
                                                   
                                                
                                             
                                          
                                          (
                                          m
                                          )
                                          −
                                          
                                             
                                                1
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            ω
                                                         
                                                         
                                                            j
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    ,
                                 
                              
                           and 
                              
                                 (24)
                                 
                                    S
                                    =
                                    
                                       
                                          2
                                          ×
                                          Δ
                                          t
                                       
                                       
                                          
                                             
                                                h
                                             
                                             
                                                2
                                             
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        

The solution of FDE has several important properties [15,33]. An important feature is that the solution of this FDE is feasible, and its convergence and consistency are guaranteed using the Thomas algorithm by an order of O(n) complexity [15,33]. The proposed algorithm for tracklet estimation is presented in Algorithm 1. This algorithm includes three main steps. First, an initial value is created for level set function representation of the estimated tracklet set 
                              Ê
                            (lines 1 and 2 of Algorithm 1). Second, the best Ω is calculated based on the optimization equations (lines 3 to 12 of Algorithm 1). Third, a true estimated tracklet set of the trackletτ which is obtained based on the calculated Ω and Eq. (6) is created (lines 13 to 22 of Algorithm 1). Also, SplitAndMerge(⋅) is computed using Algorithm 2. The SplitAndMerge(⋅) includes five main steps. First, the observation points of the trackletτ which is not included in any of the estimated tracklets is assigned to the NotUsed container and the tracklets of the estimated tracklet set which does not contain any observation points of the trackletτ are assigned in the RemoveList container (lines 1 to 17 of Algorithm 2). Second, the observation points of the trackletτ in the container NotUsed is assigned to the the estimated tracklets in the current estimated tracklet set which are not assigned to these up to this point of the optimization algorithm based on the container NotAssignTo (lines 18 to 27 of Algorithm 2). Third, the estimated tracklets in the container RemoveList are removed from the current estimated tracklet set (lines 28 to 32 of Algorithm 2). Fourth, if the observation points exist in the NotUsed container yet, a new estimated tracklet is created and these points are assigned to this new estimated tracklet (lines 33 to 39 of Algorithm 2). Finally, the updated estimated tracklet set Ω
                           
                              n
                            is created based on the modified estimated tracklets and is returned from the algorithm (lines 40 to 41 of Algorithm 2).
                              Algorithm 1
                              The tracklet estimating algorithm
                                    
                                       
                                    
                                 
                              

Split and merge algorithm
                                    
                                       
                                    
                                 
                              

@&#EXPERIMENTAL RESULTS@&#

The performance of our proposed model is evaluated by conducting several experiments with different datasets. In these experiments, two common real datasets and one synthetic dataset are used and the results are measured using 10 well-known metrics in camera network tracking scope. In these experiments, the erroneous tracklets are used as input tracklets, and the estimated true tracklets are determined using our variational model. Then, multi-object camera network tracking algorithm which is proposed in [26] is applied using the estimated tracklets, and results are analyzed by the introduced metrics in Section 3.2. Also, for comparing the performance of our proposed model with other methods, the proposed method for tracklet estimation in [1,31,5] which is introduced in Section 1 is used.

The parameters of the proposed model are λ
                     1, λ
                     2, λ
                     3, λ
                     4 and ϵ must be determined before each experiment. The λ
                     1, λ
                     2, λ
                     3 and λ
                     4 are used for adjusting the effect of four different parts of the energy function in the final solution. In the experiments which are performed, we determined these parameters based on the characteristics of datasets. For example, if the objects in the dataset have a relatively distinctive appearance, the λ
                     1 is selected greater than λ
                     2, λ
                     3, λ
                     4 and follow similar arguments for the other parameters. The parameter ϵ is used to regularize the optimization process and in our experiments this parameter is found experimentally and a value of ϵ
                     =2 is used. In the remaining of this section, we first introduce the datasets and the metrics for evaluations then results and their analysis are given.

In our experiments, the tracklets are extracted from the images of each camera using any tracking algorithm. Due to occlusion between objects, the extracted tracklets are not perfect tracklets. Our proposed model is tested and compared with other methods under imperfect tracklets. In the selected datasets, the true tracklets are available and they are considered as the ground truth data, however it is desired to observe erroneous tracklets. On evaluating our model, in one hand, we need a dataset with erroneous tracklets with adequate annotations. On the other hand, we need a dataset which gives the ability to inject any arbitrary error with different rates with complete information about the errors in order to analyze the performance of the proposed method. To the best of our knowledge the dataset with these characteristics is not available. Therefore, we decided to simulate the erroneous tracklets by intentionally injecting errors into the ground truth tracklets and providing a tool which we could control its error rate. In this tool, each pair of tracklets belongs to different objects, which are overlapped in time and space are detected and randomly swapped. This process is repeated so that the desired error rate is generated.

The PETS2009 S2.L1 dataset [40] is collected using eight cameras which are setup to monitor a road corner of a university campus. Since, the cameras of this dataset have large coverage overlap, in this paper only four of these cameras are used. The true ground truth tracklets of this dataset are obtained erroneously by error simulation tools and incorrect tracklets are used in the experiments. The characteristics of this dataset are presented in Table 2
                        . The world ground plane images of this dataset are presented in Fig. 7
                         and the image plane of cameras of this dataset are shown in Fig. 8
                        .

The CAVIAR dataset [11] is collected in a shopping mall corridor with heavy inter-object occlusions. The dataset contains two different views of the shopping corridor, the frontal view and the corridor view. But, in our experiment, as has been done in [31], only the corridor view is used. Here 7 challenging parts of the CAVIAR dataset have been used which contain TwoEnterShop3, TwoEnterShop2, ThreePastShop2, ThreePastShop1, TwoEnterShop1, OneShopOneWait1 and OneStopMoveEnter1. The characteristics of this dataset are presented in Table 2. The world ground plane images of this dataset are given in Fig. 9
                        . To use the single view of this dataset in our proposed model, as has been done in [26], tracks of all objects from the ground truth of the corridor view are broken down into small pieces and the resulted pieces are used as the true tracklets in the proposed model. An error simulation tool is used for creating tracklets with errors.

Camera network datasets with a complex scenario which contains complete annotation are rarely available. Hence, synthetic datasets are the solution for evaluating the proposed method. In order to generate thorough annotated dataset according to every complicated surveillance scenario, based on the given information, a tool has been developed [41]. By assuming any arbitrary characteristics of the dataset, the dataset with proper annotations is obtained. In this paper, for a more comprehensive evaluation of the proposed model, a synthetic dataset with 6 cameras and 10 objects has been created. The characteristics of the synthetic dataset are presented in Table 2. The world ground plane images of this dataset are shown in Fig. 10
                        . Also, the appearance model of the objects are allotted with real images of the objects. So, in the synthetic dataset of this paper, the images of the people in various poses of 3DPeS [8,7,6] are used as the appearance model of the objects. The true tracklets of the created dataset are degraded with the error simulation tool to be used in our experiments.

For evaluating the proposed model quantitatively, 10 well known metrics which are commonly used are selected and the quality of the proposed model is measured using these metrics. The nomenclature and some information about these metrics are given in Table 3
                        . The first two metrics, TCF and TF, are obtained from [27]. TCF is presented in percentage and provides the quantitative measure of the completeness tracking of the persistent trace of the objects and TF is presented in a numerical measure of the fragmentation in tracking results. The POIF, PT, ST and FS are four common metrics in the INRIA Labratory which are defined in [29]. The PT, ST and FS are presented in percentage and provide the accuracy and recall of the proposed model in object tracking. POIF is a numerical measure for expressing the fragmentation rate of the tracking results. The metrics IDS, FG, ML and MT are the most common metrics in tracking scope which are defined in [19]. The ML presents in percentage the number of objects that lower than 20% of their persistent trace is tracked and MT provides in percentage the number of objects that higher than 80% of their persistent trace is tracked. The IDS and FG provide a numerical measure for presenting the fragmentation rate of the tracked objects. The results which are derived from the experiments using these metrics are presented in the next section.

@&#RESULTS AND DISCUSSION@&#

The quantitative results of experiments are shown in two tables, Tables 4 and 5
                        
                        . In Table 4, the quality of obtained estimated tracklets using our model and the Song method [1,31,5] are presented. For comparing the results in this table, three quantitative measures are used. The first row presents the number of estimated tracklets which are achieved from the input tracklets. The second row shows the number of error points in estimated tracklets, which are not corrected with the estimating method, and the third row gives the number of incorrect break points in the estimated tracklets. The input tracklets in these points are true but the estimating method has detected these points as break points incorrectly.

The goal of the tracklets estimating process is to gain the least estimated tracklets without error points. As presented in Table 4, the designated goal is satisfied by our proposed method superior than the Song method. Furthermore, as expected, the error points or unnecessary break points in the estimated tracklets lead to increase of errors on the persistent tracking results.

In order to analyze the effectiveness of our proposed model on the persistent tracking results, the results which are obtained utilizing the estimated tracklets to the persistent tracking algorithm [26,18,17,28], are presented in Table 5. In this table, the column with the title of “erroneous” refers to the tracking results using erroneous tracklets without the estimating process. The erroneous tracklets substantially destroy the tracking algorithm performance. In addition, the Song estimation model [1,31,5], introduces excessive and unnecessary break points on the tracklets, as shown in Table 4, which causes the persistent tracking to be more complicated and therefore results are deteriorated. These results are presented in Table 5 under the column entitled “Song Estimation”.

The results obtained by our method are presented in Table 5 under the column entitled “Our Estimation” and it illustrates that our proposed variational model estimates the true tracklets more accurately and improves the tracking results under challenging situations. Results of our model are displayed on real images as shown in Figs. 11 and 12
                        
                        . In Fig. 11, erroneous tracklets, estimated tracklets by Song algorithm, and estimated tracklets by our model which are based on PETS2009 dataset are presented from top to down, respectively. In Fig. 11 (a), the erroneous tracklet is presented which is demolished at point “b”. Fig. 11 (b) presents the estimated tracklets by Song algorithm. As shown in this figure, the Song algorithm extract four estimated tracklets. These estimated tracklets are the results of three break points, two of them unnecessary. These results are duo to occlusion of the object with the signpost. In Fig. 11 (c), the estimated tracklets by our model are shown. As presented, our model extract two estimated tracklet and does not include the errors of Song algorithm. In Fig. 12 the estimated tracklets from erroneous tracklets of the synthetic dataset are presented.

In order to analyze the side effects of the proposed model on the correct tracklets, two charts are given in Figs. 13 and 14
                        
                        . In Fig. 13,the tracking results, using our proposed estimated true tracklets and using correct tracklets directly are presented. Also, for comparing the side effect of Song estimation model, the effect of the the Song estimation model on the correct tracklets is shown in Fig. 14. These results show that the proposed model has less side effect on the correct tracklets, while the Song method by creating unnecessary breakpoints leads to undesirable tracking results.

@&#CONCLUSION@&#

In this paper, we propose a novel variational data association model for estimating true tracklets from erroneous input tracklets. Errors are common in tracklets when tracklets are extracted using a tracking algorithm. The performance of multi-object tracking in a network of cameras are affected seriously by erroneous tracklets. We proposed a variational model to estimate the true tracklets. The estimated true tracklets are then used in a persistent tracking algorithm. For evaluating the performance of the proposed model, we used three challenging datasets and presented the results based on the 10 well-known metrics. The results illustrate that the proposed model estimates the true tracklets from erroneous tracklets with less side effects on the true tracklets. We have used the estimated tracklets in several real world datasets of multi-object tracking of camera networks with challenging scenarios and superiority of our algorithm is demonstrated.

@&#REFERENCES@&#

