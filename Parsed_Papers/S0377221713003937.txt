@&#MAIN-TITLE@&#The roster quality staffing problem – A methodology for improving the roster quality by modifying the personnel structure

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           The introduction of the roster quality staffing problem.


                        
                        
                           
                           A methodology for assessing personnel structures that enable high quality rosters.


                        
                        
                           
                           A description of subgroup-specific versus overlapping nurse rostering constraints.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

OR in manpower planning

OR in health services

Personnel rostering

Staffing

Personnel planning

Roster quality staffing problem

@&#ABSTRACT@&#


               
               
                  Quantitative decision support on personnel planning is often restricted to either rostering or staffing. There exist some approaches in which aspects at the staffing level and the rostering level are treated in a sequential way. Obviously, such practice risks producing suboptimal solutions at both decision levels. These arguments justify an integrated approach towards improving the overall quality of personnel planning. This contribution constitutes (1) the introduction of the roster quality staffing problem and (2) a three-step methodology that enables assessing the appropriateness of a personnel structure for achieving high quality rosters, while relying on an existing rostering algorithm. Based on the rostering assessment result, specific modifications to the personnel structure can be suggested at the staffing level. The approach is demonstrated by means of two different hospital cases, which have it that they are subject to complex rostering constraints. Experimental results show that the three-step methodology indeed points out alternative personnel structures that better comply with the rostering requirements. The roster analysis approach and the corresponding staffing recommendations integrate personnel planning needs at operational and tactical levels.
               
            

@&#INTRODUCTION@&#

Determining an organization’s most suitable personnel structure is commonly known as a staffing problem (Ozcan, 2009). The personnel structure represents the number of employees in distinct personnel subgroups, distinguished by specific work-related and individual characteristics of its members (e.g. skills, contractual agreements). The main objective of staffing is to match the departmental personnel supply and demand. Undesired staffing situations, such as understaffing or overstaffing, need to be avoided. Understaffing occurs when the number of available personnel is not sufficient to satisfy the required number. In this case, it is impossible to preserve the organization’s service level (Leveck and Jones, 1996) or to avoid work overload, which may decrease the employees’ motivation, decrease their job satisfaction and increase personnel turnover (Larrabee et al., 2003). Overstaffing on the other hand occurs when the available personnel outnumbers the required personnel, resulting in excessive personnel costs.

Determining a suitable personnel structure is of crucial importance for many organizations. This is especially true for hospitals (Van den Heede et al., 2010). On the one hand, in developed countries, nurses are scarce human resources and retaining them is essential to preserve health care service levels (Leveck and Jones, 1996). Therefore, hospitals face the important challenge to avoid understaffing and work overload, in order to sustain the nurses’ job satisfaction and motivation (Larrabee et al., 2003). On the other hand, hospitals are on a restricted budget. They spend more than 50% of their total operational budget on personnel costs (Kazahaya, 2005) and therefore overstaffing would be very problematic.

Several techniques have been developed for solving the staffing problem (Abernathy et al., 1973; Ozcan, 2009). First, methods for workload estimation and forecast were presented (Ozcan, 2009). Second, based on workload estimations, several approaches were suggested for determining the number of required personnel. For example, the nurse-patient ratio is a common representation of the relation between workload and personnel requirements (Wright et al., 2006; Newbold, 2008). Wirojanagud et al. (2007) and Fowler et al. (2008), on the other hand, provided optimization models and algorithms to determine the number of required personnel per skill level and per general cognitive ability level, in such a way that the total staffing cost is minimized and the workload can be handled.

Early academic contributions already indicated the interactions between human resource management decisions at different management levels (Abernathy et al., 1973; Warner, 1976). Rostering and scheduling, for example, are personnel planning activities significantly influenced by staffing decisions. Rostering is concerned with assigning shifts to the available personnel (Burke et al., 2004). The objective is to attain the preferred coverage over a planning horizon (usually limited to 1month). The preferred coverage refers to the number of people that should be assigned to the shifts in order to enable carrying out the workload in a comfortable manner (Burke et al., 2006). Operational research techniques have been developed for dealing with a wide range of rostering problems, differing in the constraints taken into account. Constraints may be related to coverage requirements, contractual agreements (e.g. days on and days off patterns, the number of work hours per month) and personal preferences (e.g. personal day-off requests, shift requests). The constraints of a rostering problem can be modeled as either soft or hard (De Causmaecker and Vanden Berghe, 2011; Burke et al., 2004). High quality rosters respect the hard constraints and keep the violations of soft constraints as low as possible.

Some previous work considers both staffing and rostering problems while treating them sequentially (Abernathy et al., 1973; Ernst et al., 2004). The personnel structure was determined at an initial stage and then a roster was generated based on this personnel structure. The decisions taken at the staffing level restrict the possibilities at the rostering level. The number of personnel of the subgroups set at the staffing level influences the attainable quality of the rosters. Therefore, this sequential approach can result in suboptimal solutions at the different decision levels. While in general terms, the available employees may be sufficient to cover the workload, it may not be possible to attain the preferred coverage and/or respect the rostering constraints. To tackle such problems of low roster quality, some scholars suggest to use casual, agency and annualized workers in order to satisfy coverage requirements (Venkataraman and Brusco, 1996; Corominas et al., 2007; Bard and Purnomo, 2005). Although this may be an appropriate temporary solution, it may deteriorate service quality and may not be a desirable long-term solution for personnel shortages (Hurst and Smith, 2011; Pham et al., 2011). Consequently, staffing should consider rostering requirements and constraints, since the roster quality strongly depends on the organization’s personnel structure.

In the present paper, we introduce a procedure that supports hospitals in examining the nurse staffing problem, while taking into account rostering requirements and constraints. Besides nurse staffing, nurse rostering is an important aspect of personnel planning in hospitals. Indeed, health care organizations differ considerably from manufacturing companies. Health care services must be delivered in a timely manner and the capacity cannot be inventoried (Abernathy et al., 1973). Therefore, the interaction between nurse staffing and rostering is essential to ensure high quality rosters. The personnel must be sufficient for fulfilling the coverage requirements. Isken and Hancock (1998) introduced a tactical staff scheduling analysis approach for determining staffing levels and cyclical scheduling policies in order to meet the coverage requirements. The methodology in the present paper extends this work both on the methodological and on the scheduling part by considering general rather than cyclical rostering constraints.

In brief, at the staffing level, hospitals can only consider the personnel structure to be suitable if it takes into account and fulfills nurse rostering requirements.

This paper proceeds with a review of related papers on the interactions in human resource management decisions between the staffing and rostering level. A mathematical formulation of the roster quality staffing (RQS) problem is provided in Section 3. Next, in Section 4, by considering the specificity of nurse rostering problems, we propose a procedure to support hospitals in RQS. Section 5 provides an illustration of our procedure. By applying it to two nurse rostering cases, we show the value of taking into account rostering constraints at the staffing level of personnel planning. Finally, based on our results, Section 6 proposes some interesting directions for future research.

The interaction of staffing and rostering has been investigated in several research projects. However, the resulting models use a limited set of rostering constraints or they treat the staffing and rostering problem separately.


                     Venkataraman and Brusco (1996) present an iterated approach for nurse staffing and scheduling which consists of two steps. The first step is intended to obtain the number of full time and part time personnel in order to satisfy 6-month aggregate coverage requirements. The second step deals with scheduling the personnel for bi-weekly work requirements in order to minimize agency nurse costs and overtime. This rostering problem only incorporates coverage requirements.


                     Mundschenk and Drexl (2007) propose a combination of integer programming and simulated annealing to solve the staffing problem at a printing company. Specifically, their intention is to determine the personnel profiles and their personnel structure so that the annual personnel cost is minimized. A personnel profile corresponds to a combination of several skills which need to be possessed simultaneously. In a made-to-order environment, a worker needs to have multiple skills and this influences the wage rate. Mundschenk and Drexl (2007)’s approach does not produce a roster, but one of their constraints is to meet the aggregate coverage requirements throughout the year.


                     Li et al. (2007) determine the personnel structure in a service company so as to satisfy the coverage requirements aggregated over time, while meeting several scheduling constraints. They use multi-objective linear programming for both the problems and recursively iterate them until staffing and scheduling solutions are acceptable.

Although these three research contributions deliver integrated approaches, they concentrate mainly on staffing and restricted the rostering problem to coverage requirements aggregated over time. They only provide sufficient personnel for each requirement with respect to a long or medium time period without actually scheduling them and without considering many rostering constraints. Aggregation over time simplifies the problem so that it can be easier to solve, but it causes the accuracy of the solution to decrease since many restrictions are relaxed. The contribution of the present paper is to consider the rostering problem and its constraints explicitly.

More recently, Beliën et al. (2012) proposed an approach to solve an integrated staffing and cyclic rostering problem for airline maintenance. For all promising personnel structures, the (near) optimal roster is generated and the violation of the constraints is quantified. This allows comparing all feasible personnel structures and identifying the personnel structure that optimizes the quality of the associated roster. However, it will be very difficult to use Beliën et al. (2012)’s approach in hospitals. Firstly, a cyclic roster model is not common for nurse rostering since it reduces flexibility. The shift interval is often irregular, part-time nurses are common, and nurses want to choose days off and holidays more freely (De Causmaecker and Vanden Berghe, 2003). Secondly, hospitals apply a larger set of constraints than airline maintenance. Nurse rostering constraints are more restrictive and relaxation of the constraints (as in Beliën et al. (2012)) can largely deviate the rosters from the actual requirements. Thirdly, while the rostering problem of Beliën et al. (2012) only concerns one homogenous personnel subgroup, this is not the case in the nurse RQS problem.

Assume a rostering problem aiming at the allocation of people, represented by a personnel structure, to shifts while considering hard and soft roster constraints (Ernst et al., 2004). Hard constraints should be met at any time. A weighted sum of soft constraint violations should be minimized, while all the weights can be different.

Assume that for a personnel system with k mutually exclusive subgroups of employees the personnel structure is represented by the vector n. n
                     
                        i
                      refers to the number of members for subgroup i, with N the total number of personnel members at the rostering horizon. Thus:
                        
                           (1)
                           
                              N
                              =
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       k
                                    
                                 
                              
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                              
                           
                        
                     
                     
                        
                           (2)
                           
                              n
                              =
                              [
                              
                                 
                                    n
                                 
                                 
                                    1
                                 
                              
                              
                              
                                 
                                    n
                                 
                                 
                                    2
                                 
                              
                              ⋯
                              
                              
                                 
                                    n
                                 
                                 
                                    k
                                 
                              
                              ]
                           
                        
                     
                  

The personnel is divided in subgroups based on specific work-related characteristics of its members. These characteristics could be e.g. experience, department, contractual agreement; or skill and general cognitive ability level, as suggested by Wirojanagud et al. (2007) and Fowler et al. (2008). The characteristics should correspond to the variables on which the rostering constraints are imposed so that poor rosters can be improved by changing the number of personnel in the personnel structure. For each personnel subgroup, the work-related characteristics are formulated as:
                        
                           (3)
                           
                              
                                 
                                    ζ
                                 
                                 
                                    i
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             ζ
                                          
                                          
                                             1
                                          
                                          
                                             i
                                          
                                       
                                       ,
                                       
                                          
                                             ζ
                                          
                                          
                                             2
                                          
                                          
                                             i
                                          
                                       
                                       ,
                                       
                                          
                                             ζ
                                          
                                          
                                             3
                                          
                                          
                                             i
                                          
                                       
                                       ,
                                       …
                                       ,
                                       
                                          
                                             ζ
                                          
                                          
                                             l
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                              
                           
                        
                     
                     ζ
                     
                        i
                      represents the collection of characteristics for personnel subgroup i and 
                        
                           
                              
                                 ζ
                              
                              
                                 k
                              
                              
                                 i
                              
                           
                        
                      is the kth characteristic of nurses from subgroup i. An example of ζ
                     
                        i
                      is ζ
                     
                        i
                     
                     ={skill
                     1, skill
                     3, more than 5 years experience, full time nurse}. It should be noted that the number of characteristics for each personnel subgroup is not necessarily the same.

Assume an algorithm P that generates a solution to a rostering problem. The roster generated by algorithm P, given personnel structure n, is denoted by R(n). Roster R(n) satisfies all the hard constraints, while having the quality violations as low as possible.

Constraint violations are often unavoidable due to the presence of other highly restrictive constraints and/or an unsuitable n. The quality of roster R(n) is characterized by the degree to which the soft constraints of the roster problem are violated. The quality violation qv(R(n)) of roster R(n) represents the weighted sum of violations of soft constraints and coverage requirement over the rostering planning period:
                        
                           (4)
                           
                              qv
                              (
                              R
                              (
                              n
                              )
                              )
                              =
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       k
                                    
                                 
                              
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       j
                                       =
                                       1
                                    
                                    
                                       m
                                    
                                 
                              
                              
                                 
                                    w
                                 
                                 
                                    j
                                 
                                 
                                    s
                                 
                              
                              
                                 
                                    v
                                 
                                 
                                    ij
                                 
                              
                              +
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       l
                                       =
                                       1
                                    
                                    
                                       L
                                    
                                 
                              
                              
                                 
                                    w
                                 
                                 
                                    l
                                 
                                 
                                    c
                                 
                              
                              
                                 
                                    u
                                 
                                 
                                    l
                                 
                              
                              ,
                           
                        
                     with 
                        
                           
                              
                                 w
                              
                              
                                 j
                              
                              
                                 s
                              
                           
                        
                      the penalty weight of soft constraint j, v
                     
                        ij
                      the total number of violations of soft constraint j for personnel subgroup i, m the total number of soft constraints, u
                     
                        l
                      the total unmatched coverage requirements for characteristic l, 
                        
                           
                              
                                 w
                              
                              
                                 l
                              
                              
                                 c
                              
                           
                        
                      the penalty weight of coverage requirements for characteristic l, and L represents the number of coverage requirements.

In Eq. (4), we emphasize the coverage requirements in the calculation of qv(R(n)) in order to show that the rostering constraints can be used as a measure to indicate undesired staffing situations (i.e. staffing that does not match the rostering requirements). Using Eq. (4), coverage requirements become soft constraints if 
                        
                           
                              
                                 w
                              
                              
                                 l
                              
                              
                                 c
                              
                           
                        
                      is comparable with 
                        
                           
                              
                                 w
                              
                              
                                 j
                              
                              
                                 s
                              
                           
                        
                     . In addition, Eq. (4) also accommodates hard constraint coverage requirements by making 
                        
                           
                              
                                 w
                              
                              
                                 l
                              
                              
                                 c
                              
                           
                        
                      very high or infinite.

As the quality violation qv(R(n)) depends on the personnel structure n, the RQS problem aims at finding the most preferable personnel structure n
                     ∗
                     ∈Q such that:
                        
                           (5)
                           
                              qv
                              (
                              R
                              (
                              
                                 
                                    n
                                 
                                 
                                    ∗
                                 
                              
                              )
                              )
                              ⩽
                              qv
                              (
                              R
                              (
                              n
                              )
                              )
                              
                              ∀
                              n
                              ∈
                              Q
                           
                        
                     with Q being the set of all personnel structures n that can generate a roster R(n) satisfying all the hard constraints.

The subgroups of the personnel structure can be defined in alternative ways:
                        
                           1.
                           A personnel structure can be formulated so that personnel members with the same set of characteristics are classified as one subgroup. This approach is represented by Eqs. (6) and (7):
                                 
                                    (6)
                                    
                                       
                                          
                                             ζ
                                          
                                          
                                             i
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      ζ
                                                   
                                                   
                                                      1
                                                   
                                                   
                                                      i
                                                   
                                                
                                                ,
                                                
                                                   
                                                      ζ
                                                   
                                                   
                                                      2
                                                   
                                                   
                                                      i
                                                   
                                                
                                                ,
                                                
                                                   
                                                      ζ
                                                   
                                                   
                                                      3
                                                   
                                                   
                                                      i
                                                   
                                                
                                                ,
                                                …
                                                ,
                                                
                                                   
                                                      ζ
                                                   
                                                   
                                                      l
                                                   
                                                   
                                                      i
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    (7)
                                    
                                       
                                          
                                             ζ
                                          
                                          
                                             i
                                          
                                       
                                       
                                       ≠
                                       
                                       
                                          
                                             ζ
                                          
                                          
                                             j
                                          
                                       
                                       ,
                                       
                                       ∀
                                       i
                                       
                                       ≠
                                       
                                       j
                                    
                                 
                              
                           

Eq. (7) states that for two different subgroups, the set of characteristics is different. Nevertheless, they can have some characteristics in common. The relevance of different subgroups having some characteristics in common was pointed out by Li and King (1999).

An alternative representation can be constructed based on the main characteristic that differentiates the personnel subgroups as in Eqs. (8) and (9).
                                 
                                    (8)
                                    
                                       
                                          
                                             ζ
                                          
                                          
                                             i
                                          
                                       
                                       =
                                       
                                          
                                             
                                                
                                                   
                                                      ζ
                                                   
                                                   
                                                      1
                                                   
                                                   
                                                      i
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                              
                                 
                                    (9)
                                    
                                       
                                          
                                             ζ
                                          
                                          
                                             1
                                          
                                          
                                             i
                                          
                                       
                                       
                                       ≠
                                       
                                       
                                          
                                             ζ
                                          
                                          
                                             1
                                          
                                          
                                             j
                                          
                                       
                                       ,
                                       
                                       ∀
                                       i
                                       
                                       ≠
                                       
                                       j
                                    
                                 
                              
                           

Eq. (8) states that every member of subgroup i has the same main characteristic 
                                 
                                    
                                       
                                          ζ
                                       
                                       
                                          1
                                       
                                       
                                          i
                                       
                                    
                                 
                              . Eq. (9) shows that different subgroups have a different main characteristic. The alternative formulation is beneficial if constraints expressed in terms of the main characteristic have a high penalty weight.

In this section, we present a three-step approach for determining a suitable personnel structure n
                     ∗ for the nurse RQS problem.


                     Step 1. Consistency check of n
                     
                        s
                     .

Several staffing methods already exist to support personnel planners and propose a personnel structure n
                     
                        s
                     , which is optimal with respect to a variety of staffing objectives and constraints, but not necessarily to the rostering requirements. Therefore, De Causmaecker and Vanden Berghe (2003) suggest a consistency check with respect to a subset of the rostering requirements. Before actually solving the nurse rostering problem, the available and required number of personnel for each subgroup are compared in order to detect deficiencies that prevent generating good quality rosters. Likewise, we propose a consistency check to determine whether or not n
                     
                        s
                      (although optimal with respect to staffing objectives and constraints) is sufficient to fulfill the workload, thereby ignoring the other set of constraints. In any case, the next two steps can help to indicate which 
                        
                           
                              
                                 n
                              
                              
                                 i
                              
                              
                                 s
                              
                           
                        
                      should be changed in order to obtain a better roster.


                     Step 2. Quality evaluation of R(n
                     
                        s
                     ).

In general terms, after a successful consistency check, the proposed personnel structure n
                     
                        s
                      would be sufficient to cover the workload. However, this is not enough to evaluate the potential of n
                     
                        s
                      for yielding high quality rosters. Therefore, in Step 2, we suggest to evaluate the roster quality, given the problem instance and an algorithm P for generating rosters. On the one hand, it may not always be possible to generate a roster satisfying the hard constraints of the rostering problem (e.g. strict time related constraints, like minimum days off between shifts). If not, n
                     
                        s
                     
                     ∉Q and the personnel structure n
                     
                        s
                      cannot be a solution of the RQS problem. On the other hand, while P could generate R(n
                     
                        s
                     ) that attains the preferred coverage and respects the hard constraints, qv(R(n
                     
                        s
                     )) may be very high.


                     Step 3. Quality evaluation of the neighboring personnel structures of n
                     
                        s
                     .

Furthermore, in solving the RQS problem, we look for the personnel structure n
                     ∗ that enables P to generate a roster with the highest quality. Beliën et al. (2012) explored all feasible personnel structures and examined their quality. Nurse rostering problems include more constraints and an enumeration procedure such as the one Beliën et al. (2012) proposed, will be very expensive to apply. In comparison to this work, Isken and Hancock (1998) provide three personnel structure scenarios and underlie the influence to the roster quality. The approach presented here, goes beyond the latter scenario based methodology. We suggest evaluating the personnel structures restricted to the neighborhood of personnel structure n
                     
                        s
                      and assessing which neighboring personnel structure is beneficial for improving the roster quality. Neighboring personnel structures can be obtained by slightly modifying n
                     
                        s
                     .

We summarize the overall three-step approach in Fig. 1
                     . The approach can be performed iteratively. We explain the approach in detail in Sections 4.2 and 4.3 after describing different types of rostering constraints in Section 4.1.

The three-step approach can further be discussed for two types of nurse RQS problems, differing in the specific type of constraints considered at the rostering level. In general, the personnel planner should attempt to model the RQS problem as one with subgroup-specific constraints. It means that every rostering constraint can be associated with only one specific personnel subgroup i. Some rostering constraints require certain characteristics (e.g. skill, experience) of the personnel to be satisfied. If every rostering constraint corresponds with characteristics possessed by one personnel subgroup only, then the constraints are subgroup-specific constraints. An important advantage of subgroup-specific constraints is that roster quality violations qv(R(n
                        
                           s
                        )) can be partitioned according to the same subgroups of the personnel structure. Such a partition simplifies the identification of poor quality subgroups in Step 2. This simplifies the search for neighboring personnel structures in Step 3, because the roster can be alleviated by modifying only the n
                        
                           i
                         responsible for the poor quality.

Nevertheless, for some rostering problems, the personnel subgroups cannot be determined in such a way that the rostering constraints are associated with a single personnel subgroup i due to the existence of overlapping constraints. Overlapping rostering constraints are associated with two or more personnel subgroups. A rostering constraint corresponds to certain characteristics (as explained in Section 3) and the characteristics can be possessed by two or more personnel subgroups. Therefore, in this situation, the rostering constraint can be fulfilled by personnel from two or more personnel subgroups. For example, if a coverage constraint requires a certain characteristic (e.g. skill type) in order to be satisfied and this characteristic is covered by personnel from two different personnel subgroups, then we call the coverage constraint an overlapping constraint. An example is a coverage constraint that can be fulfilled by cross-trained or float unit personnel (Li and King, 1999). Other examples, such as tutorship, can be found in De Causmaecker and Vanden Berghe (2011).

Compared to the subgroup-specific constraints, the overlapping constraints complexify the relation between the personnel structure and its roster quality. There are several alternatives for improving a poor roster, for example modifying the number of personnel subgroup members which correspond to the unsatisfied roster constraints. Therefore, finding a good n
                        
                           s
                         may not be trivial because it requires considering which alternatives improve the quality most.

In case of subgroup-specific rostering constraints only, the personnel planner is able to structure the RQS problem in such a way that each rostering constraint is associated with only one personnel subgroup. A rostering constraint l is said to be a subgroup-specific constraint for personnel subgroup i if:
                           
                              (i)
                              
                                 ζ
                                 
                                    l
                                 
                                 ⊆
                                 ζ
                                 
                                    i
                                 , and


                                 ζ
                                 
                                    l
                                 
                                 ⊈
                                 ζ
                                 
                                    j
                                 , ∀j
                                 ={1,2,…,
                                 k}, i
                                 ≠
                                 j
                              

with ζ
                        
                           l
                        
                        ={ζ
                        
                           l,1,
                        ζ
                        
                           l,2,
                        ζ
                        
                           l,3,…} the characteristics the personnel should possess for satisfying constraint l. The first condition requires that personnel subgroup i needs to have sufficient characteristics ζ
                        
                           l
                         to satisfy constraint l, while the second condition states that none of the personnel subgroups different from i possesses characteristics ζ
                        
                           l
                        .


                        Step 1. Consistency check of n
                        
                           s
                        .

Step 1 is intended to compare the required and available resources. In practice, the personnel planner can define resources in several ways, e.g. number of work hours, number of personnel and number of full time equivalent (FTE).

The consistency check can be performed by calculating μ
                        
                           i
                        , which is the ratio of the required to available resources for personnel subgroup i. These ratios are calculated by:
                           
                              (10)
                              
                                 
                                    
                                       μ
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             τ
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       
                                          
                                             a
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ,
                                 
                                 i
                                 =
                                 1
                                 ,
                                 2
                                 ,
                                 …
                                 ,
                                 k
                              
                           
                        with τ
                        
                           i
                         the number of required resources for personnel subgroup i over the whole rostering horizon, and a
                        
                           i
                         the number of available resources for personnel subgroup i. Obviously, a
                        
                           i
                         needs to be greater than zero to avoid division by zero. A more detailed ratio can be calculated (for example, the ratio for a certain day or a certain shift) in order to check the suitability of n
                        
                           s
                         in a particular time or to examine the ratio in a day-to-day basis.

These ratios offer a static check to determine whether the personnel structure n
                        
                           p
                         is suitable given the workload:
                           
                              (i)
                              If ∃i: μ
                                 
                                    i
                                 
                                 >1, then n
                                 
                                    s
                                  is not suitable because a
                                 
                                    i
                                  is not sufficient to fulfill τ
                                 
                                    i
                                 .

If ∃i: μ
                                 
                                    i
                                 
                                 <1, then this cannot be generalized as overstaffing and n
                                 
                                    s
                                  cannot be judged as suitable or not. In general, μ
                                 
                                    i
                                 
                                 <1 implies that the available resources outnumber the required ones for personnel subgroup i. This may not be an undesirable situation, because excess resources are often needed as a buffer against unexpected illness or personal days off (Ozcan, 2009). Moreover, excess resources may be necessary when coverage requirements and time-related constraints are conflicting. Some rostering problems consider 
                                    
                                       
                                          
                                             w
                                          
                                          
                                             l
                                          
                                          
                                             c
                                          
                                       
                                       <
                                       
                                          
                                             w
                                          
                                          
                                             j
                                          
                                          
                                             s
                                          
                                       
                                       (
                                       ∀
                                       l
                                       =
                                       1
                                       ,
                                       …
                                       L
                                       ,
                                       ∃
                                       j
                                       =
                                       1
                                       ,
                                       …
                                       m
                                       )
                                    
                                 , i.e. the penalty weight for coverage requirements is less than the penalty weight for some other constraints. If the number of resources equals the requirements (μ
                                 
                                    i
                                 
                                 =1), they could be insufficient when the priority of the other constraints is higher than the coverage requirements. Therefore, the excess resources may be needed to satisfy the coverage requirements l taking into account the other soft constraints.

The examination continues with Step 2, investigating n
                        
                           s
                        ’s suitability more profoundly.


                        Step 2. Quality evaluation of R(n
                        
                           s
                        ).

Solving the rostering problem can further reveal the suitability of the personnel structure n
                        
                           s
                        . In addition to the previous step, Step 2 considers the rostering constraints. Recall that qv(R(n
                        
                           s
                        )) is the quality violation of a roster R(n
                        
                           s
                        ), which can be computed by Eq. (11). Then qv
                        
                           i
                        (R(n
                        
                           s
                        )) represents the quality violation for personnel subgroup i and is calculated as:
                           
                              (11)
                              
                                 
                                    
                                       qv
                                    
                                    
                                       i
                                    
                                 
                                 (
                                 R
                                 (
                                 
                                    
                                       n
                                    
                                    
                                       s
                                    
                                 
                                 )
                                 )
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          j
                                          =
                                          1
                                       
                                       
                                          m
                                       
                                    
                                 
                                 
                                    
                                       w
                                    
                                    
                                       j
                                    
                                 
                                 
                                    
                                       v
                                    
                                    
                                       ij
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          l
                                          ∈
                                          
                                             
                                                L
                                             
                                             
                                                i
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       w
                                    
                                    
                                       l
                                    
                                    
                                       c
                                    
                                 
                                 
                                    
                                       u
                                    
                                    
                                       l
                                    
                                 
                                 ,
                                 
                                 with
                                 
                                 
                                    
                                       L
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 {
                                 l
                                 |
                                 
                                    
                                       ζ
                                    
                                    
                                       l
                                    
                                 
                                 ∈
                                 
                                    
                                       ζ
                                    
                                    
                                       i
                                    
                                 
                                 }
                              
                           
                        Eq. (11) states that qv
                        
                           i
                        (R(n
                        
                           s
                        )) is a weighted sum of the violation of the soft constraints associated with personnel subgroup i and the violation of coverage requirements l
                        ∈
                        L
                        
                           i
                         which have characteristic ζ
                        
                           l
                         possessed by personnel subgroup i. Examining the quality violation sources is useful to identify the suitability of 
                           
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                                 
                                    s
                                 
                              
                           
                         for each personnel subgroup. The quality violations are categorized into qv
                        
                           i
                        (R(n
                        
                           s
                        )) and then the personnel subgroups with high value are evaluated.

High values of qv
                        
                           i
                        (R(n
                        
                           s
                        )) indicate that 
                           
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                                 
                                    s
                                 
                              
                           
                         is not suitable. In this case, it is useful to examine the source of quality violations in personnel subgroup i. If soft constraints can be partitioned into several constraint types (e.g. personal preferences, etc.), with H a subset of soft constraints of type h, then qv
                        
                           ih
                        (R(n
                        
                           s
                        )) can be calculated as the quality violation for personnel subgroup i indexed by constraint type h using Eq. (12). A high value of qv
                        
                           ih
                        (R(n
                        
                           s
                        )) indicates the constraint type for which the personnel subgroup i is not suited.
                           
                              (12)
                              
                                 
                                    
                                       qv
                                    
                                    
                                       ih
                                    
                                 
                                 (
                                 R
                                 (
                                 
                                    
                                       n
                                    
                                    
                                       s
                                    
                                 
                                 )
                                 )
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          j
                                          ∈
                                          H
                                       
                                    
                                 
                                 
                                    
                                       w
                                    
                                    
                                       j
                                    
                                 
                                 
                                    
                                       v
                                    
                                    
                                       ij
                                    
                                 
                              
                           
                        Some rostering problems (e.g. tour scheduling by Isken and Hancock (1998)) restrict the soft constraints to coverage requirements only. Also in case of a potential personnel shortage, the algorithm P generates a roster R(n
                        
                           s
                        ) that assigns employees to shifts in the best possible way. Poor rosters can be due to work overload and/or unsatisfied coverage requirements. In highly constrained problems (e.g. (Bilgin et al., 2012)), constraint violations due to conflicting constraints may be inevitable. For this reason, such problems may restrain algorithm P to assign personnel to shifts in order to prevent violations of other constraints with higher penalty weights. Therefore, the number and type of constraint violations is not sufficient to evaluate the quality of R(n
                        
                           s
                        ).


                        qv
                        
                           ih
                        (R(n
                        
                           s
                        )) provides a quantification of the amount of violation of the coverage requirements, but it does not show whether this is caused by, for example, personnel excess or shortage. In order to identify such conditions, the personnel occupation rate and the coverage requirement fulfillment ratio can be examined by:
                           
                              (13)
                              
                                 
                                    
                                       ρ
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             δ
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       
                                          
                                             a
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (14)
                              
                                 
                                    
                                       Ω
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             δ
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       
                                          
                                             τ
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                              
                           
                        These ratios are similar to μ
                        
                           i
                         in Eq. (10) but they are used for identifying undesired conditions. For personnel subgroup i and roster R(n
                        
                           s
                        ), ρ
                        
                           i
                         represents the personnel occupation rate, Ω
                        
                           i
                         the coverage requirement fulfillment ratio, δ
                        
                           i
                         the resources of personnel subgroup i allocated in R(n
                        
                           s
                        ) and a
                        
                           i
                         the available resources of personnel subgroup i over the whole rostering horizon.

Based on qv
                        
                           i
                        (R(n
                        
                           s
                        )), ρ
                        
                           i
                         and Ω
                        
                           i
                        , the quality of personnel structure n
                        
                           s
                         can be evaluated. In general, ρ
                        
                           i
                        
                        >1 and Ω
                        
                           i
                        
                        ⩽1 indicate understaffing, while ρ
                        
                           i
                        
                        <1 and Ω
                        
                           i
                        
                        ⩾1 indicate overstaffing. In both cases, n
                        
                           s
                         is not suitable and a better personnel structure is needed.

In case of understaffing in personnel subgroup i, increasing the available resources a
                        
                           i
                         can help to improve the roster quality. In contrast, in case of overstaffing, decreasing the available resources a
                        
                           i
                         can improve the rostering solution. The personnel planner should modify n
                        
                           s
                         and check the impact of the roster quality. It can be easily implemented as part of an automated procedure. The recommendation on how to do this is provided in Step 3.


                        Step 3. Quality evaluation of the neighboring personnel structures of n
                        
                           s
                        .

In the third step of the proposed framework, quality evaluations of personnel structures similar to n
                        
                           s
                         are performed. The current personnel structure n
                        
                           s
                         is altered to generate similar, slightly modified personnel structures n
                        
                           s′. Iteratively, each n
                        
                           s′ substitutes the personnel structure n
                        
                           s
                         in the rostering problem. Then, algorithm P is applied to the new problem to generate a roster R(n
                        
                           s′) and its quality measure qv(R(n
                        
                           s′)). In this step, ρ
                        
                           i
                         and Ω
                        
                           i
                         are not evaluated because they are inherently included in qv(R(n
                        
                           s ′)). As qv(R(n
                        
                           s′)) becomes low, ρ
                        
                           i
                         and Ω
                        
                           i
                         become closer to one.

This examination is performed to confirm the suitability of the personnel structure n
                        
                           s
                         in terms of the roster quality. If 
                           
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                                 
                                    s
                                 
                              
                           
                         is suitable, then modifying 
                           
                              
                                 
                                    n
                                 
                                 
                                    i
                                 
                                 
                                    s
                                 
                              
                           
                         will deteriorate the roster quality qv
                        
                           i
                        (R(n
                        
                           s
                        )). If qv(R(n
                        
                           s
                        )) is not suitable, then it is recommended to select a modified personnel structure n
                        
                           s∗ such that qv(R(n
                        
                           s∗))⩽min{qv(R(n
                        
                           s
                        )), qv(R(n
                        
                           s′))}.

In order to evaluate the quality of each R(n
                        
                           s′), it is necessary to produce several neighboring problem instances. A neighboring problem instance is generated from the current rostering problem by slightly modifying the number of members for some personnel subgroups. It involves removing and/or duplicating specific nurses, with their own characteristics. One particular personnel structure can correspond to many problem instances because there are many possibilities to remove and/or add nurses. For example, duplicating nurse x (who prefers free Wednesday afternoons) will result in a different problem instance compared to duplicating nurse y (who plays volley ball on Monday and Tuesday nights), although both x and y belong to the same personnel subgroup.

We suggest generating neighboring personnel structures by one of the following rules:
                           
                              
                                 Rule 1. Increase or decrease the total number of nurses. The total number of nurses of the neighboring personnel structure equals N′=
                                 N
                                 ±
                                 c, with c an integer. The corresponding problem instance is generated by duplicating random nurses to increase or by removing random nurses to decrease the number of nurses.


                                 Rule 2. Increase or decrease the number of nurses for one personnel subgroup. Compared to the first rule, it restricts the modification to a specific personnel subgroup. The neighboring personnel structure is denoted by n
                                 
                                    s′
                                 =[n
                                 1
                                 ⋯
                                 n
                                 
                                    i
                                 
                                 ±
                                 c
                                 ⋯
                                 n
                                 
                                    k
                                 ], with c an integer. The corresponding problem instance is generated as follows. For increasing the number of nurses of subgroup i, a random nurse with the same characteristics is duplicated. Decreasing the number of nurses is performed by removing random nurses from subgroup i.


                                 Rule 3. Increase the number of nurses within a certain personnel subgroup and decrease the number of nurses within another personnel subgroup. The neighboring personnel structure is represented by n
                                 
                                    s ′
                                 =[n
                                 1
                                 ⋯
                                 n
                                 
                                    i
                                 
                                 ±
                                 c
                                 ⋯
                                 n
                                 
                                    j
                                 
                                 ∓
                                 d
                                 ⋯
                                 n
                                 
                                    k
                                 ], with i
                                 ≠
                                 j, and c and d are integers. The corresponding problem instance is generated in the same way as explained above except that the process is performed concurrently for different personnel subgroups. In addition, the nurses are chosen randomly.


                                 Rule 4. Assign a nurse from a personnel subgroup to another personnel subgroup (for example, an interchange between the wards). To generate the corresponding problem instance, the nurse is selected randomly. The neighboring personnel structure must respect the following form n
                                 
                                    s′
                                 =[n
                                 1
                                 ⋯
                                 n
                                 
                                    i
                                 
                                 ±
                                 c
                                 ⋯
                                 n
                                 
                                    j
                                 
                                 ∓
                                 c
                                 ⋯
                                 n
                                 
                                    l
                                 ], with c an integer.

Step 1 and Step 2 indicate which personnel subgroups need to be composed differently. Moreover, results from Step 2 suggest how the poor roster can be alleviated by increasing or decreasing the number of members of a personnel subgroup. Therefore, the results from Step 1 and 2 can be used to indicate which one is the most effective to improve the roster quality.

Rules 1, 2, 3 and 4 are intended to sample which modification improves the roster quality the most. Rule 1, in particular, aims at examining the suitability of the total number of personnel. Rules 2, 3, and 4 are intended to sample various personnel structures and show which modification produces the largest benefit.

While conducting quality evaluations of neighboring personnel structures, several issues need to be addressed. Firstly, for efficiency, the number of neighboring problem instances should be restricted, e.g. by limiting the number of additional/removal nurses to 3. Secondly, in order to provide reliable results, the qv(R(n
                        
                           s ′)) calculations are conducted multiple times as shown in Algorithm 1. The first loop of the algorithm (line 2) is to sample all the four types of neighboring structures as suggested above. The second loop (line 3) generates several neighboring problem instances using the same neighboring structure. It is intended to sample the instances of n
                        
                           s′ and handle the random selection of nurses to be removed or duplicated. The third loop (line 4) is performed using identical problem instances to deal with the stochastic performance of the rostering optimization algorithm P.
                           Algorithm 1
                           Procedure for sampling the neighborhood of the current personnel structure.
                                 
                                    
                                       
                                       
                                          
                                             1 Given personnel structure n
                                                
                                                   s
                                                 and algorithm P
                                             
                                          
                                          
                                             2 For each neighboring personnel structure of n
                                                
                                                   s
                                                
                                             
                                          
                                          
                                             3 For each problem instance with neighboring personnel structure n
                                                
                                                   s′
                                             
                                          
                                          
                                             4 For each run of algorithm P
                                             
                                          
                                          
                                             5 Generate R(n
                                                
                                                   s′) and compute qv(R(n
                                                
                                                   s ′))
                                          
                                          
                                             6 End
                                          
                                          
                                             7 End
                                          
                                          
                                             8 End
                                          
                                       
                                    
                                 
                              
                           

The roster quality values are then collected and the results are compared. The roster quality results may not follow a normal distribution. The Wilcoxon rank test (Walpole et al., 2012) is used to determine whether two different personnel structures have significantly different roster quality. If the personnel structures result in significantly different roster quality, then the effect of modifying the personnel structure on the roster quality can be concluded. Additionally, the correlation of n
                        
                           i
                         and the roster quality can be easily visualized. Boxplots, in particular, provide qualitative recommendations to improve the rostering solution by changing the number of personnel for the subgroups.

As mentioned before, overlapping rostering constraints are associated with two or more personnel subgroups.

We can make a distinction between two types of overlapping rostering constraints:
                           
                              1.
                              Rostering constraints expressed in terms of characteristics that are possessed by at least two personnel subgroups

Two or more personnel subgroups can have the same set of characteristics corresponding to a rostering constraint. Such a rostering constraint is considered as an overlapping constraint if it can be fulfilled by personnel from more than one personnel subgroup. In this situation, a constraint l is said to be an overlapping constraint for a set of personnel subgroups F if:


                                 ζ
                                 
                                    l
                                 
                                 ⊆
                                 ζ
                                 
                                    i
                                 , ∀i
                                 ∈
                                 F, and

∣F∣⩾2.

The first condition requires that all personnel subgroups in F need to have characteristics ζ
                        
                           l
                         to satisfy constraint l while the second condition states that there are two or more personnel subgroups which possess ζ
                        
                           l
                        .

In order to improve a roster that violates some overlapping rostering constraints, one of the corresponding personnel subgroups should be modified. In other words, a personnel subgroup i acts as a substitute for the other personnel subgroups denoted by F⧹i. However, the personnel planner needs to find which alternative is the most beneficial to improve the quality.
                           
                              1.
                              Rostering constraints expressed in terms of characteristics that are not all possessed by one of the personnel subgroups

This constraint can be a one-way dependence constraint or a two-way interdependence constraint. A one-way dependence constraint means that the involvement of one personnel subgroup member implies an involvement of a member belonging to another personnel subgroup. For instance, tutorship is a rostering constraint that requires the trainee nurse when on duty, to be accompanied by the tutor nurse (Burke et al., 2009). Meanwhile, a two-way interdependence constraint characterizes two different personnel subgroups which depend on each other for satisfying a constraint. These two personnel subgroups complement each other (e.g. when a task can only be performed by two or more nurses with different skills). In this situation, a constraint l is said to be an overlapping constraint for a set of personnel subgroup F if:


                                 ζ
                                 
                                    l
                                 
                                 ⊈
                                 ζ
                                 
                                    i
                                 , ∀i
                                 ∈{1,2,…,
                                 k}


                                 ζ
                                 
                                    l
                                 
                                 ⋂
                                 ζ
                                 
                                    i
                                 
                                 ≠∅, ∀i
                                 ∈
                                 F, and


                                 ζ
                                 
                                    l
                                 
                                 ⊆⋃
                                 
                                    i∈F
                                 
                                 ζ
                                 
                                    i
                                 .

The first and the second condition require that each personnel subgroup in F only has partial characteristics for satisfying ζ
                        
                           l
                        . Meanwhile, the third condition states that the characteristics ζ
                        
                           l
                         of a rostering constraint l are characteristics of some subgroups of F.

In contrast to the previous, this type of constraints may cause the requirements for two subgroups to be increased (and decreased) simultaneously in order to improve the roster quality. In what follows, we explain a three-step approach for supporting the RQS problem when at least one overlapping constraint exists.


                        Step 1. Consistency check of n
                        
                           s
                        .

The required and available resources are compared. In case the total required and the total available resources for subgroups can be separated (coverage constraints are not overlapping constraints), this examination can be performed as shown in Eq. (10). A ratio for the whole subgroup can be computed as follows:
                           
                              (15)
                              
                                 μ
                                 =
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             τ
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             a
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                              
                           
                        
                     

On the other hand, if coverage requirements can be satisfied by more than one subgroup, a rough approximation model balancing the ratio for each personnel subgroup in F is proposed:
                           
                              (16)
                              
                                 Minimize
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          F
                                       
                                    
                                 
                                 |
                                 
                                    
                                       μ
                                    
                                    
                                       F
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       i
                                    
                                 
                                 |
                              
                           
                        
                        
                           
                              (17)
                              
                                 s
                                 .
                                 t
                                 .
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          F
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          j
                                          ⩾
                                          i
                                          ,
                                          j
                                          ∈
                                          F
                                       
                                    
                                 
                                 
                                    
                                       δ
                                    
                                    
                                       ij
                                    
                                 
                                 =
                                 
                                    
                                       a
                                    
                                    
                                       F
                                    
                                 
                              
                           
                        
                        
                           
                              (18)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          j
                                          ∈
                                          F
                                       
                                    
                                 
                                 
                                 
                                    
                                       δ
                                    
                                    
                                       ij
                                    
                                 
                                 =
                                 
                                    
                                       a
                                    
                                    
                                       i
                                    
                                 
                                 
                                 ∀
                                 i
                                 ∈
                                 F
                              
                           
                        
                        
                           
                              (19)
                              
                                 
                                 
                                    
                                       δ
                                    
                                    
                                       ij
                                    
                                 
                                 ⩽
                                 
                                    
                                       a
                                    
                                    
                                       ij
                                    
                                 
                                 
                                 ∀
                                 i
                                 ,
                                 j
                                 ∈
                                 F
                                 ,
                                 j
                                 ⩾
                                 i
                              
                           
                        
                        
                           
                              (20)
                              
                                 
                                 
                                    
                                       μ
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             τ
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             j
                                             =
                                             1
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             δ
                                          
                                          
                                             ij
                                          
                                       
                                    
                                 
                                 
                                 ∀
                                 i
                                 ∈
                                 F
                              
                           
                        
                        
                           
                              (21)
                              
                                 
                                 
                                    
                                       δ
                                    
                                    
                                       ij
                                    
                                 
                                 ⩾
                                 0
                                 
                                 ∀
                                 i
                                 ,
                                 j
                                 ∈
                                 F
                                 ,
                                 
                                 j
                                 ⩾
                                 i
                              
                           
                        with μ
                        
                           F
                         the ratio of required to available resources for the subset F. In order to determine all members of F, a simple rule is used. All pairs of subgroups are scanned and then subgroups with intersection characteristics are put into the same subset F. δ
                        
                           ij
                         represents allocated resources of nurses which have both ζ
                        
                           i
                         and ζ
                        
                           j
                        , and δ
                        
                           ii
                         donates allocated resources of nurses which have ζ
                        
                           i
                        . a
                        
                           ij
                         the total available resources for nurses which have both characteristic i and j, and a
                        
                           F
                         the total available resources for nurses in subset F.

Eq. (16) shows that the above formulation is intended to minimize the total absolute deviation of μ
                        
                           i
                         and μ
                        
                           F
                        . Eqs. (17)–(19) restrict the allocated to the available resources. Eq. (20) calculates the occupation rate for each characteristic.

In order to avoid nonlinear equations of Eq. (20), Eqs. (22) and (23) are used to replace Eqs. (16) and (20) respectively. It should be noted that the denominators of this formulation must not be zero. A zero denominator τ
                        
                           i
                         indicates no coverage requirements for subgroup i and then this subgroup must not be included in the model.
                           
                              (22)
                              
                                 Minimize
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          F
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                1
                                             
                                             
                                                
                                                   
                                                      μ
                                                   
                                                   
                                                      F
                                                   
                                                
                                             
                                          
                                          -
                                          
                                             
                                                1
                                             
                                             
                                                
                                                   
                                                      μ
                                                   
                                                   
                                                      i
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (23)
                              
                                 
                                    
                                       1
                                    
                                    
                                       
                                          
                                             μ
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             j
                                             =
                                             1
                                          
                                          
                                             k
                                          
                                       
                                       
                                          
                                             δ
                                          
                                          
                                             ij
                                          
                                       
                                    
                                    
                                       
                                          
                                             τ
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 
                                 ∀
                                 i
                                 ∈
                                 F
                              
                           
                        However, Eq. (22) can be linearized by introducing variables d
                        
                           iF
                         and constraints Eqs. (24)–(26) and thus the above formulation becomes a linear programming formulation.
                           
                              (24)
                              
                                 Minimize
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          F
                                       
                                    
                                 
                                 
                                    
                                       d
                                    
                                    
                                       iF
                                    
                                 
                              
                           
                        
                        
                           
                              (25)
                              
                                 
                                    
                                       d
                                    
                                    
                                       iF
                                    
                                 
                                 ⩾
                                 
                                    
                                       1
                                    
                                    
                                       
                                          
                                             μ
                                          
                                          
                                             F
                                          
                                       
                                    
                                 
                                 -
                                 
                                    
                                       1
                                    
                                    
                                       
                                          
                                             μ
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 
                                 ∀
                                 i
                                 ∈
                                 F
                              
                           
                        
                        
                           
                              (26)
                              
                                 
                                    
                                       d
                                    
                                    
                                       iF
                                    
                                 
                                 ⩾
                                 
                                    
                                       1
                                    
                                    
                                       
                                          
                                             μ
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 -
                                 
                                    
                                       1
                                    
                                    
                                       
                                          
                                             μ
                                          
                                          
                                             F
                                          
                                       
                                    
                                 
                                 
                                 ∀
                                 i
                                 ∈
                                 F
                              
                           
                        
                     

By using only linear relationships, the optimality condition can always be checked.

After μ
                        
                           i
                        , ρ
                        
                           i
                        , and Ω
                        
                           i
                         have been computed, their interpretation is the same as in Section 4.2.


                        Step 2. Quality evaluation of R(n
                        
                           s
                        ).

Recall that the values of qv
                        
                           i
                        (R(n
                        
                           s
                        )), ρ
                        
                           i
                         and Ω
                        
                           i
                        , need to be computed in this examination. Then, some suitability aspects of the personnel structure can be evaluated by examining these values with Eqs. (11)–(14).

The calculation of qv
                        
                           i
                        (R(n
                        
                           s
                        )) and qv
                        
                           ih
                        (R(n
                        
                           s
                        )) can be difficult because an overlapping rostering constraint corresponds with more than one personnel subgroup. In order to deal with this issue, we suggest the following. If the personnel structure is formulated based on Eqs. (8) and (9) and the quality violation corresponds to characteristic 
                           
                              
                                 
                                    ζ
                                 
                                 
                                    1
                                 
                                 
                                    i
                                 
                              
                           
                        , then this quality violation is included in qv
                        
                           i
                        (R(n
                        
                           s
                        )) and qv
                        
                           ih
                        (R(n
                        
                           s
                        )). The personnel structure formulation based on Eqs. (8) and (9) assumes 
                           
                              
                                 
                                    ζ
                                 
                                 
                                    1
                                 
                                 
                                    i
                                 
                              
                           
                         as the main characteristic of personnel subgroup i. The constraint violation is likely to be caused by the unsuitability of n
                        
                           i
                        .

Meanwhile, if a personnel structure is formulated based on Eqs. (6) and (7) or if it is formulated based on Eqs. (8) and (9) but the overlapping constraint does not correspond to the main characteristic, then the corresponding violation is suggested to be included in the qv
                        
                           i
                        (R(n
                        
                           s
                        )) and qv
                        
                           ih
                        (R(n
                        
                           s
                        )) calculation for all personnel subgroups in the corresponding subset F. In this case, it is difficult to decide which personnel subgroup causes the violation.


                        Step 3. Quality evaluation of the neighboring personnel structures of n
                        
                           s
                        .

As mentioned previously, an examination of the neighborhood of the current personnel structure is conducted. In case of a problem with overlapping constraints, the method corresponds to the one in Section 4.2. The examination proposed in Section 4.2 can handle situations where constraints overlap different personnel subgroups.

This examination offers an appropriate methodology to examine a rostering problem with overlapping rostering constraints because it implicitly considers them when solving the rostering problem. Meanwhile, the earlier examinations cannot accurately describe the suitability of the personnel structure because they do not take the interdependence among subgroups into account.

We recommend to perform all the steps in the approach since they contribute to the complete understanding of the suitability of a personnel structure. Step 1, as a simple check, can provide evidence in case the available resources are below the required resources. Step 2, which needs more computational effort than Step 1, provides a more detailed explanation of a low quality roster (if any). Step 3, which requires the most extensive computational effort, provides alternatives to modify the personnel structure in order to improve the roster quality.

This section illustrates the proposed approach applied to the nurse rostering problem of Bilgin et al. (2012). The KAHO rostering model introduced in Bilgin et al. (2012) describes a general rostering problem. This model is selected because it resembles the real-world practice well and thus opens opportunities for contributing to the health care field. The model is a generic rostering model which can represent more accurate real world nurse rostering problems. Hard constraints considered in this model are (1) a nurse should not have more than one assignment per day, (2) an assignment is permitted only if it matches with one of the nurse’s skill types, and (3) no assignment can be made except those needed in the coverage requirements. Bilgin et al. (2012) explain the model for more detail.

Two instances from the KAHO benchmarks (Bilgin et al., 2012) are used to demonstrate the proposed approach, i.e. (i) the Emergency and (ii) the Palliative Care wards. The planning periods for emergency and palliative care wards are 4 and 13weeks respectively. All details on the computational results are available in the technical report (Komarudin et al., 2012).


                     Table 1
                      presents the number of nurses with each skill type for each instance. The total number of nurses for both instances is 27. While the nurses in the emergency ward can have multiple skills, the nurses of the palliative care do not have multiple skills.Table 2
                      provides the number of nurses for each weekly work hours category and Table 3
                      presents the aggregate work hours requirement for each skill.

The personnel structure for emergency ward is constructed based on the primary skill type. Specifically, the nurses can be divided into four personnel subgroups based on Eqs. (8) and (9). Each subgroup having the primary skill type as main characteristic: ζ
                     1
                     ={Skill
                     1}, ζ
                     2
                     ={Skill
                     2}, ζ
                     3
                     ={Skill
                     3} and ζ
                     4
                     ={Skill
                     4}. It should be noted that the personnel subgroups 2 and 3 have skill type 4 as their secondary skill. The current personnel structure coincides with the proposed one at the staffing level: n
                     
                        s
                     
                     =[1 16 4 6].

The personnel structure for palliative care ward is constructed based on the personnel’s skill type. Each member of personnel only possesses one single skill type as characteristic: ζ
                     1
                     ={Skill
                     1}, ζ
                     2
                     ={Skill
                     2}, ζ
                     3
                     ={Skill
                     3} and ζ
                     4
                     ={Skill
                     4}. The current personnel structure of this ward is n
                     
                        s
                     
                     =[1 21 4 1]. We proceed with the application of the three-step approach for both wards.


                     Step 1. Consistency check of n
                     
                        s
                     .

The first step examines the required to available resources ratio, μ
                     
                        i
                      and μ. In this implementation, resources are defined as work hours. According Eq. (15), the required work hours to available work hours ratio for the entire team of nurses of the emergency ward, μ
                     =85.13%. This number denotes a reasonable workload since it includes absence allowances. For example, Ozcan (2009) and Beliën et al. (2012) used 9.8% and 15% respectively as the vacation/illness allowance. However, a more detailed analysis regarding the ratio for each personnel subgroup (μ
                     
                        i
                     ) is required because not all coverage requirements can be performed by all member of personnel.

Personnel subgroup 1, the only subgroup without any overlapping skill with other personnel subgroups in the considered instance, has a ratio of 95%. Skill 1 corresponds to the ‘head nurse’. The detailed daily requirement for this skill type in this problem instance is always one person on weekdays and no requirements during the weekend (see the website provided in (Bilgin et al., 2012) for detailed data).

Let us now consider subgroups 2, 3 and 4 which have common skill 4 and are assigned to the same subset F. If we only look at the required work hours for the primary skill, then all available work hours for all skill type are sufficient except for skill type 4. As a result, any roster will have a penalty because it should make assignments to the secondary skill 4 (the secondary skill constraint is violated). For resolving this overlapping constraint example, the mathematical programming formulation from Eqs. (17)–(19), (21), (23)–(26) is used. The ratios for skills 2, 3 and 4 can be obtained and their values are the same, i.e. 85.13%. This number is also acceptable since it provides some space for absence requests and illness allowances.

Similar to the emergency ward example, the ratio of palliative care can be obtained. Since there are no overlapping rostering constraints, the examination of the ratio of palliative care ward is simpler than the examination of emergency ward. For skill type 2, the available work hours is strictly greater than needed as indicated by the ratio ranging between 57.5% and 64.7%. These numbers suggest there is an overstaffing condition for skill type 2. Skill type 3 has a reasonable ratio for skill type 3, with 5% buffer time to provide absence allowances. An understaffing condition occurs for skill type 4. However, the number of required and the number of available nurses for skill type 4 is one. Adding more skill type 4 nurses, would immediately result in overstaffing.


                     Step 2. Quality evaluation of R(n
                     
                        s
                     ).

• Quality evaluation of R(n
                     
                        s
                     
                     ) for the emergency ward.

The emergency ward example is solved using the same algorithm of Bilgin et al. (2012) with five replications. The resulting constraint violations are summarized in Table 4
                     .

As shown in Table 4, 64% of the penalty is due to the unsatisfied coverage requirement of skill type 4. This indicates a lack of available work hours for skill type 4. It should also be noted that the penalty caused by the violation of coverage requirements of skill type 4 only included for personnel subgroup 4 as we suggested in Section 4.3.

The personnel occupation rate for each subgroup (ρ
                     
                        i
                     ) and coverage requirement fulfillment ratio for each subgroup (Ω
                     i) are presented in Table 5
                     . The average of Ω
                     1, Ω
                     2, Ω
                     3 are greater than 94%. One can conclude that the number of personnel for skill types 1, 2 and 3 is sufficient for fulfilling the requirements. On the other hand, the average of the coverage requirement fulfillment ratio for skill 4 (Ω
                     4) is less than 90%. Although Table 4 indicates a high penalty proportion for the unsatisfied coverage requirement of skill type 4, it appears that the average of the occupation rates for skill types 2, 3 and 4 (ρ
                     2, ρ
                     3, ρ
                     4) are less than 78% (Table 5). In order to satisfy the coverage requirement for skill type 4, these ratios should be 85.13% as stated in Step 1. With 85.13% ratios, the allocated resources equal to the coverage requirements.

The low personnel occupation rate for skill types 2, 3 and 4 can be explained by the presence of several conflicting constraints. Bilgin et al. (2012)’s algorithm tends to satisfy the constraints with high penalty value at the expense of low penalty value constraints based on the weighted sum objective function. Consider for instance, the penalty for one violation of the work requirements which equals 100. Meanwhile, the shift-types-worked-series violation has penalty value of 500. Consequently, the algorithm will try to guide the search towards solutions with a better value for the series constraints.

In addition to the contribution of the secondary skill type constraint, a significant penalty comes from the counter constraint. The analysis shows that the source of this penalty is the deviation between the scheduled and the contractual work hours.

The first examination suggests that the current personnel structure is sufficient. Nevertheless, the incorporation of various constraints to the rostering problem reveals that an undesired staffing condition for skill type 4. The available work hours for skill type 4 (a
                     4) should be increased in order to improve the roster quality. That could, for example, be attained by replacing the part-time nurse with skill type 4 by a full time nurse (first or secondary skill). Adding nurses with skill type 4 to the personnel structure can also be considered.

• Quality evaluation of R(n
                     
                        s
                     
                     ) for the palliative care ward.

The palliative care ward example is also solved using Bilgin’s algorithm (2012) with five replications. The penalties due to constraint violations are summarized in Table 4. The nurse occupation rate and the coverage fulfillment ratio have been provided in Table 5.


                     Table 4 shows two constraint categories that are dominant in the total penalty value. The violation of coverage constraint for skill type 2 and the counters constraint violation. The high coverage constraint violation for skill type 2 occurs because the rostering solution provides more coverage than needed. This is supported by the information in Table 5, which shows that the satisfied ratio for skill type 2 is greater than 100%.

A significant penalty value also comes from the violations of counters constraints. This is mainly because the rostering solutions do not assign as much work to the nurses as should be according to the contractual agreement. This result can be observed from Table 5, where the personnel occupation rate for skill type 2 is less than 70%. In this particular problem, the coverage constraint and the contractual deviation constraint are conflicting. If the coverage constraint is to be satisfied as precisely as possible, the contractual deviation increases. Likewise, if the nurse is assigned as much as the contract states, the coverage deviation risks to become large.

The result suggests that skill type 2 is overstaffed. The roster quality can be enhanced by decreasing the available work hours of skill type 2. This can be achieved by providing an excess nurse to another ward or by reducing the FTE value of the nurses.

The personnel occupation rate (ρ
                     
                        i
                     ) and the coverage requirement fulfillment ratio (Ω
                     
                        i
                     ) for skill types 3 and 4 have values very near to 100% (see Table 5). This result suggests that the current personnel structure is preferable for skill types 3 and 4. The nurse of skill type 1 is redundant since there are no corresponding coverage requirements.


                     Step 3. Quality evaluation of the neighboring personnel structures of n
                     
                        s
                     .

A sensitivity analysis is performed by examining the neighborhood of the current personnel structure. The neighboring personnel structures based on these criteria are the same as the ones resulting from the four personnel structure neighboring rules explained in Section 4.2.

The first aim is to study the relation between the total number of personnel and the roster quality. The results in Fig. 2
                      show that different numbers of nurses result in different roster qualities. This result is supported by the Wilcoxon statistical test. The comparison produced very low p-values, close to zero.

From Fig. 2, we can assume an understaffing condition of the emergency ward because the roster quality can be improved by adding more nurses. Moreover, Fig. 2 reveals overstaffing of the palliative care ward example. The rostering value can be improved (indicated by a decrease of qv(R(S))) by reducing the total number of nurses. Nevertheless, some rosters have a quality that is far from the median. We continue by checking the personnel structure characteristics based on the primary skill type.

• Quality evaluation of the neighboring personnel structures of n
                     
                        s
                      
                     for the emergency ward.


                     Fig. 3
                      depicts four boxplots, which indicate a different roster quality when the number of nurses of the emergency ward for each primary skill type is varied. From Fig. 3a, it can be deducted that increasing or decreasing the number of nurses with primary skill type 1 by one can result in a worse quality. Hence, it is better to keep the number of nurses for this skill type equal to one. Furthermore, Fig. 3b–d shows that increasing the number of nurses for the other primary skill types can improve the roster quality.

• Quality evaluation of the neighboring personnel structures of n
                     
                        s
                      
                     for the palliative care ward.

The results for varying the number of nurses for each skill type of the palliative care ward are depicted in Fig. 4
                     . Increasing the nurses for all skill types can result in a worse solution. Decreasing the nurses with skill types 3 and 4 can also lead to worse solutions. However, decreasing the number of nurses with skill types 1 and 2 only can improve the solutions. Consequently, the number of nurses with skill types 3 and 4 should remain unchanged, while the number of nurses with skill types 1 and 2 should be decreased.

In addition to the neighborhood examination based on the skill type, the examination of the neighborhood based on the hours worked has been performed (Komarudin et al., 2012). This technical report also provides the five best neighboring personnel structures from the set both for the emergency and palliative care wards.

This paper pointed at the gap in the literature between rostering and staffing and introduced the RQS problem. The presented three-step methodology integrates objectives at rostering and staffing level. This method goes beyond a simple comparison of available and required personnel. Rather, it considers personnel subgroups and subgroup-specific constraints. The methodology allows making recommendations to modify the personnel structure in order to improve the attainable roster quality. The appropriateness was illustrated by applying the approach to two examples from literature.

Although the methodology presented in this paper makes a valuable contribution, we need to consider some limitations which further research could address.

Firstly, our methodology only enables examining the neighborhood of the initial personnel structure and does not intelligently explore the promising neighboring personnel structures. Hence, in future research, an optimization approach could be developed which can be used to find the most suitable personnel structures. Such an approach is likely to modify Step 3 in our methodology by exploring promising neighboring personnel structures based on the results of Step 1 and Step 2. Other alternatives such as a metaheuristics (e.g. simulated annealing) and a surrogate based optimization method are promising candidates for the optimization approach.

Secondly, future research can extend the RQS problem by including manpower planning objectives in determining the suitability of a personnel structure. Manpower planning is concerned with the fulfillment of the medium-to-long-term personnel demand (Khoong, 1996). Integrating the RQS and manpower planning problem intends to obtain a personnel structure that supports the long term organization’s goals as well as the operational requirement to produce a good quality roster. Besides the most preferable personnel structure, the integrated problem also includes staff recruitment, internal transfers and wastage as (manpower planning) decision variables. The integration seems to be dealt with as a multi-objective and multi-period optimization problem that balances the manpower planning and the RQS objectives.

Two common criteria of manpower planning can be considered, i.e. attainability and maintainability of a personnel structure (Tsantas and Georgiou, 1998; Nilakantan and Raghavendra, 2005). Attainability refers to whether or not an initial personnel structure can evolve to a desired personnel structure. Maintainability refers to whether or not an appropriate personnel structure can be kept constant over time. Besides attainability and maintainability, the desirability and the realization degree can be used as criteria to assess the suitability of a personnel structure (De Feyter and Guerry, 2009). Desirability is the degree in which a personnel structure is desired by the decision maker, while the realization degree is the degree in which a personnel structure is expected to be realized, considering the stochastic nature of the evolution of the personnel structure.

While manpower planning objectives are determined at organizational level, the RQS problem deals with only one department. Thus, future research that aims to integrate the RQS and manpower planning problem, needs to incorporate both decision levels (Khoong, 1996). Recent manpower planning papers have investigated multi decision levels under control by recruitment (Guerry and De Feyter, 2012) and under control of all manpower planning decision variables (Song and Huang, 2008). Therefore, they can serve as a basis to conduct the integration of both decision levels.

@&#ACKNOWLEDGEMENT@&#

We wish to thank Pieter Smet from KAHO Sint-Lieven, Gent for his support with the nurse rostering software. The authors also thank the reviewers for their remarks and valuable suggestions that definitely improve the paper.

@&#REFERENCES@&#

