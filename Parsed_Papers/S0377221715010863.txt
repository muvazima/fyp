@&#MAIN-TITLE@&#Linear programming models based on Omega ratio for the Enhanced Index Tracking Problem

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We model the enhanced index tracking problem based on the Omega ratio.


                        
                        
                           
                           We introduce two nonlinear mathematical formulations.


                        
                        
                           
                           We show how each formulation can be transformed into a linear programming model.


                        
                        
                           
                           We extend the models to include real features.


                        
                        
                           
                           We show the very satisfactory out-of-sample performance of the optimal portfolios.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Enhanced index tracking

Omega ratio

Portfolio optimization

Linear programming

Mixed integer linear programming

@&#ABSTRACT@&#


               
               
                  Modern performance measures differ from the classical ones since they assess the performance against a benchmark and usually account for asymmetry in return distributions. The Omega ratio is one of these measures. Until recently, limited research has addressed the optimization of the Omega ratio since it has been thought to be computationally intractable. The Enhanced Index Tracking Problem (EITP) is the problem of selecting a portfolio of securities able to outperform a market index while bearing a limited additional risk. In this paper, we propose two novel mathematical formulations for the EITP based on the Omega ratio. The first formulation applies a standard definition of the Omega ratio where it is computed with respect to a given value, whereas the second formulation considers the Omega ratio with respect to a random target. We show how each formulation, nonlinear in nature, can be transformed into a Linear Programming model. We further extend the models to include real features, such as a cardinality constraint and buy-in thresholds on the investments, obtaining Mixed Integer Linear Programming problems. Computational results conducted on a large set of benchmark instances show that the portfolios selected by the model assuming a standard definition of the Omega ratio are consistently outperformed, in terms of out-of-sample performance, by those obtained solving the model that considers a random target. Furthermore, in most of the instances the portfolios optimized with the latter model mimic very closely the behavior of the benchmark over the out-of-sample period, while yielding, sometimes, significantly larger returns.
               
            

@&#INTRODUCTION@&#

A financial service company, usually an investment bank, deals with fund management when it directly manages the asset investments on behalf of its customers. Fund management typically includes activities as asset screening and selection, asset trading, monitoring, reporting to stakeholders, and internal audit. In modern financial stock exchanges, market indices have become standard benchmarks for evaluating the performance of a fund manager. Over the last years, the number of funds managed by index-based investment strategies has increased tremendously in different economies such as USA (see Jorion (2002)), Japan (see Koshizuka, Konno, & Yamamoto (2009)), and Australia (see Frino, Gallagher, & Oetomo (2005)). Traditionally, index-based fund management strategies have been broadly categorized into passive and active management.

                        
                           •
                           A fund manager that implements a passive management strategy aims at replicating, as close as possible, the movements of an index of a specific financial market (the so-called benchmark), like the S&P 500 in the New York Stock Exchange or the FTSE 100 in the London Stock Exchange. This strategy is usually refereed to as index tracking, and aims at minimizing a function (the tracking error) that measures how closely the portfolio tracks the market index to which it is benchmarked. If the manager builds a portfolio containing all the securities constituting the benchmark in the exact same proportions, it is said to follow a full replication strategy. Despite full replication can be seen as the most natural way to track a benchmark, such a strategy is rarely applied in practice mainly due to the impact of transaction costs. Indeed, several researchers point out that transaction and administration costs are typically an increasing function of the number of assets in a portfolio (e.g., see Coleman, Li, & Henniger (2006)). Hence, a better strategy consists in trying to mimic a market index by choosing a subset of the securities constituting the benchmark. In this case, the fund manager is said to follow a partial replication strategy.

A fund manager that implements an active management strategy makes specific investments with the goal of outperforming the benchmark. Based on his/her beliefs, the fund manager builds a portfolio where some securities are overweighted and some other underweighted compared to the benchmark trying to exploit possible market inefficiencies (e.g., see Li, Sun, & Bao (2011)). Active management strategies often involve frequent trading to rebalance the portfolio composition in an attempt to beat the benchmark (cf. Lejeune & Samatlı-Paç (2013)), thus generating high transaction costs which diminish the fund return.

Several studies have highlighted pros and cons for each of the two strategies. For instance, there are evidences that a remarkable number of actively managed funds do not outperform its benchmark over the long term (see, among others, Gruber (1996)). As a consequence, fund managers often prefer to follow hybrid strategies using both passive and active fund management to allocate the available capital, usually running a passive strategy to manage the large portion of the fund investment, and employing active strategies to manage only a limited portion of the investment (see Scowcroft & Sefton (2003)).


                     Enhanced index tracking, sometimes called enhanced indexation, has evolved as a synthesis between the two strategies of passive and active management trying to catch the strengths of both approaches. Indeed, enhanced index tracking is designed to outperform a given benchmark, therefore resembling active management, incurring only a limited additional risk with respect to the benchmark, and thus being similar to passive management. The Enhanced Index Tracking Problem (EITP) is the problem of selecting a portfolio of assets able to outperform a market index while incurring a limited additional risk. Nowadays, both researchers and fund managers use optimization models and algorithms to face both the problem of selecting a portfolio that replicates or tries to beat a market index. However, while several mathematical formulations can be found for the index tracking problem, the EITP has been only recently introduced in the literature, and the number of papers addressing this problem is still quite limited.

In this paper, we deal with the EITP using for the first time the Omega ratio, introduced by Keating and Shadwick (2002), as performance measure. The Omega ratio is a performance measure that has two interesting features that make it suitable for the EITP. It assesses the performance against a benchmark, on one side, and it accounts for the asymmetry in returns distributions by separately considering upside and downside deviations, on the other side. Recently, the Omega ratio has become known in portfolio selection where the optimization is considered with respect to a target (see, for instance, Passow (2005)).


                     
                        Contributions.
                      Given the growing popularity of the Omega ratio, the definition and evaluation of optimization models maximizing this performance measure is a research area that is receiving increasing attention both from academics and practitioners. To the best of our knowledge, this paper is the first attempt to apply the Omega ratio in the context of enhanced indexation. We introduce two optimization models. In the first formulation we apply the basic definition of the Omega ratio where the benchmark is a known value. The second formulation improves on the first one by considering a random target rather than a given benchmark value. We show that both formulations, that are nonlinear in their natural form, can be transformed into Linear Programming (LP) models. We extend both optimization models to include two important real features, that is a cardinality constraint on the number of assets in the portfolio and buy-in thresholds on the weight of each selected stock. The inclusion of real features requires the introduction of additional binary variables, thus transforming the LP formulations into Mixed Integer Linear Programming (MILP) models. The performance of the optimal portfolios selected by the proposed models has been validated through extensive computational experiments carried out on benchmark instances taken from the literature. The computational results show that the portfolios selected by the first formulation that adopts the basic definition of the Omega ratio are consistently outperformed, in terms of out-of-sample performance, by those obtained solving the second formulation that considers a random target. Finally, in most of the instances the portfolios optimized with the latter optimization model track very closely the behavior of the benchmark over the out-of-sample period, while yielding, sometimes, significantly larger returns.


                     
                        Structure of the paper.
                      The remainder of the paper is organized as follows. In Section 2 we survey the most recent literature on the EITP, and briefly discuss the use of the Omega ratio in optimization problems. In Section 3 we introduce the two mathematical formulations for the EITP based on the Omega ratio. We show how each formulation can be transformed into an LP model, and how to extend the latter models in order to include the described real features. In Section 4 we report on the computational experiments and provide an extensive evaluation of the out-of-sample performance of the optimal portfolios. Finally, in Section 5 some concluding remarks and future research directions are drawn.

@&#LITERATURE REVIEW@&#

Fund managers are increasingly using optimization models to build their portfolios (see Wilding (2003)). Despite the fact that in the literature several authors tackle and propose mathematical formulations for the index tracking problem (see Beasley, Meade, and Chang (2003), Canakgoz and Beasley (2009), Guastaroba and Speranza (2012) and references therein), the study of the EITP is a relatively recent and growing research area. Indeed, to the best of our knowledge, the first formalization of the EITP is due to Beasley et al. (2003). Canakgoz and Beasley (2009) provided an extensive review of the literature on the enhanced index tracking problem where almost all the papers cited date from 2005 or later. Several papers on the enhanced index tracking are discussed in Guastaroba and Speranza (2012) and in the articles mentioned above. For this reason, we have decided to concentrate the literature review on the papers on the EITP not discussed in those articles.

In the second part of this section, we describe the Omega ratio and briefly review the main related literature.

A convex minimization model with linear objective function and quadratic constraints for the EITP is proposed by Koshizuka et al. (2009). The authors aim at minimizing the tracking error from an index-plus-alpha portfolio, choosing among the portfolios with a composition highly correlated with the benchmark. The term index-plus-alpha portfolio is sometimes encountered in the literature on enhanced indexation and refers to a portfolio that outperforms the benchmark by a given, typically small, amount α. Two alternative measures of the tracking error are considered in Koshizuka et al. (2009): one based on the absolute deviation between the portfolio and the index-plus-alpha portfolio values, and the other using the downside absolute deviation between these two quantities. Mezali and Beasley (2013) apply quantile regression to index tracking and enhanced indexation. Their model includes, among other characteristics, a cardinality constraint and buy-in thresholds on asset weights. The resulting formulation is a MILP model. Valle, Meade, and Beasley (2014) study the problem of determining an absolute return portfolio and propose a three-stage solution approach. The authors discuss how their approach can be extended to solve the EITP. In Lejeune (2012) the EITP is solved using a game theoretical approach. The problem is formulated as a stochastic model which aims at maximizing the probabilistic excess return of the portfolio compared to the benchmark while ensuring that the relative risk, given by the downside absolute deviation, does not exceed a chosen maximum level. A stochastic mixed integer nonlinear model for the EITP where asset returns and the return covariance terms are treated as random variables is proposed in Lejeune and Samatlı-Paç (2013). Two models for the EITP that aim at selecting a portfolio whose return distribution dominates the distribution of the benchmark with respect to the second-order stochastic dominance paradigm are introduced in Roman, Mitra, and Zverovich (2013).

Although all the above papers propose single-objective formulations, the intrinsic nature of the enhanced index tracking problem is bi-objective: to maximize the excess return of the portfolio over the benchmark, on one hand, while minimizing the tracking error, on the other hand. In Wu, Chou, Yang, and Ong (2007) the bi-objective EITP is tackled using goal programming techniques. The two objective functions are the tracking error (to be minimized), given by the standard deviation of the portfolio return compared to the benchmark return, and the excess portfolio return over the benchmark (to be maximized). Li et al. (2011) formulate the EITP as a bi-objective optimization model where the excess portfolio return over the benchmark is maximized, while the tracking error, formulated by the authors as the downside standard deviation of the portfolio return from the benchmark return, is minimized. Their model includes, among other features, a cardinality constraint and buy-in threshold limits, and is solved by means of an immunity-based multi-objective algorithm. Filippi, Guastaroba, & Speranza (2016) cast the EITP as a bi-objective MILP model with several real features, including a cardinality constraint and buy-in threshold limits on the shares. Their optimization model aims at maximizing the excess return of the portfolio over the benchmark, while minimizing the tracking error, as measured by the absolute deviation between the portfolio and benchmark values. A bi-objective heuristic framework is then applied to solve the problem.

An alternative to explicitly formulate the EITP as a bi-objective model is to cast the two objective functions into a single objective expressed as a ratio. Generally speaking, these ratios are performance measures that quantify the return per unit of risk, and stem from the observation that there is an inherent trade-off between the risk and the return of an investment. Ratios of this type, like the Sharpe ratio (see Sharpe (1966)) and the Sortino ratio (see Sortino & Price (1994)) are widely used to evaluate, compare and rank different investment strategies. More precisely, the Sharpe ratio is commonly used as a measure of performance being a reward-to-risk ratio. Nevertheless, since it is based on the mean-variance approach, it results to be valid only if returns are normally distributed and preferences are quadratic. Many researchers have replaced the standard deviation in the Sharpe ratio with an alternative risk measure. For example, Sortino and Price (1994) replace the standard deviation with the downside deviation. To the best of our knowledge, the only attempt to use a performance measure expressed as a ratio in the context of enhanced indexation is due to Meade and Beasley (2011) who introduce a nonlinear optimization model based on the maximization of a modified Sortino ratio. Nevertheless, the nonlinearity of the latter model may represent an undesirable limitation to its use in financial practice. Indeed, several authors point out that the LP solvability may become relevant for real-life decisions, when portfolios have to meet several side constraints, to take into consideration transaction costs or when the size of the instances to be solved is large (see the survey by Mansini, Ogryczak, and Speranza (2014) and the recent book by the same authors Mansini, Ogryczak, and Speranza (2015)).

The Omega ratio is a relatively recent performance measure introduced by Keating and Shadwick (2002) which incorporates the higher moment information of a distribution of returns, and captures both the downside and upside potential of a portfolio. The basic rationale of the Omega ratio is that, given a predetermined threshold τ, portfolio returns over the target τ are considered as profits, whereas returns below the threshold are considered as losses. The Omega ratio can be defined as the ratio between the expected value of the profits and the expected value of the losses. The choice of the value for the target τ is left to the decision maker and can be set, for instance, equal to the risk-free rate of return. Fig. 1
                         shows an illustrative explanation of the Omega ratio for a given threshold 
                           
                              τ
                              =
                              0.75
                              ,
                           
                         and clarifies that the measure is computed taking into consideration the entire probability distribution. Omega ratio is computed as the ratio of the dark gray area (on the right of the threshold and above the cumulative distribution line) over the light gray area (on the left of the threshold and below the cumulative distribution line). Consequently, if the threshold τ is close to a quite small return (i.e., the left tail of the distribution) then the Omega ratio takes a large value. Conversely, if τ is close to a rather large return (i.e., the right tail of the distribution), the Omega ratio takes a value that tends to 0. Keating and Shadwick (2002) point out that, irrespective of the distribution of returns, the Omega ratio takes value 1 when τ is the mean return of the distribution. Additionally, Keating and Shadwick (2002) claim that, for a given threshold τ, the simple rule of preferring more to less implies that an investment with a high value of the Omega ratio is better than one with a smaller value.

Traditionally, the Omega ratio has been used to evaluate and compare different investment strategies in hedging funds (see Prigent (2007)), while limited research has been carried out on its optimization. The main reason is that maximizing the Omega ratio has been thought, until recently, to be computationally intractable and, as a consequence, most of the limited research has been focused on the design of heuristic algorithms. To the best of our knowledge, the first authors to investigate the use of the Omega ratio as a basis for portfolio selection are Kane, Bartholomew-Biggs, Cross, and Dewar (2009). The authors observe that the maximization of the Omega ratio leads to a non-convex and non-smooth optimization problem which has many local optima. They use a library for nonlinear optimization to solve the model and provide some computational experiments. Gilli and Schumann (2010) apply a heuristic, called threshold accepting, to a non-convex optimization model optimizing the Omega ratio. Their model includes buy-in thresholds on security weights, and cardinality constraints setting both an upper and a lower bound on the number of securities composing the portfolio. Gilli, Schumann, di Tollo, and Cabej (2011) modify the optimization model introduced in Gilli and Schumann (2010) to allow short sales, and investigate the empirical performance of the selected portfolios. The modified model is again solved by means of a threshold accepting heuristic.


                        Mausser, Saunders, and Seco (2013) demonstrate how a simple transformation of the problem variables allows the solution of a model optimizing the Omega ratio using linear programming. The transformation only works when the expected return of the optimal portfolio is larger than that of the benchmark (case of optimal Omega ratio larger than one). The authors model the problem separating upside and downside variables for each scenario and imposing that the product of the two variables in each scenario is zero (complementarity constraints). To achieve linearity the authors drop these complementarity constraints that should ensure that for each scenario either the upside or the downside variable is zero. The removal is possible since these constraints surely hold if the mean return of the portfolio is larger than that of the benchmark. They also discuss how to face Omega optimization when this condition fails.


                        Kapsos, Christofides, Rustem, and Zymler (2011) show how the Omega ratio maximization problem can be reformulated as a quasi-concave optimization problem and thus be solvable in polynomial time by facing a number of concave problems (Boyd & Vandenberghe (2004)). In more details, the authors propose two alternative approaches to solve an optimization model that maximizes the Omega ratio. For the case of continuous probability distributions they suggest to use an efficient frontier approach solving a sequence of optimization problems. Since the resulting frontier is non-decreasing and concave, the tangent from the origin to the frontier yields the portfolio with the maximum Omega ratio. On the other side, the authors show that, when the underlying probability distribution is discrete (has a finite number of samples), the problem reduces to a linear program. More precisely, the problem is reformulated as a linear-fractional program, where portfolio downside deviation from the threshold is modeled as a continuous variable for each sample and bounded in the constraints.

Finally, following the paper by Kapsos et al. (2011), in Kapsos, Christofides, and Rustem (2014) a robust variant of a model maximizing the Omega ratio is introduced and investigated under three types of uncertainty for the probability distribution of the returns.

In this section, we first provide some basic notation and concepts, and then we introduce the two LP formulations based on the Omega ratio for the EITP. In particular, we show how the optimization model based on a standard definition of the Omega ratio can be improved considering a random target instead of a given value. Finally, we describe how to extend the proposed formulations to include real features as a cardinality constraint and buy-in threshold on asset weights.

We consider a situation where an investor intends to optimally select a portfolio of securities and hold it until the end of a defined investment horizon. Let 
                           
                              J
                              =
                              {
                              1
                              ,
                              2
                              ,
                              …
                              ,
                              n
                              }
                           
                         denote a set of securities available for the investment. For each security j ∈ J, its rate of return is represented by a random variable (r.v.) Rj
                         with a given mean 
                           
                              
                                 μ
                                 j
                              
                              =
                              E
                              
                                 {
                                 
                                    R
                                    j
                                 
                                 }
                              
                           
                        . Furthermore, let 
                           
                              x
                              =
                              
                                 
                                    (
                                    
                                       x
                                       j
                                    
                                    )
                                 
                                 
                                    j
                                    =
                                    1
                                    ,
                                    …
                                    ,
                                    n
                                 
                              
                           
                         denote a vector of decision variables xj
                         representing the shares (weights) that define a portfolio of securities. To represent a portfolio, these weights must satisfy a set of constraints. The basic set of constraints includes the requirement that the weights must sum to one, i.e., 
                           
                              
                                 ∑
                                 
                                    j
                                    =
                                    1
                                 
                                 n
                              
                              
                                 x
                                 j
                              
                              =
                              1
                              ,
                           
                         and that short sales are not allowed, i.e., xj
                         ≥ 0 for 
                           
                              j
                              =
                              1
                              ,
                              …
                              ,
                              n
                           
                        . An investor usually needs to consider some other requirements expressed as a set of additional side constraints. Most of them can be expressed as linear equations and inequalities. We will assume that the basic set of feasible portfolios 
                           
                              P
                              ,
                           
                         i.e. the set of solutions that do not violate the basic set of constraints mentioned above, is a general LP feasible set given in a canonical form as a system of linear equations with nonnegative variables.

Each portfolio x defines a corresponding r.v. 
                           
                              
                                 R
                                 x
                              
                              =
                              
                                 ∑
                                 
                                    j
                                    =
                                    1
                                 
                                 n
                              
                              
                                 R
                                 j
                              
                              
                                 x
                                 j
                              
                           
                         that represents the portfolio rate of return. The mean rate of return for portfolio x is given as 
                           
                              μ
                              
                                 (
                                 
                                    R
                                    x
                                 
                                 )
                              
                              =
                              E
                              
                                 {
                                 
                                    R
                                    x
                                 
                                 }
                              
                              =
                              
                                 ∑
                                 
                                    j
                                    =
                                    1
                                 
                                 n
                              
                              
                                 μ
                                 j
                              
                              
                                 x
                                 j
                              
                           
                        . We consider T scenarios, each one with probability pt
                        , where 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                           
                        . We assume that, for each r.v. Rj
                        , its realization rjt
                         under scenario t is known and that, for each security j, 
                           
                              j
                              =
                              1
                              ,
                              …
                              ,
                              n
                              ,
                           
                         its mean rate of return is computed as 
                           
                              
                                 μ
                                 j
                              
                              =
                              
                                 ∑
                                 
                                    t
                                    =
                                    1
                                 
                                 T
                              
                              
                                 r
                                 
                                    j
                                    t
                                 
                              
                              
                                 p
                                 t
                              
                           
                        . The realization of the portfolio rate of return R
                        
                           x
                         under scenario t is given by 
                           
                              
                                 y
                                 t
                              
                              =
                              
                                 ∑
                                 
                                    j
                                    =
                                    1
                                 
                                 n
                              
                              
                                 r
                                 
                                    j
                                    t
                                 
                              
                              
                                 x
                                 j
                              
                           
                        .

We use a classical look-back approach based on deriving realizations from historical data. That is, the optimal portfolio composition to hold in the immediate future is determined using historical data observed in a number of periods immediately preceding the date of portfolio selection. Additionally, the T historical periods are treated as equally probable scenarios, i.e., we set 
                           
                              
                                 p
                                 t
                              
                              =
                              1
                              /
                              T
                           
                         for 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                           
                        . Nevertheless, it is worth pointing out that the optimization models presented below remain valid for any arbitrary set of scenarios or probability distribution function. Therefore, they are introduced, for sake of generality, referring to a general scenario and an arbitrary probability distribution represented by general probabilities pt
                        .

As mentioned in the introduction, enhanced indexation aims at outperforming the market index while bearing a minimal additional risk. Hence, we denote the r.v. representing the rate of return of the market index as RI
                        , its realization under scenario t as 
                           
                              
                                 r
                                 t
                                 I
                              
                              ,
                           
                         with 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                              ,
                           
                         and its mean rate of return as 
                           
                              
                                 μ
                                 I
                              
                              =
                              
                                 ∑
                                 
                                    t
                                    =
                                    1
                                 
                                 T
                              
                              
                                 r
                                 t
                                 I
                              
                              
                                 p
                                 t
                              
                           
                        . In the following we will use the notation 
                           
                              
                                 (
                                 .
                                 )
                              
                              +
                           
                         and 
                           
                              
                                 (
                                 .
                                 )
                              
                              −
                           
                         to denote the nonnegative and nonpositive part of a quantity, respectively, that is, 
                           
                              
                                 
                                    (
                                    Q
                                    )
                                 
                                 +
                              
                              =
                              max
                              
                                 {
                                 Q
                                 ,
                                 0
                                 }
                              
                              ,
                           
                         and 
                           
                              
                                 
                                    (
                                    Q
                                    )
                                 
                                 −
                              
                              =
                              max
                              
                                 {
                                 −
                                 Q
                                 ,
                                 0
                                 }
                              
                           
                        .

We highlighted above that a possible formulation for the EITP is based on maximizing a performance measure expressed as a ratio. In this context it is natural to express these performance measures with respect to a market index as a given target. Meade and Beasley (2011) (see also Beasley (2013)) introduce a nonlinear optimization model that maximizes the following modified Sortino ratio:

                           
                              (1)
                              
                                 
                                    
                                       
                                          E
                                          {
                                          
                                             R
                                             x
                                          
                                          −
                                          
                                             μ
                                             I
                                          
                                          }
                                       
                                       
                                          
                                             E
                                             {
                                             
                                                
                                                   (
                                                   
                                                      R
                                                      x
                                                   
                                                   −
                                                   
                                                      μ
                                                      I
                                                   
                                                   )
                                                
                                                −
                                                2
                                             
                                             }
                                          
                                       
                                    
                                    =
                                    
                                       
                                          μ
                                          
                                             (
                                             
                                                R
                                                x
                                             
                                             )
                                          
                                          −
                                          
                                             μ
                                             I
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                                
                                                   t
                                                   =
                                                   1
                                                
                                                T
                                             
                                             
                                                
                                                   (
                                                   max
                                                   
                                                      {
                                                      
                                                         μ
                                                         I
                                                      
                                                      −
                                                      
                                                         y
                                                         t
                                                      
                                                      ,
                                                      0
                                                      }
                                                   
                                                   )
                                                
                                                2
                                             
                                             
                                                p
                                                t
                                             
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        
                     

Compared to the standard Sortino ratio (see Sortino and Price (1994)), in Meade and Beasley (2011) the required minimum return is replaced with the mean return of the market index μI
                        . The basic idea of this optimization model is to pursue a balance between outperforming the mean return of the market index (the numerator of the ratio) and minimizing a downside risk measure (the denominator), the latter being the semi-standard deviation of the portfolio rate of return from the mean rate of return of the market index. Note that when the risk-free rate of return r
                        0 is used instead of the index mean rate of return μI
                        , the optimization of ratio (1) corresponds to the classical Tobin’s model in Modern Portfolio Theory (MPT) where the Capital Market Line (CML) is the line drawn from the intercept corresponding to r
                        0 and that passes tangent to the mean-risk efficient frontier. Any point on this line provides the maximum return for each level of risk. The tangency (tangent, super-efficient) portfolio is the portfolio of risky assets corresponding to the point where the CML is tangent to the efficient frontier. It is a risky portfolio offering the maximum increase of the mean return with respect to the risk-free investment opportunity. Namely, given the risk-free rate of return r
                        0 one seeks a risky portfolio x that maximizes the ratio 
                           
                              
                                 (
                                 μ
                                 
                                    (
                                    
                                       R
                                       x
                                    
                                    )
                                 
                                 −
                                 
                                    r
                                    0
                                 
                              
                              
                                 )
                                 /
                              
                              
                                 ϱ
                                 (
                                 
                                    R
                                    x
                                 
                                 )
                              
                              ,
                           
                         where ϱ(R
                        
                           x
                        ) is a measure of risk. Similarly, the optimization of ratio (1) looks for a portfolio offering the maximum increase of its mean return with respect to the market index mean rate of return treated like the risk-free return, and using a downside risk measure. Certainly, the modified Sortino ratio (1) uses the semi-standard deviation of the portfolio rate of return from μI
                        , whereas the standard deviation is used instead in the classical MPT models.

Actually, the investor may be interested in determining a portfolio (the index-plus-alpha portfolio) that outperforms the rate of return of the market index by a given excess return α. To model this goal, rather than the market index rate of return RI
                        , one can use some reference r.v. 
                           
                              
                                 R
                                 α
                              
                              =
                              
                                 R
                                 I
                              
                              +
                              α
                           
                         representing the rate of return beating the market index return by α, with realization 
                           
                              
                                 r
                                 t
                                 α
                              
                              =
                              
                                 r
                                 t
                                 I
                              
                              +
                              α
                           
                         under scenario t, with 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                              ,
                           
                         and mean rate of return 
                           
                              
                                 μ
                                 α
                              
                              =
                              
                                 ∑
                                 
                                    t
                                    =
                                    1
                                 
                                 T
                              
                              
                                 r
                                 t
                                 α
                              
                              
                                 p
                                 t
                              
                           
                        . Applying this idea to the above modified Sortino ratio, it becomes:

                           
                              (2)
                              
                                 
                                    
                                       
                                          E
                                          {
                                          
                                             R
                                             x
                                          
                                          −
                                          
                                             μ
                                             α
                                          
                                          }
                                       
                                       
                                          
                                             E
                                             {
                                             
                                                
                                                   (
                                                   
                                                      R
                                                      x
                                                   
                                                   −
                                                   
                                                      μ
                                                      α
                                                   
                                                   )
                                                
                                                −
                                                2
                                             
                                             }
                                          
                                       
                                    
                                    =
                                    
                                       
                                          μ
                                          
                                             (
                                             
                                                R
                                                x
                                             
                                             )
                                          
                                          −
                                          
                                             μ
                                             α
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                                
                                                   t
                                                   =
                                                   1
                                                
                                                T
                                             
                                             
                                                
                                                   (
                                                   max
                                                   
                                                      {
                                                      
                                                         μ
                                                         α
                                                      
                                                      −
                                                      
                                                         y
                                                         t
                                                      
                                                      ,
                                                      0
                                                      }
                                                   
                                                   )
                                                
                                                2
                                             
                                             
                                                p
                                                t
                                             
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        
                     

Note that ratio (1) becomes ratio (2) when 
                           
                              α
                              =
                              0
                           
                        . Moreover, it is worth pointing out here that also in the special case with 
                           
                              α
                              =
                              0
                           
                         the maximization of these performance ratios always allows us to account for both downside and upside parts, and thus can be classified as enhanced indexation.

Ratio (2) can be simplified if, as risk measure in the denominator, we use the mean below-target deviation (first Lower Partial Moment, LPM) instead of the semi-standard deviation. For a given target value τ, this measure is defined as:

                           
                              
                                 
                                    
                                       δ
                                       τ
                                    
                                    
                                       (
                                       
                                          R
                                          x
                                       
                                       )
                                    
                                    =
                                    E
                                    
                                       {
                                       
                                          
                                             (
                                             
                                                R
                                                x
                                             
                                             −
                                             τ
                                             )
                                          
                                          −
                                       
                                       }
                                    
                                    =
                                    E
                                    
                                       {
                                       max
                                       
                                          {
                                          τ
                                          −
                                          
                                             R
                                             x
                                          
                                          ,
                                          0
                                          }
                                       
                                       }
                                    
                                    .
                                 
                              
                           
                        
                     


                        δτ
                        (R
                        
                           x
                        ) is LP computable for returns represented by their realizations as follows:

                           
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                δ
                                                τ
                                             
                                             
                                                (
                                                
                                                   R
                                                   x
                                                
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                             =
                                             
                                             min
                                             
                                                {
                                                
                                                   ∑
                                                   
                                                      t
                                                      =
                                                      1
                                                   
                                                   T
                                                
                                                
                                                   d
                                                   t
                                                
                                                
                                                   p
                                                   t
                                                
                                                
                                                :
                                                
                                                
                                                   d
                                                   t
                                                
                                                ≥
                                                τ
                                                −
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   r
                                                   
                                                      j
                                                      t
                                                   
                                                
                                                
                                                   x
                                                   j
                                                
                                                ,
                                                
                                                
                                                   d
                                                   t
                                                
                                                ≥
                                                0
                                                
                                                for
                                                
                                                t
                                                =
                                                1
                                                ,
                                                …
                                                ,
                                                T
                                                }
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

If, in (2), we replace the semi-standard deviation with δτ
                        (R
                        
                           x
                        ) from the target value μα
                         (i.e., 
                           
                              
                                 δ
                                 
                                    μ
                                    α
                                 
                              
                              
                                 (
                                 
                                    R
                                    x
                                 
                                 )
                              
                           
                        ) we obtain the following adapted Sortino ratio:

                           
                              (3)
                              
                                 
                                    
                                       
                                          
                                             
                                                S
                                                
                                                   μ
                                                   α
                                                
                                             
                                             
                                                (
                                                
                                                   R
                                                   x
                                                
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                
                                                   E
                                                   {
                                                   
                                                      R
                                                      x
                                                   
                                                   −
                                                   
                                                      μ
                                                      α
                                                   
                                                   }
                                                
                                                
                                                   E
                                                   {
                                                   
                                                      
                                                         (
                                                         
                                                            R
                                                            x
                                                         
                                                         −
                                                         
                                                            μ
                                                            α
                                                         
                                                         )
                                                      
                                                      −
                                                   
                                                   }
                                                
                                             
                                             =
                                             
                                                
                                                   μ
                                                   
                                                      (
                                                      
                                                         R
                                                         x
                                                      
                                                      )
                                                   
                                                   −
                                                   
                                                      μ
                                                      α
                                                   
                                                
                                                
                                                   
                                                      δ
                                                      
                                                         μ
                                                         α
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         R
                                                         x
                                                      
                                                      )
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                
                                                   μ
                                                   
                                                      (
                                                      
                                                         R
                                                         x
                                                      
                                                      )
                                                   
                                                   −
                                                   
                                                      μ
                                                      α
                                                   
                                                
                                                
                                                   
                                                      ∑
                                                      
                                                         t
                                                         =
                                                         1
                                                      
                                                      T
                                                   
                                                   max
                                                   
                                                      {
                                                      
                                                         μ
                                                         α
                                                      
                                                      −
                                                      
                                                         y
                                                         t
                                                      
                                                      ,
                                                      0
                                                      }
                                                   
                                                   
                                                      p
                                                      t
                                                   
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Thus, the maximization of ratio 
                           
                              
                                 S
                                 
                                    μ
                                    α
                                 
                              
                              
                                 (
                                 
                                    R
                                    x
                                 
                                 )
                              
                           
                         is equivalent to a tangency portfolio model using δτ
                        (R
                        
                           x
                        ) as risk measure and with target μα
                         treated like a risk-free rate of return.

The upside-potential ratio is a measure that allows us to choose investments with relatively good upside performance (over a given target) per unit of downside risk. The classical formulation (Sortino, van der Meer, & Plantinga (1999)) adopts the semi-standard deviation as downside risk measure and, given the target μα
                        , takes the following form:

                           
                              (4)
                              
                                 
                                    
                                       
                                          E
                                          {
                                          
                                             
                                                (
                                                
                                                   R
                                                   x
                                                
                                                −
                                                
                                                   μ
                                                   α
                                                
                                                )
                                             
                                             +
                                          
                                          }
                                       
                                       
                                          
                                             E
                                             {
                                             
                                                
                                                   (
                                                   
                                                      R
                                                      x
                                                   
                                                   −
                                                   
                                                      μ
                                                      α
                                                   
                                                   )
                                                
                                                −
                                                2
                                             
                                             }
                                          
                                       
                                    
                                    =
                                    
                                       
                                          
                                             ∑
                                             
                                                t
                                                =
                                                1
                                             
                                             T
                                          
                                          max
                                          
                                             {
                                             
                                                y
                                                t
                                             
                                             −
                                             
                                                μ
                                                α
                                             
                                             ,
                                             0
                                             }
                                          
                                          
                                             p
                                             t
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                                
                                                   t
                                                   =
                                                   1
                                                
                                                T
                                             
                                             
                                                
                                                   (
                                                   max
                                                   
                                                      {
                                                      
                                                         μ
                                                         α
                                                      
                                                      −
                                                      
                                                         y
                                                         t
                                                      
                                                      ,
                                                      0
                                                      }
                                                   
                                                   )
                                                
                                                2
                                             
                                             
                                                p
                                                t
                                             
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        
                     

If δτ
                        (R
                        
                           x
                        ) is used as risk measure, the upside-potential ratio (4) takes the form of the Omega ratio with target value μα
                        , i.e.,

                           
                              (5)
                              
                                 
                                    
                                       Ω
                                       
                                          μ
                                          α
                                       
                                    
                                    
                                       (
                                       
                                          R
                                          x
                                       
                                       )
                                    
                                    =
                                    
                                       
                                          E
                                          {
                                          
                                             
                                                (
                                                
                                                   R
                                                   x
                                                
                                                −
                                                
                                                   μ
                                                   α
                                                
                                                )
                                             
                                             +
                                          
                                          }
                                       
                                       
                                          E
                                          {
                                          
                                             
                                                (
                                                
                                                   R
                                                   x
                                                
                                                −
                                                
                                                   μ
                                                   α
                                                
                                                )
                                             
                                             −
                                          
                                          }
                                       
                                    
                                    =
                                    
                                       
                                          
                                             ∑
                                             
                                                t
                                                =
                                                1
                                             
                                             T
                                          
                                          max
                                          
                                             {
                                             
                                                y
                                                t
                                             
                                             −
                                             
                                                μ
                                                α
                                             
                                             ,
                                             0
                                             }
                                          
                                          
                                             p
                                             t
                                          
                                       
                                       
                                          
                                             ∑
                                             
                                                t
                                                =
                                                1
                                             
                                             T
                                          
                                          max
                                          
                                             {
                                             
                                                μ
                                                α
                                             
                                             −
                                             
                                                y
                                                t
                                             
                                             ,
                                             0
                                             }
                                          
                                          
                                             p
                                             t
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        
                        
                           Proposition 1
                           
                              The maximization of
                              
                                 
                                    
                                       Ω
                                       
                                          μ
                                          α
                                       
                                    
                                    
                                       (
                                       
                                          R
                                          x
                                       
                                       )
                                    
                                 
                               
                              is equivalent to the maximization of
                              
                                 
                                    
                                       S
                                       
                                          μ
                                          α
                                       
                                    
                                    
                                       (
                                       
                                          R
                                          x
                                       
                                       )
                                    
                                 
                              
                              .
                           

Following Ogryczak and Ruszczyński (1999), for any target value τ the following equality holds:

                                 
                                    
                                       
                                          E
                                          
                                             {
                                             
                                                
                                                   (
                                                   
                                                      R
                                                      x
                                                   
                                                   −
                                                   τ
                                                   )
                                                
                                                +
                                             
                                             }
                                          
                                          =
                                          μ
                                          
                                             (
                                             
                                                R
                                                x
                                             
                                             )
                                          
                                          −
                                          
                                             (
                                             τ
                                             −
                                             E
                                             
                                                {
                                                
                                                   
                                                      (
                                                      
                                                         R
                                                         x
                                                      
                                                      −
                                                      τ
                                                      )
                                                   
                                                   −
                                                
                                                }
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              The equality is valid for any distribution. Hence, we can write:

                                 
                                    
                                       
                                          
                                             Ω
                                             τ
                                          
                                          
                                             (
                                             
                                                R
                                                x
                                             
                                             )
                                          
                                          =
                                          
                                             
                                                μ
                                                
                                                   (
                                                   
                                                      R
                                                      x
                                                   
                                                   )
                                                
                                                −
                                                
                                                   (
                                                   τ
                                                   −
                                                   
                                                      δ
                                                      τ
                                                   
                                                   
                                                      (
                                                      
                                                         R
                                                         x
                                                      
                                                      )
                                                   
                                                   )
                                                
                                             
                                             
                                                
                                                   δ
                                                   τ
                                                
                                                
                                                   (
                                                   
                                                      R
                                                      x
                                                   
                                                   )
                                                
                                             
                                          
                                          =
                                          1
                                          +
                                          
                                             
                                                μ
                                                (
                                                
                                                   R
                                                   x
                                                
                                                )
                                                −
                                                τ
                                             
                                             
                                                
                                                   δ
                                                   τ
                                                
                                                
                                                   (
                                                   
                                                      R
                                                      x
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                              that, after replacing τ with μα
                              , leads to:

                                 
                                    (6)
                                    
                                       
                                          
                                             Ω
                                             
                                                μ
                                                α
                                             
                                          
                                          
                                             (
                                             
                                                R
                                                x
                                             
                                             )
                                          
                                          =
                                          1
                                          +
                                          
                                             S
                                             
                                                μ
                                                α
                                             
                                          
                                          
                                             (
                                             
                                                R
                                                x
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                              □

It can be proved that 
                           
                              
                                 Ω
                                 
                                    μ
                                    α
                                 
                              
                              
                                 (
                                 
                                    R
                                    x
                                 
                                 )
                              
                           
                         is compatible with the second-order stochastic dominance (see, for instance, Prigent (2007), p. 364).


                        Mansini, Ogryczak, and Speranza (2003) show that ratio optimization models for LP computable risk measures can be transformed into LP form. Indeed, the maximization of the adapted Sortino ratio:

                           
                              
                                 
                                    max
                                    {
                                    
                                       S
                                       
                                          μ
                                          α
                                       
                                    
                                    
                                       (
                                       
                                          R
                                          x
                                       
                                       )
                                    
                                    
                                    |
                                    
                                    x
                                    ∈
                                    P
                                    }
                                 
                              
                           
                        for standard portfolio constraints can be cast as the following nonlinear programming model:

                           
                              (7)
                              
                                 
                                    
                                       
                                          maximize
                                       
                                       
                                       
                                          
                                             
                                                
                                                   z
                                                   −
                                                   
                                                      μ
                                                      α
                                                   
                                                
                                                
                                                   z
                                                   1
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (8)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             subject
                                             
                                             to
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   x
                                                   j
                                                
                                                =
                                                1
                                                ,
                                                
                                                
                                                   x
                                                   j
                                                
                                                ≥
                                                0
                                                
                                                for
                                                
                                                j
                                                =
                                                1
                                                ,
                                                …
                                                ,
                                                n
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (9)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   μ
                                                   j
                                                
                                                
                                                   x
                                                   j
                                                
                                                =
                                                z
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (10)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   r
                                                   
                                                      j
                                                      t
                                                   
                                                
                                                
                                                   x
                                                   j
                                                
                                                =
                                                
                                                   y
                                                   t
                                                
                                                
                                                for
                                                
                                                t
                                                =
                                                1
                                                ,
                                                …
                                                ,
                                                T
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (11)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                ∑
                                                
                                                   t
                                                   =
                                                   1
                                                
                                                T
                                             
                                             
                                                d
                                                t
                                             
                                             
                                                p
                                                t
                                             
                                             =
                                             
                                                z
                                                1
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (12)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                d
                                                t
                                             
                                             ≥
                                             
                                                μ
                                                α
                                             
                                             −
                                             
                                                y
                                                t
                                             
                                             ,
                                             
                                             
                                                d
                                                t
                                             
                                             ≥
                                             0
                                             
                                             for
                                             
                                             t
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             T
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Objective function (7) maximizes the adapted Sortino ratio (3). Constraints (8) ensure that the sum of the nonnegative weights has to be equal to one. Constraint (9) defines variable z as the mean portfolio rate of return, whereas constraints (10) define each variable yt
                         as the portfolio rate of return under scenario t, with 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                           
                        . Under the assumption that there exists a portfolio satisfying the condition μ(R
                        
                           x
                        ) > μα
                        , constraints (12), along with (11) and objective function (7), force the nonnegative variable dt
                         to take the value 
                           
                              max
                              {
                              
                                 μ
                                 α
                              
                              −
                              
                                 y
                                 t
                              
                              ,
                              0
                              }
                           
                         in each scenario t, with 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                           
                        .

Note that, theoretically, a portfolio x might exist such that yt
                         ≥ μα
                         for all 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                           
                        . Thus, at the denominator of the ratio, the risk measure z
                        1 may take value 0, and, as a consequence, an infinite value of the objective function (7) may occur. To keep the problem always solvable, we introduce the following additional constraint:

                           
                              (13)
                              
                                 
                                    
                                       z
                                       1
                                    
                                    ≥
                                    1
                                    /
                                    M
                                    ,
                                 
                              
                           
                        where M is an arbitrary large number. If the optimal value of z
                        1 is equal to 1/M, then the required level of overstepping benchmark should be increased (α should to be increased).

The nonlinear optimization model (7)–(13) can be linearized as follows (see Mansini et al. (2003)). We introduce variables 
                           
                              v
                              =
                              z
                              /
                              
                                 z
                                 1
                              
                           
                         and 
                           
                              
                                 v
                                 0
                              
                              =
                              1
                              /
                              
                                 z
                                 1
                              
                           
                         that lead to the linear criterion 
                           
                              v
                              −
                              
                                 μ
                                 α
                              
                              
                                 v
                                 0
                              
                           
                        . Additionally, we divide all the constraints by z
                        1 and make the substitutions: 
                           
                              
                                 
                                    d
                                    ˜
                                 
                                 t
                              
                              =
                              
                                 d
                                 t
                              
                              /
                              
                                 z
                                 1
                              
                              ,
                           
                        
                        
                           
                              
                                 
                                    y
                                    ˜
                                 
                                 t
                              
                              =
                              
                                 y
                                 t
                              
                              /
                              
                                 z
                                 1
                              
                           
                         for 
                           
                              t
                              =
                              1
                              ,
                              …
                              ,
                              T
                              ,
                           
                         as well as 
                           
                              
                                 
                                    x
                                    ˜
                                 
                                 j
                              
                              =
                              
                                 x
                                 j
                              
                              /
                              
                                 z
                                 1
                              
                              ,
                           
                         for 
                           
                              j
                              =
                              1
                              ,
                              …
                              ,
                              n
                           
                        . Eventually, we get the following LP formulation of the Omega Ratio (OR) model:

                           
                              (14)
                              
                                 
                                    
                                       
                                          
                                             (OR
                                             
                                             model)
                                             
                                             
                                             maximize
                                          
                                       
                                       
                                       
                                          
                                             v
                                             −
                                             
                                                μ
                                                α
                                             
                                             
                                                v
                                                0
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (15)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             subject
                                             
                                             to
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   
                                                      x
                                                      ˜
                                                   
                                                   j
                                                
                                                =
                                                
                                                   v
                                                   0
                                                
                                                ,
                                                
                                                
                                                   v
                                                   0
                                                
                                                ≤
                                                M
                                                ,
                                                
                                                
                                                   
                                                      x
                                                      ˜
                                                   
                                                   j
                                                
                                                ≥
                                                0
                                                
                                                for
                                                
                                                j
                                                =
                                                1
                                                ,
                                                …
                                                ,
                                                n
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (16)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   μ
                                                   j
                                                
                                                
                                                   
                                                      x
                                                      ˜
                                                   
                                                   j
                                                
                                                =
                                                v
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (17)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   r
                                                   
                                                      j
                                                      t
                                                   
                                                
                                                
                                                   
                                                      x
                                                      ˜
                                                   
                                                   j
                                                
                                                =
                                                
                                                   
                                                      y
                                                      ˜
                                                   
                                                   t
                                                
                                                
                                                for
                                                
                                                t
                                                =
                                                1
                                                ,
                                                …
                                                ,
                                                T
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (18)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                ∑
                                                
                                                   t
                                                   =
                                                   1
                                                
                                                T
                                             
                                             
                                                
                                                   d
                                                   ˜
                                                
                                                t
                                             
                                             
                                                p
                                                t
                                             
                                             =
                                             1
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (19)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   d
                                                   ˜
                                                
                                                t
                                             
                                             ≥
                                             
                                                μ
                                                α
                                             
                                             
                                                v
                                                0
                                             
                                             −
                                             
                                                
                                                   y
                                                   ˜
                                                
                                                t
                                             
                                             ,
                                             
                                             
                                                
                                                   d
                                                   ˜
                                                
                                                t
                                             
                                             ≥
                                             0
                                             
                                             for
                                             
                                             t
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             T
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Once the transformed problem (14)–(19) is solved, the values of original variables xj
                         can be determined dividing 
                           
                              
                                 x
                                 ˜
                              
                              j
                           
                         by v
                        0, while 
                           
                              
                                 δ
                                 
                                    μ
                                    α
                                 
                              
                              
                                 (
                                 
                                    R
                                    x
                                 
                                 )
                              
                              =
                              1
                              /
                              
                                 v
                                 0
                              
                           
                         and 
                           
                              μ
                              
                                 (
                                 
                                    R
                                    x
                                 
                                 )
                              
                              =
                              v
                              /
                              
                                 v
                                 0
                              
                           
                        .

The performance of the portfolios selected by the former model can be improved significantly if the model is modified in order to take into consideration if the portfolio tracks, falls below or beats the market index under multiple scenarios. To this aim, one should formulate the Omega ratio for the random benchmark return Rα
                        , rather than for the mean benchmark rate of return μα
                         as in (5). This leads to the following ratio:

                           
                              
                                 
                                    
                                       Ω
                                       
                                          R
                                          α
                                       
                                    
                                    
                                       (
                                       
                                          R
                                          x
                                       
                                       )
                                    
                                    =
                                    
                                       
                                          E
                                          {
                                          
                                             
                                                (
                                                
                                                   R
                                                   x
                                                
                                                −
                                                
                                                   R
                                                   α
                                                
                                                )
                                             
                                             +
                                          
                                          }
                                       
                                       
                                          E
                                          {
                                          
                                             
                                                (
                                                
                                                   R
                                                   x
                                                
                                                −
                                                
                                                   R
                                                   α
                                                
                                                )
                                             
                                             −
                                          
                                          }
                                       
                                    
                                    =
                                    
                                       
                                          
                                             ∑
                                             
                                                t
                                                =
                                                1
                                             
                                             T
                                          
                                          max
                                          
                                             {
                                             
                                                y
                                                t
                                             
                                             −
                                             
                                                r
                                                t
                                                α
                                             
                                             ,
                                             0
                                             }
                                          
                                          
                                             p
                                             t
                                          
                                       
                                       
                                          
                                             ∑
                                             
                                                t
                                                =
                                                1
                                             
                                             T
                                          
                                          max
                                          
                                             {
                                             
                                                r
                                                t
                                                α
                                             
                                             −
                                             
                                                y
                                                t
                                             
                                             ,
                                             0
                                             }
                                          
                                          
                                             p
                                             t
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        
                        
                           Proposition 2
                           
                              
                                 
                                    
                                       Ω
                                       
                                          R
                                          α
                                       
                                    
                                    
                                       (
                                       
                                          R
                                          x
                                       
                                       )
                                    
                                 
                               
                              can be expressed using the same numerator as in
                              
                                 
                                    
                                       Ω
                                       
                                          μ
                                          α
                                       
                                    
                                    
                                       (
                                       
                                          R
                                          x
                                       
                                       )
                                    
                                    ,
                                 
                               
                              while the downside risk measure is the only term that must be calculated differently.
                           


                              
                                 
                                    
                                       Ω
                                       
                                          R
                                          α
                                       
                                    
                                    
                                       (
                                       
                                          R
                                          x
                                       
                                       )
                                    
                                 
                               can be expressed as a standard Omega ratio for r.v. 
                                 
                                    (
                                    
                                       R
                                       x
                                    
                                    −
                                    
                                       R
                                       α
                                    
                                    )
                                 
                               with 0 as target value, that is:

                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      Ω
                                                      
                                                         R
                                                         α
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         R
                                                         x
                                                      
                                                      )
                                                   
                                                
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   
                                                      Ω
                                                      0
                                                   
                                                   
                                                      (
                                                      
                                                         R
                                                         x
                                                      
                                                      −
                                                      
                                                         R
                                                         α
                                                      
                                                      )
                                                   
                                                   =
                                                   1
                                                   +
                                                   
                                                      
                                                         E
                                                         {
                                                         
                                                            R
                                                            x
                                                         
                                                         −
                                                         
                                                            R
                                                            α
                                                         
                                                         }
                                                      
                                                      
                                                         E
                                                         {
                                                         
                                                            
                                                               (
                                                               
                                                                  R
                                                                  x
                                                               
                                                               −
                                                               
                                                                  R
                                                                  α
                                                               
                                                               )
                                                            
                                                            −
                                                         
                                                         }
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   1
                                                   +
                                                   
                                                      
                                                         μ
                                                         
                                                            (
                                                            
                                                               R
                                                               x
                                                            
                                                            )
                                                         
                                                         −
                                                         
                                                            μ
                                                            α
                                                         
                                                      
                                                      
                                                         
                                                            ∑
                                                            
                                                               t
                                                               =
                                                               1
                                                            
                                                            T
                                                         
                                                         max
                                                         
                                                            {
                                                            
                                                               r
                                                               t
                                                               α
                                                            
                                                            −
                                                            
                                                               y
                                                               t
                                                            
                                                            ,
                                                            0
                                                            }
                                                         
                                                         
                                                            p
                                                            t
                                                         
                                                      
                                                   
                                                   ,
                                                
                                             
                                          
                                       
                                    
                                 
                              where the second equality is obtained applying first (6), and then the first equality in (3).


                              □

Hence, the maximization of 
                           
                              
                                 Ω
                                 
                                    R
                                    α
                                 
                              
                              
                                 (
                                 
                                    R
                                    x
                                 
                                 )
                              
                           
                         leads to the following optimization model:

                           
                              
                                 
                                    max
                                    
                                       {
                                       
                                          
                                             μ
                                             
                                                (
                                                
                                                   R
                                                   x
                                                
                                                )
                                             
                                             −
                                             
                                                μ
                                                α
                                             
                                          
                                          
                                             E
                                             {
                                             
                                                
                                                   (
                                                   
                                                      R
                                                      x
                                                   
                                                   −
                                                   
                                                      R
                                                      α
                                                   
                                                   )
                                                
                                                −
                                             
                                             }
                                          
                                       
                                       
                                          
                                          |
                                          
                                          x
                                          ∈
                                          P
                                       
                                       }
                                    
                                 
                              
                           
                        that, for the standard portfolio constraints, can be cast into the nonlinear programming model (7)–(13) by substituting inequalities (12) with the following constraints:

                           
                              (20)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                d
                                                t
                                             
                                             ≥
                                             
                                                r
                                                t
                                                α
                                             
                                             −
                                             
                                                y
                                                t
                                             
                                             ,
                                             
                                             
                                                d
                                                t
                                             
                                             ≥
                                             0
                                             
                                             for
                                             
                                             t
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             T
                                          
                                       
                                    
                                 
                              
                           
                        defining the variables dt
                        , in each scenario t, as the downside deviation of the portfolio return yt
                         from the benchmark return 
                           
                              r
                              t
                              α
                           
                        .

Model (7)–(11), (13) and (20) can be linearized in the same manner described above for model (7)–(13). We obtain the following LP formulation of the Extended Omega Ratio (EOR) model:

                           
                              (21)
                              
                                 
                                    
                                       
                                          
                                             (EOR
                                             
                                             model)
                                             
                                             
                                             maximize
                                          
                                       
                                       
                                       
                                          
                                             v
                                             −
                                             
                                                μ
                                                α
                                             
                                             
                                                v
                                                0
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (22)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             subject
                                             
                                             to
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   
                                                      x
                                                      ˜
                                                   
                                                   j
                                                
                                                =
                                                
                                                   v
                                                   0
                                                
                                                ,
                                                
                                                
                                                   v
                                                   0
                                                
                                                ≤
                                                M
                                                ,
                                                
                                                
                                                   
                                                      x
                                                      ˜
                                                   
                                                   j
                                                
                                                ≥
                                                0
                                                
                                                for
                                                
                                                j
                                                =
                                                1
                                                ,
                                                …
                                                ,
                                                n
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (23)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   μ
                                                   j
                                                
                                                
                                                   
                                                      x
                                                      ˜
                                                   
                                                   j
                                                
                                                =
                                                v
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (24)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   r
                                                   
                                                      j
                                                      t
                                                   
                                                
                                                
                                                   
                                                      x
                                                      ˜
                                                   
                                                   j
                                                
                                                =
                                                
                                                   
                                                      y
                                                      ˜
                                                   
                                                   t
                                                
                                                
                                                for
                                                
                                                t
                                                =
                                                1
                                                ,
                                                …
                                                ,
                                                T
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (25)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                ∑
                                                
                                                   t
                                                   =
                                                   1
                                                
                                                T
                                             
                                             
                                                p
                                                t
                                             
                                             
                                                
                                                   d
                                                   ˜
                                                
                                                t
                                             
                                             =
                                             1
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (26)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   d
                                                   ˜
                                                
                                                t
                                             
                                             ≥
                                             
                                                r
                                                t
                                                α
                                             
                                             
                                                v
                                                0
                                             
                                             −
                                             
                                                
                                                   y
                                                   ˜
                                                
                                                t
                                             
                                             ,
                                             
                                             
                                                
                                                   d
                                                   ˜
                                                
                                                t
                                             
                                             ≥
                                             0
                                             
                                             for
                                             
                                             t
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             T
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

As mentioned above, once the transformed LP problem is solved, the values of the variables xj
                         can be found dividing 
                           
                              
                                 x
                                 ˜
                              
                              j
                           
                         by v
                        0, while 
                           
                              
                                 δ
                                 
                                    μ
                                    α
                                 
                              
                              
                                 (
                                 
                                    R
                                    x
                                 
                                 )
                              
                              =
                              1
                              /
                              
                                 v
                                 0
                              
                           
                         and 
                           
                              μ
                              
                                 (
                                 
                                    R
                                    x
                                 
                                 )
                              
                              =
                              v
                              /
                              
                                 v
                                 0
                              
                           
                        .

In order to apply the optimization models described above to real contexts, it may be necessary to consider some trading requirements on the portfolio composition. For instance, an investor usually prefers to hold a portfolio limited to a few assets in order to control transaction costs, especially fixed transaction costs that are paid for each security traded. At the same time, an investor prefers to avoid portfolios with very small weights in some assets or, on the contrary, very large weights in one or few assets (e.g., see Mitra, Kyriakis, Lucas, & Pirbhai (2003)). These requirements, that are quite common also in the literature on portfolio optimization, can be included into the proposed optimization models by introducing a cardinality constraint limiting the maximum number of assets, and lower and upper bounds on security weights. The introduction of these real features imposes the use of auxiliary binary variables, thus transforming the LP models into MILP problems.

The cardinality constraint imposing that a maximum number (say K < n) of assets can be selected, can be introduced directly into the LP models (14)–(19) and (21)–(26) by means of the following constraints:

                           
                              (27)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   x
                                                   ˜
                                                
                                                j
                                             
                                             ≤
                                             M
                                             
                                                z
                                                j
                                             
                                             
                                             
                                             for
                                             
                                             j
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             n
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (28)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   ∑
                                                   
                                                      j
                                                      =
                                                      1
                                                   
                                                   n
                                                
                                                
                                                   z
                                                   j
                                                
                                                ≤
                                                K
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (29)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                z
                                                j
                                             
                                             ∈
                                             
                                                {
                                                0
                                                ,
                                                1
                                                }
                                             
                                             
                                             for
                                             
                                             j
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             n
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        where zj
                         is a binary variable that takes value 1 if security j is selected, and 0 otherwise, whereas M is the upper bound on variable v
                        0.

As mentioned above, the portfolio structure may be restricted by some requirements, often called buy-in thresholds, on the weight of each asset held in portfolio. Typical requirements impose a minimum weight ε
                           j
                         and a maximum weight Δj
                         for each asset j hold in portfolio. Minimum weights (lower bounds) are introduced to avoid having very small holdings in some securities, whereas maximum ones (upper bounds) are used to prevent very large holdings in one or very few assets. Upper bounds on securities can be easily introduced as the following linear inequalities:

                           
                              
                                 
                                    
                                       x
                                       j
                                    
                                    ≤
                                    
                                       Δ
                                       j
                                    
                                    
                                    for
                                    
                                    j
                                    =
                                    1
                                    ,
                                    …
                                    ,
                                    n
                                    .
                                 
                              
                           
                        After the transformation 
                           
                              
                                 
                                    x
                                    ˜
                                 
                                 j
                              
                              =
                              
                                 x
                                 j
                              
                              
                                 v
                                 0
                              
                              ,
                           
                         they take the form of the following linear inequalities:

                           
                              (30)
                              
                                 
                                    
                                       
                                          x
                                          ˜
                                       
                                       j
                                    
                                    ≤
                                    
                                       Δ
                                       j
                                    
                                    
                                       v
                                       0
                                    
                                    
                                    for
                                    
                                    j
                                    =
                                    1
                                    ,
                                    …
                                    ,
                                    n
                                    .
                                 
                              
                           
                        Lower bounds can be introduced using the following inequalities:

                           
                              
                                 
                                    
                                       
                                          x
                                          ˜
                                       
                                       j
                                    
                                    ≥
                                    
                                       
                                          ɛ
                                       
                                       j
                                    
                                    
                                       v
                                       0
                                    
                                    
                                       z
                                       j
                                    
                                    
                                    for
                                    
                                    j
                                    =
                                    1
                                    ,
                                    …
                                    ,
                                    n
                                 
                              
                           
                        that contain the nonlinear terms v
                        0
                        zj
                        . Such a nonlinearity can be transformed into linear form by introducing auxiliary variables and constraints (e.g., see Williams (2013)). Namely, by introducing (continuous) nonnegative variables 
                           
                              
                                 v
                                 
                                    0
                                    j
                                 
                              
                              =
                              
                                 v
                                 0
                              
                              
                                 z
                                 j
                              
                              ,
                           
                         the lower bounds may be expressed as:

                           
                              (31)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   x
                                                   ˜
                                                
                                                j
                                             
                                             ≥
                                             
                                                
                                                   ɛ
                                                
                                                j
                                             
                                             
                                                v
                                                
                                                   0
                                                   j
                                                
                                             
                                             
                                             for
                                             
                                             j
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             n
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (32)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             0
                                             ≤
                                             
                                                v
                                                
                                                   0
                                                   j
                                                
                                             
                                             ≤
                                             M
                                             
                                                z
                                                j
                                             
                                             
                                             for
                                             
                                             j
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             n
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (33)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                v
                                                
                                                   0
                                                   j
                                                
                                             
                                             ≤
                                             
                                                v
                                                0
                                             
                                             
                                             for
                                             
                                             j
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             n
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (34)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                v
                                                0
                                             
                                             −
                                             
                                                v
                                                
                                                   0
                                                   j
                                                
                                             
                                             +
                                             M
                                             
                                                z
                                                j
                                             
                                             ≤
                                             M
                                             
                                             for
                                             
                                             j
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             n
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

If 
                           
                              
                                 z
                                 j
                              
                              =
                              0
                           
                         then variable v
                        0j
                         is forced to take value zero by inequalities (32). On the other side, when 
                           
                              
                                 z
                                 j
                              
                              =
                              1
                              ,
                           
                         variable v
                        0j
                         takes value v
                        0 forced by constraints (33) and (34).

We highlighted above that the optimization model (7)–(13) is valid only if the portfolios satisfy the condition μ(R
                        
                           x
                        ) > μα
                        , on one hand, and the condition μα
                         > yt
                         for at least one scenario t, on the other hand (note that these conditions are most of the times fulfilled in real-life situations). This follows from the fact that variable z
                        1 represents only an upper bound on the mean below-target deviation thus expressing that value only when it is minimized. In order to guarantee a proper representation in these situations, the optimization model (7)–(13) must be extended by introducing a new set of auxiliary binary variables ut
                         and by adding the following constraints:

                           
                              (35)
                              
                                 
                                    
                                       d
                                       t
                                    
                                    ≤
                                    
                                       μ
                                       α
                                    
                                    −
                                    
                                       y
                                       t
                                    
                                    +
                                    M
                                    
                                       u
                                       t
                                    
                                    
                                    for
                                    
                                    t
                                    =
                                    1
                                    ,
                                    …
                                    ,
                                    T
                                 
                              
                           
                        
                        
                           
                              (36)
                              
                                 
                                    
                                       d
                                       t
                                    
                                    ≤
                                    M
                                    
                                       (
                                       1
                                       −
                                       
                                          u
                                          t
                                       
                                       )
                                    
                                    
                                    for
                                    
                                    t
                                    =
                                    1
                                    ,
                                    …
                                    ,
                                    T
                                    .
                                 
                              
                           
                        
                     

Note that when 
                           
                              
                                 μ
                                 α
                              
                              −
                              
                                 y
                                 t
                              
                              >
                              0
                              ,
                           
                         
                        dt
                         takes exactly such a value by forcing 
                           
                              
                                 u
                                 t
                              
                              =
                              0
                              ,
                           
                         whereas when 
                           
                              
                                 μ
                                 α
                              
                              −
                              
                                 y
                                 t
                              
                              <
                              0
                           
                         inequality (35) forces 
                           
                              
                                 u
                                 t
                              
                              =
                              1
                           
                         to guarantee a positive right-hand side, and dt
                         takes value zero thanks to inequality (36).

In order to handle this condition in the OR model (14)–(19), one can introduce additional continuous nonnegative variables 
                           
                              
                                 u
                                 ˜
                              
                              t
                           
                         and the following constraints:

                           
                              (37)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   d
                                                   ˜
                                                
                                                t
                                             
                                             ≤
                                             
                                                μ
                                                α
                                             
                                             
                                                v
                                                0
                                             
                                             −
                                             
                                                
                                                   y
                                                   ˜
                                                
                                                t
                                             
                                             +
                                             M
                                             
                                                
                                                   u
                                                   ˜
                                                
                                                t
                                             
                                             
                                             for
                                             
                                             t
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             T
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (38)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   d
                                                   ˜
                                                
                                                t
                                             
                                             ≤
                                             M
                                             
                                                v
                                                0
                                             
                                             −
                                             M
                                             
                                                
                                                   u
                                                   ˜
                                                
                                                t
                                             
                                             
                                             for
                                             
                                             t
                                             =
                                             1
                                             ,
                                             …
                                             ,
                                             T
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (39)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             0
                                             ≤
                                             
                                                
                                                   u
                                                   ˜
                                                
                                                t
                                             
                                             ≤
                                             M
                                             
                                                u
                                                t
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (40)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                
                                                   u
                                                   ˜
                                                
                                                t
                                             
                                             ≤
                                             
                                                v
                                                0
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (41)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                v
                                                0
                                             
                                             −
                                             
                                                
                                                   u
                                                   ˜
                                                
                                                t
                                             
                                             +
                                             M
                                             
                                                u
                                                t
                                             
                                             ≤
                                             M
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

In a similar manner, in order to guarantee a proper representation of the optimal solution for the EOR model, formulation (21)–(26) has to be extended to include constraints (37)–(41) where μα
                         is substituted by 
                           
                              r
                              t
                              α
                           
                         in inequalities (37).

This section is devoted to the presentation and discussion of the computational experiments. For the experimental analysis, we used a PC Intel Xeon with 3.33 GigaHertz 64-bit processor, 12.0 Gigabyte of RAM and Windows 7 64-bit as Operating System. Optimization models are implemented in Java and solved by means of CPLEX 12.2. All CPLEX parameters are set to their default values.

In the computational experiments described below, the procedure first solves the OR model. Then, a post-optimization procedure is run to check if the optimal solution violates any of the two conditions μ(R
                     
                        x
                     ) > μα
                      and μα
                      > yt
                      for at least one scenario t. If one of these cases occurs, variables 
                        
                           
                              u
                              ˜
                           
                           t
                        
                      and constraints (37)–(41) are added to the mathematical formulation, and then the model is solved again. A similar procedure is applied to solve the EOR model.

It is worth noticing that, in all the computational experiments we carried out, the condition μ(R
                     
                        x
                     ) > μα
                      was never violated, whereas condition μα
                      > yt
                      for at least one scenario t turned out to be violated very few times and only when setting 
                        
                           α
                           =
                           0
                        
                     .

In the following, we first describe the testing environment, then we comment on in-sample characteristics of the optimal portfolios and provide an extensive evaluation of their out-of-sample performance. We also present an out-of-sample comparison of the optimal portfolios selected by the EOR model with the ones optimized by using the model introduced in Filippi et al. (2016). Finally, we discuss on how the out-of-sample performance of the portfolios selected by the EOR model changes when the investor is allowed to rebalance monthly the portfolios composition.

In the computational experiments, we use two data sets. The first data set is taken from Guastaroba, Mansini, and Speranza (2009), and hereafter, is referred to as GMS from the name of the authors. This set includes 4 instances created from historical weekly rates of return of the 100 securities composing the FTSE 100 Index at the date of the 25th of September, 2005. Particularly, the rate of return of security j in scenario t is computed as 
                           
                              
                                 r
                                 
                                    j
                                    t
                                 
                              
                              =
                              
                                 
                                    
                                       q
                                       
                                          j
                                          t
                                       
                                    
                                    −
                                    
                                       q
                                       
                                          j
                                          ,
                                          t
                                          −
                                          1
                                       
                                    
                                 
                                 
                                    q
                                    
                                       j
                                       ,
                                       t
                                       −
                                       1
                                    
                                 
                              
                              ,
                           
                         where qjt
                         is the closing price of security j in the observed period t. As for most of the contributions on IT problems and portfolio selection, we do not consider dividends. Rates of return 
                           
                              r
                              t
                              I
                           
                         for the market index are computed similarly. It is important to observe that the relevance of dividends and their impact on rates of return computation may vary according to the historical period under consideration. For sake of completeness, we have compared the rates of return series based on raw closing prices with the one obtained considering the closing prices adjusted for dividends and splits. The differences between the two time series that we perceived, if any, were negligible, from which the decision to consider only raw data.

Each of the 4 instances consists of 2 years of in-sample weekly observations (i.e., 104 scenarios) and 1 year of out-of-sample ones (i.e., 52 realizations). For each instance the optimal composition of the portfolio is first decided solving one of the optimization models described in Section 3 and using 104 scenarios. Then the performance of this portfolio is evaluated over the following 52 weeks.

The instances in data set GMS were originally created to span four different market trends. Specifically, the first instance is characterized by an increasing trend of the market (i.e., the market index is moving Up) in the in-sample period as well as in the out-of-sample period, and is hereafter referred to as GMS-UU. The second instance considers an increasing trend of the market index in the in-sample period and a decreasing one (i.e., it is moving Down) in the out-of-sample period, and from now on is referred to as GMS-UD. The third instance (henceforth referred to as GMS-DU) is characterized by a decreasing trend in the in-sample period and by an increasing one in the out-of-sample period. Finally, the last instance (referred to as GMS-DD in the following) is characterized by a decreasing trend in both the in-sample and the out-of-sample periods. The temporal positioning of each instance is shown in Fig. 2
                        . All instances in this data set are publicly available on the website of the Operational Research Group at the University of Brescia (http://or-brescia.unibs.it), section “Benchmark Instances”.

The second data set, hereafter referred to as ORL, is generated from the 8 benchmark instances for the index tracking problem currently belonging to the OR-Library (currently available at http://people.brunel.ac.uk/~mastjjb/jeb/orlib/indtrackinfo.html). These instances consider the securities included in eight different stock market indices: the Hang Seng market index (related to the Hong Kong stock market), the DAX 100 (Germany), the FTSE 100 (United Kingdom), the S&P 100 (USA), the Nikkei 225 (Japan), the S&P 500 (USA), the Russell 2000 (USA) and the Russell 3000 (USA). The number of securities included in each instance ranges from 31, composing the Hang Seng index, to 2151, composing the Russell 3000 index. For each security, 291 weekly prices are provided in the original data set. Starting from this data set, we generate 8 instances consisting of the same number of in-sample and out-of-sample observations considered in data set GMS. Specifically, we used the first 105 prices in each instance to compute the rate of return of security j in scenario t, using the formula mentioned above where qjt
                         is taken equal to the 
                           
                              (
                              t
                              +
                              1
                              )
                           
                        th price provided in the original benchmark instance. In the following, these instances are referred to as ORL-ITβ, 
                           
                              β
                              =
                              1
                              ,
                              ⋯
                              ,
                              8
                           
                        . All instances of this set can also be downloaded at the website http://or-brescia.unibs.it.


                        Table 1
                         summarizes the main characteristics of all the tested instances.

To achieve some in-depth insights on the effectiveness of the proposed optimization models, and on the impact of the real features described above, we solved the OR model, the EOR model, as well as their extensions obtained adding constraints (27)–(34), on all the aforementioned instances. From now on, the MILP models representing the extensions of OR and EOR models obtained adding Real Features (RF) are identified as OR-RF model and EOR-RF model, respectively. In the latter two models, parameter K in the cardinality constraint is set equal to 20 for all the instances in data set GMS. For data set ORL, K is set equal to 10 in the experiments concerning the 4 smallest instances (from ORL-IT1 to ORL-IT4), and to 20 for all the remaining test instances. Furthermore, we set parameters 
                           
                              
                                 ϵ
                                 j
                              
                              =
                              0.01
                           
                         and 
                           
                              
                                 Δ
                                 j
                              
                              =
                              0.15
                              ,
                           
                         for 
                           
                              j
                              =
                              1
                              ,
                              …
                              ,
                              n
                           
                        .

The four optimization models were solved for 7 different values of the parameter α. Specifically, we set α equal to 0, 1 percent, 2 percent, 5 percent, 8 percent, 10 percent and 15 percent on a yearly basis (corresponding to values 0, 
                           
                              1.91371
                              *
                              
                                 10
                                 
                                    −
                                    4
                                 
                              
                              ,
                           
                        
                        
                           
                              3.80892
                              *
                              
                                 10
                                 
                                    −
                                    4
                                 
                              
                           
                        , 
                           
                              9.38713
                              *
                              
                                 10
                                 
                                    −
                                    4
                                 
                              
                              ,
                           
                        
                        
                           
                              1.481116
                              *
                              
                                 10
                                 
                                    −
                                    3
                                 
                              
                              ,
                           
                        
                        
                           
                              1.834569
                              *
                              
                                 10
                                 
                                    −
                                    3
                                 
                              
                           
                         and 
                           
                              2.691345
                              *
                              
                                 10
                                 
                                    −
                                    3
                                 
                              
                              ,
                           
                         on a weekly basis, respectively).

Finally, we set to 1 hour (3600 seconds) the threshold time to solve each instance. If the solver did not terminate within the allowed time, then the best feasible solution found was used to compute the performance measures reported in the following tables.

In this section, we compare the out-of-sample performance of the optimal portfolios selected by the EOR model with the ones obtained by using the formulation introduced in Filippi et al. (2016) that is, to the best of our knowledge, the most recent formulation proposed in the literature for the EIT. The comparison concerns only the EOR model since, as described in the next section, its portfolios clearly outperform the ones selected by the OR model. Filippi et al. (2016) propose a bi-objective MILP formulation for the EIT that adopts the absolute deviation to measure the tracking error. Their formulation includes several real features in addition to the ones we consider in the present paper, such as fixed and proportional transaction costs as well as the possibility of finding an optimal rebalancing of a current portfolio. Consequently, in order to make the comparison fair, we proceeded as follows. Firstly, we removed from the model of Filippi et al. (2016) all the real features so that the resulting formulation is comparable with the EOR model. We decided to compare the two optimization models without considering any real feature in order to avoid that the performance of the optimal portfolios is affected by additional elements. Secondly, we constructed the efficient frontier using the resulting formulation and chose, among all the Pareto optimal solutions, the portfolio that yielded the best out-of-sample Sortino index, computed as described in the following section.

In Fig. 3
                        , we analyze and compare the ex-post performance of the selected portfolios in terms of cumulative returns. Cumulative returns of the corresponding market index are also included in the pictures for a clear and complete comparison. For sake of clarity, we only report the results obtained by setting in the EOR model 
                           
                              α
                              =
                           
                         0 percent, 2 percent, and 5 percent on yearly basis and concerning a subset of the tested instances.

Despite all the optimized portfolios perform rather well compared to the market index, Fig. 3 suggests that the optimal portfolios selected by the EOR model perform better than the ones obtained solving the formulation in Filippi et al. (2016). On one side, the cumulative returns yielded by the different portfolios are rather similar for the instances GMS-UU and GMS-UD (see the upper panels). In both instances, each portfolio tracks quite closely the behavior of the benchmark. However, the portfolios selected by the EOR model yield slightly larger cumulative returns than the ones achieved by the portfolios selected using the Filippi et al. (2016) formulation, especially in the second half of the out-of-sample period. On the other side, the dominance of the EOR model compared to the Filippi et al. (2016) one is much more prominent in the pictures related to the instances ORL-IT7 and ORL-IT8 (see the lower panels). Indeed, the latter two pictures show that all the portfolios yield better cumulative returns than the market index. Nevertheless, the portfolios selected by the EOR formulation achieve considerably larger cumulative returns than those yielded by the portfolios optimized with the Filippi et al. (2016) model.

In this section, we comment on the main characteristics and the performance of the optimal portfolios selected by the proposed optimization models.


                        Table 2
                         provides in-sample and out-of-sample statistics for the OR and the OR-RF models, when solving the instances in the GMS data set. As mentioned above, each instance was solved for different values of μα
                        . The first two columns of the table show the name of the instance and the value of μα
                         used, expressed in percentage and on yearly basis. Notice that, for each instance, the first value of μα
                         corresponds to 
                           
                              α
                              =
                              0
                              ,
                           
                         i.e., the figure reported is the mean rate of return of the market index μI
                        . The main section of the table consists of two parts: the left-hand part concerns the OR model, whereas the right-hand one refers to the OR-RF model. Each of these parts consists of 8 columns. The first 4 columns refer to in-sample characteristics of the optimal portfolios, such as the number of securities selected (column Div.), the minimum (Min percent) and the maximum (Max percent) portfolio shares (in percentage), and the computing time (in seconds) taken to optimally solve the instance (CPU (seconds)). The remaining 4 columns concern the following out-of-sample performance measures: the number of weeks, divided by 52 and in percentage, that the portfolio rate of return has outperformed the market index return in the out-of-sample period (
                           
                              
                                 y
                                 t
                              
                              >
                              
                                 r
                                 t
                                 I
                              
                           
                         percent), the average portfolio rate of return in percentage and on yearly basis (rav
                         percent), and the semi-standard deviation (s-std) computed compared to the market index return as 
                           
                              
                                 
                                    
                                       1
                                       52
                                    
                                    
                                       ∑
                                       
                                          t
                                          =
                                          1
                                       
                                       52
                                    
                                    
                                       
                                          (
                                          
                                             y
                                             t
                                          
                                          −
                                          
                                             r
                                             t
                                             I
                                          
                                          )
                                       
                                       −
                                       2
                                    
                                 
                              
                           
                        . Finally, the last column with header Sortino Index reports the average excess return divided by the semi-standard deviation s-std, where the excess return is measured from the mean return of the market index. For each instance, the average of each performance measure, computed over all the different values of μα
                        , is reported in the last line.

The same set of statistics is reported in Table 3
                         for the EOR model and its extension EOR-RF for the instances of the GMS data set, while the figures in Tables 4
                         and 5
                         refer to the instances in the ORL data set.

We begin the in-sample analysis considering some characteristics of the optimal portfolios selected by the models without real features. As far as the number of securities composing the optimal portfolios is concerned, the EOR model tends to be more diversified than that selected by the OR model. The EOR model tends also to select portfolios with a better composition than those of OR model. This is especially true if we look at statistic Max percent. Indeed, in almost all the instances the maximum share of the optimal portfolio found by the OR model is considerably larger than the corresponding one selected by the EOR model. Notice that in some instances (e.g., see the figures for instances GMS-DU and ORL-IT5 in Tables 2 and 4, respectively) statistic Max percent for the portfolios found by the OR model is larger than 56 percent, independently of the value of μα
                        , while the same statistic for the EOR model is always smaller than 15.3 percent (see the figures reported in Tables 3 and 5). The above limitations of the portfolios selected by the OR model may be mitigated by the introduction of the real features described in 3.5. In both models, the number of securities composing the optimal portfolios often decreases as the value of μα
                         increases.

Computing times are negligible for all instances solved by the OR and EOR models. As expected, including real features in the optimization models makes their solution more time consuming, and, in particular, the smaller the value of α, the larger the computing times (this is evident looking at the figures shown in Table 3 for the EOR-RF model and at those concerning the first 4 instances in Table 5). Note that, in some cases, computing times reach the imposed threshold time. We investigated further on this point removing the time limit of 3600 seconds and solving again all the instances not solved to optimality within such a time threshold. We found that the solutions obtained in the time limit are indeed the optimal ones, with the exception of the solution found by the EOR-RF model for instance ORL-IT6 setting 
                           
                              
                                 μ
                                 α
                              
                              =
                              0.4107
                           
                         whose percentage gap from the optimal solution is 0.78 percent. Hence, we conclude that for those instances CPLEX is able to find the optimal (or near-optimal) solution relatively quickly, spending an excessive amount of computing time only to prove optimality.

Now, we move to the out-of-sample performance of the optimal portfolios. Comparing the figures reported in Tables 2 and 4 for the OR model with those shown in Tables 3 and 5 for the EOR model, the portfolio optimized by means of the latter model often outperforms the corresponding portfolio selected with the former model, irrespective of which statistic is considered. Comparing the average values of the statistics computed for the GMS data set, in three out of four instances the portfolios selected by the EOR model achieve, on average, a considerably better performance than those found by the OR model (e.g., see at the average Sortino Index for instance GMS-UD). A similar, though less strong, predominance of the EOR model over the OR model occurred for the instances in the ORL data set. A clear trend in the value of the statistics over all the tested instances when α increases is not observed. As expected, the introduction of real features has a negative impact on the out-of-sample behavior of the optimal portfolios, especially for those selected by the EOR model (e.g., the average values of the Sortino Index in Table 5 for the EOR model are almost always better than the corresponding values for the EOR-RF model).

Even though the above statistics enable us to give a synthetic measure of the out-of-sample performance of the portfolios, they do not provide an information of the portfolio performance over time. To this aim, in Figs. 4,5, and 6 we analyze and compare the portfolio behavior in terms of cumulative returns. Cumulative returns of the corresponding market index are included in the pictures as terms of comparison. To the sake of brevity, we decided to only report in the present paper the results concerning a subset of the tested instances and obtained by setting 
                           
                              α
                              =
                           
                         0 percent, 2 percent, and 5 percent on yearly basis. The complete set of results for all the instances is provided as electronic supplementary material.

In Figs. 4 and 5 we present the cumulative returns for the benchmarks and the portfolios selected by the OR model (upper left panel), the OR-RF model (upper right), the EOR model (lower left), and the EOR-RF model (lower right) in the instances GMS-UU and GMS-UD, respectively. In both figures the portfolios optimized by means of the EOR model clearly outperform those selected by the OR model. Indeed, in approximately the first half of the out-of-sample period depicted in Fig. 4,
                        
                        
                         all the portfolios selected by the OR model yield cumulative returns that fall below that of the benchmark. Subsequently, they perform similarly to the market index for some ex-post realizations, and, finally, they yield worse cumulative returns in the last weeks (especially the portfolio selected by setting α equal to 5 percent). On the other hand, the portfolios selected by the EOR model track very closely the behavior of the benchmark over almost the whole out-of-sample period, slightly outperforming the cumulative returns yielded by the market index in some of the realizations near the end of the period. The prevalence of the EOR model compared to the OR model is even more evident in Fig. 5. The portfolios selected by the OR model show quite unstable cumulative returns. All these portfolios outperform the market index at the beginning of the ex-post period, yielding quite larger cumulative returns than the benchmark for some realizations, while their performance deteriorates significantly in the second part of the out-of-sample period. Conversely, the performance of the portfolios selected by the EOR model is very satisfactory. All the portfolios mimic closely the behavior of the benchmark, i.e., cumulative returns for the market index and the portfolios jointly increase or decrease in most of the ex-post realizations, while yielding larger cumulative returns. The higher volatility of the portfolios selected by the OR model than those found by the EOR model is confirmed by the larger values taken by static s-std and shown in Tables 2–5. Similar conclusions to those discussed above can be drawn comparing the cumulative returns yielded by the portfolios selected by the two models including real features. The only additional remark we draw is that, as mentioned above, the introduction of the real features often deteriorates the out-of-sample performance of the optimal portfolios.

Given the worse performance of the OR model, in Fig. 6 we decided to show for two instances in the ORL data set the cumulative returns for some of the portfolios selected by only the EOR model (left panels) and the EOR-RF model (right panels). Particularly, the upper panels show the cumulative returns for instance ORL-IT7, whereas the lower panels concern instance ORL-IT8. In both instances, all the portfolios largely outperform the benchmark over the whole out-of-sample period. On the one hand, one can notice that the fluctuations of the market index are replicated by the optimal portfolios but with larger amplitudes. Nevertheless, the optimal portfolios yield much larger cumulative returns than those achieved by the market index. For instance, in all panels the portfolios selected by setting α equal to 0 percent achieve a cumulative return in week 44 that is approximately equal to 0.9, while the benchmarks yielded a cumulative return less than 0.11 in instance ORL-IT7 and slightly larger than 0.16 in instance ORL-IT8. In these two instances, introducing the real features has a remarkable negative effect on the performance of the optimal portfolios selected by setting α equal to 2 percent and 5 percent.

In the previous section, we observed the behavior of the optimal portfolios in the 52 weeks following the date of portfolio selection. However, in real investment situations such a holding period is excessively long since investors tend to rebalance their portfolios much more frequently. To gain some insights on this issue, we considered the EOR model and assumed a monthly frequency of rebalancing during the 12 months following the date of the initial portfolio selection. From an optimization point of view, this simply requires the solution of a sequence of EOR models, in our case one for each month in the planning horizon.


                        Fig. 7 compares on two instances, namely instances GMS-UU and ORL-IT7, the out-of-sample cumulative returns of the portfolios held for one year with the ones rebalanced monthly. Our findings suggest that, on some instances, a higher frequency of rebalancing does not seem to affect too much the performance of the portfolios (see instance GMS-UU reported in the upper panel). On the other side, rebalancing more frequently the portfolio composition can improve significantly its out-of-sample behavior (see instance ORL-IT7 shown in the lower panel). These results indicate that by re-optimizing periodically their portfolios, investors can yield substantially better cumulative returns than leaving their composition unchanged over the entire planning horizon. This result is consistent with the practice observed among financial investors.

The index tracking problem represents one of the most studied and challenging problems in the financial literature of the last decades. However, more recently, researchers and practitioners seem to be more attracted by the enhanced indexation, where tracking is designed to outperform instead of simply mimic the market index performance. This has given rise to the Enhanced Index Tracking Problem (EITP) that aims at minimizing the index tracking error of a selected portfolio, while outperforming the market index.

In this paper we model the EITP by means of the Omega ratio. This is a recent performance measure that differs from the classical ones since it allows us to assess performance against a benchmark accounting for asymmetry in returns distribution. We propose two mathematical formulations for the EITP. In the first model the Omega ratio is computed with respect to a benchmark represented by the mean rate of return of the market index (OR model). The second model is obtained considering the portfolio optimization performance under multiple scenarios by substituting the mean rate of return of the benchmark market index with its random variable (EOR model). Both formulations, nonlinear in nature, are transformed into linear programming models and extended to include cardinality constraints and buy-in thresholds on investments giving rise to mixed integer linear programming models.

All optimization models were solved using CPLEX as solver. Extensive computational results on two different sets of benchmark instances have shown how the portfolios selected by the EOR model clearly outperform those found by the OR model in terms of out-of-sample performance. Furthermore, in most of the instances tested the portfolios optimized with the EOR model track very closely the behavior of the benchmark over the out-of-sample period, while yielding, sometimes, significantly larger returns. These results suggest that considering the market index as a random variable and its performance under all the scenarios is a valuable choice.

Finally, as future developments, one may consider a model extension with multiple levels of targets 
                        
                           
                              R
                              
                                 α
                                 i
                              
                           
                           ,
                        
                      where the downside deviations are defined as scaled (weighted) deviations for several targets. Another interesting research direction is the study of possible extensions of the optimization models proposed in this paper in order to consider the possibility of rebalancing the portfolio composition, where transaction costs are paid. It is also interesting to investigate the performance of other optimization models where a different performance measure expressed as a ratio is adopted instead of the Omega ratio. As most of these ratios cannot be linearized, another possible development would be the design of efficient methods for their solution.

@&#ACKNOWLEDGMENTS@&#

We wish to acknowledge the comments and suggestions of the associate editor and two anonymous reviewers which allowed us to improve a former version of this paper.

Research conducted by W. Ogryczak was partially supported by the National Science Centre (Poland) under the grant DEC-2012/07/B/HS4/03076.

@&#REFERENCES@&#

