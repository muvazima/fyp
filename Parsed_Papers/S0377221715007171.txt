@&#MAIN-TITLE@&#FLAS: Fuzzy lung allocation system for US-based transplantations

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           A fuzzy lung allocation system (FLAS) for US-based transplantation is developed.


                        
                        
                           
                           This proposed analytical decision process allows for better human understanding.


                        
                        
                           
                           FLAS utilizes the UNOS dataset and well mimics the decision making of physicians.


                        
                        
                           
                           FLAS provides significantly better results than other studies in literature.


                        
                        
                           
                           It is flexible in being simply applied to other organ allocation processes.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Lung transplantation

Organ allocation

Fuzzy logic

Decision processes

Analytics

OR in health services

@&#ABSTRACT@&#


               
               
                  This paper presents a fuzzy lung allocation system (FLAS) in order to determine which potential recipients would receive a lung for transplantation when it becomes available in the USA. The developed system deals with the vagueness and fuzziness of the decision making of the medical experts in order to achieve accurate lung allocation processes in terms of transplant survival time and functional status after transplantation. The proposed approach is based on a real data set from the United Network for Organ Sharing (UNOS) to investigate how well it mimics the experience of transplant physicians in the field of lung allocation. The results are very promising in terms of both prediction accuracy (with an R2
                      value of 83.2 percent and an overall accuracy of 82.1 percent) along with better interpretation capabilities and hence are superior to the existing techniques in literature. Furthermore, the proposed decision process provides a more effective (i.e. accurate), time-efficient, and systematic decision support tool for this problem with two criteria being considered i.e. graft survival time and functional status after transplantation.
               
            

@&#INTRODUCTION@&#

For patients with the end-stage lung disease (ESLD), one of the only options for recovery is complete lung transplantation. Over the last years, a steady increase in the proportion of both adult and pediatric sensitized lung patients awaiting transplantation has been observed. Under the waiting list strategy in which lungs are allocated to transplant candidates based on their waiting time, the number of deaths on the waiting list increased dramatically although approximately 1000 lung transplants were performed annually (Egan et al., 2006).

The strategy for lung transplantation in the United States was reviewed and modified by the Organ Procurement and Transplantation Network (OPTN) (Levine et al., 2005). The lung allocation score (LAS) system was designed by OPTN, which took into account scientific and demographic data about lung transplantation and considered previous experience of different patients with lung diseases. Thus, lung transplants were delivered to potential candidates according to their demographic data and medical history instead of their waiting time on the list. Consequently, candidates who had the highest urgency of transplant (referring to equity principle) (Stewart, French, & Rios, 2013) and had the highest quality of life after transplantation (referring to utility principle) (Jimenez, Mateos, & Rios-Insua, 2009; Ross, 1995) should be served lungs. Similarly, the United Network for Organ Sharing (UNOS) continuously uses new information to improve organ transplantation strategies. The current UNOS strategy depends on patients’ characteristics that are related to their ages, blood type, and the distance between the candidates and the location of the lung donor.

Fuzzy logic would hypothetically be one of the best tools to deal with such a problem. In particular, the aim of this study is to propose a fuzzy decision making approach to effectively (i.e. accurately) and efficiently (i.e. computationally non-intensive) mimic the way that medical experts make a decision about lung allocation for transplantation. Besides the fact that a fuzzy logic system well replicates physicians’ intuitive thinking, it also avoids inconsistency and emotional biases. Herein, fuzzy set theory was introduced to model the uncertainty of human judgments, since the expert knowledge were taken into account as decision rules (Dembczynski, Greco, & Slowinski, 2009) or “IF-THEN” statements representing the knowledge in a few number of rules (Beynon, Peel, & Tang, 2004). Fuzzy logic was first proposed by Zadeh, 1965 to model the uncertainty in human reasoning. It is a typical method to deal with imprecision and vagueness due to the problems many practical applications have with imprecise data. Therefore, it has been widely implemented to various domains e.g. from business management (Sevkli, Oztekin, Uysal, Torlak, Turkyilmaz, & Delen, 2012) to multi-criteria decision making (Yayla, Oztekin, Gumus, & Gunasekaran, 2015).

The main objective of this research is to investigate whether or not a fuzzy logic-based expert system for lung transplantation could better represent the medical doctors’ decision making process compared to other existing algorithms. What follows next are the dedicated section for related works; general framework describing the dataset and the proposed system; specific framework explaining the proposed fuzzy logic model along with its inputs and outputs clarifying the fuzzy rule base system with some examples; experimental setup; and finally, the conclusions and future work.

@&#RELATED WORKS@&#

Several studies pointed out that the LAS system is an important approach in serving the available donor lung to the patient who has the highest priority according to the LAS scoring algorithm. In 2005, the LAS aim was to balance waitlist mortality and post-transplant survival. In order to evaluate this balance, a scoring algorithm analyzed clinical data including diagnosis, respiratory function, status of health, and hemodynamic data (Egan et al., 2006; McShane & Garrity, 2013). Liu, Zamora, Dhillona, and Weill, 2010 indicated a significant association between LAS and the survival rate of patients after transplants. They also discovered a significant relationship between the LAS and the GTime (the lifespan of a lung graft from the date of transplant until its death) (Oztekin, Kong, & Delen, 2011). They revealed that patients who had LAS scores higher than or equal to 60, increasing lung allocation scores decreased the likelihood of the survival after the transplant .More recently, Weil, Benden, Corris, Dark, and Davis, 2015 updated a consensus document for the recipient selection recommendations, which was initially published in 2006. That document established the guidelines concerning the listing and timing of referral for a lung transplantation. These guidelines include LAS and traversing to transplant with ventilator support and mechanical circulatory; assuming the absence of an efficient decision support system. Another recent study (Lehr & Zaas, 2015) pointed out that an analysis following the implementation of the LAS should continue during the post-transplant period; to keep track of the patient survival. However, in (Smits et al., 2011) LAS precisely predicts the mortality in the most sick candidates to be considered as the foundation for a new lung allocation strategy.

Currently, the lung allocation process (as well as other organ allocation processes such as kidney and liver) is no longer based on the conventional waiting time system. Considering this fact, the Child-Turcotte-Pugh (CTP) score (Child & Turcotte, 1964) was proposed to evaluate the severity of liver disease. In a similar vein, Feng et al., 2006 established the quantitative risk computation that is related to various donor characteristics by developing a donor risk index (DRI). The “sickest first” principle was also considered by Kamath and Kim, 2007, where a model for end-stage liver disease (MELD) was developed and validated as a scoring model. However, these models do not anticipate mortality after transplantation. Rana et al., 2012 predicted recipients' survival three months after the liver transplantation via the development of a set of survival outcomes following liver transplantation scoring system (SOFT), which could enhance the MELD score model that predicts waiting list mortality rate. Though, these models do not jointly consider the characteristics of the donor, recipient, and the transplanted organ. In another study, a rule-based decision making system (Cruz-Ramírez, Hervás-Martínez, Fernández, Briceño, & la Mata, 2012) was proposed to assign the liver transplant to the recipient who has the greatest probability of acceptance and higher probability of survival regardless of the candidates' order on the waiting list. A recent study proposed by Perez-Ortiz, Cruz-Ramirez, Ayllon-Teran, and Heaton, 2014 used the ordinal regression and support vector machine (SVM) for predicting the graft survival after liver transplantation. The proposed methodology efficiently improved the MELD score system with respect to the principles of equity and utility.

The study conducted by Kusiak, Dixon, and Shah, 2005 predicted the survival time of kidney dialysis patients by comparing two rule-based data mining methods (decision trees and rough sets). Their study provided satisfactory prediction accuracy rates, but the main drawback of that study was the usage of a small dataset i.e. 188 patients. Hariharan et al., 2000 used the cyclosporine for the analysis of improved graft survival rate in both the short term (less than one year) and long term (more than one year) following a renal transplantation. In particular, the survival rate of the transplants was predicted using Kaplan–Meier for each year.

Recently, a review study (Mallidi, 2012) pointed out that more lung transplantation approaches than ever are being achieved, where the success of lung transplantation depends upon further optimization of the allocation of available donor organs. However, the decisions of experts are subject to bias and are not reproducible. Currently, the available algorithms can generate a solution, but they do not directly represent the intuitive thinking of experts in organ transplantation. For instance, patient survival after liver transplantation was predicted using multi-objective artificial neural network (Cruz-Ramírez, Hervás-Martínez, Fernández, Briceño, & la Mata, 2013), where the proposed rule-based system was the objective and the final allocation decision must still be made by an expert. This system determines the best matching between different donor-recipient pairs, with the goal of ensuring the graft survival for three months after the transplant. In (Oztekin, 2012), mathematical means were provided for medical experts to deal with thoracic recipients. In that study artificial neural networks and support vector machines were used to develop prediction models for graft survivability. However, such models cannot be considered as expert systems which can take place of the medical experts’ thinking process.

Medical experts of the transplantation domain have the capability of addressing the issues concerning the equity and utility, but the potential benefits could be sacrificed since the decisions are subject to bias and non-reproducibility. Therefore, a decision making system would be very helpful in minimizing physician bias at allocation process, particularly if such a system could be tested and evaluated utilizing a nation-wide dataset. Few studies had found that fuzzy logic has a great potential to deal with vagueness and ambiguity in the field of organ allocation. Gundogar, Duran, Canbolat, and Turkmen (2005) proposed a fuzzy model for kidney allocation. The input criteria were human leukocyte antigen (HLA) compatibility, panel reactive antibody (PRA) percentage, age factor, and waiting time. Their output variable was 'total score', which determines patient's priority in kidney allocation process based on a trade-off between the equity and utility. The authors compared their output with readily available United Network for Organ Sharing (UNOS) in the USA and Turkish National Coordination for Organ Transplant (TONKS) algorithms and found their results are closer to UNOS. In a similar fashion, Yuan, Feldhamer, Gafni, Fyfe, and Ludwin, 2002 proposed a fuzzy logic-based expert system to deal with the complexity encountered by medical doctors in making a decision for kidney allocation. Their proposed approach pointed out that the fuzzy logic system was more acceptable to the experts than mathematical algorithms since fuzzy logic easily relates to the way that experts think. That system was evaluated in comparison with two available allocation algorithms: (1) multiple organ retrieval and exchange (MORE) based on priority sorting and (2) UNOS as a point scoring system. As a matter of fact, as noted by Gundogar et al., 2005 and by Yuan et al., 2002, the considered criteria for the output, which is simply a 'final score' does not accurately demonstrate the way that the domain experts evaluate an allocation problem. Moreover, Scalia, Aiello, Rastellina, Micale, and Cicalese, 2011 studied the pancreatic islet transplant using fuzzy logic with Technique Ordered Preference by Similarity to the Ideal Solution (TOPSIS) as one of the common multi-criteria decision making methods (MCDM). Their study demonstrated that fuzzy TOPSIS could effectively consider the uncertainty of qualitative and quantitative judgments. However, the reliability and robustness check of the proposed fuzzy logic model were not presented in that study nor the results were compared against any conventional techniques.

In order to overcome the drawbacks in literature as mentioned in Section 2 and to develop an effective and efficient expert system which would mimic and efficiently replicate the transplant experts’ decision making process, this study proposes fuzzy lung allocation system (FLAS) as outlined next.

A US nation-wide dataset was obtained from the United Network for Organ Sharing (UNOS). The data files were obtained from UNOS using a formal data requisition procedure (which includes submission of specific data needs, purpose of the study, and a data use agreement). These data files are named as UNOS Standard Transplant Analysis and Research (STAR) files for heart, lung, and simultaneous heart-lung transplants, namely thoracic transplants. Each transplant STAR file consists of information on all thoracic transplants that had been performed in the US and reported to UNOS since October 1, 1987. It includes both deceased- and living-donor transplants. None of the files include any specific patient or transplant hospital identifiers due to the privacy and security issues. However, there is a patient identification number, unique to each patient, which allows linking multiple files and tracking the patient. Considering these features, it is worth to mention that UNOS's data is considered to be the most comprehensive provenance of information for medical studies and specifically organ transplantation in the US (Cupples & Ohler, 2002).This dataset consists of 16,771 records and 442 variables containing information on all lung and heart transplants performed in the US that have been reported to UNOS since October 1, 1987. Any record containing missing data was removed resulting in 4,237 records. The dataset involves both living and deceased-donor transplants. As a matter of fact, if a study about the transplantation of any organ type is targeted to be nation-wide, then UNOS-based datasets are the only ones to serve in this direction. Analyzing the structure of the dataset demonstrates that it is abalanced problem;around 2000 records belong to females and the rest belongs to males.

Fuzzy logic is based on three concepts: linguistic variables, fuzzy sets (terms), and fuzzy numbers. Fuzzy sets or terms represent the linguistic variable characteristics, which can be described qualitatively using human words and quantitatively using membership functions (Zadeh, 1975). Fuzzy human words are communicating concepts in layman terms while membership functions are numeric inputs for computing purposes. On the other hand, fuzzy numbers assign a term to a linguistic variable based on the potential values of the variable. Fuzzy set theory (Hassanzadeh, Collan, & Modarres, 2011) provides an effective platform for modeling the knowledge of experts in the form of linguistic IF-THEN rules. Fuzzy inference is represented by rules, expressed as: “If antecedent then consequent” to map input space to output space. Fuzzy logic has various applications in a wide range of cases, such as bus operations (Chang, Yen, & Cheng, 1998), image processing, medicine and healthcare (Delmonico et al., 1999; Nakandalaa, Samaranayake, & Lau, 2013; Kong et al., 2012). In fact, experts’ statements or given data help to construct the fuzzy rules. An advantage of fuzzy expert systems over others is that only a few rules are required to encode the problem in a computational setting. The reason is that fuzzy logic adapts a rule to a given observation or a certain case by modifying the conclusion of the rule. In other words, it is recognized that fuzzy reasoning is a way to interpolate domain experts’ knowledge (Meredith, Steward, & Lewis, 2011; Sirbiladze, Khutsishvili, & Ghvaberidze, 2014).

In developing the fuzzy lung allocation system (FLAS), lung allocation factors were identified through an intensive and thorough literature review based on LAS (Yuan et al., 2002)and other organ types (Gundogar et al., 2005; Delen, Oztekin, & Kong, 2010). The considered input variables are as follows:

                           
                              (i)
                              DISTANCE (in miles): The candidate with closer distance to the donor hospital will have higher priority over others because the organs cannot survive more than a specific length of time.

AGE (in years): Recipients’ age.

AGE_DON (years): The donor age, in order to match it with the recipient age.

ABO_MAT (the donor-recipient ABO match level): Compatibility of blood type is important in organ transplantation. ABO matching is used to identify the degree of eligibility between the patient and the donor lung. This variable is an ordinal categorical variable with three categories: not compatible, compatible, identical.

HLA_MAT (Human Leukocyte Antigen Matching): This is used to match recipient with a donor, where HLA is a protein (i.e. marker) used by the immune system to know which cells belong to the recipient body and which do not (Aydingoz et al., 2007; Quantz, Bennett, Meyer, & Novick, 2000).In this dataset, it was defined as an ordinal categorical variable: fair, good, very good, excellent.
                              

Days_Wait (in days): The number of days on the waiting list. This is a continuous variable, representing how many days the patient has waited on the list before getting a transplant.

The proposed fuzzy output variables are:

                           
                              (i)
                              GTIME (graft survival time for the transplant): This is a continuous numeric variable that represents graft lifespan in days from transplant to failure (i.e. death or last follow up) (Cassuto, Patel, Tsoulfas, Orloff, & Abt, 2008).

FUNC_STAT_TRF (functional status after the transplant): This is an ordinal categorical variable that represents the success degree of the organ transplantation. In other words, it reflects the “quality of life” of the patient after transplantation (Kilic, Beaty, Merlo, Conte, & Shah, 2013). It has three classes in this dataset: bad quality, medium quality, and good quality.

There are two popular types of fuzzy logic models: the Sugeno type and the Mamdani type. They mainly differ in formatting the rule consequents. The rule consequent of a Sugeno fuzzy system is in the form of a “function” whereas that in a Mamdani fuzzy system appears in the form of a “linguistic term”. Mamdani fuzzy system is intuitive, has widespread acceptance, and more compatible with the reasoning process of human operators which refers to the medical experts of the transplant domain in this case. Moreover, the Mamdani fuzzy system is adaptive since it has the ability to adjust its membership functions based on the available data. Therefore, we advocate the use of Mamdani type model for modeling the 'GTime' output variable. On the other hand, the Sugeno method works well with linear techniques, i.e. the Sugeno output membership functions are either linear or constant. At this point, it is important to indicate that this proposed FLAS system is rather complex and possess non-linear relationships with regard to the 'GTime' output. Mamdani FIS has been extensively used to solve complex and non-linear input-output mapping. On the other hand, the fuzzy model of 'Fun-Stat-Trf' output was developed via the Sugeno type FIS, since the output is an ordinal categorical variable with classes of 1, 2,and 3 referring to different levels of quality of life (QoL). These output membership functions represented as singleton spikes. In Sugeno type FIS, the consequents of the rules are not fuzzy, therefore no defuzzification process is required (Bekiros, 2010). Accordingly, Sugeno FIS loses the interpretability to some extent and expressive power of Mamdani FIS. “But Sugeno has better processing time since the weighted average replace the time consuming defuzzification process” (Kaur & Kaur, 2012). The lung allocation process, as depicted in Fig. 1
                        , shows that the decision for transplantation is made after passing both the patient and the donor through the diagnosis and analysis phases.

In this stage, demographic data, patient/donor medical history, ABO blood type compatibility, and HLA matching are reported and this part of the procedure is identical to that of UNOS. Next, the fuzzy inference system (FIS) is used to rank and select the most suitable patients identified in the previous stage. Then, a positive agreement decision (YES for transplantation) will be considered if the patient would live for a long time (GTIME) with a high quality of life (FUNC_STAT_TRF). Also, a positive agreement can be considered by making trade-offs between GTIME and FUNC_STAT_TR among the best potential candidates. On the other hand, if the candidate patient is unavailable or suffers from contraindications due to any reason, then the decision will be negative (NO transplantation) and the patient will be relisted in the patient waiting list expecting another donor organ in the future. Thus, the donor lung is directly offered to the next candidate in the line. The procedure is repeated until a suitable recipient is identified for a transplant.

In summary, the steps that were followed to construct the proposed FLAS system (Fig. 2
                        ) are as follows.

                           
                              (i)
                              Collecting the recipients and donor data: First, an integrated system is used to manage patients (recipients and donors) data to collect, save, monitor, review, and record the registry data base in a uniform and consistent manner for each patient.

Determining essential variables for decision making: This step refers to the fact that certain critical variables are extracted from the database for decision making with consultation to the medical experts in the field; reflecting their thought process within this problem on hand. Moreover, these variables are fairly common in credible literature (Yuan et al., 2002). The input variables are: distance, recipient's age, donor's age, blood matching, HLA matching, and number of days on the waiting list. The output variables are: graft survival time and quality of life. It is worth noting that these variables include numeric continuous variables (e.g. distance, recipient's age, donor's age, number of days on the waiting list and graft survival time) and nominal or ordinal categorical variables (e.g. blood matching, HLA matching, and quality of life) .

Constructing the decision tree to extract rules needed for FLAS: All fuzzy rule base systems work with a set of rules extracted from the data. Therefore, in this step, it is intended to seek combinations of attribute-value pairs that have high coverage (i.e. a proportion of the number of instances to which the rule applies) and high accuracy (i.e. high number of instances that are predicted correctly) (Witten & Frank, 2005). The resulted rules are then pruned down on the basis of their coverage and their accuracy. In order to let the “data” itself speak out, we preferred to use a powerful data analytic method, i.e. decision tree, of which results would perfectly provide the analysts with required inference rules for FLAS. Such a strategy can rather be deemed as a technically aggregated process as opposed to a set of rules merely suggested by experts. But in turn, the rules extracted by the decision tree are all to be cross-checked and verified by the transplant domain experts which are consulted in the study to validate that the rules hold true in their decision making processes. Also, it is noteworthy to emphasize that the combination of the fuzzified input variables would result in a huge number of rules (4 × 3×3 × 3×6 × 4 = 2592) here to be constructed and then to be evaluated in FLAS, which makes the analyst refrained from conventional direct expert opinion acquisition. Such a manual approach would rather make the FLAS computationally intensive and hence unusable. In turn, it would not be that attractive to healthcare analytic audience. Having mentioned the rationale behind the use of decision trees as a basis for rule extraction, the FLAS model still utilizes physicians as a “consulting mechanism” to validate the decision tree-based rules. Moreover, hybrid data analytic models have recently gained significant popularity, which integrate powerful methods so as to overcome computational intensiveness while improving the accuracy as intended in this study.

Constructing a fuzzy inference system based on the extracted rules: The fuzzy inference system (FIS) mainly consists of three steps. First, the fuzzification is to define the input space into fuzzy sets, where each set has a number of membership functions. A membership function is a curve that defines how each value in the universe of discourse is mapped to a degree of membership between 0 and 1. Then, fuzzy rules are represented by If-Then linguistic quantification, which are used to capture knowledge about controlling the output. Finally, defuzzification step is applied to defuzzify the fuzzy output variable into a crisp output as in Mamdani FIS. In contrast, no defuzzification process is required in the Sugeno FIS. Instead, it deploys a weighted average process to compute crisp outputs.

Performance evaluation of the proposed system using the testing data: In order to evaluate the performance of the FLAS, conventionally accepted statistical measures (e.g. R2, MAPE, MAD, precision, sensitivity, specificity, and accuracy) are considered. As a result, subsequent comparison of our work against others in the published literature are sought to validate the FLAS approach.

The lung allocation is a decision making problem in which the doctors choose the lung allocation criteria based on conflicting preferences. At this point, fuzzy logic can incorporate the decision process of a group of experts, thus can maximize the expected graft survival time and the quality of life after the transplant.

To model the lung allocation problem, this study utilizes a dataset from the UNOS, which represent decisions from different experienced and specialized transplant physicians. In this paper, the evaluation criteria in lung allocation are represented by fuzzy sets and fuzzy rules. For instance, the ‘distance’ variable is represented as “close, far, farther, and the farthest” in terms of linguistic variables. After that a set of fuzzy rules were defined to model the decision process for lung allocation. The fuzzy inference systems for the proposed models were illustrated in Fig. 3.
                        Eight variables were used from the UNOS database to predict the success of lung allocation process. Among these eight variables, GTime and Fun-Stat-Trf reflect the success rate of the lung transplantation. The other six variables (distance, age, age_don, ABO_Mat,HLA_Mat and Days_Wait) represent the most critical input variables which are related to the match levels between recipient's and donor's profiles. It is worth to mention that in fuzzy modeling "inputs and outputs can be continuous and/or categorical" (Casillas, 2003), which turned out to be the case in this study.

The architecture of a general fuzzy system is illustrated in Fig. 4
                        , which represents the flow of crisp input variables through the main four steps in fuzzy system. The input and output variables are addressed with the corresponding membership functions, and then fuzzy “IF-THEN” rules linking the input and output membership functions are identified based on the generated decision tree from the data set. The fuzzy outputs of all rules are then aggregated to one fuzzy set. The last unit in the framework is either defuzzification (in the Mamdani FIS) that transforms the fuzzy inferences into a specific output value (y) or weighted average aggregation (in the Sugeno FIS).

In general, using fuzzy systems often encounters the problem of dimensionality. The number of rules is exponentially proportional to the number of inputs of the fuzzy systems. A large number of rules have two consequences: increasing the computational time and limiting the interpretability of the system. Therefore, we used decision tree (DT) as a pre-model for dimension reduction of fuzzy rules. The fact is that the rules directly extracted from the decision tree included poorly performing rules as well as redundant structures (Liu, Feng, & Pedrycz, 2013; Omid, 2011) which should be eliminated from the rule-base to improve the efficiency and the overall performance of the model. The discovery of relevant fuzzy rules was achieved using the decision tree algorithm. The aim was to produce effective fuzzy rules for a knowledge domain. It is usual for real data sets to contain irrelevant or redundant attributes, which have negative contribution in the model performance. Thus, the power of our contribution in this paper is using DT and FL for faster computational time.

Each variable used in the proposed FLAS system was identified using fuzzy sets (terms).The number of fuzzy sets and the corresponding range of each variable were selected based on the range of the predictor variables in the dataset used. Membership function values were defined by consulting the field experts and by considering the UNOS dataset. In fact, the success of any proposed fuzzy logic model depends on the construction of membership functions. Therefore, it was important to clearly address how the membership functions were generated. There are no specific rules or guidelines as a “generic approach” that can be followed at every circumstance as a technique to build appropriate membership functions (Yadav & Yadav, 2015). Therefore, the number of fuzzy sets and the corresponding range for each variable were selected here based on the range (the lower and upper limits) of the predictor variables in the UNOS dataset. The terms for each continuous input were identified according to the used linguistic words by the field experts i.e. physicians in the medical field. For example, the range of term “young” was created to lie between 0 and 35 years to imitate the linguistic word of the doctors for such identified range of years. Thus, the values of a, b, and c were created according to the defined terms by the medical doctors. On the other hand, the terms for each ordinal categorical variable were explicitly identified by the variable description of the UNOS dataset itself, and hence were not changed at all in this study and were directly used as provided by the dataset. Fig. 5(
                        a) shows the membership function for 'Distance'. The linguistic variable ‘Distance’ was defined between 0 and 2000 miles (according to the lower and upper limits in the used dataset) and included the values “Close, Far, Farther, and the Farthest”. To exemplify, a distance of 500 miles was defined to be “Far”. Fig. 5(b) illustrates the membership function for 'ABO-MAT', which has three distinct terms "Identical, Compatible, and Not Compatible" according to the UNOS generic classification of 1, 2, and 3, respectively. Fig. 5(c) depicts the membership function for 'Age' of recipients, where three sets were identified "Young, Middle, and Old", which cover the discourse between 0 and 100 years. Similarly, the membership function for 'Age-Don' was fuzzified as shown in Fig. 5(d). The input variable 'HLA-MAT' was fuzzified to be represented by six terms "Excellent, Very Good, Good, Fair, Weak, and Very Weak" according to the UNOS values 1, 2, 3, 4, 5, and 6, respectively (Fig. 5 (e)).Finally, the input variable 'Days_Wait' was fuzzified to include four terms "Very Few, Few, High, and Very High" that cover the discourse between 0 and 2000 days as illustrated in Fig. 5 (f).

The assignment procedure for the terms to fuzzy variables was intuitive. Two types of membership functions (MF) were used: (1) generalized bell (gbell) MF was applied for the continuous variables due to its smoothness and popularity in specifying fuzzy sets (Witten & Frank, 2005) as shown in Eq. (1) and Fig. 6
                        . (2) singleton MF was applied for categorical variables since they represent constant functions (mathworks, 1994).

                           
                              (1)
                              
                                 
                                    f
                                    
                                       (
                                       
                                          x
                                          ,
                                          a
                                          ,
                                          b
                                          ,
                                          c
                                       
                                       )
                                    
                                    =
                                    
                                       1
                                       
                                          1
                                          +
                                          
                                             
                                                
                                                   |
                                                   
                                                      
                                                         x
                                                         −
                                                         c
                                                      
                                                      a
                                                   
                                                   |
                                                
                                             
                                             
                                                2
                                                b
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where parameter a is the starting point in the curve, parameter b has a positive membership value. The parameter c determines the center of the curve.

Fuzzification is performed to convert the crisp inputs into fuzzy subsets. The defined membership functions determine the operation and effect of the fuzzification step. Considering the variable “Age” as a linguistic variable, the corresponding terms are {Young, Middle, Old} and the universe of discourse is U: [0–100]. The membership functions for each term of the variable “Age” are illustrated in Eq. (2).

                           
                              (2)
                              
                                 
                                    
                                       μ
                                       
                                          A
                                          g
                                          e
                                       
                                    
                                    
                                       (
                                       u
                                       )
                                    
                                    =
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                         
                                                            1
                                                            +
                                                            
                                                               
                                                                  
                                                                     |
                                                                     
                                                                        
                                                                           x
                                                                           −
                                                                           17
                                                                        
                                                                        18
                                                                     
                                                                     |
                                                                  
                                                               
                                                               10
                                                            
                                                         
                                                      
                                                      |
                                                   
                                                   
                                                   i
                                                   f
                                                   
                                                   u
                                                   
                                                   ∈
                                                   
                                                      [
                                                      
                                                         0
                                                         ,
                                                         35
                                                      
                                                      ]
                                                   
                                                   ,
                                                   Y
                                                   o
                                                   u
                                                   n
                                                   g
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                         
                                                            1
                                                            +
                                                            
                                                               
                                                                  
                                                                     |
                                                                     
                                                                        
                                                                           x
                                                                           −
                                                                           50
                                                                        
                                                                        18
                                                                     
                                                                     |
                                                                  
                                                               
                                                               10
                                                            
                                                         
                                                      
                                                      |
                                                   
                                                   
                                                   i
                                                   f
                                                   
                                                   u
                                                   
                                                   ∈
                                                   
                                                      [
                                                      
                                                         23
                                                         ,
                                                         68
                                                      
                                                      ]
                                                   
                                                   ,
                                                   M
                                                   i
                                                   d
                                                   d
                                                   l
                                                   e
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                         
                                                            1
                                                            +
                                                            
                                                               
                                                                  
                                                                     |
                                                                     
                                                                        
                                                                           x
                                                                           −
                                                                           84
                                                                        
                                                                        18
                                                                     
                                                                     |
                                                                  
                                                               
                                                               6
                                                            
                                                         
                                                      
                                                      |
                                                   
                                                   
                                                   i
                                                   f
                                                   
                                                   u
                                                   ∈
                                                   
                                                      [
                                                      
                                                         50
                                                         ,
                                                         100
                                                      
                                                      ]
                                                   
                                                   ,
                                                   O
                                                   l
                                                   d
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The difference between recipients and donors lung sizes was taken into account with regard to a prioritization matrix as summarized in Table 1
                        . The candidate with the highest LAS in a particular age group will have priority over others. The lung should be at a certain size in order both to provide the patient with enough oxygen and to fit in his/her pectoral cavity. To be able to ensure this trade-off, Table 1 considers and presents the way for prioritization of potential organ recipient candidates with respect to age. To exemplify, a donated lung procured out of a young donor should be first offered to the young-age person who has the greatest LAS and matching blood type in the close proximity of the hospital. In the case there is no compatible recipient in the young-age category, the patient with the highest LAS in the middle-age group would then be offered the donated lung. Finally, 3rd priority would be given to the highest LAS-scored person of the old-age group.

Membership functions of the fuzzy sets for the response variables are shown in Fig. 7
                        . The number of fuzzy sets and the corresponding range for each variable are selected based on the range of the data of response variables. Fig. 7(a) shows the membership functions for 'GTime'. Five membership functions were identified ('Very Low', 'Low', 'Medium', 'High' and 'Very High') to cover the discourse of around 3000 days according to the UNOS dataset. Fig. 7(b) shows the singleton spikes membership functions for 'Fun-Stat-Trf', which were represented as 'Best-QoL', 'Med-QoL', and 'Bad-QoL' since 'Fun-Stat-Trf' is an ordinal categorical variable which has constant values of 1, 2, and 3 (assigned by UNOS) respectively.

In this paper, the fuzzy logic model for 'GTime' output was based on the Mamdani FIS to represent expert judgements since it is intuitive to human input and is capable of capturing the hypothetical non-linearity of the system (mathworks, 1994; Mamdani & Assilian, 1975). On the other hand, the fuzzy logic model for 'Fun-Stat-Trf' output was based on the Sugeno FIS since the output has ordinal categorical values (mathworks, 1994), that is the values are drawn from a finite set of numbers with each number representing a category.

The relationship between inputs and outputs in a fuzzy system is characterized by a set of linguistic statements which is called fuzzy rule-base (Hashmi, Graham, & Mills, 2003).A fuzzy rule-based system (FRBS) is an inference technique which can handle experts’ linguistic judgments by incorporating the fuzzy logic principles. Takagi–Sugeno model and Mamdani model are the fundamental types of FRBS. Both of the models are similar and consider fuzzy inputs. They differ in that while Mamdani produces fuzzy outputs, Takagi–Sugeno produces crisp outputs. Once the input and output sets are defined and the membership functions are addressed, fuzzy IF-THEN rules that link the input and output membership functions are determined based on a generated decision tree from the UNOS data set, which mimics the expert judgments. The steps of both Mamdani and Sugeno-based FRBS can be summarized as follows (Mamdani, 1974; Faraz & Moghadam, 2007).

In Mamdani model, IF x1
                         is equal to A1,AND x2
                         is equal to A2, AND . . . AND xn
                         is equal to An; THEN y1
                         is equal to B1,andy2
                         is equal toB2;where xi
                         are antecedent attributes (a.k.a. input variables) and y1
                         andy2
                        represent consequents (a.k.a output variables). A1, A2, . . ., An,B1
                        ,and B2
                         are the linguistic values (e.g. low, medium, high) utilized for the membership function distributions(i.e. fuzzy subsets) of the corresponding antecedent and consequent attributes, respectively. Eq. (3) is used to determine the output of a Mamdani-type FRBS via the centroid (a.k.a. center of gravity) method deployed for the defuzzification step.

                           
                              (3)
                              
                                 
                                    
                                       y
                                       
                                          M
                                          a
                                          m
                                          d
                                          a
                                          n
                                          i
                                       
                                    
                                    =
                                    
                                       
                                          
                                             ∑
                                             
                                                r
                                                =
                                                1
                                             
                                             
                                                R
                                                l
                                             
                                          
                                          
                                             
                                                A
                                                
                                                   α
                                                   r
                                                
                                             
                                             
                                                C
                                                
                                                   A
                                                   
                                                      α
                                                      r
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             ∑
                                             
                                                r
                                                =
                                                1
                                             
                                             
                                                R
                                                l
                                             
                                          
                                          
                                             A
                                             
                                                α
                                                r
                                             
                                          
                                       
                                    
                                 
                              
                           
                        where Aαr
                        is the area of consequent's fuzzy subset, obtained viaαmembership that is determined by the rth
                         rule.
                           
                              
                              
                                 C
                                 
                                    A
                                    
                                       α
                                       r
                                       
                                    
                                 
                              
                           
                        is the center of the area, Aαr
                        . For a given set of antecedent attribute values,R
                        
                           l 
                        (Rl
                        ⊆R)refers to the number of rules fired out of a total of R rules which appear in the rule base. α is determined via Eq. (4)
                        
                           
                              (4)
                              
                                 
                                    α
                                    =
                                    m
                                    i
                                    
                                       n
                                       
                                          υ
                                          =
                                          1
                                       
                                       n
                                    
                                    
                                    
                                       μ
                                       υ
                                    
                                    
                                       (
                                       
                                          χ
                                          υ
                                       
                                       )
                                    
                                 
                              
                           
                        where
                           
                              1
                              ≤
                              υ
                              ≤
                              n
                              
                           
                        is the total number of antecedent attributes that take place in the FRBS premise, n is the number of inputs. 
                           
                              
                                 μ
                                 υ
                              
                              
                                 (
                                 
                                    χ
                                    υ
                                 
                                 )
                              
                           
                         is the value of the membership function for the antecedent attribute 
                           
                              χ
                              υ
                           
                        .

The zero-order Sugeno fuzzy model (a special case of Mamdani FIS) has rules of the form (Bekiros, 2010): IF x1
                         is A1
                        AND x2
                         is A2
                         AND . . . AND xn
                         is An
                         THEN y, where yis a constant; knowing that no defuzzification process is required. The output level yr
                         of each rule is weighted by the firing strength αr
                         of the rule. The final output of the Sugeno system is the weighted average of all rule outputs, computed as in Eq. (5).

                           
                              (5)
                              
                                 
                                    
                                       y
                                       
                                          S
                                          u
                                          g
                                          e
                                          n
                                          o
                                       
                                    
                                    =
                                    
                                    
                                       
                                          
                                             ∑
                                             
                                                r
                                                =
                                                1
                                             
                                             
                                                R
                                                l
                                             
                                          
                                          
                                             
                                                α
                                                r
                                             
                                             
                                                y
                                                r
                                             
                                          
                                       
                                       
                                          
                                             ∑
                                             
                                                r
                                                =
                                                1
                                             
                                             
                                                R
                                                l
                                             
                                          
                                          
                                             α
                                             r
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Fuzzy rules that contain different types of features, such as categorical and continuous variables are called mixed fuzzy rules (Berthold, 2003). In the context of rule definition, double-consequent fuzzy rules (Cordon & Herrera, 2000; Casillas, Cord´on, & Herrera, 2003) are considered in this study, where combinations of antecedents have two consequents. Rules of that nature are critical to improve the linguistic modeling with the aim of increasing the solution search space and establishing a trade-off between precision and interpretability. In this study, 121 rules were identified for the FIS based on GTime output and 58 rules for the FIS that has an output of Fun-Stat-Trf (QoL) as explained in Section 3.2 earlier. The identified rules which were established for the proposed lung allocation systems are given in the Appendices A and B. The defined rules can also be clearly observed in three dimensional surface views. Fig. 8
                         shows an example of rules translation into numerical distributions. Fig. 8 (a) illustrates the two input variables ‘Distance’ and ‘Days_Wait’ versus the output variable ‘GTime’. It is clearly observed that 'GTime' achieves the highest number of days while both of ‘Distance’ and ‘Days_Wait’ variables take upon their lowest values. Fig. 8 (b) shows the relationship between the input variables ‘Distance’ and ‘Days_Wait’ versus the output variable ‘Fun-Stat-Trf’ of the inference system. As can be seen, the shape of the surface has a good match with the LAS criteria. For instance, the ‘Fun-Stat-Trf’ is around the value of 1 – which is the best category according to the fuzzification step – as long as both of the ‘Distance’ and ‘Days_Wait’ have low values.

The rule outputs were demonstrated using Min-Max law (Hajipour, Kazmei, & Mousavi, 2013) as an aggregation mechanism. The crisp outputs were computed using defuzzification and weighted average methods for Mamdani and Sugeno models, respectively. Fig. 9(
                        a) shows a case study applied for the FIS where GTime is the output. Each rule is represented by one row of plots, and each column corresponds to an input variable except the last column that is related to the output variable. Herein, Distance is 143 miles (under the terms of 'close' and 'far'), ABO-MAT is 1 (only under the term of 'identical'), recipient's age is 43 years (mainly under the term of 'middle'), donor's age is 35 years (under the terms of 'young' and 'middle'), HLA-MAT is 1 (only under the term of 'excellent') and Days_Wait is 29 days (under the term of 'very few'). Consequently, six rules were fired for such a case as follows, and Table 2
                         represents those rules clearly. At this point, Rule 6 and Rule 81 represent double-consequent fuzzy rules, since both have the same combination of antecedents with two different consequents.

                           
                              
                                 
                                    Rule 3
                                 : IF (Distance is Close) and (ABO-MAT is Identical) and (Age is Middle) and (Age-Don is Middle) and (HLA-MAT is Excellent) and (Days_Wait is Very Few) THEN (GTime is High)


                                 
                                    Rule 5
                                 : IF (Distance is Close) and (ABO-MAT is Identical) and (Age is Middle) and (Age-Don is Middle) and (HLA-MAT is Excellent) and (Days_Wait is Very Few) THEN (GTime is Medium)


                                 
                                    Rule 6
                                 : IF (Distance is Close) and (ABO-MAT is Identical) and (Age is Middle) and (Age-Don is Young) and (HLA-MAT is Excellent) and (Days_Wait is Very Few) THEN (GTime is Medium)


                                 
                                    Rule 59
                                 : IF (Distance is Far) and (ABO-MAT is Identical) and (Age is Middle) and (Age-Don is Young) and (HLA-MAT is Excellent) and (Days_Wait is Very Few) THEN (GTime is Medium)


                                 
                                    Rule 76
                                 : IF (Distance is Far) and (ABO-MAT is Identical) and (Age is Middle) and (Age-Don is Young) and (HLA-MAT is Excellent) and (Days_Wait is Very Few) THEN (GTime is Low)


                                 
                                    Rule 81
                                 : IF (Distance is Close) and (ABO-MAT is Identical) and (Age is Middle) and (Age-Don is Young) and (HLA-MAT is Excellent) and (Days_Wait is Very Few) THEN (GTime is Low)
                              

Accordingly, the inferred fuzzy output represented by an aggregated result derived from all individual fuzzy rules. Then, defuzzification process was applied to that aggregated output fuzzy set to obtain the GTime value of 1390 days as shown in Fig. 9 (a).The actual value of GTime for that case is 1485 days (in the used UNOS dataset),therefore the percent error is approximately 6.4 percent. On the other hand, it can be observed that the rule viewer provides the direct deffuzified output for the doctors (without forcing them to deal with any sophisticated computation) which is simple and straightforward for them to interpret how much the lung will survive if transplanted to that particular recipient patient with low percent of error.


                        Fig. 9 (b) shows another example applied for the "Fun-Stat-Trf" output. That is, distance = 1090 miles, ABO-MAT = 1, age = 15 years, donor's age = 15 years, HLA-MAT = 1 and Days_Wait = 20 days. Ten rules of the proposed Sugeno model were fired as follows. Table 3
                         shows the rules in a clear way.

                           
                              
                                 
                                    Rule 2
                                 
                                 : IF (Distance is Far) and (Age is Middle) and (Days_Wait is Very Few) THEN (Fun-Stat-Trf is Best_QoL)


                                 
                                    Rule 3
                                 : IF (Distance is Far) and (Age is Young) and (Days_Wait is Very Few) THEN (Fun-Stat-Trf is Med_QoL).


                                 
                                    Rule 4
                                 
                                 : IF (Distance is Far) and (Age is Middle) and (Days_Wait is Very Few) THEN (Fun-Stat-Trf is Med_QoL)


                                 
                                    Rule 14
                                 
                                 :IF (Distance is Far) and (Days_Wait is High) THEN (Fun-Stat-Trf is Bad_QoL)


                                 
                                    Rule 15
                                 
                                 : IF (Distance is Far) and (Days_Wait is Very High) THEN (Fun-Stat-Trf is Bad_QoL)


                                 
                                    Rule 31
                                 
                                 : IF (Distance is Far) and (ABO-Mat is Identical) and (Age is Young) and (Age-Don is Young) and (HLA-Mat is Excellent) and (Days_Wait is Very Few) THEN (Fun-Stat-Trf is Best_QoL)


                                 
                                    Rule 32
                                 
                                 : IF (Distance is Far) and (ABO-Mat is Identical) and (Age is Young) and (Age-Don is Young) and (HLA-Mat is Excellent) and (Days_Wait is Very Few) THEN (Fun-Stat-Trf is Med_QoL)


                                 
                                    Rule 35
                                 
                                 : IF (Distance is Far) and (ABO-Mat is Identical) and (Age is Middle) and (Age-Don is Middle) and (HLA-Mat is Excellent) and (Days_Wait is Very Few) THEN (Fun-Stat-Trf is Best_QoL)


                                 
                                    Rule 36
                                 
                                 : IF (Distance is Far) and (ABO-Mat is Identical) and (Age is Middle) and (Age-Don is Middle) and (HLA-Mat is Excellent) and (Days_Wait is Very Few) THEN (Fun-Stat-Trf is Med_QoL)


                                 
                                    Rule 43
                                 
                                 : IF (Age is Middle) and (Age-Don is Middle) THEN (Fun-Stat-Trf is Best_QoL

Then, the rules were aggregated and weighted average method was applied receiving a value of 2 which refers to the 'Med_QoL' membership function.

In order to demonstrate the robustness of the FLAS method, a statistical study was conducted. k-fold cross-validation is a widely accepted method to verify the validity of the method in terms of reliability and robustness.

Random splitting of the training and testing datasets for FLAS might cause bias which would lead to an un-robust method. To overcome this issue, k-fold cross validation is used to verify that FLAS is a robust approach and is not affected by data random split (Kohavi, 1995). In this study, a 10-fold cross-validation model was considered (10 is the most common value as an optimal number of folds that minimizes any associated bias and variance during the validation process) (Kohavi, 1995). The entire data is divided into 10 mutually exclusive data folds. While nine folds are used to train the FLAS model, the rest one fold is used to test it with respect to various performance measures of the model. In this study, the dataset was randomly split into ten subsets (folds) of approximately the same size (i.e. 423 records) and cross-validation was applied ten rounds. In each round, training was conducted for the nine folds and the remaining one fold was used for validation. After the training, the performance measurements were calculated using the validation data. The final 10-fold cross-validated values were found by averaging the resulted values of each performance measure over these ten rounds.

To evaluate the performance of the proposed fuzzy approach, the prediction performance was calculated using the output of the proposed FLAS against the actual UNOS data set. There are various methods to measure the accuracy and efficacy of decision-making techniques (Demirbag, Tatoglu, Glaister, & Zaim, 2010). In this study, three performance metrics are adopted to assess the performance of FLAS considering the 'GTime' output. These performance measures are: mean absolute deviation (MAD), mean absolute percent error (MAPE), and the coefficient of determination (R2
                        ), which are represented by Eq. (6), Eq. (7), and Eq. (8), respectively.

                           
                              (6)
                              
                                 
                                    M
                                    A
                                    D
                                    =
                                    
                                       
                                          
                                             ∑
                                             
                                                i
                                                =
                                                1
                                             
                                             n
                                          
                                          
                                             |
                                             
                                                
                                                   y
                                                   i
                                                
                                                −
                                                
                                                   f
                                                   i
                                                
                                             
                                             |
                                          
                                       
                                       n
                                    
                                 
                              
                           
                        
                        
                           
                              (7)
                              
                                 
                                    M
                                    A
                                    P
                                    E
                                    =
                                    
                                       
                                          
                                             ∑
                                             
                                                i
                                                =
                                                1
                                             
                                             n
                                          
                                          
                                             |
                                             
                                                
                                                   
                                                      y
                                                      i
                                                   
                                                   −
                                                   
                                                      f
                                                      i
                                                   
                                                
                                                
                                                   y
                                                   i
                                                
                                             
                                             |
                                          
                                       
                                       n
                                    
                                    ×
                                    100
                                    %
                                 
                              
                           
                        
                        
                           
                              (8)
                              
                                 
                                    
                                       R
                                       2
                                    
                                    =
                                    1
                                    −
                                    
                                       
                                          
                                             ∑
                                             
                                                i
                                                =
                                                1
                                             
                                             n
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      
                                                         y
                                                         i
                                                      
                                                      −
                                                      
                                                         f
                                                         i
                                                      
                                                   
                                                   )
                                                
                                             
                                             2
                                          
                                       
                                       
                                          
                                             ∑
                                             
                                                i
                                                =
                                                1
                                             
                                             n
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      
                                                         y
                                                         i
                                                      
                                                      −
                                                      
                                                         y
                                                         ¯
                                                      
                                                   
                                                   )
                                                
                                             
                                             2
                                          
                                       
                                    
                                 
                              
                           
                        where yi
                         is the actual (observed) value, fi
                         refers to the predicted value,
                           
                              
                              
                                 y
                                 ¯
                              
                           
                         is the mean of the observed data, and n is the number of observations in the testing data.

The coefficient of determination (R2
                        ) refers to one of the most important statistical measures to explore dependencies among system variables (Ramli, Watada, & Pedrycz, 2011) and is hence deemed to be a powerful metric for prediction. At this point, it is worth to first choose between linear and nonlinear regression (Kao & Chyu, 2003) and based on the results our proposed FLAS could be judged. The primary method deployed to explain the relationship between the system input variables and the output metrics was multiple linear regression due to its popularity in literature. This initial run gave out an unsatisfactory result with R2
                         = 24.01 percent, which signals that the relationships are beyond the strong assumption of being linear. However, FLAS results in an averaged R2
                         value of approximately 83.2 percent, which means that around 83.2 percent of the variation in the GTime output variable can be explained by the considered input variables. The results in Table 4
                         are based on the testing dataset. After training the classifier; using the validation data R2, MAD, and MAPE were calculated as performance measurements. The final cross-validated values were found by averaging the resulted values of each performance measure over the ten rounds.

Thus, the FLAS results show that nonlinear regression captured via the fuzzy logichas superior explanatory power while linear model was unable to fit the observed data.That makes intuitive sense because the way that medical experts think and make a decision about the organ matching and allocation does not represent a linear relationship; they are rather complex “if-then” rules and hence refer to more sophisticated nonlinear relationships which can be modeled via fuzzy logic system.

It was clear that the deviation from the actual mean of GTime was approximately 141 days with a MAPE value of around 21.7 percent. To evaluate the superiority of the proposed FLAS model, the accuracy was compared against another proposed approach as developed by Oztekin et al. (Oztekin et al., 2011), in which the same UNOS lung transplant dataset was used in developing a structural equation modeling-based decision tree procedure for lung transplant performance evaluation, where the nonlinear relations are limited to the structural model assuming that the measurement model part is linear. Moreover, that study had an R2
                         value of 68 percent evaluating the very same output 'GTime' as the FLAS does. It was illustrated in (Oztekin et al., 2011) that Buckler and Hennig-Thurau's Universal Structural Model (USM) (Buckler & Thurau, 2008) based on Bayesian neural networks was deployed along with the same UNOS data and had an R2
                         value of 73 percent for 'GTime' output. The use of Bayesian neural networks enables USM to capture new uncovered structural paths, especially due to nonlinearity and interaction effects, but it lacks interpretability since it uses neural networks (which are deemed to be black-box models in nature) and requires high computational time to discover nonlinear and interaction effects of latent variables via the bootstrapping method. Briefly, Oztekin et al., 2011 summarizes that structural equation modeling-based decision tree is more transparent to the medical doctors and make more sense, but yet its accuracy is not that high (R2
                         value of 68 percent). On the other hand, USM model yields more accuracy (R2
                         value of 73 percent). However, it lacks simple interpretability from the domain experts’ evaluation point of view. This current FLAS model overcomes both of these issues: it reflects the way of medical experts’ decision making by capturing ambiguous and uncertain linguistic variables while providing fairly high prediction accuracy from R2
                         value of 68 percent or 73 percent to 83.2 percent. More importantly, neither of these prior developed methodologies can be considered as an “expert system”, but FLAS can, which translates into the fact that FLAS would be much easier model to be deployed by the first end-users without a much need to understand the rationale behind the scene. At this point, our results indicate that there is a significant improvement in model's explanatory power with an increment at around 10–15 percent while the deployment of the FLAS model allows for better human understanding. Hence, based on the promising results provided by the FLAS, a comparison table of R2
                         values is presented as in Table 5 between our model and two others (Oztekin et al., 2011) that use the very same UNOS lung dataset.

To analyze
                         the performance of the FLAS for the output variable ‘Fun-Stat-Trf (QoL)’, a confusion matrix was used. Table 6 shows a 3 × 3 notation-wise confusion matrix since the ‘Fun-Stat-Trf’ had three classes as categorized by the UNOS. Class 1 refers to the best QoL, class 2 refers to medium QoL, and class 3 refers to bad QoL. The rows correspond to the actual classes of the ‘Fun-Stat-Trf’ in the UNOS data set. Each column corresponds to the FLAS prediction. Therefore, true classifications (Ti
                        ) are highlighted by the diagonal elements and the errors (eij
                        ) are represented by the off-diagonal elements (Brusco & Cradit, 2004).

There are various performance measures that can be deduced from the confusion matrix.

                           
                              •
                              
                                 Accuracy is the net “correctness” of the proposed FLAS. The accuracy of the model is calculated by dividing the sum of all correctly classified instances by the total number of observations. The equation for calculating the accuracy of the model is given by Eq. (9) (Demsar et al., 2001; Lewis, 1995).
                                    
                                       (9)
                                       
                                          
                                             A
                                             c
                                             c
                                             u
                                             r
                                             a
                                             c
                                             y
                                             =
                                             
                                             
                                                
                                                   
                                                      T
                                                      1
                                                   
                                                   +
                                                   
                                                      T
                                                      2
                                                   
                                                   +
                                                   
                                                      T
                                                      3
                                                   
                                                
                                                
                                                   
                                                      T
                                                      1
                                                   
                                                   +
                                                   
                                                      e
                                                      21
                                                   
                                                   +
                                                   
                                                      e
                                                      31
                                                   
                                                   +
                                                   
                                                      e
                                                      12
                                                   
                                                   +
                                                   
                                                      T
                                                      2
                                                   
                                                   +
                                                   
                                                      e
                                                      32
                                                   
                                                   +
                                                   
                                                      e
                                                      13
                                                   
                                                   +
                                                   
                                                      e
                                                      23
                                                   
                                                   +
                                                   
                                                      T
                                                      3
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              

Unlike accuracy, Precision is a metric to measure the accuracy of only one class. For example, the precision for class 1 can be calculated by Eq. (10).
                                    
                                       (10)
                                       
                                          
                                             P
                                             r
                                             e
                                             c
                                             i
                                             s
                                             i
                                             o
                                             
                                                n
                                                
                                                   C
                                                   l
                                                   a
                                                   s
                                                   
                                                      s
                                                      1
                                                   
                                                
                                             
                                             =
                                             
                                             
                                                
                                                   T
                                                   1
                                                
                                                
                                                   
                                                      T
                                                      1
                                                   
                                                   +
                                                   
                                                   
                                                      e
                                                      21
                                                   
                                                   +
                                                   
                                                      e
                                                      31
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              


                                 Sensitivity (a.k.a recall) is a prediction model's ability to choose instances of a particular class within the data set. For class 1, the sensitivity would be as shown in Eq. (11).
                                    
                                       (11)
                                       
                                          
                                             S
                                             e
                                             n
                                             s
                                             i
                                             t
                                             i
                                             v
                                             i
                                             t
                                             
                                                y
                                                
                                                   C
                                                   l
                                                   a
                                                   s
                                                   
                                                      s
                                                      1
                                                   
                                                
                                             
                                             =
                                             
                                             
                                                
                                                   T
                                                   1
                                                
                                                
                                                   
                                                      T
                                                      1
                                                   
                                                   +
                                                   
                                                   
                                                      e
                                                      12
                                                   
                                                   +
                                                   
                                                      e
                                                      13
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              


                                 Specificity measures the true-negatives of a model. To exemplify, Eq. (12) represents the specificity for class 1.
                                    
                                       (12)
                                       
                                          
                                             S
                                             p
                                             e
                                             c
                                             i
                                             f
                                             i
                                             c
                                             i
                                             t
                                             
                                                y
                                                
                                                   C
                                                   l
                                                   a
                                                   s
                                                   
                                                      s
                                                      1
                                                   
                                                
                                             
                                             =
                                             
                                             
                                                
                                                   T
                                                   
                                                      −
                                                      1
                                                   
                                                
                                                
                                                   
                                                      T
                                                      
                                                         −
                                                         1
                                                      
                                                   
                                                   +
                                                   
                                                   
                                                      e
                                                      21
                                                   
                                                   +
                                                   
                                                      e
                                                      31
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              


                        Table 7 shows the confusion matrices for the three-class classification problem after applying the 10-fold cross-validation robustness check. All correct predictions are located in the diagonal of each confusion matrix. Therefore, they collectively refer to the performance of the proposed system while error values lie in off-diagonal elements of the matrix. The performance measures – for the classes listed in the confusion matrices – were determined. Based on each individual confusion matrix; accuracy, sensitivity, specificity, and precision calculated for each fold of the 10 folds. Table 8
                         shows the average values for sensitivity, specificity, and precision for each class of Fun-Stat-Trf output variable. The results prove that FLAS model is capable of mimicking medical experts’ thought process with respect to lung allocation to the proper patients according to the UNOS dataset. In other words, the proposed FLAS model has a good potential to automatize and computerize the decision making process by providing highly accurate decisions. FLAS is not meant to entirely replace medical experts of lung allocation process.

On the contrary, it is intended to augment medical experts’ decision making by rendering the system more efficient (making faster decisions) and effective (assigning the donated organ to the right candidate patient). Since these transplant decisions are “computationally intensive” if conducted solely based on domain experts’ intuitions and expertise, FLAS system would hypothetically help diminish the computational time in decision making via such a modeling approach which can later be enhanced with a user-friendly software application. The resulted mean accuracy of the FLAS in predicting the Fun-Stat-Trf (QoL) was 82.1 percent which indicated that there was not significant inconsistency between the actual and the predicted classes of ‘Fun-Stat-Trf’, which is not only satisfactory but also superior to that of other existing methods in literature (Zhang et al., 2012; Oztekin, Delen, & Kong, 2009; Misiunas, Oztekin, Chen, & Chandra, 2016) in a similar domain. In (Zhang et al., 2012), a multilayer perceptron (MLP) neural network was developed to predict mortality risk after transplantation. Its predictive performances were evaluated at 1-, 2,- and 5-year intervals via a relative operating characteristic curve. The overall c-statistic of the prognosis model was at around 80 percent. Another study (Oztekin et al., 2009) which used the very same UNOS data yielded accuracies ranging from 71 to 79 percent for a decision tree (C5 algorithm) based predictive model of lung graft survival. On the other hand, FLAS model results present superiority over these published studies with a higher accuracy rate of 82.1 percent. Table 9
                         summarizes the accuracy of FLAS against that of the methods in published literature.

@&#CONCLUSIONS AND FUTURE WORK@&#

In this paper, fuzzy logic was utilized to model lung allocation process with a reasonable degree of accuracy and to define logical rules so as to compute the degree of success in lung allocation processes in terms of GTime and Fun-Stat-Trf.The results showed that the deployment of fuzzy rules allows for better human understanding as well as a much lower computational time requirement compared to the other approaches, which render the proposed FLAS both effective and efficient. It was proven to be fairly capable of predicting the GTime value considering its high predictive with a10-fold cross-validated R2
                     value of 83.2 percent. Moreover, the FLAS presents potential to reasonably predict the quality of life (QoL) of the candidate after transplantation with a10-fold cross-validated accuracy rate of 82.1 percent. Most importantly, the FLAS is flexible than the published studies since the proposed system has the capability to be extended to easily handle further new input variables. Furthermore, the performance of the proposed FLAS method might be enhanced by including more terms into the input variables. Moreover, the proposed generic method can be deployed for other organ transplantation domains such as liver, kidney, and heart.

As none of the studies are, this study is not free of limitations. The fundamental limitation of the FLAS is that it was designed to mimic real cases based on the UNOS data set. In other words, it was designed to replicate how the medical experts of lung transplantation think and make decisions in this context. FLAS is suggested to serve as an automated version of what is actually occurring at UNOS about lung transplants. Therefore, future research directions reside in improving the developed approach to adopt new cases in an adaptive and intelligent way, which could hypothetically go above and beyond the existing medical experts’ decision capability and hence save more lives. Another future research stream of study is to create a decision making system equipped with a user-friendly graphical user interface (GUI). Based on that, while dealing with voluminous data, FLAS could be equipped to help transplant experts make decisions in a more efficient and effective manner.

It is known that “analytics” has three main domains: descriptive, predictive, and prescriptive analysis. This study was particularly focused on the predictive analytics perspective in which medical doctors’ experiential methodology is mimicked and verified with high accuracy rates. Therefore, FLAS is validated to be used in place of medical doctors, which will make the decision making processes much more efficient and effective along with the automated computerized system implementation. The knowledge base of UNOS medical doctors have accumulated enough information to replicate the decision making process in such a way. On the other hand, an interesting future study could be focused on the prescriptive analytics part of this domain problem, in which conflicting performance criteria can be optimized via such techniques as multi-objective evolutionary algorithm (MOEA) (Fernández, Martínez, Hervás, & Gutiérrez, 2010). However, it is beyond the scope of this current study.

@&#ACKNOWLEDGMENT@&#

This research was partially funded by UMass Lowell Advancing Research, Scholarship, and Creative Work Grant. Authors are grateful to the Vice Provost for Research of UMass Lowell, Dr. Julie Chen, for her continued support throughout various phases of the project. The authors are thankful to the two anonymous reviewers whose constructive suggestions have significantly improved the manuscript. They are also grateful to “OR in health services” Editor of EJOR, Dr. Jose Oliveira, for his timely management of this submission. Lina Al-Ebbini is a Ph.D. student of Biomedical Engineering & Biotechnology Program at UMass Lowell and she is an advisee of Dr. Asil Oztekin.

Supplementary material associated with this article can be found, in the online version, at doi:10.1016/j.ejor.2015.08.001.


                     
                        
                           Image, application 1
                           
                        
                     
                  

@&#REFERENCES@&#

