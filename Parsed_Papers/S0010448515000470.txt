@&#MAIN-TITLE@&#Representation and analysis of additively manufactured parts

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Representation of as-manufactured models using convolution.


                        
                        
                           
                           Incorporating manufacturing uncertainty into representation.


                        
                        
                           
                           Computing as-manufactured models using planar morphological operations.


                        
                        
                           
                           Interoperable analysis using query based simulation on sliced as-manufacturable models.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Representation

Additive manufacturing

As-manufactured model

Interoperability

Physical analysis

@&#ABSTRACT@&#


               
               
                  Representations of solid models were initially formulated partially in response to the need to support automation for numerically controlled machining processes. The assumed equivalence between shape, topology, and material properties of manufactured components and their computer representations led to the practice of modeling and simulating the behavior of physical parts before manufacture. In particular, representations of shape and material properties are treated in distinct nominal models for most unit manufacturing processes. Additively manufactured parts usually exhibit deviations from their nominal geometry in the form of stair-stepping artifacts and topological irregularities in the vicinity of small features. Furthermore, structural properties of additively manufactured parts have experimentally been shown to be dependent on the build orientation defining the cross sections where material is accumulated. Therefore geometric models of additively manufactured parts cannot be decoupled from the manufacturing process plan.
                  In this paper we show that as-manufactured shapes may be represented in terms of the convolution operation to capture the additive deposition of material, measure the conformance to nominal geometry in terms of overlap volume, and model uncertainties involved in material flow and process control. We then demonstrate a novel interoperable approach to physical analysis on as-manufactured part geometry represented as a collection of machine-specific cross sections augmented with boundary conditions defined on the nominal geometry. The analysis only relies on fundamental queries of point membership classification and distance to boundary and therefore does not involve the overhead of model preparation required in approaches such as finite element analysis. Results are shown for non-trivial geometries to validate the proposed approach.
               
            

@&#INTRODUCTION@&#

Transformation of raw materials into a fabricated product relies on a sequence of unit manufacturing processes   [1]. All unit manufacturing processes are inherently imprecise but are instrumented and controlled to minimize the deviation between nominal design models and their physical counterparts. Nominal models provide the foundation for computer representation, analysis, planning, and automation for traditional unit manufacturing processes such as casting, machining, and welding. Fabricated parts are then characterized in terms of variations of nominal models of shape and material structure through distinct process and application specific notions of equivalence. For example, the formalism of geometric dimensioning and tolerancing  [2] is used to determine shape equivalence between perfect form nominal models and imperfect manufactured parts in terms of tolerance zones defined according to prescribed inspection procedures. Similarly, nominal models to simulate mechanical behavior of fabricated parts assume homogeneous and isotropic bulk material properties that are considered equivalent to material properties of manufactured parts, although the manufacturing process can induce material transformations due to phase change, deformation, and microstructure modification.

Conceptually, the diagram in Fig. 1
                         illustrates the workflow for mechanical performance prediction, where shape is nominally defined in a CAD system using solid model representations and mechanical performance is predicted by a CAE system through nominal models for structural analysis (arrow 3). The predicted performance is expected to be equivalent with the results of physical testing on fabricated parts (arrow 1 followed by arrow 2), and with the results of structural analysis on a representation of the process plan dependent as-manufactured model (arrow 4 followed by arrow 5) that captures manufacturing imperfections and material transformations due to fabrication.

As-manufactured models are often not constructed for traditional unit manufacturing processes due to the observed consistency in mechanical performance between simulation in CAD/CAE systems and physical testing. However, in additive manufacturing experimental evidence has shown the performance of fabricated parts to be highly sensitive to a combination of machine resolutions, material, manufacturing strategy, and process specific parameters such as cooling rates and distortions due to phase change  [3–5]. Downstream analysis cannot be performed directly on CAD models and accurate predictive capability of simulation tools for additive manufacturing will rely on the ability to model the effect of these inter-dependent process parameters on part structure, prior to manufacture. We argue that as-manufactured models are therefore required to support automation for additive manufacturing in applications such as mechanical analysis, metrology, inspection, and process planning seen in product lifecycle management.

A typical additive manufacturing process is driven by the controlled planar translation of a print head in stacked layers that determines the spatial accumulation of material. Depending on the process, the print head either deposits material (in Fused Deposition Modeling), cures material by applying a focused laser or ultraviolet beam (in Selective Laser Sintering and Stereolithography), sprays liquid binding onto particles (in Inkjet printing), or applies some combination of such methods.

Representation of additively manufactured parts should account for process limitations and machine imprecision. For example, since most additive manufacturing processes build three-dimensional shapes by accumulating material laid out in sectional layers the manufactured parts will exhibit some degree of stair-stepping depending on printer resolution along the build direction. Printer resolution in the plane determines the size of features that may be manufactured (see Fig. 2
                        ). Printer ‘tool-paths’ also typically restrict the motion of the print head to within the boundary of the part’s cross section, resulting in rounding off sharp corners. Material deposition is usually irregular and depends on the curvature of the tool path. The geometry and topology of the as-manufactured model is largely driven by these process constraints. Additionally the uncertainty associated with the manufacturing process such as errors in locating a position to deposit material or the irregular flow of material from within a neighborhood of a printed location contribute to the variation observed between designed and manufactured parts. The resulting material properties of the fabricated part are therefore anisotropic and dependent on the build orientation.

This paper formulates new representations of additively manufactured parts by simulating the layered manufacturing process, and presents a novel interoperable solution for mechanical analysis with the new representation. Specifically, the paper makes the following contributions.


                        
                           
                              1.
                              As-manufactured models are represented as the accumulation of infinitesimal material deposited at each translated print head position. Mathematically the process is described as a convolution that captures the extent of overlap of the printed shape with the nominal geometry. We show a totally ordered variational class of as-manufactured models as a function of this overlap.

Process uncertainty due to positioning error as well as due to material flow from locations in a neighborhood of a position is formulated as a probabilistic membership classification of material within the as-manufactured model. The combined uncertainty is also shown to be a convolution of probability density functions of the individual uncertainties.

We discuss approaches to compute convolution and show that in special but useful cases, convolution can be implemented in terms of planar morphological operations to represent the as-manufactured model as a stack of slices determined by printer resolution.

The as-manufactured model represented as a stack of slices is sent directly along with boundary conditions as the input to a physical analysis routine. A three dimensional representation of the as-manufactured model, for example as a mesh, is not required to perform the analysis.

In Section  2 we discuss the construction and representation of as-manufactured models using convolutions. In 2.1.1 we demonstrate that convolution can be used to model the motion of material repeatably deposited at every location of the print head and the resulting swept volume. In 2.1.2 we show the convolution also models uncertainties in material deposition arising from imprecise location of the print head as well as irregular material flow. The as-manufactured models are defined as sub-level sets of the various convolutions, and examples are shown to illustrate the effects of resolution dependence and process uncertainty on as-manufactured models. In Section  2.2 we discuss various strategies to implement as-manufactured models in terms of convolution and show a special but important case where planar morphological operations can be used to characterize deviations between manufactured and nominal geometry. In Section  3, the output of these computations are used as the input to an analysis routine in an interoperable manner to predict physical behavior on the as-manufactured part. The combination of the novel geometric representation and interoperable physical analysis is a first step towards creating new models for product lifecycle management with additively manufactured parts.

Geometric variations between designed and manufactured parts will occur due to several factors such as machine resolution, build orientation, thermal physics of the manufacturing process that can lead to distortion and roughness, post processing operations such as finishing and the removal of support material (which influence part design as seen in Fig. 3
                     ), or air-gaps due to large step-over sizes in tool paths.

The process and machine specific deviation of additively manufactured shapes with respect to their nominal geometry, as well as the resulting complex anisotropic material behavior imply the design model may be a poor surrogate for the manufactured model. Therefore we devise new representations of additively as-manufactured shapes that are reflective of the manufacturing process constraints and compatible with downstream applications in product lifecycle management. Specifically, we construct representations of as-manufactured models as a function of the (uncertain) motion of a print head, seen for example in material fusion (laser sintering) and extrusion (fused deposition modeling) techniques. Additive manufacturing techniques such as sheet lamination and light activated polymerization (for example using array based digital light processing) are not included in this model. Anisotropic material properties are included as a function of the build direction for structural analysis on as-manufactured models in Section  3.

Given a shape 
                           S
                         to be printed, and the smallest three dimensional volume 
                           F
                         printable by the moving head, the boundary of 
                           S
                         defines the spatial limits up to which the motion of the print head is constrained. For the purposes of this paper we assume 
                           F
                         may be modeled as a sphere (to model a melt pool or droplets of material), cylinder (to model the flattened layers in an FDM process), or any possibly irregular shape that can be assumed to feasibly represent the minimum volume deposited by incremental motion of the print head. In a layered manufacturing process, the motion of the print head is usually a planar translation and material is accumulated at every position over the course of a tool-path.

Currently in additive manufacturing process planning the shape 
                           F
                         of the deposited material is not considered, and therefore the deviation from the design model is unpredictable. As mentioned earlier, in practice the material deposited at every position will vary slightly due to manufacturing uncertainties and/or due to the physics of local material accumulation, and exact characterization of such variation is quite difficult. However, empirical models of material deposition can be constructed through experimentation  [8–10] or through thermal physics analysis decoupled from manufacturing uncertainties  [11–14]. These local material models may then be used to define the shape 
                           F
                         used directly to construct the representations proposed in this paper.

In this section we will provide a single mathematical framework that formally characterizes as-manufactured models as a function of the nominal geometry and the model defining material distribution at a spatial location. The feasible translational motions of the print head are modeled to simulate the material deposition and construct as-manufactured models, and subsequently models for uncertainty are included into this description.

Initially let us assume that manufacturing error is negligible and that the machine repeatably deposits the same amount of material 
                              F
                            at every position. For any set 
                              X
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    n
                                 
                              
                            we define 
                              
                                 
                                    X
                                 
                                 
                                    −
                                    1
                                 
                              
                            as the reflection of 
                              X
                            about the origin, i.e. every 
                              x
                              ∈
                              X
                            is mapped to 
                              −
                              x
                              ∈
                              
                                 
                                    X
                                 
                                 
                                    −
                                    1
                                 
                              
                           .

Given a build orientation, the maximal set of translations that constrain 
                              F
                            to remain within 
                              S
                            and at most contact the boundary 
                              ∂
                              S
                            of 
                              S
                            is given by the expression 
                              S
                              ⊖
                              
                                 
                                    F
                                 
                                 
                                    −
                                    1
                                 
                              
                            where 
                              ⊖
                            represents the Minkowski difference operator. Similarly the maximal set of translations that constrain 
                              F
                            to at least contact 
                              ∂
                              S
                            is given by the expression 
                              S
                              ⊕
                              
                                 
                                    F
                                 
                                 
                                    −
                                    1
                                 
                              
                            where 
                              ⊕
                            represents the Minkowski sum.

Tool paths defining print head motion are therefore planned within a set 
                              T
                            of translations such that 
                              S
                              
                              ⊖
                              
                              
                                 
                                    F
                                 
                                 
                                    −
                                    1
                                 
                              
                              ⊆
                              T
                              ⊆
                              S
                              
                              ⊕
                              
                              
                                 
                                    F
                                 
                                 
                                    −
                                    1
                                 
                              
                           . When a tool path 
                              
                                 
                                    T
                                 
                                 
                                    ∗
                                 
                              
                            in 
                              T
                            is specified as a set of translations of the print head, the as-manufactured model is then exactly the Minkowski sum 
                              F
                              
                              ⊕
                              
                              
                                 
                                    T
                                 
                                 
                                    ∗
                                 
                              
                           . The resulting as-manufactured models in the two limiting situations are therefore 
                              
                                 
                                    M
                                 
                                 
                                    0
                                 
                              
                              =
                              
                                 (
                                 S
                                 ⊖
                                 
                                    
                                       F
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 )
                              
                              ⊕
                              F
                            and 
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              =
                              
                                 (
                                 S
                                 ⊕
                                 
                                    
                                       F
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 )
                              
                              ⊕
                              F
                            respectively. Clearly 
                              
                                 
                                    M
                                 
                                 
                                    0
                                 
                              
                              ⊂
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                            and there exists a class 
                              
                                 [
                                 M
                                 ]
                              
                            of shapes such that for each as-manufactured model 
                              M
                            in the class, 
                              
                                 
                                    M
                                 
                                 
                                    0
                                 
                              
                              ⊂
                              M
                              ⊂
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                           .


                           Example: For an example of an as-manufactured model, consider a slice as the intersection of a plane translated along the build direction with the appropriately oriented 
                              S
                           . The restriction of a tool path to the interior of (planar solids in) a slice can still deposit material outside 
                              S
                            when accumulated along the build direction, often manifested as stair-stepped features on manufactured parts (see Fig. 7). The as-manufactured model is therefore contained in 
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                            and contains 
                              
                                 
                                    M
                                 
                                 
                                    0
                                 
                              
                           . We demonstrate computation of this as-manufactured model in Section  2.2.3.


                           Remark: Note that a very similar approach can be used to outline the maximal volume machinable by a translating cutting tool removing material from raw stock. For a part 
                              S
                            and a cutting tool 
                              F
                            the maximal set of translations of the tool to avoid cutting into the part  [15] is 
                              
                                 
                                    S
                                 
                                 
                                    c
                                 
                              
                              ⊖
                              
                                 
                                    F
                                 
                                 
                                    −
                                    1
                                 
                              
                           . By the dual relationship between Minkowski sum and difference
                              1
                           
                           
                              1
                              
                                 
                                    A
                                    ⊕
                                    B
                                    =
                                    
                                       
                                          
                                             (
                                             
                                                
                                                   A
                                                
                                                
                                                   c
                                                
                                             
                                             ⊖
                                             B
                                             )
                                          
                                       
                                       
                                          c
                                       
                                    
                                 .
                             this set of translations is 
                              
                                 
                                    
                                       (
                                       S
                                       ⊕
                                       
                                          
                                             F
                                          
                                          
                                             −
                                             1
                                          
                                       
                                       )
                                    
                                 
                                 
                                    c
                                 
                              
                           , also realizable as the complement of the translational configuration space obstacle seen in robot motion planning. The maximal machinable volume of the tool is therefore 
                              
                                 
                                    
                                       (
                                       S
                                       ⊕
                                       
                                          
                                             F
                                          
                                          
                                             −
                                             1
                                          
                                       
                                       )
                                    
                                 
                                 
                                    c
                                 
                              
                              ⊕
                              F
                           . Intuitively the formulations for determining as-manufactured models in subtractive and additive manufacturing are dual to each other restricting the motion of 
                              F
                            on complementary partitions of the contact space 
                              ∂
                              
                                 (
                                 
                                    (
                                    S
                                    ⊕
                                    
                                       
                                          F
                                       
                                       
                                          −
                                          1
                                       
                                    
                                    )
                                 
                                 )
                              
                            which is the boundary of the configuration space obstacle.

Elements of the class 
                              
                                 [
                                 M
                                 ]
                              
                            of as-manufactured models defined by the translational motion of 
                              F
                            over 
                              S
                            are partially ordered by set containment. There is a totally ordered subclass of as-manufactured models which we will characterize in this paper. For a non-empty 
                              X
                              ⊂
                              
                                 
                                    R
                                 
                                 
                                    n
                                 
                              
                            define 
                              μ
                              
                                 (
                                 X
                                 )
                              
                            as the Lebesgue measure, which is the standard volume measure for subsets of 
                              
                                 
                                    R
                                 
                                 
                                    n
                                 
                              
                           . We observe that for every overlap ranging from 
                              μ
                              
                                 (
                                 F
                                 )
                              
                            at 
                              
                                 
                                    M
                                 
                                 
                                    0
                                 
                              
                            to some small 
                              ϵ
                              >
                              0
                            at a close approximation of 
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                            (see Fig. 4
                           ), there exists a maximal as-manufactured model in 
                              
                                 [
                                 M
                                 ]
                              
                            such that for any translation 
                              x
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    3
                                 
                              
                            that deposits material 
                              F
                            at 
                              x
                              F
                           , we have 
                              μ
                              
                                 (
                                 S
                                 
                                    
                                       ∩
                                    
                                    
                                       ∗
                                    
                                 
                                 x
                                 F
                                 )
                              
                              >
                              λ
                              μ
                              
                                 (
                                 F
                                 )
                              
                            where
                              2
                           
                           
                              2
                              
                                 
                                    
                                       
                                          ∩
                                       
                                       
                                          ∗
                                       
                                    
                                  represents regularized set intersection.
                           
                           
                              λ
                              ∈
                              
                                 [
                                 
                                    
                                       ϵ
                                    
                                    
                                       μ
                                       
                                          (
                                          F
                                          )
                                       
                                    
                                 
                                 ,
                                 1
                                 )
                              
                           .

To characterize the class 
                              
                                 [
                                 
                                    
                                       M
                                    
                                    
                                       m
                                       a
                                       x
                                    
                                 
                                 ]
                              
                            of maximal as-manufactured models as a function of 
                              λ
                           , we use properties of the convolution of indicator functions as described in the Appendix. Briefly, denoting convolution of functions 
                              f
                              ,
                              g
                            as 
                              f
                              ⋆
                              g
                           , Eqs. (17) and (18) in the Appendix describe the Minkowski sum 
                              A
                              ⊕
                              B
                            and difference 
                              A
                              ⊖
                              B
                            of sets 
                              A
                              ,
                              B
                            as terminal sub-level sets 
                              
                                 
                                    V
                                 
                                 
                                    α
                                 
                              
                              
                                 (
                                 
                                    
                                       
                                          1
                                       
                                    
                                    
                                       A
                                    
                                 
                                 ⋆
                                 
                                    
                                       
                                          1
                                       
                                    
                                    
                                       B
                                    
                                 
                                 )
                              
                              ,
                              α
                              =
                              
                                 {
                                 0
                                 ,
                                 μ
                                 
                                    (
                                    F
                                    )
                                 
                                 }
                              
                            of the convolution of (implicitly represented) indicator functions 
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    A
                                 
                              
                            and 
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    B
                                 
                              
                           . Intuitively the convolution of indicator functions captures the extent of overlap of the moving set 
                              B
                            with the stationary set 
                              A
                           . Detailed analysis of these relationships may be found in  [16,17].

Therefore, it is possible to relate the translations of the print head to the resulting overlap of 
                              F
                            with 
                              S
                            as a fraction 
                              λ
                            of 
                              μ
                              
                                 (
                                 F
                                 )
                              
                           . For 
                              λ
                              ∈
                              
                                 [
                                 
                                    
                                       ϵ
                                    
                                    
                                       μ
                                       
                                          (
                                          F
                                          )
                                       
                                    
                                 
                                 ,
                                 1
                                 )
                              
                           , the maximal set 
                              
                                 
                                    T
                                 
                                 
                                    λ
                                 
                              
                            of translations that ensure an overlap of at least 
                              λ
                              μ
                              
                                 (
                                 F
                                 )
                              
                            at every translation of the print head is given by a sub-level set of the convolution of indicator functions 
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    S
                                 
                              
                            and 
                              
                                 
                                    
                                       
                                          
                                             1
                                          
                                       
                                       
                                          F
                                       
                                    
                                 
                                 
                                    ˜
                                 
                              
                            of 
                              S
                            and 
                              
                                 
                                    F
                                 
                                 
                                    −
                                    1
                                 
                              
                           
                           
                              
                                 (1)
                                 
                                    
                                       
                                          T
                                       
                                       
                                          λ
                                       
                                    
                                    =
                                    
                                       
                                          V
                                       
                                       
                                          λ
                                          μ
                                          
                                             (
                                             F
                                             )
                                          
                                       
                                    
                                    
                                       (
                                       
                                          
                                             
                                                1
                                             
                                          
                                          
                                             S
                                          
                                       
                                       ⋆
                                       
                                          
                                             
                                                
                                                   
                                                      1
                                                   
                                                
                                                
                                                   F
                                                
                                             
                                          
                                          
                                             ˜
                                          
                                       
                                       )
                                    
                                    .
                                 
                              
                            Intuitively, as we increase the overlap from 
                              F
                            minimally contacting 
                              S
                            (
                              λ
                              =
                              
                                 
                                    ϵ
                                 
                                 
                                    μ
                                    
                                       (
                                       F
                                       )
                                    
                                 
                              
                            and the overlap is 
                              ϵ
                           ) to enforcing strict containment of 
                              F
                            within 
                              S
                            (
                              λ
                              =
                              1
                            and the overlap is 
                              μ
                              
                                 (
                                 F
                                 )
                              
                           ), the sub-level set of feasible translations 
                              
                                 
                                    T
                                 
                                 
                                    λ
                                 
                              
                            of 
                              F
                            successively decreases. The corresponding maximal as-manufactured models are defined by 
                              
                                 (2)
                                 
                                    
                                       
                                          M
                                       
                                       
                                          1
                                          −
                                          λ
                                       
                                    
                                    =
                                    
                                       
                                          T
                                       
                                       
                                          λ
                                       
                                    
                                    ⊕
                                    F
                                 
                              
                            such that for 
                              
                                 
                                    λ
                                 
                                 
                                    1
                                 
                              
                              <
                              
                                 
                                    λ
                                 
                                 
                                    2
                                 
                              
                           , 
                              
                                 
                                    M
                                 
                                 
                                    1
                                    −
                                    
                                       
                                          λ
                                       
                                       
                                          1
                                       
                                    
                                 
                              
                              ⊃
                              
                                 
                                    M
                                 
                                 
                                    1
                                    −
                                    
                                       
                                          λ
                                       
                                       
                                          2
                                       
                                    
                                 
                              
                           . The class 
                              
                                 [
                                 
                                    
                                       M
                                    
                                    
                                       m
                                       a
                                       x
                                    
                                 
                                 ]
                              
                            whose elements are 
                              
                                 
                                    M
                                 
                                 
                                    1
                                    −
                                    λ
                                 
                              
                            is totally ordered by set containment, and represents maximal as-manufactured models for overlap at least 
                              λ
                              μ
                              
                                 (
                                 F
                                 )
                              
                            at every translation of the print head. Consistent with the analysis based on Minkowski operations at the beginning of this section, 
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                            (in the limit) represents the supremum of the 
                              
                                 [
                                 
                                    
                                       M
                                    
                                    
                                       m
                                       a
                                       x
                                    
                                 
                                 ]
                              
                            and 
                              
                                 
                                    M
                                 
                                 
                                    0
                                 
                              
                            represents the infimum.

We now have a new implicit representation of a variational class 
                              
                                 [
                                 
                                    
                                       M
                                    
                                    
                                       m
                                       a
                                       x
                                    
                                 
                                 ]
                              
                            of maximal as-manufactured models whose elements may be computed using convolution. Fig. 5
                            shows several as-manufactured models of a shape 
                              S
                            of a mammoth, assuming a cylindrical 
                              F
                            that represents the infinitesimal amount of material deposited by a nozzle along a tool path. Observe that with increasing measures of local overlap parameterized by 
                              λ
                           , important structural features of 
                              S
                            such as the ribs or toes are lost in the maximal as-manufactured models, and topological changes (e.g. in the number of holes or connected components) between nominal and maximal as-manufactured models may occur. For an overlap of 
                              λ
                              μ
                              
                                 (
                                 F
                                 )
                              
                            the volume of excess material printed outside the nominal shape 
                              S
                            is bounded by 
                              
                                 (
                                 1
                                 −
                                 λ
                                 )
                              
                              μ
                              
                                 (
                                 F
                                 )
                              
                            at any translation of 
                              F
                           . At a specific translation 
                              x
                              ∈
                              
                                 
                                    T
                                 
                                 
                                    λ
                                 
                              
                           , the excess material may be determined explicitly as 
                              μ
                              
                                 (
                                 F
                                 )
                              
                              −
                              
                                 (
                                 
                                    
                                       
                                          1
                                       
                                    
                                    
                                       S
                                    
                                 
                                 ⋆
                                 
                                    
                                       
                                          
                                             
                                                1
                                             
                                          
                                          
                                             F
                                          
                                       
                                    
                                    
                                       ˜
                                    
                                 
                                 )
                              
                              
                                 (
                                 x
                                 )
                              
                           .

Convolution is an attractive representation of material deposition in layered manufacturing, for it models the manufacturing process defined by the translational motion of the print head for a chosen build orientation. It is a real valued function that represents the overlap of a ‘moving’ function 
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    F
                                 
                              
                            (shifted by translations in 
                              
                                 
                                    R
                                 
                                 
                                    3
                                 
                              
                           ) over a ‘stationary’ (unshifted) function 
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    S
                                 
                              
                            such that the sub-level sets of this real valued function define all translations 
                              
                                 
                                    T
                                 
                                 
                                    λ
                                 
                              
                            that restrict the permissible overlap of 
                              F
                            with 
                              S
                            to a pre-specified value 
                              λ
                              μ
                              
                                 (
                                 F
                                 )
                              
                           . Tool paths 
                              
                                 
                                    T
                                 
                                 
                                    λ
                                    ∗
                                 
                              
                            can be planned from the 
                              
                                 
                                    T
                                 
                                 
                                    λ
                                 
                              
                            to construct an as-manufactured model which is the sub level set 
                              
                                 
                                    V
                                 
                                 
                                    0
                                 
                              
                              
                                 (
                                 
                                    
                                       
                                          1
                                       
                                    
                                    
                                       F
                                    
                                 
                                 ⋆
                                 
                                    
                                       
                                          1
                                       
                                    
                                    
                                       
                                          
                                             T
                                          
                                          
                                             λ
                                             ∗
                                          
                                       
                                    
                                 
                                 )
                              
                           . From Fig. 5 it can also be seen that support material has to be planned separately for each as-manufactured model.

Deviations between nominal and as-manufactured models such as the rounding of sharp corners or stair-stepping artifacts are unavoidable consequences of layered manufacturing. Additionally in many cases such as those shown in Fig. 2, topological inconsistencies occur when the as-manufactured shape is not homeomorphic to the nominal model. Homeomorphism is often not preserved due to different types of overlap possible between 
                              F
                            and the nominal models 
                              S
                           . For example, consider the erosion 
                              S
                              ⊖
                              
                                 
                                    
                                       (
                                       F
                                       )
                                    
                                 
                                 
                                    −
                                    1
                                 
                              
                            in the as-manufactured model 
                              
                                 (
                                 S
                                 ⊖
                                 
                                    
                                       
                                          (
                                          F
                                          )
                                       
                                    
                                    
                                       −
                                       1
                                    
                                 
                                 )
                              
                              ⊕
                              F
                           . The erosion removes features such as bridges, walls, and protrusions where the printed feature 
                              F
                            does not fit. In such cases the as-manufactured model is not homeomorphic to 
                              S
                           . Given closed regular sets 
                              S
                            and 
                              
                                 
                                    M
                                 
                                 
                                    λ
                                 
                              
                           , the failure of homeomorphism is due to the as-manufactured models having different homotopy type with respect to the nominal model. Informally, two sets with the same homotopy type have one–one correspondence between connected components, cycles, holes, etc.  [19]. Basic differences in homotopy type may thus be determined by counting differences in these structures between 
                              S
                            and 
                              
                                 
                                    M
                                 
                                 
                                    λ
                                 
                              
                           .

Convolution uses a representation of shape as an implicit (indicator) function, therefore it is possible to define convolutions of shapes with any real valued function. Using this observation we now show that representations of as-manufactured models may be extended to include manufacturing uncertainty.

The as-manufactured models defined in Eq. (2) are derived assuming the overlap volume of 
                              F
                            with the nominal geometry at every point in space is deterministic because of repeatable deposition. In reality the presence of material at every point in space is not deterministic and material deposition is better modeled in terms of a probability distribution due to the uncertainty of executing the prescribed tool path and the process dependent physics of material accumulation (e.g. from a melt pool in laser sintering or from molten plastic in fused deposition modeling).

Consider material membership within the as-manufactured model at a location 
                              z
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    3
                                 
                              
                            as an event derived from two independent events 
                              
                                 1.
                                 The print head moving as prescribed.

Material accumulating around the point of deposition or sintering.

The location of the print head is subject to positional uncertainty, and material accumulation has inherent uncertainty dependent on the physics of the material. Notice that the existence of material at a point in space is more likely if the tool path traverses near this point multiple times, for example in high curvature regions of a tool path (see Fig. 6
                           ).  With this, we let 
                              X
                            and 
                              Y
                            be independent continuous random variables with probability densities 
                              
                                 
                                    P
                                 
                                 
                                    X
                                 
                              
                            and 
                              
                                 
                                    P
                                 
                                 
                                    Y
                                 
                              
                            that model the above phenomena respectively. We are interested in the probability density 
                              
                                 
                                    P
                                 
                                 
                                    X
                                    +
                                    Y
                                 
                              
                            that determines likelihood of material membership inside the as-manufactured model.

It is well known  [20] that the probability density for 
                              Z
                              =
                              X
                              +
                              Y
                            is given by the convolution of the individual probability densities 
                              
                                 
                                    P
                                 
                                 
                                    X
                                 
                              
                            and 
                              
                                 
                                    P
                                 
                                 
                                    Y
                                 
                              
                           . 
                              
                                 
                                    (3)
                                    
                                       
                                          
                                             P
                                          
                                          
                                             Z
                                          
                                       
                                       
                                          (
                                          z
                                          )
                                       
                                       =
                                       
                                          
                                             ∫
                                          
                                          
                                             −
                                             ∞
                                          
                                          
                                             ∞
                                          
                                       
                                       
                                          
                                             P
                                          
                                          
                                             X
                                          
                                       
                                       
                                          (
                                          z
                                          −
                                          y
                                          )
                                       
                                       
                                          
                                             P
                                          
                                          
                                             Y
                                          
                                       
                                       
                                          (
                                          y
                                          )
                                       
                                       d
                                       y
                                    
                                 
                                 
                                    (4)
                                    
                                       =
                                       
                                          
                                             P
                                          
                                          
                                             X
                                          
                                       
                                       ⋆
                                       
                                          
                                             P
                                          
                                          
                                             Y
                                          
                                       
                                       .
                                    
                                 
                              
                            This is quite easy to verify; if 
                              Z
                              =
                              z
                            when 
                              Y
                              =
                              y
                            then 
                              X
                              =
                              z
                              −
                              y
                           . The probability density for this to occur is 
                              
                                 
                                    P
                                 
                                 
                                    X
                                 
                              
                              
                                 (
                                 z
                                 −
                                 y
                                 )
                              
                              
                                 
                                    P
                                 
                                 
                                    Y
                                 
                              
                              
                                 (
                                 y
                                 )
                              
                            due to independence of the random variables 
                              X
                              ,
                              Y
                            and to obtain the total probability density that 
                              Z
                              =
                              z
                            we need to integrate over all possible values of 
                              Y
                            to get 
                              
                                 
                                    P
                                 
                                 
                                    Z
                                 
                              
                              
                                 (
                                 z
                                 )
                              
                           . Note that if the controllers defining the print head location can be independently controlled in orthogonal axes of motion, then 
                              
                                 
                                    P
                                 
                                 
                                    X
                                 
                              
                            can be specified as a joint probability density specified by the product of the probability densities defining positional uncertainties at each axis.

Tool paths 
                              
                                 
                                    T
                                 
                                 
                                    λ
                                    ∗
                                 
                              
                            may now be planned within the space 
                              
                                 
                                    T
                                 
                                 
                                    λ
                                 
                              
                            as described in Section  2.1.1. Given a tool path 
                              
                                 
                                    T
                                 
                                 
                                    λ
                                    ∗
                                 
                              
                              ⊂
                              
                                 
                                    T
                                 
                                 
                                    λ
                                 
                              
                           , the convolution 
                              
                                 
                                    P
                                 
                                 
                                    Z
                                 
                              
                              ⋆
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    
                                       
                                          T
                                       
                                       
                                          λ
                                          ∗
                                       
                                    
                                 
                              
                            defines a zone around each location on a tool path where material is likely to exist with non-zero probability. Specifying a threshold 
                              0
                              <
                              α
                              <
                              1
                            to extract a sub-level set 
                              
                                 
                                    V
                                 
                                 
                                    α
                                 
                              
                              
                                 (
                                 
                                    
                                       P
                                    
                                    
                                       Z
                                    
                                 
                                 ⋆
                                 
                                    
                                       
                                          1
                                       
                                    
                                    
                                       
                                          
                                             T
                                          
                                          
                                             λ
                                             ∗
                                          
                                       
                                    
                                 
                                 )
                              
                            that defines translations within which material is likely to exist with probability at least 
                              α
                           . These translations may be coupled with measures of overlap as defined in Section  2.1.1 to extract a larger variational class of maximal as-manufactured models compared to the class defined by the assumption of repeatable material deposition.

As a simple example, consider the positional uncertainty along the axes of the print head controller to be defined by normal distributions such that the resulting multivariate distribution 
                              
                                 
                                    P
                                 
                                 
                                    X
                                 
                              
                            is a normal distribution.
                              3
                           
                           
                              3
                              The convolution of two normal distributions results in a normal distribution.
                            If the material distribution 
                              
                                 
                                    P
                                 
                                 
                                    Y
                                 
                              
                            is modeled as a normal distribution, we see that the convolution 
                              
                                 
                                    P
                                 
                                 
                                    Z
                                 
                              
                            is also a normal distribution. Fig. 6 (left) shows a path defined as an indicator function that is convolved with a normal distribution (with standard deviation of six pixels) to extract the sub level set (right) defined by a probability greater than 0.9. It may be seen that increasing the probability leads to a smaller sub-level set. Furthermore, it is also evident that the regions of high curvature on the path are more likely to have material deposited from adjacent locations, as is the case with additive manufacturing.

The implicit representation of geometry in terms of indicator functions allows direct convolution with probability density functions, thus unifying the formulation of as-manufactured models with manufacturing uncertainty using a single operation.

Convolution is a fundamental operation applied in several disciplines including signal and image processing, numerical methods, computer vision, statistics, and so on. When input data is a sampled function such as a signal or image, convolution is typically implemented in terms of the Fast Fourier Transform (FFT) used in conjunction with the convolution theorem. If 
                              n
                            is the size of the grid to which functions are sampled, the convolution can be computed with complexity 
                              O
                              
                                 (
                                 n
                                 
                                 log
                                 
                                    (
                                    n
                                    )
                                 
                                 )
                              
                           . Denoting the Fourier transform of a function 
                              f
                            as 
                              F
                              
                                 (
                                 f
                                 )
                              
                            and the inverse Fourier transform as 
                              
                                 
                                    F
                                 
                                 
                                    −
                                    1
                                 
                              
                           , the convolution theorem simply states 
                              
                                 (5)
                                 
                                    f
                                    ⋆
                                    g
                                    =
                                    
                                       
                                          F
                                       
                                       
                                          −
                                          1
                                       
                                    
                                    
                                       (
                                       F
                                       
                                          (
                                          f
                                          )
                                       
                                       ⋅
                                       F
                                       
                                          (
                                          g
                                          )
                                       
                                       )
                                    
                                    .
                                 
                              
                           
                        

The examples in Fig. 5 were computed using this approach. In many cases computing a boundary representation in terms of the implicit representation using isosurface extraction is more convenient than algorithms involving boundary evaluation, e.g. for level sets of convolutions with probability density functions. However, the implementation is always limited by the grid resolution used to sample the FFT, in which case indicator functions are represented as binary voxelizations. Therefore we may run into difficulties of memory overflow if very fine resolutions are chosen to capture small features (e.g. holes, thin walls) that can cause topological differences, also observed by  [21]. In such cases we must look for alternative strategies to compute and evaluate as-manufactured models.

Consider the situation when the feature 
                              F
                            can be represented as a linear extrusion of a cross section 
                              X
                            over translations 
                              Y
                           , for example when 
                              F
                              =
                              X
                              ⊕
                              Y
                            is a cylinder and 
                              X
                            is a disk and 
                              Y
                            is a linear trajectory. In this special case we have 
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    F
                                 
                              
                              =
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    X
                                 
                              
                              ⋆
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    Y
                                 
                              
                            and 
                              
                                 
                                    
                                       
                                          
                                             1
                                          
                                       
                                       
                                          F
                                       
                                    
                                 
                                 
                                    ˜
                                 
                              
                              =
                              
                                 
                                    
                                       
                                          
                                             1
                                          
                                       
                                       
                                          X
                                       
                                    
                                 
                                 
                                    ˜
                                 
                              
                              ⋆
                              
                                 
                                    
                                       
                                          
                                             1
                                          
                                       
                                       
                                          Y
                                       
                                    
                                 
                                 
                                    ˜
                                 
                              
                           . Observe from Eq. (15) that 
                              
                                 (
                                 
                                    
                                       
                                          1
                                       
                                    
                                    
                                       S
                                    
                                 
                                 ⋆
                                 
                                    
                                       
                                          
                                             
                                                1
                                             
                                          
                                          
                                             X
                                          
                                       
                                    
                                    
                                       ˜
                                    
                                 
                                 )
                              
                              
                                 (
                                 q
                                 )
                              
                              =
                              μ
                              
                                 (
                                 S
                                 
                                    
                                       ∩
                                    
                                    
                                       ∗
                                    
                                 
                                 
                                    
                                       X
                                    
                                    
                                       q
                                    
                                 
                                 )
                              
                            is the overlap of the cross section 
                              X
                            with 
                              S
                           .
                              4
                           
                           
                              4
                              Note that in practice the sets 
                                    X
                                  and 
                                    Y
                                  should be defined as three dimensional sets (i.e. with some minimal thickness) to avoid integration on zero measure sets.
                           
                        

Therefore given the overlap volume of 
                              F
                            with 
                              S
                            at any location 
                              p
                              ∈
                              
                                 
                                    R
                                 
                                 
                                    3
                                 
                              
                            it is possible to obtain the overlap of the cross section 
                              X
                            of 
                              F
                            with 
                              S
                            by computing the convolution 
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    S
                                 
                              
                              ⋆
                              
                                 
                                    
                                       
                                          
                                             1
                                          
                                       
                                       
                                          X
                                       
                                    
                                 
                                 
                                    ˜
                                 
                              
                              
                                 (
                                 p
                                 )
                              
                           . Furthermore, the overlap of 
                              X
                            with 
                              S
                            is equivalent to the overlap of 
                              X
                            with a slice of 
                              S
                            (assuming 
                              X
                            and the slice have minimal thickness). We now discuss how this relationship will help us represent as-manufactured models using planar offsetting operations as opposed to sampling a three dimensional Fourier transform.

Consider the special case where the cross section 
                              X
                            of the minimal three dimensional printed feature 
                              F
                            is modeled as a disk. There are two reasons this special case is important. First in the case of many layered manufacturing processes the print head depositing material has an approximately circular cross section. For example in FDM the nozzle depositing molten filament typically has a circular cross section, and in laser melting, the focused beam is assumed to have circular section to create a uniform melt pool. Also, if we assume normal distributions for the uncertainties in the position and material deposition the level sets of the combined normal density function will be circles.

Given a slice 
                              
                                 
                                    S
                                 
                                 
                                    ′
                                 
                              
                            of 
                              S
                           , and the cross section 
                              X
                            of 
                              F
                           , we note that restricting the print head to the interior of the slice 
                              
                                 
                                    S
                                 
                                 
                                    ′
                                 
                              
                            implies the convolution 
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    S
                                 
                              
                              ⋆
                              
                                 
                                    
                                       
                                          
                                             1
                                          
                                       
                                       
                                          X
                                       
                                    
                                 
                                 
                                    ˜
                                 
                              
                              
                                 (
                                 p
                                 )
                              
                            at every feasible translation 
                              p
                            has an overlap 
                              μ
                              
                                 (
                                 X
                                 )
                              
                            and the maximal area covered by sweeping 
                              X
                            inside 
                              
                                 
                                    S
                                 
                                 
                                    ′
                                 
                              
                            is the morphological opening 
                              
                                 
                                    (6)
                                    
                                       O
                                       
                                          (
                                          
                                             
                                                S
                                             
                                             
                                                ′
                                             
                                          
                                          ,
                                          X
                                          )
                                       
                                       =
                                       
                                          (
                                          
                                             
                                                S
                                             
                                             
                                                ′
                                             
                                          
                                          ⊖
                                          
                                             
                                                X
                                             
                                             
                                                −
                                                1
                                             
                                          
                                          )
                                       
                                       ⊕
                                       X
                                    
                                 
                                 
                                    (7)
                                    
                                       =
                                       ⋃
                                       
                                          {
                                          X
                                          +
                                          t
                                          :
                                          X
                                          +
                                          t
                                          ⊂
                                          
                                             
                                                S
                                             
                                             
                                                ′
                                             
                                          
                                          ,
                                          
                                          t
                                          ∈
                                          
                                             
                                                R
                                             
                                             
                                                2
                                             
                                          
                                          }
                                       
                                       .
                                    
                                 
                              
                            The printer specific representation of as-manufactured slices 
                              O
                              
                                 (
                                 
                                    
                                       S
                                    
                                    
                                       ′
                                    
                                 
                                 ,
                                 X
                                 )
                              
                            may then be used to plan tool paths in contrast to current practice of simply using the slice 
                              
                                 
                                    S
                                 
                                 
                                    ′
                                 
                              
                            to generate tool paths. We note that slicing in general is an inherently lossy process that cannot measure three dimensional overlap without computing the three dimensional convolution 
                              
                                 
                                    
                                       1
                                    
                                 
                                 
                                    S
                                 
                              
                              ⋆
                              
                                 
                                    
                                       
                                          
                                             1
                                          
                                       
                                       
                                          X
                                       
                                    
                                 
                                 
                                    ˜
                                 
                              
                              ⋆
                              
                                 
                                    
                                       
                                          
                                             1
                                          
                                       
                                       
                                          Y
                                       
                                    
                                 
                                 
                                    ˜
                                 
                              
                           , and containment of 
                              X
                            within 
                              
                                 
                                    S
                                 
                                 
                                    ′
                                 
                              
                            does not necessarily imply containment of 
                              F
                            within 
                              S
                           . However there are advantages to adopting this representation more than just directly modeling the machine specific layered manufacturing process.

As shown in  [15], assuming openings with disks allows a characterization of 
                              
                                 
                                    S
                                 
                                 
                                    ′
                                 
                              
                            in terms of local size, defined as the distance of the boundary of 
                              
                                 
                                    S
                                 
                                 
                                    ′
                                 
                              
                            to its medial axis. The complement of the opening 
                              O
                              
                                 (
                                 
                                    
                                       S
                                    
                                    
                                       ′
                                    
                                 
                                 ,
                                 k
                                 X
                                 )
                              
                            by a disk 
                              k
                              X
                              ,
                              k
                              >
                              1
                            will outline the regions of 
                              
                                 
                                    S
                                 
                                 
                                    ′
                                 
                              
                            with thin walls that are printable but are below the recommended thickness 
                              k
                              X
                            for the printed material (often learned by experimentation). The two openings 
                              O
                              
                                 (
                                 
                                    
                                       S
                                    
                                    
                                       ′
                                    
                                 
                                 ,
                                 X
                                 )
                              
                            and 
                              O
                              
                                 (
                                 
                                    
                                       S
                                    
                                    
                                       ′
                                    
                                 
                                 ,
                                 k
                                 X
                                 )
                              
                            allow a partition of each slice called the printability map that consists of three disjoint sets 
                              
                                 1.
                                 
                                    
                                       
                                          
                                             S
                                          
                                          
                                             ′
                                          
                                       
                                       −
                                       O
                                       
                                          (
                                          S
                                          ,
                                          X
                                          )
                                       
                                     represents regions that cannot be reached by the translating disk 
                                       X
                                    , and therefore represents regions smaller than the smallest printable feature. Toolpaths that locate the print head in these regions will result in unplanned material accumulation.


                                    
                                       O
                                       
                                          (
                                          
                                             
                                                S
                                             
                                             
                                                ′
                                             
                                          
                                          ,
                                          X
                                          )
                                       
                                       −
                                       O
                                       
                                          (
                                          
                                             
                                                S
                                             
                                             
                                                ′
                                             
                                          
                                          ,
                                          k
                                          X
                                          )
                                       
                                     represents regions reachable by the translating disk 
                                       X
                                     but not by a larger disk 
                                       k
                                       X
                                    . The radius of 
                                       k
                                       X
                                     represents the minimum recommended local size for the material used to print the part.


                                    
                                       O
                                       
                                          (
                                          
                                             
                                                S
                                             
                                             
                                                ′
                                             
                                          
                                          ,
                                          k
                                          X
                                          )
                                       
                                     represents the subset of 
                                       
                                          
                                             S
                                          
                                          
                                             ′
                                          
                                       
                                     that is reachable by all translating disks larger than, and including 
                                       k
                                       X
                                    .

Assuming circular cross sections has the added benefit of simplifying computations. The opening of a set by a disk can be expressed as a composition of an inward and outward polygon offset that will automatically capture rounded corners, as well as erode (via Minkowski difference) thin regions of the model. Therefore, given a set of oriented loops that define a valid polygon, standard offset and subtraction operations can be efficiently and robustly computed in the plane to represent the material deposited at every slice during additive manufacturing.

Given a build orientation, the number of printed slices is determined in terms of the printer resolution along the build direction. A representation of the part as manufactured may then be obtained by computing the printability map at each slice 
                              
                                 
                                    S
                                 
                                 
                                    i
                                 
                                 
                                    ′
                                 
                              
                            and accumulating the openings 
                              O
                              
                                 (
                                 
                                    
                                       S
                                    
                                    
                                       i
                                    
                                    
                                       ′
                                    
                                 
                                 ,
                                 X
                                 )
                              
                           . The bonding between layers is modeled by extruding the 
                              O
                              
                                 (
                                 
                                    
                                       S
                                    
                                    
                                       i
                                    
                                    
                                       ′
                                    
                                 
                                 ,
                                 X
                                 )
                              
                            by a one parameter family 
                              E
                            of translations along the build orientation such that the extent of the translation is limited by the printer resolution. Thus the as-manufactured solid model is the regularized union 
                              
                                 (8)
                                 
                                    
                                       
                                          ⋃
                                       
                                       
                                          i
                                       
                                    
                                    
                                       (
                                       O
                                       
                                          (
                                          
                                             
                                                S
                                             
                                             
                                                i
                                             
                                             
                                                ′
                                             
                                          
                                          ,
                                          X
                                          )
                                       
                                       ⊕
                                       E
                                       )
                                    
                                    .
                                 
                              
                           
                           Fig. 7(right) shows a reconstruction of the as-manufactured model given the bracket shown in Fig. 7(left). The stair stepping effect of layered manufacturing is evident from the representation. Fig. 8
                            shows the printability map for one slice of the nominal model of the bracket. Fig. 9
                            shows a representation of extruded as-manufactured slices for the nominal model shown in Fig. 5 that highlight the printable region 
                              O
                              
                                 (
                                 
                                    
                                       S
                                    
                                    
                                       ′
                                    
                                 
                                 ,
                                 X
                                 )
                              
                              −
                              O
                              
                                 (
                                 
                                    
                                       S
                                    
                                    
                                       ′
                                    
                                 
                                 ,
                                 k
                                 X
                                 )
                              
                            below recommended local size when printed with ABS plastic on a Makerbot.

The as-manufactured representations defined by Eqs. (2) and (8) are implicit but informationally complete  [22], in the usual sense that they support unambiguous point membership classification and neighborhood queries against the design model 
                           M
                        . In principle, these representations could be evaluated and converted to an explicit boundary representation, but we choose not to do so for several reasons. It should be apparent that explicit representation of 
                           M
                         as a collection of slices is an order of magnitude more complex than that of 
                           S
                        , because it accounts for individual manufacturing operations, features, and imperfections. Unioning boundaries of adjacent solid slices 
                           O
                           
                              (
                              
                                 
                                    S
                                 
                                 
                                    i
                                 
                                 
                                    ′
                                 
                              
                              ,
                              X
                              )
                           
                           ⊕
                           E
                         is likely to be problematic due to numerical errors and robustness issues. Instead, we will show that as-manufactured model defined as a collection of 
                           O
                           
                              (
                              
                                 
                                    S
                                 
                                 
                                    i
                                 
                                 
                                    ′
                                 
                              
                              ,
                              X
                              )
                           
                         can be used directly in variety of downstream applications using query-based approach to interoperability advocated in  [23].

Two essential ingredients are required to implement a query-based approach: a formal semantics that defines the notion of equivalence between the models and/or systems that are required to interoperate, and a set of queries that interpret those semantics operationally in terms of computable mathematical functions. A hierarchy of geometric and topological queries that are sufficient for most applications is proposed in  [23].

For example, in the simplest case of interchangeable solid models, a solid 
                           S
                         is a closed regular subset of three-dimensional Euclidean space that may be abstracted as a set of 
                           
                              {
                              
                                 
                                    q
                                 
                                 
                                    p
                                 
                              
                              }
                           
                         of point membership tests; each test 
                           
                              
                                 q
                              
                              
                                 p
                              
                           
                         returns a value of in, on, out, depending whether point 
                           p
                         ​belongs to the interior, boundary, or complement of 
                           S
                         respectively. The set of point queries may be infinite or corresponds to a finite cover of 
                           S
                        . Two solids 
                           X
                         and 
                           Y
                         are identical if every query 
                           
                              
                                 q
                              
                              
                                 p
                              
                           
                         returns the same answer with respect to 
                           X
                         and 
                           Y
                        . Of course, in practice no two solids are identical, but two solids may be deemed interchangeable if they are equivalent in some application-dependent sense to a nominal reference solid 
                           S
                        . In this case, the equivalence is established by applying the equivalence test to the queries. Ref.  [23] gives specific examples of query-based interoperability for several applications, including shape approximation, reconstruction, geometric dimensioning and tolerancing, and CAD/analysis integration.

We now apply the concept of query-based interchangeability to the as-manufactured model 
                           M
                        . Based on the discussion in Section  2.1, we assume an as-manufactured model 
                           M
                         is related to nominal model 
                           S
                         through the correspondence of its shape and material properties. In particular, it is reasonable to assume that there exists a map 
                           h
                         such that 
                           M
                           =
                           h
                           
                              (
                              S
                              )
                           
                        , where 
                           h
                         is a homotopy equivalence
                           5
                        
                        
                           5
                           
                              
                                 S
                               and 
                                 M
                               may often not be homeomorphic due to manufacturing imperfections such as missed features, covered holes, and others described in Sections  2.1 and 2.2.
                         and the Hausdorff distance between 
                           M
                         and 
                           S
                         is bounded by the Hausdorff distance between 
                           S
                         and 
                           S
                           ⊕
                           F
                        . Clearly, map 
                           h
                         is not unique, but in all cases, 
                           h
                         will also map the queries against 
                           S
                         to queries against 
                           M
                        . Thus, classification 
                           
                              
                                 q
                              
                              
                                 p
                              
                           
                         for every point 
                           p
                           ∈
                           S
                         will match that of 
                           
                              
                                 q
                              
                              
                                 h
                                 
                                    (
                                    p
                                    )
                                 
                              
                           
                         for the corresponding point 
                           h
                           
                              (
                              p
                              )
                           
                           ∈
                           M
                        . Similarly, if 
                           
                              
                                 d
                              
                              
                                 p
                              
                           
                         returns the distance from 
                           p
                         to boundary 
                           ∂
                           S
                        , then 
                           
                              
                                 d
                              
                              
                                 h
                                 
                                    (
                                    p
                                    )
                                 
                              
                           
                         returns the distance to the boundary 
                           ∂
                           M
                        , and we know that the two distances differ at most by the Hausdorff distance between 
                           M
                         and 
                           S
                        . Finally, we observe that existence of map 
                           h
                         may be sufficient for designing interchangeable or interoperable queries; 
                           h
                         needs to be constructed explicitly only when explicit application-specific correspondence between 
                           M
                         and 
                           S
                         is required.

Here we only deal with the most common case of linear static analysis based on simple linear elastic model, but the approach generalizes to other types of analysis in a straightforward manner. Our formulation follows a more detailed derivation in  [24] and [23].

The boundary of a three-dimensional solid domain 
                           Ω
                         is partitioned into three subsets: 
                           
                              
                                 Γ
                              
                              
                                 u
                              
                           
                         where the displacements are prescribed (most commonly fixed), 
                           
                              
                                 Γ
                              
                              
                                 t
                              
                           
                         where the loads (or “tractions”) 
                           
                              T
                           
                         are applied, and the free boundary. The solid 
                           Ω
                         is also subject to the body (gravity) force 
                           
                              F
                           
                        . The forces, as well as the resulting displacements 
                           
                              u
                           
                         are vector valued quantities, for example 
                           
                              u
                           
                           =
                           
                              
                                 
                                    (
                                    
                                       
                                          u
                                       
                                       
                                          x
                                       
                                    
                                    ,
                                    
                                       
                                          u
                                       
                                       
                                          y
                                       
                                    
                                    ,
                                    
                                       
                                          u
                                       
                                       
                                          z
                                       
                                    
                                    )
                                 
                              
                              
                                 T
                              
                           
                        , while both strain 
                           
                              ϵ
                           
                         and stress 
                           
                              σ
                           
                         are second order tensor quantities represented by 3×3 matrices.

Following the usual arguments, a weak discretized form of elasticity problem can be written as a system of equations  [24]: 
                           
                              (9)
                              
                                 −
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       n
                                    
                                 
                                 
                                    
                                       
                                          C
                                       
                                    
                                    
                                       i
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∫
                                                
                                                
                                                   Ω
                                                
                                             
                                             
                                                
                                                   
                                                      B
                                                   
                                                
                                                
                                                   T
                                                
                                             
                                             
                                                [
                                                
                                                   
                                                      
                                                         η
                                                      
                                                   
                                                   
                                                      i
                                                   
                                                
                                                ]
                                             
                                             
                                                D
                                             
                                             
                                                B
                                             
                                             
                                                [
                                                
                                                   
                                                      
                                                         η
                                                      
                                                   
                                                   
                                                      j
                                                   
                                                
                                                ]
                                             
                                             d
                                             Ω
                                          
                                          ︸
                                       
                                    
                                    
                                       
                                          stiffness coefficient
                                       
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             −
                                             
                                                
                                                   ∫
                                                
                                                
                                                   Ω
                                                
                                             
                                             
                                                
                                                   
                                                      η
                                                   
                                                
                                                
                                                   j
                                                
                                             
                                             
                                                F
                                             
                                             d
                                             Ω
                                          
                                          ︸
                                       
                                    
                                    
                                       
                                          load due to body force
                                       
                                    
                                 
                                 +
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∫
                                                
                                                
                                                   Ω
                                                
                                             
                                             
                                                
                                                   
                                                      B
                                                   
                                                
                                                
                                                   T
                                                
                                             
                                             
                                                [
                                                
                                                   
                                                      
                                                         η
                                                      
                                                   
                                                   
                                                      j
                                                   
                                                
                                                ]
                                             
                                             
                                                D
                                             
                                             
                                                B
                                             
                                             
                                                [
                                                
                                                   
                                                      
                                                         u
                                                      
                                                   
                                                   
                                                      ∗
                                                   
                                                
                                                ]
                                             
                                             d
                                             Ω
                                          
                                          ︸
                                       
                                    
                                    
                                       
                                          load due to applied displacements
                                       
                                    
                                 
                                 −
                                 
                                    
                                       
                                          
                                             
                                                
                                                   ∫
                                                
                                                
                                                   
                                                      
                                                         Γ
                                                      
                                                      
                                                         t
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      η
                                                   
                                                
                                                
                                                   j
                                                
                                             
                                             
                                                T
                                             
                                             d
                                             
                                                
                                                   Γ
                                                
                                                
                                                   t
                                                
                                             
                                             .
                                          
                                          ︸
                                       
                                    
                                    
                                       
                                          load due to applied loads
                                       
                                    
                                 
                              
                           
                         Here we assume that the displacement 
                           
                              u
                           
                         has a general form of 
                           
                              (10)
                              
                                 
                                    u
                                 
                                 =
                                 
                                    
                                       ∑
                                    
                                    
                                       i
                                       =
                                       1
                                    
                                    
                                       n
                                    
                                 
                                 
                                    
                                       
                                          C
                                       
                                    
                                    
                                       i
                                    
                                 
                                 
                                    
                                       
                                          η
                                       
                                    
                                    
                                       i
                                    
                                 
                                 +
                                 
                                    
                                       
                                          u
                                       
                                    
                                    
                                       ∗
                                    
                                 
                                 .
                              
                           
                        
                     

Note that the values of displacements 
                           
                              u
                           
                         on the boundary 
                           
                              
                                 Γ
                              
                              
                                 u
                              
                           
                         correspond to the fixed boundary conditions, 
                           
                              
                                 ν
                              
                              
                                 i
                              
                           
                         are test basis functions, and vector valued coefficients 
                           
                              
                                 
                                    C
                                 
                              
                              
                                 i
                              
                           
                         are yet to be determined. Following the widely used notation in Finite Element Analysis (FEA) literature, we will use 
                           
                              B
                           
                         to denote the matrix of derivatives, also known as the strain–displacement matrix, so that 
                           
                              ϵ
                           
                           =
                           
                              B
                           
                           
                              [
                              
                                 u
                              
                              ]
                           
                        , and 
                           
                              D
                           
                         for the stress–strain matrix so that 
                           
                              σ
                           
                           =
                           
                              D
                           
                           
                              ϵ
                           
                        .

Implementation of this formulation requires that the basis functions 
                           
                              
                                 
                                    η
                                 
                              
                              
                                 i
                              
                           
                         vanish on portions of the boundary 
                           
                              
                                 Γ
                              
                              
                                 u
                              
                           
                         where the displacements are prescribed. This is usually achieved by converting domain 
                           Ω
                         into a mesh of finite elements, creating an interoperability bottleneck, particularly in the case of as-manufactured model 
                           M
                         that is represented implicitly. Instead, following the classical Kantorovich method  [25], choose 
                           
                              (11)
                              
                                 
                                    
                                       
                                          η
                                       
                                    
                                    
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       
                                          (
                                          
                                             
                                                ω
                                             
                                             
                                                x
                                             
                                          
                                          ,
                                          
                                             
                                                ω
                                             
                                             
                                                y
                                             
                                          
                                          ,
                                          
                                             
                                                ω
                                             
                                             
                                                z
                                             
                                          
                                          )
                                       
                                    
                                    
                                       T
                                    
                                 
                                 
                                    
                                       χ
                                    
                                    
                                       i
                                    
                                 
                                 ,
                              
                           
                         where 
                           
                              
                                 ω
                              
                              
                                 1
                              
                           
                        , 
                           
                              
                                 ω
                              
                              
                                 2
                              
                           
                         and 
                           
                              
                                 ω
                              
                              
                                 3
                              
                           
                         measure (smoothed) distances to the fixed boundaries in 
                           x
                        , 
                           y
                         and 
                           z
                         coordinate directions respectively, and choose basis functions 
                           
                              
                                 χ
                              
                              
                                 i
                              
                           
                         to be trivariate B-splines on a uniform grid whose supports completely cover 
                           Ω
                         (see Fig. 10
                        ). The individual displacements on the boundaries 
                           
                              
                                 Γ
                              
                              
                                 u
                              
                           
                         may be combined using inverse distance interpolation  [26] into a single global vector-valued function 
                           
                              
                                 
                                    u
                                 
                              
                              
                                 ∗
                              
                           
                        .

The above formulation of linear static analysis requires assembling the system of linear equations  (9) by directly computing volume and surface integrals over supports of basis functions 
                           
                              
                                 χ
                              
                              
                                 i
                              
                           
                        . Using adaptive geometric integration  [27], computation of integrals reduces to repeated sampling and evaluation of basis functions 
                           
                              
                                 χ
                              
                              
                                 i
                              
                           
                         and their derivatives, material properties 
                           
                              D
                           
                        , body forces 
                           
                              F
                           
                         as well as given boundary conditions 
                           
                              
                                 Γ
                              
                              
                                 u
                              
                           
                         and 
                           
                              
                                 Γ
                              
                              
                                 t
                              
                           
                         at quadrature points either in interior or on the boundary of the solid domain 
                           Ω
                        . In addition, two geometric queries are required: point membership test 
                           
                              
                                 q
                              
                              
                                 p
                              
                           
                         to determine which quadrature points lie within domain 
                           Ω
                         and distance to boundary 
                           
                              
                                 d
                              
                              
                                 p
                              
                           
                         query to evaluate functions 
                           
                              
                                 
                                    η
                                 
                              
                              
                                 i
                              
                           
                         per Eq. (11). Some of the above computations may be implemented more efficiently using more advanced queries, for example, Box/Solid intersection and Ray/Solid intersections, but all of such computations may be implemented in terms of point and distance computations  [22].

Solving the linear system and substituting the computed values of the vector-valued coefficients 
                           
                              
                                 
                                    C
                                 
                              
                              
                                 i
                              
                           
                         into the assumed expression (10) of 
                           
                              u
                           
                         produces an approximate solution 
                           
                              u
                           
                           
                              (
                              x
                              )
                           
                         to the differential equation satisfying the specified boundary conditions. For additional details describing implementation of the query-based approach in commercial Scan&Solve system, the reader is referred to  [24].


                        Fig. 10 shows the nominal model 
                           S
                         of the mammoth represented as a triangulated mesh, with an overlaid integration grid. The simulation problem models the effect of gravity on the skeletal structure of the mammoth with fixed base. The result of integration produces the displacement field shown rendered on the nominal geometry. We now demonstrate how the same framework will be used to query as-manufactured models to compute the solution to linear static analysis without constructing the boundary or a mesh of the three dimensional solid model of 
                           M
                        .

When solid domain 
                           Ω
                         is a nominal solid 
                           S
                         represented by its boundary, application of the above structural simulation is straightforward: boundary conditions 
                           
                              
                                 Γ
                              
                              
                                 u
                              
                           
                         and 
                           
                              
                                 Γ
                              
                              
                                 t
                              
                           
                         are associated with portions of 
                           ∂
                           S
                        , material properties 
                           
                              D
                           
                         are given and are typically isotropic, and point and distance queries are evaluated against the given boundary representation of 
                           S
                        .

We now apply the same query-based procedure to as-manufactured model 
                           M
                         that is represented implicitly by a stack of slices per Eq. (8) (also see Fig. 12). We assume that the as-manufactured model already passed the geometric equivalence test with respect to 
                           S
                        , therefore it is also reasonable to assume that the map 
                           h
                         will induce the mapping of boundary conditions 
                           
                              
                                 Γ
                              
                              
                                 u
                              
                           
                         and 
                           
                              
                                 Γ
                              
                              
                                 t
                              
                           
                         onto the portions of boundary 
                           ∂
                           M
                        . The exact mapping will depend on the type of boundary conditions. For example, it may be reasonable to restrain all points of 
                           ∂
                           M
                         that are within prescribed Euclidean distance from 
                           
                              
                                 Γ
                              
                              
                                 u
                              
                           
                        ; but the loads applied to 
                           
                              
                                 Γ
                              
                              
                                 t
                              
                           
                         may be applied in a work-equivalent sense only to some portions of 
                           ∂
                           M
                         because some surface points of 
                           M
                         may not be accessible. For structural simulation under gravity, this mapping is particularly simple, since 
                           
                              
                                 Γ
                              
                              
                                 t
                              
                           
                           =
                           0̸
                         and 
                           
                              
                                 Γ
                              
                              
                                 u
                              
                           
                         maps to the bottom surface of the lowest slice in representation of 
                           M
                        .

The only other required changes in the structural simulation procedure are representation specific implementation of point membership test 
                           
                              
                                 q
                              
                              
                                 p
                              
                           
                         and distance computation 
                           
                              
                                 d
                              
                              
                                 p
                              
                           
                        . Both are straightforward, but more efficient implementations are possible. For example, we observe that volumetric integration over thickened slices may be performed more accurately and efficiently by integrating of the planar slices and simply multiplying the thickness. Integration over a 2D slice is particularly efficient if the slice is already triangulated; and so on.


                        Fig. 11
                        
                         shows a comparison between structural simulation performed on a nominal model with approximately 
                           1
                           e
                           6
                         triangles (left) and the same simulation performed on the as-manufactured model (right) represented as a stack of the slices 
                           O
                           
                              (
                              
                                 
                                    S
                                 
                                 
                                    i
                                 
                                 
                                    ′
                                 
                              
                              ,
                              k
                              X
                              )
                           
                        . The ability to make comparisons between such distinct representations is enabled by the query based approach to interoperable structural simulation.

While the shape of 
                           M
                         may be close to that of 
                           S
                        , its material properties are likely to differ significantly. It is well known that structural properties of materials produced by layered manufacturing are usually orthotropic and are substantially weaker in the build direction  [3] due to incomplete inter-layer bonding. Fig. 13
                         shows displacement results of query-based simulation on as-manufactured part representations, taking into account complete as-manufactured geometry and material properties. In Fig. 13 the rear row of mammoths assumes a 0.8 mm nozzle and therefore contains fewer details than the front row modeled using a 0.1 mm nozzle. From left to right, the material properties are isotropic injection molded ABS (
                           E
                           =
                           2300
                           
                           
                              MPa
                           
                        ), averaged iso-tropic as-printed ABS (
                           E
                           =
                           1370
                           
                           
                              MPa
                           
                        ), and homogenized orthotropic ABS from as-printed ABS taking into account the build direction with a [0 90 +45 −45] fill pattern (
                           E
                           1
                           =
                           1391
                           
                           
                              MPa
                           
                           ,
                           E
                           2
                           =
                           1653
                           
                           
                              MPa
                           
                           ,
                           E
                           3
                           =
                           1073
                           
                           
                              MPa
                           
                        )  [28]. The model using the large nozzle and averaged ABS exhibits the greatest deflection due to low material stiffness and reduced geometric cross-section. Taking into account the material orthotropy and a fine nozzle yields 40% less deflection (front row, right column).

@&#CONCLUSIONS@&#

Experimental evidence has shown that as-manufactured models differ both in geometry/topology as well as material properties from nominal design. We have shown that as-manufactured parts in additive manufacturing may be efficiently represented using convolution such models may be used directly in downstream applications, such as analysis and simulations using query-based interoperable solutions. Specifically, the translational layered process may be modeled using convolution to create a variational class of as-manufactured models that may be parameterized by overlap volume, and further demonstrated that convolution can be used to characterize controller uncertainty in the shape of the final model. The proposed class of as-manufactured models captures geometric and topological deviations from the nominal model and can be used to evaluate manufacturing plans. Efficient algorithms to compute as-manufactured models, particularly as a stack of slices defined in terms of the morphological opening, have been directly used as the input to a query based structural simulation routine.

Such an interoperable solution to structural simulation is not possible using conventional FEA which would require explicitly representing as-manufactured geometry as a faceted boundary representation with orders of magnitude more primitives than the nominal model. The query-based approach replaces the need for meshing by run-time queries that allow evaluating the weak form of Eq. (9) on variety of geometric representations without sacrificing rigor or accuracy of the solution. The query based solution also demonstrates the simplicity of incorporating anisotropic material properties which are used to evaluate direction dependent as-manufactured models. Constructing an optimized manufacturing process plan is beyond the scope of this paper, but the proposed representation of as-manufactured models helps in capturing important structural differences between nominal and as-manufactured parts that could be used within a manufacturing planning engine. We aim to use these representations and query based approaches to study a broader notion of equivalence between designed and as-manufactured parts for product lifecycle applications involving additive manufacturing.

@&#ACKNOWLEDGMENTS@&#

The authors would like to thank their anonymous reviewers for their valuable comments. The authors would also like to thank Michael Freytag and Srinivas Raghothama from Intact Solutions for assistance in implementing and generating results for physical analysis, and Walter Kim, Christian Fritz, and Tolga Kurtoglu from PARC for useful discussions. Vadim Shapiro’s research was supported by NSF grants CMMI-1029553, CMMI-1344205 and CMMI-1361862 and National Institute of Standards and Technology.

From the correspondence between mathematical morphology  [29,30] and convolution as described in  [16,17], we recall the important properties and definitions used in this paper. 
                        
                           1.
                           The convolution of two functions in 
                                 
                                    
                                       L
                                    
                                    
                                       1
                                    
                                 
                                 
                                    (
                                    
                                       
                                          R
                                       
                                       
                                          n
                                       
                                    
                                    )
                                 
                               is defined as 
                                 
                                    (12)
                                    
                                       
                                          (
                                          f
                                          ⋆
                                          g
                                          )
                                       
                                       
                                          (
                                          x
                                          )
                                       
                                       =
                                       ∫
                                       f
                                       
                                          (
                                          y
                                          )
                                       
                                       g
                                       
                                          (
                                          x
                                          −
                                          y
                                          )
                                       
                                       d
                                       y
                                       .
                                    
                                 
                              
                           

For 
                                 P
                                 ⊂
                                 
                                    
                                       R
                                    
                                    
                                       n
                                    
                                 
                               define the indicator function 
                                 
                                    
                                       (13)
                                       
                                          
                                             
                                                
                                                   1
                                                
                                             
                                             
                                                P
                                             
                                          
                                          
                                             (
                                             x
                                             )
                                          
                                          =
                                          
                                             {
                                             
                                                
                                                   
                                                      1
                                                   
                                                   
                                                      if  
                                                      x
                                                      ∈
                                                      P
                                                   
                                                
                                                
                                                   
                                                      0
                                                   
                                                   
                                                      otherwise
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       (14)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                      
                                                   
                                                   
                                                      P
                                                   
                                                
                                             
                                             
                                                ˜
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   1
                                                
                                             
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      −
                                                      1
                                                   
                                                
                                             
                                          
                                          .
                                       
                                    
                                 
                              
                           

For any non-empty 
                                 A
                                 ,
                                 B
                                 ⊂
                                 
                                    
                                       R
                                    
                                    
                                       n
                                    
                                 
                              
                              
                                 
                                    (15)
                                    
                                       μ
                                       
                                          (
                                          A
                                          
                                             
                                                ∩
                                             
                                             
                                                ∗
                                             
                                          
                                          x
                                          B
                                          )
                                       
                                       =
                                       
                                          (
                                          
                                             
                                                
                                                   1
                                                
                                             
                                             
                                                A
                                             
                                          
                                          ⋆
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         1
                                                      
                                                   
                                                   
                                                      B
                                                   
                                                
                                             
                                             
                                                ˜
                                             
                                          
                                          )
                                       
                                       
                                          (
                                          x
                                          )
                                       
                                       .
                                    
                                 
                               Eq. (15) expresses the volume of the (regularized) set intersection 
                                 A
                                 
                                    
                                       ∩
                                    
                                    
                                       ∗
                                    
                                 
                                 x
                                 B
                               in terms of the convolution 
                                 
                                    (
                                    
                                       
                                          
                                             1
                                          
                                       
                                       
                                          A
                                       
                                    
                                    ⋆
                                    
                                    
                                       
                                          
                                             
                                                
                                                   1
                                                
                                             
                                             
                                                B
                                             
                                          
                                       
                                       
                                          ˜
                                       
                                    
                                    )
                                 
                                 
                                    (
                                    x
                                    )
                                 
                               of indicator functions  [16], which is used to derive the correspondence with mathematical morphology.

For a function 
                                 f
                               defined on 
                                 
                                    
                                       R
                                    
                                    
                                       n
                                    
                                 
                               and 
                                 α
                                 >
                                 ϵ
                              , define the sub-level set 
                                 
                                    (16)
                                    
                                       
                                          
                                             V
                                          
                                          
                                             α
                                          
                                       
                                       
                                          (
                                          f
                                          )
                                       
                                       =
                                       
                                          {
                                          x
                                          ∈
                                          
                                             
                                                R
                                             
                                             
                                                n
                                             
                                          
                                          
                                          |
                                          
                                          f
                                          
                                             (
                                             x
                                             )
                                          
                                          >
                                          α
                                          }
                                       
                                       .
                                    
                                 
                              
                           

The dual relationship of Minkowski sum and difference through de Morgan’s laws is then captured in terms of sub-level sets of the convolution 
                                 
                                    
                                       (17)
                                       
                                          A
                                          ⊕
                                          B
                                          =
                                          
                                             
                                                V
                                             
                                             
                                                0
                                             
                                          
                                          
                                             (
                                             
                                                
                                                   
                                                      1
                                                   
                                                
                                                
                                                   A
                                                
                                             
                                             ⋆
                                             
                                                
                                                   
                                                      1
                                                   
                                                
                                                
                                                   B
                                                
                                             
                                             )
                                          
                                       
                                    
                                    
                                       (18)
                                       
                                          A
                                          ⊖
                                          B
                                          =
                                          
                                             
                                                V
                                             
                                             
                                                μ
                                                
                                                   (
                                                   B
                                                   )
                                                
                                                −
                                                ϵ
                                             
                                          
                                          
                                             (
                                             
                                                
                                                   
                                                      1
                                                   
                                                
                                                
                                                   A
                                                
                                             
                                             ⋆
                                             
                                                
                                                   
                                                      1
                                                   
                                                
                                                
                                                   B
                                                
                                             
                                             )
                                          
                                          .
                                       
                                    
                                 
                              
                           

@&#REFERENCES@&#

