@&#MAIN-TITLE@&#Online stochastic UAV mission planning with time windows and time-sensitive targets

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We introduce a new model to cope with a practical UAV mission planning problem.


                        
                        
                           
                           Our model accounts for uncertainty in travel and recording times, time windows and new targets.


                        
                        
                           
                           Our model contains an adequate tuning parameter to increase the number of timely reached new targets.


                        
                        
                           
                           Our planning approach outperforms a deterministic planning approach.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Stochastic orienteering problem

Time windows

Online planning

@&#ABSTRACT@&#


               
               
                  In this paper we simultaneously consider three extensions to the standard Orienteering Problem (OP) to model characteristics that are of practical relevance in planning reconnaissance missions of Unmanned Aerial Vehicles (UAVs). First, travel and recording times are uncertain. Secondly, the information about each target can only be obtained within a predefined time window. Due to the travel and recording time uncertainty, it is also uncertain whether a target can be reached before the end of its time window. Finally, we consider the appearance of new targets during the flight, so-called time-sensitive targets, which need to be visited immediately if possible. We tackle this online stochastic UAV mission planning problem with time windows and time-sensitive targets using a re-planning approach. To this end, we introduce the Maximum Coverage Stochastic Orienteering Problem with Time Windows (MCS-OPTW). It aims at constructing a tour with maximum expected profit of targets that were already known before the flight. Secondly, it directs the planned tour to predefined areas where time-sensitive targets are expected to appear. We have developed a fast heuristic that can be used to re-plan the tour, each time before leaving a target. In our computational experiments we illustrate the benefits of the MCS-OPTW planning approach with respect to balancing the two objectives: the expected profits of foreseen targets, and expected percentage of time-sensitive targets reached on time. We compare it to a deterministic planning approach and show how it deals with uncertainty in travel and recording times and the appearance of time-sensitive targets.
               
            

@&#INTRODUCTION@&#

Unmanned Aerial Vehicles (UAVs) are valuable assets in information gathering for both military and civilian purposes. UAVs are aircraft without a human pilot actually on board, and are therefore remotely operated from a control station on the ground. They can be used to record still and full motion and even real-time imagery of certain ‘target’ locations or areas of interest. In military missions, they are used for example to inspect locations where possibly Improvised Explosive Devices (IEDs) were placed by insurgents (Royset & Reber, 2009). An example of the use of UAVs for a civilian purpose is to provide up-to-date information about locations where riots may potentially arise during sports events, in order to adequately direct a police force to the conflict locations, if necessary (Evers, 2012).

Due to resource limitations with respect to available time, UAV fuel capacity and/or the number of available UAVs, the number of interesting targets is often larger than the number of targets that can be visited during one mission. One relatively simple model to obtain a design of a UAV tour in such situations is the Orienteering Problem (OP). The OP is a generalization of the well-known Traveling Salesman Problem (TSP). The OP is defined on a graph where a weight is associated to each arc and a profit value is associated to each node. Contrary to the TSP, the OP does not require all nodes to be visited. The aim is to find a tour, starting and ending at a depot location, that maximizes the total profit of all nodes selected in the tour, such that the total weight of the arcs in the tour does not exceed a predefined capacity. For a comprehensive survey on this problem see Vansteenwegen, Souffriau, and van Oudheusden (2011). When modeling the design of the UAV tour as an OP, the profit values represent the importance of the targets and the weights model the time required to fly from one target to the other. In this paper, we consider the situation where the duration of the UAV mission should not exceed a predefined time limit, represented by the capacity in the OP. Such time constraint is relevant when the UAV has to be deployed for another mission at a predefined moment or is only available for a limited amount of time in case the UAV is a shared asset between several stakeholders. The UAV will start and end its tour at the UAV recovery point, represented by the depot location in the OP.

The standard OP has to be extended and/or adjusted to fit the dynamics and complexity of a specific UAV mission situation. We will discuss three different elements that are often encountered in reality in UAV mission planning. First, due to deviations from the expected weather circumstances, the experience of the UAV operator, and recording times that may take longer or shorter than expected, the real time required to complete the planned tour will deviate from the expected time. Obtaining the UAV tour by a standard OP where this uncertainty is ignored, is likely to result in an infeasible or suboptimal flight plan. Thus, the first extension considers the OP with uncertain travel and recording times.

Another extension of the OP is required when some or all of the recordings times can only start within a specific time interval to obtain the associated information. For example, the geographical characteristics of the locations to be visited (like a location close to mountains), and expected meteorological circumstances (like fog or shadows around these mountains) might require that the process of collection information must start at certain moments of the day. The same holds for Improvised Explosive Device (IED) detection which can be done by comparing imagery of a specific area, taken on different days, and by examining whether significant changes in the surface are visible. In order to enable a meaningful imagery comparison, imagery collection should start in similar circumstances and time periods, in order to reduce the influence of, for instance, shadows. The extension that addresses the OP with time intervals is known as the OP with Time Windows (OPTW), which was first introduced by Kantor and Rosenwein (1992).

As a third extension, in a more dynamic situation, a UAV tour should be designed by taking into account the possibility that during the flight emergency recordings, new targets, become known and should take place. In this paper these new targets are the so-called ‘time-sensitive’ targets, which have priority over the so-called foreseen targets. They are only worthwhile visiting within a predefined time limit, the emergency reaction time defined by the mission type. Therefore, the UAV will be sent to such a target as soon as it appears if remotely possible, considering the uncertainty in the time required to travel to the target. In this dynamic situation, at each moment of the flight, the UAV is either on its way to a foreseen target, on its way to a new target that has just appeared, recording or waiting to start recording at a target, or on its way back to the depot. As long as no new targets have appeared, the UAV flies from one foreseen target to the next. Profits are obtained by recording foreseen targets that are reached in time and for which the recording time could be completed, without interruption. We focus on the situation where the possible locations of time-sensitive targets are known beforehand. In the remainder of this paper, we will often use the term ‘new targets’ to denote time-sensitive targets that appear during the flight of the UAV. Planning problems that take new information in the problem instance into account during the execution stage of the plan are often referred to as ‘online’ planning problems.

In reality, the available mission time will be partly devoted to new targets, and partly to foreseen targets. In case a planned tour to foreseen targets is purposely located in the proximity of the locations where new targets are expected to appear, the UAV will likely be in time to record a new target if it appears. On the other hand, when the planned tour does not take the possible locations of new targets into account beforehand, the expected profit to be obtained from foreseen targets might be higher. It is therefore worthwhile to consider in advance how much emphasis should be put on the possible appearance of these new, time-sensitive targets, when designing the planned tour: the ‘online stochastic UAV mission planning problem with time windows and time-sensitive targets’.

To this end, we propose a re-planning type of approach that constructs a tour that balances the ability of the UAV to maximize the total expected profit obtained by recording foreseen targets and the ability of the UAV to timely reach new targets, taking into account time window constraints as well as uncertainty in travel and recording times. This approach starts by constructing a tour using the available information, and hence determining the first target to be visited. After completing recording at this target and if no time-sensitive target has appeared, the next foreseen target to visit is determined by re-planning the tour based on past travel and recording time realizations. This re-planning is based on the ‘Maximum Coverage Stochastic Orienteering Problem with Time Windows’ (MCS-OPTW), which we will introduce in this paper. The MCS-OPTW planning approach provides a path from the current location to the depot, containing only foreseen targets. The next target planned to be visited, is the first target in this path.

In executing this re-planning procedure, the MCS-OPTW balances two objectives: maximizing the expected profit obtained by recording foreseen targets and maximizing the so-called expected Weighted Location Coverage (WLC) of the path. The WLC relates to the distance of the arcs to locations where new targets are expected to appear. Hence, by this second objective, the MCS-OPTW selects foreseen targets such that the UAV will be sent in the direction of areas where new targets are expected to appear. In both objectives the expected values are determined based on predefined probability distributions of the travel and recording times. We will show that the OP requires a special approach to deal with uncertainty, which is quite different from the existing approaches developed for related problems, such as the TSP and the Vehicle Routing Problem (VRP) with weight uncertainty and time windows.

We have developed a heuristic that can be applied in real-time to obtain good solutions to the online stochastic orienteering problem with time windows and time-sensitive targets. In the event a time-sensitive target appears, the UAV will be re-tasked to that target if the probability of reaching that target in time is above a predefined lower bound, which depends on the current location of the UAV and the location of this new target. It may result in interrupting the recording of a foreseen target. Before leaving a (time-sensitive or foreseen) target, the MCS-OPTW planning approach is used to determine the foreseen targets to be visited next. This re-planning process continues, until the remaining time capacity limitations enforce the UAV to return to the recovery point. In our experiments we will compare the performance of this re-planning approach based on the MCS-OPTW to that of a deterministic re-planning approach, regarding both the average profit obtained by recording foreseen targets and the average percentage of new targets that are reached on time. The maximum computation time required to re-plan the tour lies between one and three seconds, depending on the test setting. We will also show the effect of balancing the objectives of the MCS-OPTW on the topology of the planned tours, and we will test if this approach is robust against deviations between the actual and the assumed probability distributions.

The approach based on the MCS-OPTW is not only applicable to UAV mission planning, but also to other (economic, or safety and security) applications. For example, ensuring the quick presence of police to respond to emergency calls is of the utmost importance. In particular, the Dutch Ministry of Security and Justice has recently prescribed that at least 80 percent of all emergency calls have to be reached within 15minutes, (Nationale politie op koers, 2013). Our model could be applied to designing police tours that on one hand provide an efficient selection and ordering of foreseen police patrol locations, and on the other hand also allow for short response times in case of unforeseen emergencies at certain locations.

This paper is structured as follows. In the next section we discuss the literature related to our problem. In Section 3 we will provide a problem description and in Section 4 we will introduce the MCS-OPTW. In Section 5 we will describe our heuristic which enables real-time re-planning. We will illustrate the use of the MCS-OPTW planning approach in the computational experiments in Section 6 and we conclude and give directions for future research in Section 7.

A survey of the OP by Vansteenwegen et al. (2011) provides an overview of the OP and the OPTW and other related problems. Recently Souffriau, Vansteenwegen, Vanden Berghe, and Van Oudheusden (2013) introduced an extension: the multiconstraint team orienteering problem with multiple time windows. Their approach explores tourist applications wherein multiple time windows per vertex are modeled. In all of the discussed research however, neither uncertainty in the weights on the arcs, nor incorporating new locations during the execution of the tour is taken into account. When uncertainty in the weights on the arcs is disregarded, the resulting solutions of all these models might turn out to be infeasible or suboptimal in reality. To this end, Evers, Dollevoet, Barros, and Monsuur (2012) and Evers, Glorie, van der Ster, Barros, and Monsuur (2014) have introduced new uncertain variants of the OP which are well suited for the specific case of UAV mission planning. These approaches however, are not designed to fit variants of the OP that involve time windows and/or a new targets that appear during the flight.

For problems related to the OP, like the TSP and the VRP, research addressing the combination of uncertain weights and time windows is available. Often, soft time windows are used for which a penalty is incurred in the objective function in case of time window violations (Ando & Taniguchi, 2006; Gao, 2010; Hsu, Hung, & Li, 2006; Li, Tian, & Leung, 2010; Russell & Urban, 2008; Taş, Dellaert, van Woensel, & de Kok, 2013). It is assumed that the tours can still be carried out as planned during the execution stage. In the particular case of UAV mission planning however, we need to model hard time windows and therefore no recording will take place in case the UAV arrives late at a target. Other approaches to problems related to the VRP and TSP with uncertainty and time windows include robust optimization (Agra et al., 2013) and chance constrained programming (Chardy & Klopfenstein, 2012; Li et al., 2010). Extensions for real-time application of these approaches (e.g. re-solving the static problem using updated information and fast heuristics) would be too conservative for the OP. To make this point clear, we note that in the standard deterministic TSP and VRP all locations should be visited. Therefore, in an uncertain environment, to provide a solution that has a high probability of being feasible, the probability for each location of being reachable before the end of the time window should be set at a high level (typically, minimum probabilities such as 0.9 and 0.95 are used). This means that these approaches favor solutions that incorporate planned slack additional to the expected weights required to reach a location. In the deterministic OP however, we are already allowed to skip locations. In a stochastic OPTW it is therefore not necessary to enforce that locations will be reached within their time windows with such high probability. Hence, the characteristics of the OP itself allow for a more risky selection of locations.

Some of the approaches for online (deterministic) routing problems with new customer requests incorporate decision rules that describe how to continue the remainder of the tour when a new request appears, based on the location of the new request and the current location of the vehicle. Algorithms based on such decision rules were developed and associated performance bounds were derived for the online TSP (Ausiello, Feuerstein, Leonardi, Stougie, & Talamo, 2001), for the online Quota Traveling Salesman Problem (Ausiello, Demange, Laura, & Paschos, 2004) and the online Price-Collecting Traveling Salesman Problem (first studied by Ausiello, Bonifaci, & Laura (2008) and recently improved by Jaillet & Lu (2011)).

The online approaches just mentioned do not consider the probability that a new request occurs at a certain location, nor do they consider the time it takes to reach a new request from the current location. Larco, Dekker, and Kaymak (2012) however, do take these issues into account by defining a ‘coverage’ measure related to the distance between the vehicles and the locations where new requests are expected to appear. They produce multiple solutions to the Team Orienteering Problem with Time Windows (TOPTW), the multiple vehicle variant of the OPTW, and evaluate the locations of the vehicles in these tours with respect to the potential locations of new requests. As acknowledged by the authors, the element that is disregarded is uncertainty in travel and service times. When travel times appear to be uncertain in reality, this might degrade the performance of their approach since time windows might be violated, and as a result the associated profit will not be obtained. Therefore, we introduce a new coverage measure to provide a balanced approach that takes into account uncertainty in travel and recording times as well as uncertainty in possible new targets, appropriate to the characteristics of the uncertain OPTW.

In this section we will provide a detailed description of the online stochastic UAV mission planning problem with time windows and time-sensitive (new) targets. For the duration of the UAV mission, a time limit T is given. The mission starts at time 
                        
                           t
                           =
                           0
                        
                     . Before the start of the mission, a set of foreseen targets N is given, as well as a set of locations 
                        
                           
                              
                                 N
                              
                              
                                 ′
                              
                           
                        
                      where new, time-sensitive targets may appear. The UAV recovery point is represented by a depot location with index 0. The location of the UAV at time t is denoted by 
                        
                           
                              
                                 0
                              
                              
                                 t
                              
                           
                        
                     . The set of foreseen targets that have not been visited yet at time t is denoted by 
                        
                           N
                           (
                           t
                           )
                        
                     . Note that 
                        
                           N
                           (
                           t
                           )
                           ⊆
                           N
                           (
                           0
                           )
                           =
                           N
                        
                     . The travel time 
                        
                           
                              
                                 t
                              
                              
                                 ij
                              
                           
                        
                      between any two locations i and j, in 
                        
                           N
                           ∪
                           
                              
                                 N
                              
                              
                                 ′
                              
                           
                           ∪
                           {
                           0
                           }
                           ∪
                           {
                           
                              
                                 0
                              
                              
                                 t
                              
                           
                           }
                        
                     , with 
                        
                           i
                           
                           ≠
                           
                           j
                        
                      follows a predefined probability distribution with expected value 
                        
                           
                              
                                 
                                    
                                       t
                                    
                                    
                                       ij
                                    
                                 
                              
                              
                                 ‾
                              
                           
                        
                     . The recording time 
                        
                           
                              
                                 r
                              
                              
                                 i
                              
                           
                        
                      at each location 
                        
                           i
                           ∈
                           N
                           ∪
                           
                              
                                 N
                              
                              
                                 ′
                              
                           
                        
                      is assumed to follow a predefined probability distribution as well, with expected recording time 
                        
                           
                              
                                 
                                    
                                       r
                                    
                                    
                                       i
                                    
                                 
                              
                              
                                 ‾
                              
                           
                        
                     . To each foreseen target 
                        
                           i
                           ∈
                           N
                        
                     , we associate a profit value 
                        
                           
                              
                                 p
                              
                              
                                 i
                              
                           
                        
                      and a time window defined by a lower bound 
                        
                           
                              
                                 l
                              
                              
                                 i
                              
                           
                        
                      and an upper bound 
                        
                           
                              
                                 u
                              
                              
                                 i
                              
                           
                        
                     . The profit of the foreseen targets can only be obtained in case recording at the target starts within the time window and in case the recording is finished without interruption. To each potential location 
                        
                           i
                           ∈
                           
                              
                                 N
                              
                              
                                 ′
                              
                           
                        
                      of a new target, we associate an arrival rate 
                        
                           
                              
                                 λ
                              
                              
                                 i
                              
                           
                        
                     , expressing the expected number of new targets that appear at location i per time unit. To model if a new target can be reached in time, a predefined time span U is given. If recording at that location starts within U time units after the appearance of the target, the target is classified as being reached in time. For both foreseen and new targets, no information can be obtained when the UAV arrives late. Hence, for a foreseen target no profit is obtained for both late arrival and uncompleted recording. If the UAV arrives at a target before the start of its time window, some ‘waiting time’ is required during which the UAV will loiter above the target. In all other cases, the UAV will not wait before recording or flying to the next target.

New targets (hence, time sensitive targets) have priority over the foreseen targets. Therefore, the UAV will be sent to a new target as soon as it appears, in case the probability of reaching the new target in time is above a predefined lower bound. More specifically, in case a new target appears at location 
                        
                           i
                           ∈
                           
                              
                                 N
                              
                              
                                 ′
                              
                           
                        
                      at time t, the UAV will be sent to location i in case 
                        
                           P
                           (
                           
                              
                                 t
                              
                              
                                 
                                    
                                       0
                                    
                                    
                                       t
                                    
                                 
                                 i
                              
                           
                           ⩽
                           U
                           )
                        
                      is above a predefined lower bound. Consistent with the reality of UAV mission planning, typically a relatively low probability of timely reaching the new target will be applied, due to the importance of these time-sensitive targets. Thus, whether the UAV is traveling between two targets or recording a foreseen target, the UAV will immediately be re-tasked to the new target if this ‘re-tasking criterion’ is met. Otherwise, the UAV will simply continue its planned task. When a new target appears at the moment the UAV is already heading for, or recording a previously appeared new target, the second new target will only be considered after the UAV has finished recording the first new target.

When travel and recording times are uncertain, it is also uncertain whether or not the time limit T is sufficient to complete the planned tour. Consequently, when the UAV experiences a number of relatively high travel and recording time realizations, the UAV might have to return to the depot earlier than planned, and the profit value of unvisited targets is not obtained. We assume that the UAV will return to the depot as soon as the remaining time available for the mission, 
                        
                           T
                           -
                           t
                        
                     , equals the expected time required to return from the current location directly to the depot. Note though that using this return policy might result in an arrival time at the depot that slightly exceeds T. In the UAV military mission planning context, this does not pose a problem since after a mission the UAV will not be immediately deployed to another mission due to several operational issues like maintenance. We assume that the time between missions is large enough to cover the worst-case realization of the travel time from this current location to the depot.

When modeling real-life instances of the UAV problem, we assume that the expected travel time is based on the current weather circumstances, e.g. the speed and the direction of the wind. Consequently, the possible correlation between the travel times is already captured in these expected values and thus we assume that the deviations from the expected values are uncorrelated noise. Furthermore, we assume that the imagery equipment on board is 100% operational and that the recording times already incorporate the current weather circumstances that might influence the recording time. Similarly, the possible correlation between the recording times is already captured in these expected values and thus we assume that the deviations from the expected values are uncorrelated noise.

Given the operational constraints just described, we define the online stochastic UAV mission planning problem with time windows and time-sensitive targets as constructing a tour, starting and ending at the UAV recovery point, which is re-planned before leaving each target, such that a balance is found between maximizing the profit obtained from recording a subset of the foreseen targets within their time-windows, and maximizing the percentage of new targets that is reached on time, where these new targets should be visited as soon as they appear in case the probability of timely reaching that target is above a predefined lower bound.

In this section we will introduce the MCS-OPTW, which we will use successively during the flight to re-plan the remaining part of the tour. For comparison purposes, we will first provide a formal description of the deterministic OPTW, which provides an alternative model to determine the remaining part of the tour. For both approaches, the re-planning model is used before leaving a target, to re-plan the tour based on all information on previous travel and recording time realizations. We will apply the same rule to re-task a UAV to a new target for both approaches: Whether the UAV is traveling between targets or recording a target, the UAV will be re-tasked to a new target as soon as it appears, if the probability of timely reaching the new target is above the predefined lower bound. Furthermore, for both approaches, the UAV will not record a target in case it arrives late and the UAV will return to the depot in case the remaining time of the mission equals the expected time required to return to the depot.

To perform an optimization of the deterministic OPTW at time t, we consider the set of foreseen targets 
                           
                              N
                              (
                              t
                              )
                           
                         that have not been visited yet. For notational convenience, we define the set 
                           
                              
                                 
                                    N
                                 
                                 
                                    +
                                 
                              
                              (
                              t
                              )
                              =
                              N
                              (
                              t
                              )
                              ∪
                              {
                              0
                              }
                              ∪
                              {
                              
                                 
                                    0
                                 
                                 
                                    t
                                 
                              
                              }
                           
                        . We define the OPTW on a complete graph 
                           
                              G
                              =
                              
                                 
                                    
                                       
                                          
                                             N
                                          
                                          
                                             +
                                          
                                       
                                       (
                                       t
                                       )
                                       ,
                                       A
                                       (
                                       t
                                       )
                                    
                                 
                              
                           
                        . To each arc 
                           
                              (
                              i
                              ,
                              j
                              )
                              ∈
                              A
                              (
                              t
                              )
                           
                         we associate a deterministic parameter representing the travel time required from target i to target j. We set this parameter equal to the expected travel time 
                           
                              
                                 
                                    
                                       
                                          t
                                       
                                       
                                          ij
                                       
                                    
                                 
                                 
                                    ‾
                                 
                              
                           
                        . Equivalently, we use a deterministic parameter for the recording time at target i, equal to the expected recording time 
                           
                              
                                 
                                    
                                       
                                          r
                                       
                                       
                                          i
                                       
                                    
                                 
                                 
                                    ‾
                                 
                              
                           
                        . We introduce a binary decision variable 
                           
                              
                                 
                                    x
                                 
                                 
                                    ij
                                 
                              
                           
                         for every arc 
                           
                              (
                              i
                              ,
                              j
                              )
                              ∈
                              A
                              (
                              t
                              )
                           
                         which will be assigned the value 1 if arc 
                           
                              (
                              i
                              ,
                              j
                              )
                           
                         is used in the tour and 0 otherwise. Furthermore, the decision variable 
                           
                              
                                 
                                    s
                                 
                                 
                                    i
                                 
                              
                           
                         is used to denote the time when the recording of target i starts. The goal of the OPTW is to find a maximum profit tour by visiting foreseen targets, feasible with respect to the time windows as well as the time limit of the mission, starting from the current target location of the UAV and ending at the depot. The formulation of the OPTW is the following:
                           
                              (1)
                              
                                 (
                                 OPTW
                                 )
                                 
                                 
                                    max
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          N
                                          (
                                          t
                                          )
                                       
                                    
                                 
                                 
                                 
                                    
                                       p
                                    
                                    
                                       i
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          j
                                          ∈
                                          
                                             
                                                N
                                             
                                             
                                                +
                                             
                                          
                                          (
                                          t
                                          )
                                          ⧹
                                          {
                                          i
                                          }
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       ij
                                    
                                 
                                 ,
                              
                           
                        
                        
                           
                              (2)
                              
                                 subject to
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          
                                             
                                                N
                                             
                                             
                                                +
                                             
                                          
                                          (
                                          t
                                          )
                                          ⧹
                                          {
                                          
                                             
                                                0
                                             
                                             
                                                t
                                             
                                          
                                          }
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       
                                          
                                             0
                                          
                                          
                                             t
                                          
                                       
                                       i
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          
                                             
                                                N
                                             
                                             
                                                +
                                             
                                          
                                          (
                                          t
                                          )
                                          ⧹
                                          {
                                          0
                                          }
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       i
                                       0
                                    
                                 
                                 =
                                 1
                                 ,
                              
                           
                        
                        
                           
                              (3)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          N
                                          (
                                          t
                                          )
                                          ⧹
                                          {
                                          k
                                          }
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       ik
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          N
                                          (
                                          t
                                          )
                                          ⧹
                                          {
                                          k
                                          }
                                       
                                    
                                 
                                 
                                    
                                       x
                                    
                                    
                                       ki
                                    
                                 
                                 ⩽
                                 1
                                 
                                 ∀
                                 k
                                 ∈
                                 N
                                 (
                                 t
                                 )
                                 ,
                              
                           
                        
                        
                           
                              (4)
                              
                                 
                                    
                                       s
                                    
                                    
                                       j
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ij
                                          
                                       
                                    
                                    
                                       ‾
                                    
                                 
                                 -
                                 
                                    
                                       
                                          
                                             r
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       ‾
                                    
                                 
                                 -
                                 
                                    
                                       s
                                    
                                    
                                       i
                                    
                                 
                                 ⩾
                                 (
                                 
                                    
                                       x
                                    
                                    
                                       ij
                                    
                                 
                                 -
                                 1
                                 )
                                 M
                                 
                                 ∀
                                 (
                                 i
                                 ,
                                 j
                                 )
                                 ∈
                                 A
                                 (
                                 t
                                 )
                                 ,
                              
                           
                        
                        
                           
                              (5)
                              
                                 
                                    
                                       l
                                    
                                    
                                       i
                                    
                                 
                                 ⩽
                                 
                                    
                                       s
                                    
                                    
                                       i
                                    
                                 
                                 ⩽
                                 
                                    
                                       u
                                    
                                    
                                       i
                                    
                                 
                                 
                                 ∀
                                 i
                                 ∈
                                 N
                                 (
                                 t
                                 )
                                 ∪
                                 {
                                 0
                                 }
                                 ,
                              
                           
                        
                        
                           
                              (6)
                              
                                 
                                    
                                       x
                                    
                                    
                                       ij
                                    
                                 
                                 ∈
                                 {
                                 0
                                 ,
                                 1
                                 }
                                 
                                 ∀
                                 (
                                 i
                                 ,
                                 j
                                 )
                                 ∈
                                 A
                                 (
                                 t
                                 )
                                 ,
                              
                           
                        
                     

Constraint (2) guarantees that the tour starts at the current location of the UAV and ends at the recovery point. Constraints (3) are the flow conservation constraints and ensure that a target is visited at most once. Constraints (4), where M is a sufficiently large number (e.g. the time limit T), ensure the minimum starting time at each location that is visited in the tour and prevent the construction of subtours. In these constraints, we define 
                           
                              
                                 
                                    r
                                 
                                 
                                    0
                                 
                              
                              =
                              0
                           
                        . Constraints (5) ensure that recording the target starts within the time window. Note that this model formulation allows for waiting time in case the UAV arrives at a target before the start of the time window. The waiting time before recording starts at target j is equal to the left-hand side of Constraint (4). To ensure that the UAV arrives at the recovery point in time, the time window of the depot should be defined by 
                           
                              
                                 
                                    l
                                 
                                 
                                    0
                                 
                              
                              =
                              0
                           
                         and 
                           
                              
                                 
                                    u
                                 
                                 
                                    0
                                 
                              
                              =
                              T
                           
                        .

When re-planning a tour, each time before leaving a target, we use characteristics of the probability distributions of travel and recording times to foreseen targets not yet visited, as well as the arrival rate regarding the appearances of the new, time-sensitive targets. We introduce the MCS-OPTW planning approach that balances two objectives. In the first objective, we focus on the obtainable profit by recording foreseen targets. By means of the second objective, we aim to direct the UAV to foreseen targets which are located in the proximity of the locations where new targets are expected to appear. In doing so, we will increase the probability that the UAV will timely reach a new target when it appears. In both objectives an expected value is formulated, based on the predefined probability distributions of the travel and recording times and the appearances of new targets.

First, we introduce the ‘Weighted Location Coverage’ (WLC), which provides parameters to define the second objective of the MCS-OPTW.

The new targets that we consider during the UAV flight require a short response time. Recall that the upper bound U was defined as the time within which new targets (which have priority over foreseen targets) should be reached to start the recording. At a given moment, we define a potential location to be covered if the expected time to reach the location from the current location of the UAV is at most U. At any position of the UAV in the tour, the coverage can be determined for every potential location of a new target. This evaluation is similar to what is done by Larco et al. (2012). Fig. 1
                            shows an example situation where one location is covered at the moment the UAV is located at position x, since location 2 is positioned within the circle with a radius of size U centered around x.

Instead of focusing on separate positions of the UAV in the tour, we introduce a new measure for each arc to represent the ability to timely reach new targets when the arc is used. We call this new measure the Weighted Location Coverage (WLC). Fig. 2
                            illustrates how we determine the WLC of an arc 
                              
                                 (
                                 i
                                 ,
                                 j
                                 )
                              
                           . By considering a radius of size U around potential location k, we determine the fraction 
                              
                                 
                                    
                                       b
                                    
                                    
                                       ijk
                                    
                                 
                              
                            of arc 
                              
                                 (
                                 i
                                 ,
                                 j
                                 )
                              
                            during which potential location k is covered. When recording or waiting at target j, each potential location 
                              
                                 k
                                 ∈
                                 
                                    
                                       N
                                    
                                    
                                       ′
                                    
                                 
                              
                            is either covered or not covered. We use binary parameters 
                              
                                 
                                    
                                       b
                                    
                                    
                                       jk
                                    
                                 
                              
                           , which will be assigned the value 1 in case location k is covered when the UAV is positioned at location j and 0 otherwise. This can be done for each potential location 
                              
                                 k
                                 ∈
                                 
                                    
                                       N
                                    
                                    
                                       ′
                                    
                                 
                              
                           . Now, consider a given travel time realization on arc 
                              
                                 (
                                 i
                                 ,
                                 j
                                 )
                              
                            of 
                              
                                 
                                    
                                       t
                                    
                                    
                                       ij
                                    
                                 
                              
                            and a given recording time realization at target j of 
                              
                                 
                                    
                                       r
                                    
                                    
                                       j
                                    
                                 
                              
                           . In case the UAV arrived at target j before the start of the time window, some waiting time 
                              
                                 
                                    
                                       w
                                    
                                    
                                       j
                                    
                                 
                                 >
                                 0
                              
                            was experienced before the UAV could start recording target j, and 
                              
                                 
                                    
                                       w
                                    
                                    
                                       j
                                    
                                 
                                 =
                                 0
                              
                            otherwise. To express the expected weighted number of new targets that is covered during the time frame when arc 
                              
                                 (
                                 i
                                 ,
                                 j
                                 )
                              
                            is used, we define the WLC of arc 
                              
                                 (
                                 i
                                 ,
                                 j
                                 )
                              
                           , for a given travel time 
                              
                                 
                                    
                                       t
                                    
                                    
                                       ij
                                    
                                 
                              
                           , waiting time 
                              
                                 
                                    
                                       w
                                    
                                    
                                       j
                                    
                                 
                              
                            and recording time 
                              
                                 
                                    
                                       r
                                    
                                    
                                       j
                                    
                                 
                              
                            as follows:
                              
                                 (7)
                                 
                                    
                                       
                                          c
                                       
                                       
                                          ij
                                       
                                    
                                    (
                                    
                                       
                                          t
                                       
                                       
                                          ij
                                       
                                    
                                    ,
                                    
                                       
                                          w
                                       
                                       
                                          j
                                       
                                    
                                    ,
                                    
                                       
                                          r
                                       
                                       
                                          j
                                       
                                    
                                    )
                                    =
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             k
                                             ∈
                                             
                                                
                                                   N
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   t
                                                
                                                
                                                   ij
                                                
                                             
                                             
                                                
                                                   b
                                                
                                                
                                                   ijk
                                                
                                             
                                             +
                                             (
                                             
                                                
                                                   w
                                                
                                                
                                                   j
                                                
                                             
                                             +
                                             
                                                
                                                   r
                                                
                                                
                                                   j
                                                
                                             
                                             )
                                             
                                                
                                                   b
                                                
                                                
                                                   jk
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          λ
                                       
                                       
                                          k
                                       
                                    
                                    .
                                 
                              
                           Recall that 
                              
                                 
                                    
                                       λ
                                    
                                    
                                       k
                                    
                                 
                              
                            is the expected number of new targets that appear at location k per time unit. Our approach of using the WLC as a measure for the ability to reach new requests and to incorporate this measure in the model differs from the approach suggested by Larco et al. (2012) in two main aspects. Larco et al. (2012) evaluate for each moment in a regularly spaced discretization of the tour, how many of the potential locations could be reached in time (i.e. are covered) by at least one of the vehicles in case a new request would appear. To obtain tours with high profit from foreseen locations and a high coverage of potential new locations, Larco et al. (2012) approach both problems separately. They approach the first problem by solving the associated TOPTW. Next, the coverage of a number of feasible solutions obtained for the TOPTW is evaluated separately. Instead of a discretization of the tour, using the WLC, we express the coverage of an arc analytically, which allows us to define one objective function where the expected profit to be obtained from foreseen targets and the total coverage of all arcs in a tour can be balanced by weight factors. The second difference between our approach and the approach of Larco et al. (2012), is that we incorporate the effect of uncertainty in travel and recording times on both objectives. In the next subsection we will detail these aspects.

The aim of the MCS-OPTW is to find a tour (or a path at time t from location 
                              
                                 
                                    
                                       0
                                    
                                    
                                       t
                                    
                                 
                              
                            to the depot) that balances two objectives. The first objective is to maximize the expected profit that could be obtained by recording foreseen targets that are not yet visited, based on the probability distributions of the travel and recording times, if the tour would be executed as planned. As this objective does not represent the ability of the UAV to be successfully re-tasked to new targets, the second objective models this facet of the problem. In fact, the second objective of the MCS-OPTW maximizes the expected WLC of the planned tour, based on the probability distributions of the travel and recording times. These two objectives are balanced by introducing the weight parameters 
                              
                                 α
                              
                            and 
                              
                                 β
                              
                           . Formally, the objective of the MCS-OPTW is the following:
                              
                                 (8)
                                 
                                    
                                       max
                                    
                                    α
                                    
                                    
                                       
                                          E
                                       
                                       
                                          tr
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      i
                                                      ∈
                                                      N
                                                      (
                                                      t
                                                      )
                                                   
                                                
                                             
                                             
                                                
                                                   p
                                                
                                                
                                                   i
                                                
                                             
                                             
                                                
                                                   I
                                                
                                                
                                                   ixtr
                                                
                                             
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      j
                                                      ∈
                                                      
                                                         
                                                            N
                                                         
                                                         
                                                            +
                                                         
                                                      
                                                      (
                                                      t
                                                      )
                                                      ⧹
                                                      {
                                                      i
                                                      }
                                                   
                                                
                                             
                                             
                                                
                                                   x
                                                
                                                
                                                   ij
                                                
                                             
                                          
                                       
                                    
                                    +
                                    β
                                    
                                    
                                       
                                          E
                                       
                                       
                                          tr
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      i
                                                      ∈
                                                      
                                                         
                                                            N
                                                         
                                                         
                                                            +
                                                         
                                                      
                                                      (
                                                      t
                                                      )
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      ∑
                                                   
                                                   
                                                      j
                                                      ∈
                                                      
                                                         
                                                            N
                                                         
                                                         
                                                            +
                                                         
                                                      
                                                      (
                                                      t
                                                      )
                                                      ⧹
                                                      {
                                                      i
                                                      }
                                                   
                                                
                                             
                                             
                                                
                                                   c
                                                
                                                
                                                   ij
                                                
                                             
                                             (
                                             
                                                
                                                   t
                                                
                                                
                                                   ij
                                                
                                             
                                             ,
                                             
                                                
                                                   w
                                                
                                                
                                                   j
                                                
                                             
                                             ,
                                             
                                                
                                                   r
                                                
                                                
                                                   j
                                                
                                             
                                             )
                                             
                                                
                                                   x
                                                
                                                
                                                   ij
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           where the function 
                              
                                 
                                    
                                       E
                                    
                                    
                                       tr
                                    
                                 
                                 (
                                 ·
                                 )
                              
                            expresses the expected value based on the probability distributions of the vectors of travel time parameters t and recording time parameters r. This objective function can be used to evaluate any given tour x with respect to the two objectives mentioned above. For any scenario, containing one realization 
                              
                                 
                                    
                                       t
                                    
                                    
                                       ij
                                    
                                 
                              
                            for each arc 
                              
                                 (
                                 i
                                 ,
                                 j
                                 )
                                 ∈
                                 A
                                 (
                                 t
                                 )
                              
                            and one realization 
                              
                                 
                                    
                                       r
                                    
                                    
                                       j
                                    
                                 
                              
                            for each target j 
                           
                              
                                 ∈
                                 N
                                 (
                                 t
                                 )
                              
                           , the indicator variable 
                              
                                 
                                    
                                       I
                                    
                                    
                                       ixtr
                                    
                                 
                              
                            is assigned the value 1 if, for the given tour described by x, target i can be reached before the end of its time window (and can thus start its recording), and 0 otherwise. As such, the values 
                              
                                 
                                    
                                       I
                                    
                                    
                                       ixtr
                                    
                                 
                              
                            take into account that when the UAV arrives late, no recording will take place and the UAV will continue to the next target. On the other hand, if the UAV arrives before the start of the time window, some waiting time is required before the UAV can start recording at time 
                              
                                 
                                    
                                       l
                                    
                                    
                                       i
                                    
                                 
                              
                           . These waiting time realizations follow directly from the travel and recording time realizations and the lower bounds of the time windows. (That is why 
                              
                                 
                                    
                                       E
                                    
                                    
                                       tr
                                    
                                 
                              
                            does not include an index for the waiting times w.) Furthermore, as described in Section 3, we take into account that the return policy prescribes that the UAV returns to the depot at the first time t at which the remaining time available for the mission 
                              
                                 T
                                 -
                                 t
                              
                            equals the expected time required to return from the current location directly to the depot. Therefore, for the targets 
                              
                                 i
                                 ∈
                                 N
                                 (
                                 t
                                 )
                              
                            selected in the tour, 
                              
                                 
                                    
                                       I
                                    
                                    
                                       ixtr
                                    
                                 
                              
                            might be assigned the value 0 as a result of either late arrival or early abortion of the tour. As such, for a specific scenario, the total obtainable profit value can be determined. Similarly, for a specific scenario, the WLC of a tour can be determined, based also on the resulting waiting times and by taking into account the return policy. In case one or more of the final arcs in the tour would be skipped due to the return policy, these arcs will not contribute to the WLC of the tour. Of course, these issues and the dependence between the values 
                              
                                 
                                    
                                       I
                                    
                                    
                                       ixtr
                                    
                                 
                              
                            of consecutive targets in the tour, prevent the possibility of expressing 
                              
                                 
                                    
                                       E
                                    
                                    
                                       tr
                                    
                                 
                                 (
                                 ·
                                 )
                              
                            analytically.

When constructing and evaluating solutions in the next section, we will use a large number of scenarios and calculate the average profit obtainable from recording foreseen targets and the average WLC over all these scenarios. This evaluation is not computationally expensive, since it is linear in the number of scenarios.

As the route of the UAV is re-planned each time before leaving a target, a fast solution approach is required. Recently, such a fast solution approach was developed for the deterministic (T)OPTW by Vansteenwegen, Souffriau, Berghe, and Oudheusden (2009). This heuristic provides high quality results for the deterministic (T)OPTW in very limited computation time. Since we will use the OPTW planning approach for comparison purposes, we will use this (T)OPTW heuristic to re-plan the tour before leaving each target in the OPTW planning approach. For the MCS-OPTW planning approach on the other hand, we will develop a new heuristic that differs from the (T)OPTW heuristics in two aspects: The MCS-OPTW heuristic takes uncertainty in travel and recording times into account, and the possible new targets are taken into account through the expected WLC of the tour. We will now describe the (T)OPTW heuristic and the MCS-OPTW heuristic respectively.

Here, we will briefly discuss the local search heuristic that was developed for the (T)OPTW, within which all parameters are assumed to be deterministic. For full details of the heuristics we refer to the paper by Vansteenwegen et al. (2009). The heuristic creates a sequence of solutions by iteratively adjusting the current solution by removing a varying number of locations from the current solution and inserting new locations where possible. At the end it returns the solution which could not be improved for a fixed number of iterations.

For each location in the current solution a number of characteristics is stored, such that the feasibility of insertions of new locations can be checked quickly. Suppose the current solution contains the ordered sequence of targets 
                           
                              i
                              ,
                              j
                           
                         and k, we will describe the characteristics that are stored for each target, by focusing on the target in the middle, target j. The characteristics that are stored for target j are: the arrival time (
                           
                              
                                 
                                    a
                                 
                                 
                                    j
                                 
                              
                           
                        ), the time when recording can start (
                           
                              
                                 
                                    s
                                 
                                 
                                    j
                                 
                              
                           
                        ), the possible waiting time before recording can start (
                           
                              
                                 
                                    w
                                 
                                 
                                    j
                                 
                              
                           
                        ) and finally, the maximum time (
                           
                              
                                 
                                    m
                                 
                                 
                                    j
                                 
                              
                           
                        ) the start of recording may be shifted ahead without violating any of the time windows of the targets in the tour, ‘max shift’. Recall that we only allow solutions in which recording starts as soon as possible, but the max shift is stored for each target in the current solution to check if insertions of other targets before that target are feasible. The precedence relations between the targets in the current solution are the following:
                           
                              •
                              
                                 arrival time: 
                                 
                                    
                                       
                                          
                                             a
                                          
                                          
                                             j
                                          
                                       
                                       =
                                       
                                          
                                             s
                                          
                                          
                                             i
                                          
                                       
                                       +
                                       
                                          
                                             r
                                          
                                          
                                             i
                                          
                                       
                                       +
                                       
                                          
                                             t
                                          
                                          
                                             ij
                                          
                                       
                                    
                                 ,


                                 start of recording: 
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             j
                                          
                                       
                                       =
                                       max
                                       (
                                       
                                          
                                             a
                                          
                                          
                                             j
                                          
                                       
                                       ,
                                       
                                          
                                             l
                                          
                                          
                                             j
                                          
                                       
                                       )
                                    
                                 ,


                                 waiting time: 
                                 
                                    
                                       
                                          
                                             w
                                          
                                          
                                             j
                                          
                                       
                                       =
                                       max
                                       (
                                       
                                          
                                             l
                                          
                                          
                                             j
                                          
                                       
                                       -
                                       
                                          
                                             a
                                          
                                          
                                             j
                                          
                                       
                                       ,
                                       0
                                       )
                                    
                                 ,


                                 max shift: 
                                 
                                    
                                       
                                          
                                             m
                                          
                                          
                                             j
                                          
                                       
                                       =
                                       min
                                       (
                                       
                                          
                                             u
                                          
                                          
                                             j
                                          
                                       
                                       -
                                       
                                          
                                             s
                                          
                                          
                                             j
                                          
                                       
                                       ,
                                       
                                          
                                             w
                                          
                                          
                                             k
                                          
                                       
                                       +
                                       
                                          
                                             m
                                          
                                          
                                             k
                                          
                                       
                                       )
                                    
                                 , where 
                                    
                                       
                                          
                                             m
                                          
                                          
                                             0
                                          
                                       
                                       =
                                       T
                                       -
                                       
                                          
                                             s
                                          
                                          
                                             0
                                          
                                       
                                    
                                 .

The above relations state that recording will start either immediately at arrival (when the UAV arrives within the time window of the target), or some waiting time is occurred before recording can start (when the UAV arrives before the start of the time window of the target). The maximum time target j could be shifted ahead without making the current tour infeasible, depends on the upper bound of the time window of target j itself (
                           
                              
                                 
                                    u
                                 
                                 
                                    j
                                 
                              
                           
                        ), as well as the on the time windows of all targets following target j in the current solution, incorporated in the max shift of target k.

A target is candidate for insertion in the current tour, only if the insertion will not violate its own time window, nor the time windows of succeeding targets. Therefore, to evaluate if a target 
                           
                              
                                 
                                    j
                                 
                                 
                                    ′
                                 
                              
                           
                         could be inserted after target j, the following two feasibility conditions need to be satisfied:
                           
                              •
                              
                                 
                                    
                                       
                                          
                                             a
                                          
                                          
                                             
                                                
                                                   j
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                       =
                                       
                                          
                                             s
                                          
                                          
                                             j
                                          
                                       
                                       +
                                       
                                          
                                             r
                                          
                                          
                                             j
                                          
                                       
                                       +
                                       
                                          
                                             t
                                          
                                          
                                             
                                                
                                                   jj
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                       ⩽
                                       
                                          
                                             u
                                          
                                          
                                             
                                                
                                                   j
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                    
                                 ,


                                 
                                    
                                       
                                          
                                             shift
                                          
                                          
                                             
                                                
                                                   j
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                       =
                                       
                                          
                                             t
                                          
                                          
                                             
                                                
                                                   jj
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                       +
                                       
                                          
                                             w
                                          
                                          
                                             
                                                
                                                   j
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                       +
                                       
                                          
                                             r
                                          
                                          
                                             
                                                
                                                   j
                                                
                                                
                                                   ′
                                                
                                             
                                          
                                       
                                       +
                                       
                                          
                                             t
                                          
                                          
                                             
                                                
                                                   j
                                                
                                                
                                                   ′
                                                
                                             
                                             k
                                          
                                       
                                       -
                                       
                                          
                                             t
                                          
                                          
                                             jk
                                          
                                       
                                       ⩽
                                       
                                          
                                             w
                                          
                                          
                                             k
                                          
                                       
                                       +
                                       
                                          
                                             m
                                          
                                          
                                             k
                                          
                                       
                                    
                                 .

The value 
                           
                              
                                 
                                    shift
                                 
                                 
                                    
                                       
                                          j
                                       
                                       
                                          ′
                                       
                                    
                                 
                              
                           
                         represents the total additional time required to insert target 
                           
                              
                                 
                                    j
                                 
                                 
                                    ′
                                 
                              
                           
                         in the current tour between targets j and k. The lowest possible shift determines the best insertion position in the current tour for each candidate target. The target with the highest value of the ratio 
                           
                              
                                 
                                    p
                                 
                                 
                                    
                                       
                                          j
                                       
                                       
                                          ′
                                       
                                    
                                 
                                 
                                    2
                                 
                              
                              /
                              
                                 
                                    shift
                                 
                                 
                                    
                                       
                                          j
                                       
                                       
                                          ′
                                       
                                    
                                 
                              
                           
                         will then be selected for insertion. Vansteenwegen et al. (2011) showed that applying the square in this ratio gives better results than using just the ratio between profit and the shift value. After insertion the characteristics of all targets in the current tour are updated. This insertion process is continued until no feasible candidate targets are available. The total profit value of the solution is then evaluated (assuming that travel and recording times are deterministic) and compared to the best solution found so far.

As mentioned in the beginning, in each iteration of the heuristic some targets will be removed from the current solution and some targets will be reinserted. The set of targets that will be removed is a consecutive sequence of targets with a variable length and a variable starting point from where the removal starts. After removal, the targets following the removed targets are shifted towards the beginning of the tour to avoid unnecessary waiting time. The resulting updated values of wait and max shift might allow for insertion of target(s) with a higher combined score than the removed targets, possibly resulting in a tour with a higher total profit.

The (T)OPTW heuristic just described is based on the assumption that travel and recording times are deterministic. When in reality travel and recording times are uncertain, using this solution might not be the best choice with respect to the obtainable profit by recording foreseen targets and/or the number of new targets that can be reached in time. We will now discuss the differences (w.r.t. the feasibility conditions, the selection criterion and the fitness function) between the (T)OPTW heuristic and the MCS-OPTW heuristic. This heuristic uses characteristics of the probability distribution of travel and recording times, while possible new targets are taken into account using the expected WLC. The pseudo code of the this heuristic is presented in Algorithm 5.1. Regarding the pseudo code, the input consists of the graph with arcs connecting all foreseen unrecorded targets at time t, the current location and the depot, the coverage fractions 
                           
                              
                                 
                                    b
                                 
                                 
                                    ijk
                                 
                              
                           
                         and coverage indicators 
                           
                              
                                 
                                    b
                                 
                                 
                                    jk
                                 
                              
                           
                         and a set S of scenarios, each containing one travel time realization for each arc and one recording time realization for each target.
                           Algorithm 5.1
                           MCS-OPTW Heuristic 
                                 
                                    (
                                    G
                                    (
                                    
                                       
                                          N
                                       
                                       
                                          +
                                       
                                    
                                    (
                                    t
                                    )
                                    ,
                                    A
                                    )
                                    ,
                                    
                                       
                                          b
                                       
                                       
                                          ijk
                                       
                                    
                                    ,
                                    
                                       
                                          b
                                       
                                       
                                          jk
                                       
                                    
                                    ,
                                    S
                                    )
                                 
                               
                              
                                 
                                    
                                 
                              
                           

Under uncertainty, travel and recording times might be higher or lower than expected. On one hand, planned profit might be unobtainable due to high travel and/or recording time realizations that cause the realized arrival time of the UAV at the target to exceed the upper bound of the time window. On the other hand, part of the targets are disregarded in constructing the deterministic OPTW solution, while including some of these targets might increase the expected profit in the MCS-OPTW objective function. More specifically, in the deterministic solution targets will only be included if the deterministic arrival time at a target does not exceed the end of the time window of that target. In case a realization is lower than expected, certain targets that are infeasible in the deterministic approach, could then be feasible. Consequently, even though a target might have a relatively low probability of being reachable before the end of its time window, the profit of that target might be high enough that including the target in the tour will result in a higher expected profit than the expected profit of the deterministic solution. In order to adequately model these issues, we will use characteristics of the probability distributions in our heuristic.

Recall that 
                              
                                 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ij
                                          
                                       
                                    
                                    
                                       ‾
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       
                                          
                                             r
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       ‾
                                    
                                 
                              
                            define the expected values of the distributions of the travel time 
                              
                                 
                                    
                                       t
                                    
                                    
                                       ij
                                    
                                 
                              
                            and recording time 
                              
                                 
                                    
                                       r
                                    
                                    
                                       i
                                    
                                 
                              
                            respectively, and suppose that 
                              
                                 
                                    
                                       σ
                                    
                                    
                                       ij
                                    
                                    
                                       t
                                    
                                 
                              
                            and 
                              
                                 
                                    
                                       σ
                                    
                                    
                                       i
                                    
                                    
                                       r
                                    
                                 
                              
                            are some measure of statistical dispersion of these distributions, like the standard deviation. To decide whether or not to insert targets, we will adjust the feasibility conditions such that we allow individual travel and recording time realizations that are 
                              
                                 ρ
                              
                            times this dispersion measure lower than the expected value of the associated parameter. By this adjustment, part of the targets for which the expected arrival time is too high to be allowed for insertion in the deterministic approach, will now be allowed for insertion in the MCS-OPTW heuristic. The earliest realized arrival time allowed to insert target 
                              
                                 
                                    
                                       j
                                    
                                    
                                       ′
                                    
                                 
                              
                            after target j and the associated largest waiting time allowed will be the following:
                              
                                 
                                    
                                       
                                          a
                                       
                                       
                                          
                                             
                                                j
                                             
                                             
                                                ′
                                             
                                          
                                       
                                       
                                          ∗
                                       
                                    
                                    =
                                    
                                       
                                          s
                                       
                                       
                                          j
                                       
                                    
                                    +
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         r
                                                      
                                                      
                                                         j
                                                      
                                                   
                                                
                                                
                                                   ‾
                                                
                                             
                                             -
                                             ρ
                                             
                                                
                                                   σ
                                                
                                                
                                                   j
                                                
                                                
                                                   r
                                                
                                             
                                          
                                       
                                    
                                    +
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         t
                                                      
                                                      
                                                         
                                                            
                                                               jj
                                                            
                                                            
                                                               ′
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   ‾
                                                
                                             
                                             -
                                             ρ
                                             
                                                
                                                   σ
                                                
                                                
                                                   
                                                      
                                                         jj
                                                      
                                                      
                                                         ′
                                                      
                                                   
                                                
                                                
                                                   t
                                                
                                             
                                          
                                       
                                    
                                    
                                    and
                                    
                                    
                                       
                                          w
                                       
                                       
                                          
                                             
                                                j
                                             
                                             
                                                ′
                                             
                                          
                                       
                                       
                                          ∗
                                       
                                    
                                    =
                                    
                                       max
                                    
                                    
                                       
                                          
                                             
                                                
                                                   l
                                                
                                                
                                                   
                                                      
                                                         j
                                                      
                                                      
                                                         ′
                                                      
                                                   
                                                
                                             
                                             -
                                             
                                                
                                                   a
                                                
                                                
                                                   
                                                      
                                                         j
                                                      
                                                      
                                                         ′
                                                      
                                                   
                                                
                                                
                                                   ∗
                                                
                                             
                                             ,
                                             0
                                          
                                       
                                    
                                    .
                                 
                              
                           
                        

When we use a similar approach to define the lowest shift allowed to insert target 
                              
                                 
                                    
                                       j
                                    
                                    
                                       ′
                                    
                                 
                              
                            between target j and k, we can define the following two feasibility conditions:
                              
                                 •
                                 
                                    
                                       
                                          
                                             
                                                a
                                             
                                             
                                                
                                                   
                                                      j
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             
                                             
                                                ∗
                                             
                                          
                                          =
                                          
                                             
                                                s
                                             
                                             
                                                j
                                             
                                          
                                          +
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               r
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                      
                                                         ‾
                                                      
                                                   
                                                   -
                                                   ρ
                                                   
                                                      
                                                         σ
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                             
                                          
                                          +
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               t
                                                            
                                                            
                                                               
                                                                  
                                                                     jj
                                                                  
                                                                  
                                                                     ′
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         ‾
                                                      
                                                   
                                                   -
                                                   ρ
                                                   
                                                      
                                                         σ
                                                      
                                                      
                                                         
                                                            
                                                               jj
                                                            
                                                            
                                                               ′
                                                            
                                                         
                                                      
                                                      
                                                         t
                                                      
                                                   
                                                
                                             
                                          
                                          ⩽
                                          
                                             
                                                u
                                             
                                             
                                                
                                                   
                                                      j
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             
                                          
                                       
                                    ,


                                    
                                       
                                          
                                             
                                                shift
                                             
                                             
                                                
                                                   
                                                      j
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             
                                             
                                                ∗
                                             
                                          
                                          =
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               t
                                                            
                                                            
                                                               
                                                                  
                                                                     jj
                                                                  
                                                                  
                                                                     ′
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         ‾
                                                      
                                                   
                                                   -
                                                   ρ
                                                   
                                                      
                                                         σ
                                                      
                                                      
                                                         
                                                            
                                                               jj
                                                            
                                                            
                                                               ′
                                                            
                                                         
                                                      
                                                      
                                                         t
                                                      
                                                   
                                                
                                             
                                          
                                          +
                                          
                                             
                                                w
                                             
                                             
                                                
                                                   
                                                      j
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             
                                             
                                                ∗
                                             
                                          
                                          +
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               r
                                                            
                                                            
                                                               
                                                                  
                                                                     j
                                                                  
                                                                  
                                                                     ′
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                      
                                                         ‾
                                                      
                                                   
                                                   -
                                                   ρ
                                                   
                                                      
                                                         σ
                                                      
                                                      
                                                         
                                                            
                                                               j
                                                            
                                                            
                                                               ′
                                                            
                                                         
                                                      
                                                      
                                                         r
                                                      
                                                   
                                                
                                             
                                          
                                          +
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               t
                                                            
                                                            
                                                               
                                                                  
                                                                     j
                                                                  
                                                                  
                                                                     ′
                                                                  
                                                               
                                                               k
                                                            
                                                         
                                                      
                                                      
                                                         ‾
                                                      
                                                   
                                                   -
                                                   ρ
                                                   
                                                      
                                                         σ
                                                      
                                                      
                                                         
                                                            
                                                               j
                                                            
                                                            
                                                               ′
                                                            
                                                         
                                                         k
                                                      
                                                      
                                                         t
                                                      
                                                   
                                                
                                             
                                          
                                          -
                                          
                                             
                                                
                                                   
                                                      t
                                                   
                                                   
                                                      jk
                                                   
                                                
                                             
                                             
                                                ‾
                                             
                                          
                                          ⩽
                                          
                                             
                                                w
                                             
                                             
                                                k
                                             
                                          
                                          +
                                          
                                             
                                                m
                                             
                                             
                                                k
                                             
                                          
                                       
                                    .

Note that shift is determined by considering travel and recording times smaller than the expected value, only for the times associated to the additional target 
                              
                                 
                                    
                                       j
                                    
                                    
                                       ′
                                    
                                 
                              
                           . The removal of arc 
                              
                                 (
                                 j
                                 ,
                                 k
                                 )
                              
                            from the tour, which would take place in case target 
                              
                                 
                                    
                                       j
                                    
                                    
                                       ′
                                    
                                 
                              
                            would be added, is based on the expected travel time. This is done since we will store the characteristics of the targets in the current solution based on their expected values. More specifically, the characteristics of the targets (arrival time, start of recording, waiting time and max shift) are set as if all parameters are equal to the deterministic values. Hence, for insertion we consider a wider range of feasible targets, but, if inserted, these targets will be stored in the current tour based on their expected value. In this way we will be able to construct stable tours, since possible lateness at one target is likely to be compensated when arriving at the next target. Note that by storing the targets in that way, some targets will have an expected start of recording time which is higher than the upper bound of the associated time window, and consequently, these targets will have a negative value of max shift.

Recall that in the (T)OPTW heuristic, in each insertion step, the target with the highest ratio of 
                              
                                 
                                    
                                       p
                                    
                                    
                                       
                                          
                                             j
                                          
                                          
                                             ′
                                          
                                       
                                    
                                    
                                       2
                                    
                                 
                                 /
                                 
                                    
                                       shift
                                    
                                    
                                       
                                          
                                             j
                                          
                                          
                                             ′
                                          
                                       
                                    
                                 
                              
                            is selected out of all targets which are candidate for insertion. When evaluating if target 
                              
                                 
                                    
                                       j
                                    
                                    
                                       ′
                                    
                                 
                              
                            should be inserted between target j and k, we use the following value instead, to take uncertainty in travel and recording times into account:
                              
                                 
                                    
                                       
                                          
                                             
                                                (
                                                P
                                                (
                                                
                                                   
                                                      a
                                                   
                                                   
                                                      
                                                         
                                                            j
                                                         
                                                         
                                                            ′
                                                         
                                                      
                                                   
                                                
                                                ⩽
                                                
                                                   
                                                      u
                                                   
                                                   
                                                      
                                                         
                                                            j
                                                         
                                                         
                                                            ′
                                                         
                                                      
                                                   
                                                
                                                )
                                                
                                                   
                                                      p
                                                   
                                                   
                                                      
                                                         
                                                            j
                                                         
                                                         
                                                            ′
                                                         
                                                      
                                                   
                                                
                                                )
                                             
                                             
                                                2
                                             
                                          
                                       
                                       
                                          
                                             
                                                shift
                                             
                                             
                                                
                                                   
                                                      j
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             
                                          
                                       
                                    
                                    ,
                                 
                              
                           where 
                              
                                 P
                                 
                                    
                                       
                                          
                                             
                                                a
                                             
                                             
                                                
                                                   
                                                      j
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             
                                          
                                          ⩽
                                          
                                             
                                                u
                                             
                                             
                                                
                                                   
                                                      j
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                            is the probability that the UAV arrives at target 
                              
                                 
                                    
                                       j
                                    
                                    
                                       ′
                                    
                                 
                              
                            no later than the end of the time window 
                              
                                 
                                    
                                       u
                                    
                                    
                                       
                                          
                                             j
                                          
                                          
                                             ′
                                          
                                       
                                    
                                 
                              
                           , based on the expected starting time at target j (as stored in the characteristics of the current solution) and the predefined probability distributions of both the recording time at target j and the travel time from target j to target 
                              
                                 
                                    
                                       j
                                    
                                    
                                       ′
                                    
                                 
                              
                           .

For the deterministic OPTW, the objective value represents the total profit of the targets in the tour that can be recorded within their time window, without violating the duration limit of the mission, by assuming that all travel and recording times are deterministic. Therefore, in the (T)OPTW heuristic solutions are evaluated using their objective value in the OPTW and the solution with the highest objective value is selected. Since this evaluation is used in constructing solutions, the OPTW objective in the (T)OPTW heuristic is actually a ‘fitness function’. For the heuristic based on the MCS-OPTW planning approach, the fitness function is the MCS-OPTW objective function value (8). To estimate this, we use a large number of scenarios, and calculate the average profit obtainable from recording foreseen targets and the average WLC of the planned tour over all scenarios. Accounting for uncertainty in the MCS-OPTW does not require substantially more computation time than the (T)OPTW heuristic, since the evaluation of this fitness function is linear in the number of scenarios and most time is spent on searching the solution space in both heuristics.

In this section we will present several computational experiments to illustrate the use of the MCS-OPTW planning approach and its benefits compared to the deterministic OPTW approach. In order to evaluate the MCS-OPTW planning approach, we consider a large number of UAV mission flights. These flights correspond to the realizations of travel and recording times, as well as the realizations of appearances of new targets. Note that these simulations actually represent how a UAV flight could be performed in reality, while the scenarios of travel and recording times used in the MSC-OPTW heuristics are merely used to constantly re-evaluate its fitness function, resulting in the target planned to be visited next. We will respectively discuss the data, the settings and the results of our experiments. All experiments are performed on an Intel (R) Core (TM) i7 CPU, 2.4gigahertz, 8.00GB of RAM. The heuristics were implemented in Java as described in Sections 5.1 and 5.2. The maximum computation times required to re-plan the tour range between one and three seconds, depending on the test instance.

Firstly, we will discuss the data of the foreseen targets, and secondly we will describe three situations regarding the appearance of new targets and the settings that are applied for visiting new targets.

Real instances of UAV planning problems are restricted due to security reasons. Therefore, we use representative data to illustrate the use and the benefits of the MCS-OPTW. We use the benchmark data set ‘Solomon r10∗’, which was originally designed for the VRP with time windows by Solomon (1987) but was adjusted for the (T)OPTW by Righini and Salani (2009). This data set was also used by Vansteenwegen et al. (2009) to test their (T)OPTW heuristic. In their experiments, Vansteenwegen et al. (2009) use several data sets to show that their heuristic is able to find good quality solutions for the deterministic (T)OPTW in limited computation time. Solomons’s test data also include other data sets, but we use set r10∗ since these data represent best the data that one encounters in UAV mission planning, regarding the dispersion of the targets in the area and the duration of recording time relative to travel time. For our experiments, we selected instance r101 and r108. These instances are the same with respect to the time limit, the locations, their service times (in our case recording times) and profit values, but the time windows are different. The average distance between any two locations is 15.0 and the maximum distance is 91.8. The time limit is 230, the service time at each location is 10 and the profits range from 2 to 36. The travel times in the data sets are assumed to be equal to the Euclidean distance between the locations. The length of the time windows of each of the 100 targets in instance r101 is 10 time units. In instance r108 on the other hand, only 25 percent of the targets have a time window of 10 time units, while all other targets have a time window with a length of 170 units or more, which is relatively large compared to the time limit of the tour of 230 units. We use these two instances to illustrate the effect of the length of the time windows on the topology of the tours that will result from the MCS-OPTW planning approach and the average number of new targets that can be reached in time.

Since the standard (T)OPTW is deterministic, the test instances do not contain parameters about uncertainty. Therefore, we defined probability distributions for the travel times between each two locations, as well as for the recording times at each location. As mentioned in Section 3, the travel and recording times can be assumed independent. We set the expected value of these parameters equal to the deterministic values as provided in the data set. In order to fully explore the potential of the proposed approach, we use two different distributions: a normal distribution with a moderate standard deviation and a gamma distribution (which is asymmetric) with a relatively large standard deviation. Regarding the standard deviation of the normal distribution, we take 15 percent of the deterministic value for the travel times, while for the recording times we take 25 percent of the deterministic value. In practice, the recording time required to obtain the desired quality of imagery may deviate more from the expected value than the travel times between targets, due to the fact target to be recorded might be different than what was expected. For the gamma distribution we use a scale parameter of 
                              
                                 0.25
                                 
                                    
                                       
                                          
                                             t
                                          
                                          
                                             ij
                                          
                                       
                                    
                                    
                                       ‾
                                    
                                 
                              
                            and 
                              
                                 0.25
                                 
                                    
                                       
                                          
                                             r
                                          
                                          
                                             j
                                          
                                       
                                    
                                    
                                       ‾
                                    
                                 
                              
                            (for the travel time between i and j and the recording time at j respectively) and a shape parameter of 4, which gives the same expected value as the normal distribution but a much higher standard deviation. We use this probability distribution to illustrate how the MCS-OPTW planning approach performs under increasing levels of uncertainty. Obviously, any other probability distribution could also be applied, since our heuristic makes use of samples from the probability distribution to evaluate the fitness function.


                           Figs. 3–5
                           
                           
                            each depict both the foreseen targets of the data set r10∗ and a set of potential locations where new, time-sensitive targets may appear, which are represented by the blue squares. We consider three illustrative problem situations to evaluate how the MCS-OPTW performs depending on how the potential locations of new requests are located in the area. For the first, we have situated these locations on a vertical line on the right side of the area. This line could for example represent the border of a country where suspicious activities might take place. In the second situation that we considered, depicted in Fig. 4, the potential locations of new targets are positioned in two separate clusters. This situation illustrates for example important locations in two separate towns. In the third situation, depicted in Fig. 5, the targets are more spread out over the entire area than in the first two situations. For all experiments, we set the radius within which a potential location of a new target is defined to be covered (and reached in time during the execution stage) at 
                              
                                 U
                                 =
                                 25
                              
                           , which is applied to all potential locations. For the sake of simplicity, the area that covers a potential location is illustrated in each of the figures for only one of the potential locations.

In our experiments, new targets will be generated at the predefined possible locations 
                              
                                 i
                                 ∈
                                 
                                    
                                       N
                                    
                                    
                                       ′
                                    
                                 
                              
                            according to a Poisson process with an individual arrival rate 
                              
                                 
                                    
                                       λ
                                    
                                    
                                       i
                                    
                                 
                              
                           . We define the overall arrival rate 
                              
                                 λ
                              
                            as the expected total number of new targets that appear during the time span 
                              
                                 T
                                 -
                                 
                                    
                                       t
                                    
                                    
                                       n
                                    
                                 
                              
                           , where 
                              
                                 
                                    
                                       t
                                    
                                    
                                       n
                                    
                                 
                              
                            is the expected time required to the depot, from the potential new target location which is closest to the depot. Note that due to the definition of the return policy, the UAV will not be sent to new targets that appear after time 
                              
                                 T
                                 -
                                 
                                    
                                       t
                                    
                                    
                                       n
                                    
                                 
                              
                           . The numbers on the left of the potential locations in Figs. 3–5 denote the relative arrival rates. We apply an overall arrival rate in these experiments of 
                              
                                 λ
                                 =
                                 2
                              
                            and the individual arrival rate 
                              
                                 
                                    
                                       λ
                                    
                                    
                                       i
                                    
                                 
                              
                            at each potential location 
                              
                                 i
                                 ∈
                                 
                                    
                                       N
                                    
                                    
                                       ′
                                    
                                 
                              
                            is scaled accordingly.

We define the re-tasking criterion such that the UAV is sent directly to a new target in case the probability of timely reaching it in time is at least 
                              
                                 P
                                 (
                                 
                                    
                                       a
                                    
                                    
                                       new
                                    
                                 
                                 <
                                 0.85
                                 
                                    
                                       
                                          
                                             a
                                          
                                          
                                             new
                                          
                                       
                                    
                                    
                                       ‾
                                    
                                 
                                 )
                              
                           , where 
                              
                                 
                                    
                                       a
                                    
                                    
                                       new
                                    
                                 
                              
                            is the realized arrival time at the new target and 
                              
                                 
                                    
                                       
                                          
                                             a
                                          
                                          
                                             new
                                          
                                       
                                    
                                    
                                       ‾
                                    
                                 
                              
                            is the expected arrival time, based on the current location of the UAV and the location of the new target. Equivalent to the travel times between foreseen targets given in the data, we set the travel times from and to new targets equal to the Euclidean distance. The expected recording times are set equal to the expected recording times of the foreseen targets aslo. We assume that both travel and recording times related to the new targets follow the same probability distribution as the travel and recording times of the foreseen targets: normal or gamma, depending on the test setting, with the associated standard deviation.

We obtained 12 test settings by selecting one of the two instances (r101 or r108), a probability distribution (gamma or normal) and new target situation (one of the three just described). For each test setting, we will evaluate the MCS-OPTW planning approach for different values of 
                           
                              β
                           
                        . Recall that 
                           
                              β
                           
                         represents the weight of the WLC in the objective function of the MCS-OPTW, which is used to direct the UAV to the areas where new targets are expected to appear. Without loss of generality, we set 
                           
                              α
                           
                         and 
                           
                              β
                           
                         in the MCS-OPTW objective such that 
                           
                              α
                              +
                              β
                              =
                              1
                           
                        . Before leaving each target, the MCS-OPTW heuristic is applied. The UAV will head for the first target in the solution and will only divert from its path in case a new target appears in the meantime, which has a high enough probability of being reached in time, or when the return policy prescribes that the UAV should return to the depot. Recall that no recording will take place in case the UAV arrives late at a target. For comparison purposes, for each test setting we will also perform experiments by using the deterministic OPTW planning approach, in which re-planning is applied before leaving each target and where the same operational rules are applied. In the OPTW approach, the re-planned tours are obtained by the (T)OPTW heuristic.

Recall that the stop criterion in both heuristics is reached when no improvements to the best solution are found during a fixed number of iterations. We set this fixed number at 1000. In the MCS-OPTW heuristic, we use 100 scenarios in the evaluation of the fitness function, since this already produces similar results as when using a higher number of scenarios. Based on preliminary testing, we set the slack parameter 
                           
                              ρ
                              =
                              0.5
                           
                         to allow for realizations lower than expected in the feasibility conditions of the MCS-OPTW heuristic.

Although a smaller number already produces stable results, we use 800 simulated UAV mission flights to evaluating both planning approaches. Recall that each simulated UAV mission flight is based not only on specific travel and recording time realizations, but also on a generated list of new targets that appear during the flight. The performance of both planning approaches in each test setting will be evaluated by computing the two goals of the online stochastic UAV mission planning problem with time windows and time-sensitive targets: the average profit obtained by recording foreseen targets, and the average percentage of timely reached new targets, over all scenarios. To make a fair comparison between the performance of the OPTW planning approach and the MCS-OPTW planning approach, the approaches are tested under the same circumstances (equal travel and recording times and new targets) in the set of simulated flights.

@&#RESULTS@&#

We will first illustrate the MCS-OPTW planning approach for one test setting in one UAV mission flight. Next, we will present the results of the performance measures, averaged over all flights for each test setting. We will also show how the test settings influence the topology of the planned tours.

To illustrate the MCS-OPTW planning approach, we will show how the planned tour evolves based on previous travel and recording time realizations and the appearance of new targets in one specific flight. For this purpose, we use the instance with large time windows r108 in Situation 1, with normally distributed travel and recording times and we will apply MCS-OPTW planning approach with 
                              
                                 β
                                 =
                                 0.2
                              
                           . Figs. 6–11
                           
                           
                           
                           
                           
                            show the location of the UAV at several consecutive moments during the flight (denoted by the point of the red arrow) and the planned path for the remaining time capacity (denoted by the dashed line). In this illustrative scenario, two new targets appear during the flight of the UAV (represented by the yellow circles). For the first, the UAV is located too far away from the location of the new target to meet the re-tasking criterion, see Fig. 7. The second new target appears at a later moment during the flight at which the UAV is close enough to be re-tasked to the new target and to timely reach it, see Fig. 10. Also, at two moments after recording a target the planned tour was adjusted based on previous travel and visiting realizations, which is depicted in Figs. 8 and 9.


                           Table 1
                            contains results obtained by different settings of 
                              
                                 β
                              
                            in the MCS-OPTW planning approach and those of the OPTW planning approach. We left out the results for values of 
                              
                                 β
                              
                            between 0.5 and 1, since the results do not change much from 0.5 to 1. For each test setting, the values of both objectives are given: the average realized profit by recording foreseen targets and the average percentage of new targets that was reached in time over 800 UAV mission flights. The computational results show clearly that for these test settings the following observations can be made:
                              
                                 •
                                 
                                    
                                       
                                          β
                                       
                                     is an adequate tuning parameter in the MCS-OPTW approach to increase the average number of timely reached new targets. This is not straightforward, since we do not incorporate future decisions in our model in an exact way. Instead, the MCS-OPTW aims to deal with these future stochastic events, using the coverage measure WLC, to direct the UAV to areas where new targets are expected to appear. These results show that timely reaching new targets can be achieved best when the new target locations are concentrated in one area, which is the case in Situation 1. For Situation 2, where the locations are divided over two clusters, some gain can still be achieved. In Situation 3 the gain in the average number of timely reached new targets is the lowest. The locations for new targets are spread out in such a way that new targets often do not meet the re-tasking criterion. Of course, visiting new targets occurs at the expense of foreseen targets. Hence, 
                                       
                                          β
                                       
                                     can be chosen in such a way that the desired trade-off between the two performance measures is obtained.

The MCS-OPTW planning approach outperforms the deterministic OPTW approach, since it takes stochasticity of travel and recording times into account in the planning stage. The MCS-OPTW approach finds solutions that dominate the OPTW approach (i.e. solutions that perform better on both objectives): more profit is obtained from foreseen targets, and at the same time, the average number of timely reached new targets is higher than in the OPTW approach. The OPTW-dominating solutions are underlined in Table 1. Also, for the first test setting a dominating solution was found, but this solution resulted from the MCS-OPTW with 
                                       
                                          β
                                          =
                                          0.14
                                       
                                     (not included in Table 1).

As expected, better results are obtained for the less strict time windows in test instance r108 than for test instance r101. Hence, small time windows impose strict constraints on the tour, that might send the UAV forward and backward between areas to meet the time windows.

The results for both the OPTW and the MCS-OPTW are better for the normal distribution than for the gamma distribution. Recall that our gamma distribution has a relatively high standard deviation and is asymmetric. Therefore, more often high deviations from the expected time requirements cause violations of the time windows for the gamma distribution than for the normal distribution. Consequently, the profit obtained from the foreseen targets and/or the number of timely reached new targets is lower for the gamma distribution than for the normal distribution, especially in test instance r101 due to its narrow time windows.

With respect to computation times, the fastest re-planning is observed for the combination of small time windows and normally distributed travel and recording times, while the combination of large time windows with the gamma distributed travel and recording times (with the large standard deviation) requires more computation time. Still, re-planning the tour only takes at most one or three seconds, depending on the combination.

The results of the MCS-OPTW in Table 1 are based on the assumption that travel and recording time distributions are known exactly beforehand. In reality not only the parameters itself, but also the probability distribution may be uncertain. In our next experiments we apply the MCS-OPTW planning approach based on the assumption that travel and recording times follow the aforementioned normal distribution. In the simulated UAV mission flights however, we generate the travel and recording according to the aforementioned gamma distribution. In this way, we test how the approach would perform if the assumed and actual distributions deviate from each other. Table 2
                            shows the results of these experiments for the MCS-OPTW with 
                              
                                 β
                                 =
                                 0.1
                              
                           . We use 
                              
                                 β
                                 =
                                 0.1
                              
                            since for this value, the number of OPTW-dominating solutions found in the gamma test settings is the highest of all values for 
                              
                                 β
                              
                            contained in Table 1. For comparison purposes, Table 2 also contains the results of both the OPTW and the MCS-OPTW planning approach based on the gamma distribution, evaluated under the gamma distribution. Note that these values are the same as the ones given for the gamma distribution in Table 1.

In three out of the six settings reported in Table 2, the MCS-OPTW where the weights are assumed to be normally distributed, is able to find OPTW-dominating solutions. In the other three settings, the ‘MCS-OPTW normal’ approach performs relatively much better on one of the objectives and slightly less on the other objective. These results illustrate that even in case the assumptions on the probability distributions do not comply with the actual probability distributions, the MCS-OPTW is able to outperform the OPTW approach. Therefore, given the settings we used, the MCS-OPTW planning approach appears to be quite robust with respect to discrepancies between the assumed and the actual probability distributions of the travel and recording times.


                           Figs. 12–16
                           
                           
                           
                           
                            depict five initial tours for Situation 1: two for r101 with small time windows, followed by three initial tours for r108 with large time windows. Figs. 12 and 14 depict the initial OPTW tour for r101 and r108 respectively, while the other figures depict initial MCS-OPTW tours for different values of 
                              
                                 β
                              
                           . When testing different values of 
                              
                                 β
                              
                            in the MCS-OPTW, only two different initial tours were found for r101. For 
                              
                                 β
                                 <
                                 0.2
                              
                           , the same initial tour was found as the initial OPTW tour. For 
                              
                                 β
                                 ⩾
                                 0.2
                              
                           , the initial tour depicted in Fig. 13 was found. Appendix A contains initial tours for Situation 2 and 3. For Situation 3, the initial MCS-OPTW tours for test instance r101 all equal the initial OPTW tour, and therefore we left out these tours in the appendix. All tours depicted are based on the normal distribution. Note that an initial tour might be adjusted after the first re-planning step, but depicting these tours will provide insight in how the planned tour is situated relative to the areas where new targets are expected to appear.

As can be seen from these figures, the value of 
                              
                                 β
                              
                            directs the UAV towards the potential locations where new targets are expected to appear. Note that optimal tours for instances that contain time windows may contain intersecting arcs, as is the case for all initial tours for test instance r101 depicted above and in the appendix. The tours for test instance r108 however, all illustrate a much smoother pattern. Hence, the narrow time windows in instance r101 direct the tour forward and backward between areas to meet time window requirements, while this is not the case for the tours for test instance r108. This explains the lower profit values obtained for test instance r101 compared to test instance r108 in Table 1. Note that when time windows are relatively large with respect to the total time limit, the problem and the results that are found will start to resemble an OP (hence, an orienteering problem without time window constraints).

@&#CONCLUSION@&#

In UAV mission planning, selecting and sequencing targets in a UAV tour can be modeled as an Orienteering Problem (OP). In this paper we introduced the online stochastic orienteering problem with time windows and time-sensitive targets. This problem deals with three extensions to the standard OP, to model aspects that are of practical relevance in UAV mission planning. These extensions are: stochastic travel and recording times, time windows that prescribe when targets should be recorded, and new targets that may appear during the flight. The new targets that we consider, are the so-called time-sensitive targets. The UAV will be sent to such a target as soon as it appears, in case the probability of reaching it in time is sufficiently high. To tackle this problem, we introduce the Maximum Coverage Stochastic Orienteering Problem with Time Windows (MCS-OPTW). It takes into account the uncertainty in travel and recording times as well as in the appearance of new targets, already in the planning stage. In the objective of the MCS-OPTW, we use a measure to express the ability of the UAV to timely reach new targets: the Weighted Location Coverage (WLC). The WLC is used to direct the planned tours towards areas where new targets are expected to appear. We developed a fast heuristic that produces good solutions to the MSC-OPTW in very limited computation time. The heuristic can be used in real-time in the MSC-OPTW planning approach to re-plan the remaining part of the tour each time just before the UAV leaves a target.

The benefits of the MCS-OPTW planning approach compared to a deterministic approach are visible in our computational experiments. The deterministic approach entails re-planning the remaining part of the tour before leaving each target by means of a heuristic for the deterministic OPTW in which travel and recording are assumed to be equal to their expected value. We performed experiments to illustrate how the MCS-OPTW provides planned tours which are situated close to the area where new targets are expected to appear. The OPTW may produce very different tours than the MCS-OPTW, since the potential locations where new targets might appear are not taken into account by the OPTW. The experiments show that increasing the weight of the WLC in the objective of the MCS-OPTW, can result in a significant increase in the average number of new targets that is timely reached. Moreover, the experiments illustrate that by adjusting the weight parameters in the objective of the MCS-OPTW, the desired balance can be found between the average profit obtained from foreseen targets and the average number of timely reached new targets. The MCS-OPTW planning approach produces tours that dominate the OPTW approach: they perform better on both the average profit obtained from foreseen targets and the average number of timely reached new targets. We also investigated the robustness of the MCS-OPTW planning approach against deviations between the actual and the assumed probability distributions, for three relevant situations.

Future research could also focus on other types of new targets than time-sensitive targets. Whether the UAV is traveling to, or recording a foreseen target, as soon as a time-sensitive target appears, the UAV is immediately re-tasked to that time-sensitive target if the re-tasking criterion is met. Even though the UAV could have been almost finished recording the foreseen target, no profit is obtained for that target in such case. When new targets are less important and/or less urgent than time-sensitive targets, other decisions might be desired. Adjustments to our model could be considered to support these decisions.

@&#ACKNOWLEDGMENT@&#

We would like to thank the anonymous referees for their valuable comments that helped improving the exposition of this paper.

See Figs. A.17–A.25
                     
                     
                     
                     
                     
                     
                     
                     
                     .

@&#REFERENCES@&#

