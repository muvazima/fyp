@&#MAIN-TITLE@&#Ensuring service levels in routing problems with time windows and stochastic travel times

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Guarantee feasibility of time windows in the environment of stochastic routing.


                        
                        
                           
                           A chance-constrained approach ensures a given service level for all customers.


                        
                        
                           
                           We show an enhanced feasibility check that can be “plugged” into any VRPTW algorithm.


                        
                        
                           
                           Experiments analyze the trade-off between service level and delivery costs.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Transportation

Vehicle routing

Stochastic travel times

Service level

Chance constraint

@&#ABSTRACT@&#


               
               
                  In the stochastic variant of the vehicle routing problem with time windows, known as the SVRPTW, travel times are assumed to be stochastic. In our chance-constrained approach to the problem, restrictions are placed on the probability that individual time window constraints are violated, while the objective remains based on traditional routing costs. In this paper, we propose a way to offer this probability, or service level, for all customers. Our approach carefully considers how to compute the start-service time and arrival time distributions for each customer. These distributions are used to create a feasibility check that can be “plugged” into any algorithm for the VRPTW and thus be used to solve large problems fairly quickly. Our computational experiments show how the solutions change for some well-known data sets across different levels of customer service, two travel time distributions, and several parameter settings.
               
            

@&#INTRODUCTION@&#

In times of increasing customer expectations and more customer-oriented business models, the consideration of delivery time windows has become much more common in the creation of delivery routes. For example, in attended home delivery applications, customers and service providers mutually agree on tight delivery time windows. It is not surprising that there have been a considerable number of recent papers on how to solve the vehicle routing problem with time windows (VRPTW), including Baldacci, Mingozzi, and Roberti (2012), Vidal, Crainic, Gendreau, and Prins (2012), and Hashimoto, Yagiura, Imahori, and Ibaraki (2013). The classic VRPTW assumes deterministic travel times between stops on the route. However, in practice, the execution of delivery routes often differs from plans due to a variety of influences such as traffic jams, weather, customer availability, etc. These influences may cost the driver to miss customer time windows, which can create dissatisfaction and loss of future sales.

While the predictability of some of these individual factors is nearly impossible, it is often possible to derive travel time distributions for the travel time between customers based on historical data. This idea is the foundation of a stochastic variant of the VRPTW, known as the SVRPTW, where travel times are assumed to be stochastic. As we will discuss in more detail in Section 2, many papers in this area take a recourse approach to the SVRPTW, putting a penalty in the objective function based on how much the expected arrivals at customers exceed the deadlines. While such an approach considers overall customer service, it does not guarantee a particular level of service at individual customers.

In our chance-constrained approach, restrictions are placed on the probability that individual time window constraints are violated, while the objective remains based on traditional routing costs. Chance-constrained approaches guarantee a given service level for all customers, but are traditionally considered much more difficult to solve due to the use of restrictions. We have seen very little SVRPTW research that addresses how arrival time distributions should properly be propagated throughout a route given the presence of time windows. For example, if an arrival occurs before the opening of a customer’s time window, a vehicle must wait, and this impacts the arrival time distribution at future customers.

In this paper, we propose a fairly straightforward way to guarantee a given service level at all customers. Our approach carefully considers how to compute the start-service time and arrival time distributions at each customer on the route, which enables us to verify if the given service level is maintained at individual customers. Our ideas can be “plugged” into any algorithm for the VRPTW and thus be used to solve large problems fairly quickly. In comparison to the limited literature on the SVRPTW that also considers a service level requirement, this is a key differentiation point and is a big part of our paper’s contribution.

In Section 2, we review the relevant literature, while Section 3 formally defines the problem we solve. In Section 4, we describe how to estimate the mean and variance of the start-service time and arrival time distributions with careful consideration of the impact of time windows. The equations we derive are based on the assumption that travel time between customers follows a normal distribution, but we demonstrate via simulation that these equations work well with instances that have travel times that are not normally distributed. This is an important part of our contribution since travel time distributions are often not normal in practice. In Section 5, we discuss how these equations can be added to any VRPTW algorithm in the form of a feasibility check. Computational experiments in Section 6 show how the solutions change for different levels of customer service across two travel time distributions and several parameter settings.

@&#LITERATURE REVIEW@&#

In our literature review, we will discuss stochastic routing, then review in more detail the work specifically on the SVRPTW. We will then discuss other recent work that deals with the handling of lateness.

Most stochastic routing literature focuses on stochastic demand rather than travel times. Gendreau, Laporte, and Séguin (1996) review the literature involving the vehicle routing problem with stochastic components and identify several papers that take into account stochastic demands and/or customer realization (i.e., each customer has some probability of realizing demand). The only mention of stochastic travel times is in the context of a traveling salesman problem with a duration constraint. More recent papers involving stochastic customers or stochastic demand include Jabali, Rei, Gendreau, and Laporte (2012) and Taş, Dellaert, van Woensel, and de Kok (2013).


                     Laporte, Louveaux, and Mercure (1992) were the first to incorporate stochastic travel times as part of a vehicle routing problem (VRP) model. Because there are no time windows, time windows do not impact how travel times are combined. They present both a chance-constrained model and a recourse model. The chance constraint limits the probability that the duration of the route exceeds a given limit rather than the likelihood of time window violations. They develop a branch-and-cut algorithm to solve problems with up to 20 vehicles and travel times that can take on a value from as many as five discrete states. Lambert, Laporte, and Louveaux (1993) develop a model specific to a particular banking context in which travel time is based on a given probability the route is congested. Kenyon and Morton (2003) consider two models with different objective functions: (i) minimizing the expected time that all vehicles will return to the depot, and (ii) maximizing the probability of completing the routes by a given deadline. They develop a branch-and-cut approach to solve the problem when the cardinality of the sample space is small and embed a sampling-based procedure for larger sample spaces or continuous random parameters. More recently, Mazmanyan and Trietsch (2009) focus on the traveling salesman problem and are concerned with the completion of the route by a given due date. They impose a normal distribution assumption on arrival times. They also assume that travel times are themselves normally distributed or the number of customers is large enough to justify the central limit theorem.

Other papers have considered the reliability of routes. Cook and Russell (1978) evaluate the suitability of deterministically-generated routes on the VRP with stochastic travel times via simulation. Lecluyse, Van Woensel, and Peremans (2009) solve a routing problem with an objective that includes the standard deviation of the travel time. This guides the solution to choose more reliable routes in terms of travel time. Because there are no time windows, the variance of travel time is again added, and they use a lognormal distribution in their experiments. Lee, Lee, and Park (2012) identify robust solutions in which the travel time is represented by an uncertainty set as opposed to a probability distribution. They consider a situation with customer deadlines (i.e., a late time window), so their approach cannot be directly applied to situations with early time windows. Agra et al. (2013) use uncertainty sets to model stochastic travel times in the context of maritime shipping. They present a robust optimization approach to determine routes that are feasible for all values of travel times.

For most problems with stochastic travel times that include time windows, authors use a recourse model. In a recourse model, arrival times before and after the customer time windows are discouraged via penalties in the objective rather than hard constraints. For example, Taniguchi, Thompson, Yamada, and van Duin (2001) examine the vehicle routing and scheduling problem with time windows-probabilistic (VRPTW-P) with an objective consisting of fixed costs, costs of operation, and early arrival and delay penalties. If a vehicle arrives early, it must wait and pay a penalty proportional to the wait time. If the vehicle arrives late, the service provider must pay a penalty proportional to the delay instead of receiving a reward. The authors use a dynamic traffic simulation to calculate the distribution of travel times. Ando and Taniguchi (2006) build on this model to include more information about the variability in travel times. The costs of operation are estimated using average travel times, but delay penalties are computed based on the probability of different arrival times. Different distributions may be used, but the propagation of variance in conjunction with time windows does not appear to be considered in this probability. The authors solve this problem using genetic algorithms and show that considering the uncertainty of travel times can have a big impact on the resulting delay costs. Taş et al. (2013) and Taş, Gendreau, Dellaert, van Woensel, and de Kok (2014) use soft time windows, where service costs are incurred for early and late arrivals. Vehicles do not wait, so the time windows do not impact the propagation of variation. Taş et al. (2013) solve their problem by tabu search and Taş et al. (2014) by column generation. Russell and Urban (2007) also consider stochastic travel times in conjunction with soft time windows where violation of the windows is penalized. They focus on the shifted gamma distribution, as it provides a good representation of realistic travel times. They use a Taguchi loss function to compute penalties and find solutions with a tabu search procedure. Yan, Wang, and Chang (2014) study the SVRPTW in a banking context. They present an integer multiple-commodity network formulation to determine a robust and flexible set of routes. Violations of time windows are again penalized in the objective function.

There are a few papers that consider stochastic travel times, time windows, and a service level constraint. The first we describe is Li, Tian, and Leung (2010). The authors consider both a chance-constrained and a recourse model. In the chance-constrained model, both the duration of the route and the satisfaction of the time windows must be feasible with a certain confidence level. The chance constraints are evaluated via simulation. For example, if the simulation of a route does not show the chance constraints to be satisfied within the confidence level, the route is not acceptable as a solution. Branda (2012) presents a sample approximation technique for mixed-integer stochastic programming problems. The effectiveness of the sampling technique is evaluated based on a limited number of instances of a vehicle routing problem with stochastic travel times and hard time windows.

More closely related work to ours is Jula, Dessouky, and Ioannou (2006). They consider stochastic travel times, time windows, and also try to guarantee a certain level of service. Even though their problem is a traveling salesman problem (TSP, uses only one vehicle), their approach is closer to ours than Li et al. (2010) as they define equations to represent the service level. They use a Taylor series expansion (first-order) to approximate the mean and variance of the arrival times. When the expected arrival time is close to the time window, they employ an alternative approximation for the standard deviation. They use Chebyshev and Chernoff bounds to determine if a route meets the required service level rather than the normal approximation we propose. Finally, the authors solve for the proposed TSP route via a dynamic programming approach instead of adding a feasibility check to existing heuristics as suggested in this paper.

Also very related is the work by Chang, Nozick, and Turnquist (2005) and Chang, Wan, and OOI (2009), who approximate the distribution of arrival times in the course of a TSP route by adding means and variations of travel times according to the convolution of the normal distribution. They highlight that this approach provides a sufficient (and quick) approximation of arrival time variations, even if travel time distributions for individual paths do not follow this particular type of distribution. They argue that as the path is extended to include multiple arcs, the Central Limit Theorem suggests that the cumulative travel time should become nearly normal. One important assumption of the model in Chang et al. (2005) is that there is no waiting – which means the opening of time windows (“early windows”) are not considered. In Chang et al. (2009), waiting is considered. If the mean arrival time at a customer requires more than a pre-specified amount of wait, the route will be discarded for “wasting”. If the mean arrival time is within the tolerance of the early window, the route is kept and is modeled as waiting occurs for sure at that point with start of service occurring precisely at the early time window and the variance of the path time reset to zero.

In Ehmke and Campbell (2014), two of the authors of this paper consider a related problem in the context of order acceptance for home deliveries. They propose the idea of requiring a certain amount of buffer time between the expected arrival time and the late window of a customer to prevent lateness. The authors offer a dynamic buffer calculation that accounts for the impact of early arrivals on the propagation of variance, but in a simplified manner. Wanting to develop a better model for this propagation and understanding the value of such a buffer for more general routing problems motivated this paper.

The most recent paper that focuses on lateness is by Jaillet, Qi, and Sim (2013). They solve a shortest path problem that includes deadlines rather than time windows. They introduce a performance measure called the “lateness index” to evaluate the deadline violation level of a given policy, and the lateness index is included in the objective function. Their index can handle situations in which distributions on arcs are known and when they are only partially characterized.

We want to note that our paper considers stochastic travel times, but does not incorporate the time-dependency of travel times that occurs in practice. There has been increasing interest in VRP models that take time-dependent travel times into account, and Ehmke (2012) provides a comprehensive overview on data collection and aggregation as well as corresponding VRP models. A recent example and overview of stochastic and time-dependent VRP models can be found in Taş (2013).

The vehicle routing problem with time windows and stochastic travel times (SVRPTW) can be described as follows. Let 
                        
                           G
                           =
                           (
                           V
                           ,
                           A
                           )
                        
                      be a directed graph with a vertex set 
                        
                           V
                           =
                           {
                           
                              
                                 v
                              
                              
                                 0
                              
                           
                           ,
                           
                              
                                 v
                              
                              
                                 1
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 v
                              
                              
                                 n
                              
                           
                           }
                        
                      and an arc set 
                        
                           A
                           =
                           {
                           (
                           i
                           ,
                           j
                           )
                           |
                           i
                           ,
                           j
                           ∈
                           V
                           ,
                           i
                           
                           ≠
                           
                           j
                           }
                        
                     . Vertex 
                        
                           
                              
                                 v
                              
                              
                                 0
                              
                           
                        
                      represents the depot at which identical vehicles with known capacity, Q, are based; the remaining vertices of V represent customer locations with fixed demands, 
                        
                           
                              
                                 q
                              
                              
                                 i
                              
                           
                        
                     . Contrasting from the standard VRPTW model, the time to travel from customer i to customer j is normally distributed, 
                        
                           
                              
                                 t
                              
                              
                                 ij
                              
                           
                           ∼
                           N
                           (
                           
                              
                                 μ
                              
                              
                                 ij
                              
                           
                           ,
                           
                              
                                 σ
                              
                              
                                 ij
                              
                              
                                 2
                              
                           
                           )
                        
                     . We begin with a normal distribution assumption but will show our approach works for other distributions in Section 4.2. We also assume that travel times are statistically independent, which is a common assumption in the SVRPTW literature. Statistical independence should not limit the application of our approach to real-world problems significantly, since the correlation between arc travel times generally decreases over time (Park & Rilett, 1999); that is, although the travel time of two arcs may be correlated at any given time, the correlation of the travel time of one arc at the current time with the travel time of another arc at some future time (i.e., after intervening travel and service times) will be less pronounced.

Each customer i has a time window 
                        
                           [
                           
                              
                                 e
                              
                              
                                 i
                              
                           
                           ,
                           
                              
                                 l
                              
                              
                                 i
                              
                           
                           ]
                        
                     , where 
                        
                           
                              
                                 e
                              
                              
                                 i
                              
                           
                           (
                           
                              
                                 l
                              
                              
                                 i
                              
                           
                           )
                        
                      is the earliest (latest) time that service can begin. If the vehicle arrives at customer i before 
                        
                           
                              
                                 e
                              
                              
                                 i
                              
                           
                        
                     , it must wait until 
                        
                           
                              
                                 e
                              
                              
                                 i
                              
                           
                        
                      to begin service (i.e., it is a hard window); otherwise, including if it arrives late, it will begin service immediately with a fixed service time 
                        
                           
                              
                                 s
                              
                              
                                 i
                              
                           
                        
                     . Finally, let 
                        
                           
                              
                                 AT
                              
                              
                                 i
                              
                           
                        
                      be the time that the vehicle arrives at customer i, and 
                        
                           
                              
                                 ST
                              
                              
                                 i
                              
                           
                        
                      be the time that service starts at customer i, perhaps after waiting if the arrival time is before the early time window.

We will define a set of routes that visits the set of customers as acceptable if the probability of arriving at each customer i by 
                        
                           
                              
                                 l
                              
                              
                                 i
                              
                           
                        
                      is greater than or equal to a given level α or 
                        
                           P
                           (
                           
                              
                                 AT
                              
                              
                                 i
                              
                           
                           ⩽
                           
                              
                                 l
                              
                              
                                 i
                              
                           
                           )
                           ⩾
                           α
                           ∀
                           i
                        
                     . The typical VRPTW objective is to minimize the total travel time with a given fleet of vehicles. Here, though, the inclusion of buffers can make many instances with a given fleet become infeasible. Thus, we will look for the solution that satisfies these service restrictions that uses the minimum number of vehicles and secondarily minimizes the total duration of routes.

To verify the probability of arriving at each customer i by 
                        
                           
                              
                                 l
                              
                              
                                 i
                              
                           
                        
                      is greater than or equal to a given level α, we must know the distribution of 
                        
                           
                              
                                 AT
                              
                              
                                 i
                              
                           
                        
                     . The distribution of 
                        
                           
                              
                                 AT
                              
                              
                                 i
                              
                           
                        
                      is based on the distributions of the travel times of the arcs traversed prior to the arrival at i as well as the likelihood that the vehicle had to wait at prior customers. If there is no waiting on the route prior to customer i, the means and variances of the arcs traversed prior to i can be summed, according to the convolution of the normal distribution, to create the arrival time distribution at customer i. An example with low probability of waiting at customer 
                        
                           i
                           -
                           1
                        
                      directly preceding customer i on the route is illustrated in Fig. 1
                     , (1). Next consider, for example, if the travel times and early window values are such that a vehicle will wait at 
                        
                           i
                           -
                           1
                        
                      with high probability (see Fig. 1, (2)). If the vehicle waits at 
                        
                           i
                           -
                           1
                        
                     , then the start of service at 
                        
                           i
                           -
                           1
                        
                      must be at time 
                        
                           
                              
                                 e
                              
                              
                                 i
                                 -
                                 1
                              
                           
                        
                     , and the departure for i will be at time 
                        
                           
                              
                                 e
                              
                              
                                 i
                                 -
                                 1
                              
                           
                           +
                           
                              
                                 s
                              
                              
                                 i
                                 -
                                 1
                              
                           
                        
                     . The variance in the arrival time at customer i will be due to the travel time between 
                        
                           i
                           -
                           1
                        
                      and i. We must also consider a third situation where, due to the variability in travel times, the arrival time at 
                        
                           i
                           -
                           1
                        
                      can easily be early and require waiting until 
                        
                           
                              
                                 e
                              
                              
                                 i
                                 -
                                 1
                              
                           
                        
                      or occur after 
                        
                           
                              
                                 e
                              
                              
                                 i
                                 -
                                 1
                              
                           
                        
                     , where no waiting would be required (Fig. 1, (3)). We have to carefully consider how these possibilities impact the distribution of 
                        
                           
                              
                                 ST
                              
                              
                                 i
                                 -
                                 1
                              
                           
                        
                     . In effect, we need to combine distributions to create a new start-service time distribution that reflects the likelihood of each event. An example for the probability density function of such a combined start-service time distribution is shown in Fig. 2
                     , where we can see a certain probability of equaling the early time window of customer 
                        
                           i
                           -
                           1
                           ,
                           
                              
                                 e
                              
                              
                                 i
                                 -
                                 1
                              
                           
                        
                     , and the remaining probability following the upper-tail distribution of the arrival time. Once we have the new distribution for 
                        
                           
                              
                                 ST
                              
                              
                                 i
                                 -
                                 1
                              
                           
                        
                     , we must carefully combine it with the travel time distribution from 
                        
                           i
                           -
                           1
                        
                      to i to create 
                        
                           
                              
                                 AT
                              
                              
                                 i
                              
                           
                        
                     .

We want to produce general equations that handle each of these potential situations. Our equations must build from the first customer on each route to the last to properly propagate the distributions through the route. Due to the nature of distributions being combined here, we consider an approach based on extreme value theory in Section 4.1. We demonstrate in Section 4.2 that our model works well at representing the distribution for the start-service times even when the underlying distribution for travel times is other than normal.

Given the relationship between time windows and travel times, the application of extreme value theory is useful here. For example, if the time to travel from the depot to customer 1 is 
                           
                              
                                 
                                    t
                                 
                                 
                                    01
                                 
                              
                           
                         and the arrival time, 
                           
                              
                                 
                                    t
                                 
                                 
                                    01
                                 
                              
                           
                        , is less than the early time window, 
                           
                              
                                 
                                    e
                                 
                                 
                                    1
                                 
                              
                           
                        , then the vehicle waits before service can begin; otherwise, there is no waiting time and the vehicle begins service immediately. Thus, the start-service time for customer 1 is 
                           
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                              
                              =
                              max
                              {
                              
                                 
                                    t
                                 
                                 
                                    01
                                 
                              
                              ,
                              
                                 
                                    e
                                 
                                 
                                    1
                                 
                              
                              }
                           
                        . We will examine how this changes with normally distributed travel times.

The mean and variance of the maximum of two normally-distributed variables, 
                           
                              X
                              =
                              max
                              {
                              
                                 
                                    X
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    X
                                 
                                 
                                    2
                                 
                              
                              }
                           
                         with means 
                           
                              
                                 
                                    μ
                                 
                                 
                                    1
                                 
                              
                           
                         and 
                           
                              
                                 
                                    μ
                                 
                                 
                                    2
                                 
                              
                           
                         and variances 
                           
                              
                                 
                                    σ
                                 
                                 
                                    1
                                 
                                 
                                    2
                                 
                              
                           
                         and 
                           
                              
                                 
                                    σ
                                 
                                 
                                    2
                                 
                                 
                                    2
                                 
                              
                           
                        , and correlation coefficient ρ are known (see, for example, Nadarajah & Kotz (2008)):
                           
                              (1)
                              
                                 E
                                 (
                                 X
                                 )
                                 =
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 +
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 +
                                 θ
                                 ϕ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 ,
                              
                           
                        
                        
                           
                              (2)
                              
                                 V
                                 (
                                 X
                                 )
                                 =
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                    
                                       2
                                    
                                 
                                 +
                                 
                                    
                                       σ
                                    
                                    
                                       1
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 +
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                    
                                       2
                                    
                                 
                                 +
                                 
                                    
                                       σ
                                    
                                    
                                       2
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 +
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 +
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 θ
                                 ϕ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 -
                                 
                                    
                                       [
                                       E
                                       (
                                       X
                                       )
                                       ]
                                    
                                    
                                       2
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              Φ
                              [
                              ·
                              ]
                           
                         is the cumulative distribution function of the standard normal distribution, 
                           
                              ϕ
                              [
                              ·
                              ]
                           
                         is the probability density function of the standard normal distribution, and 
                           
                              
                                 
                                    θ
                                 
                                 
                                    2
                                 
                              
                              =
                              
                                 
                                    σ
                                 
                                 
                                    1
                                 
                                 
                                    2
                                 
                              
                              +
                              
                                 
                                    σ
                                 
                                 
                                    2
                                 
                                 
                                    2
                                 
                              
                              -
                              2
                              ρ
                              
                                 
                                    σ
                                 
                                 
                                    1
                                 
                              
                              
                                 
                                    σ
                                 
                                 
                                    2
                                 
                              
                           
                        .

In our implementation, the time to travel from the depot to customer 1 is 
                           
                              
                                 
                                    t
                                 
                                 
                                    01
                                 
                              
                              ∼
                              N
                              (
                              
                                 
                                    μ
                                 
                                 
                                    01
                                 
                              
                              ,
                              
                                 
                                    σ
                                 
                                 
                                    01
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        , so 
                           
                              
                                 
                                    μ
                                 
                                 
                                    1
                                 
                              
                              =
                              
                                 
                                    μ
                                 
                                 
                                    01
                                 
                              
                           
                         and 
                           
                              
                                 
                                    σ
                                 
                                 
                                    1
                                 
                              
                              =
                              
                                 
                                    σ
                                 
                                 
                                    01
                                 
                              
                           
                        . The early time window, 
                           
                              
                                 
                                    e
                                 
                                 
                                    1
                                 
                              
                           
                        , is a constant, so 
                           
                              
                                 
                                    μ
                                 
                                 
                                    2
                                 
                              
                              =
                              
                                 
                                    e
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    σ
                                 
                                 
                                    2
                                 
                              
                              =
                              0
                           
                        , and 
                           
                              ρ
                              =
                              0
                           
                        . Then 
                           
                              θ
                              =
                              
                                 
                                    σ
                                 
                                 
                                    01
                                 
                              
                           
                        , and the mean and variance of the start-service time for customer 1 can be expressed as:
                           
                              (3)
                              
                                 E
                                 (
                                 
                                    
                                       x
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 =
                                 
                                    
                                       μ
                                    
                                    
                                       01
                                    
                                 
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       01
                                    
                                 
                                 -
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 /
                                 
                                    
                                       σ
                                    
                                    
                                       01
                                    
                                 
                                 ]
                                 +
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                 
                                 Φ
                                 [
                                 (
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       01
                                    
                                 
                                 )
                                 /
                                 
                                    
                                       σ
                                    
                                    
                                       01
                                    
                                 
                                 ]
                                 +
                                 
                                    
                                       σ
                                    
                                    
                                       01
                                    
                                 
                                 ϕ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       01
                                    
                                 
                                 -
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 /
                                 
                                    
                                       σ
                                    
                                    
                                       01
                                    
                                 
                                 ]
                                 ,
                              
                           
                        
                        
                           
                              (4)
                              
                                 V
                                 (
                                 
                                    
                                       x
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 =
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       01
                                    
                                    
                                       2
                                    
                                 
                                 +
                                 
                                    
                                       σ
                                    
                                    
                                       01
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       01
                                    
                                 
                                 -
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 /
                                 
                                    
                                       σ
                                    
                                    
                                       01
                                    
                                 
                                 ]
                                 +
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                    
                                       2
                                    
                                 
                                 Φ
                                 [
                                 (
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       01
                                    
                                 
                                 )
                                 /
                                 
                                    
                                       σ
                                    
                                    
                                       01
                                    
                                 
                                 ]
                                 +
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       01
                                    
                                 
                                 +
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 
                                    
                                       σ
                                    
                                    
                                       01
                                    
                                 
                                 ϕ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       01
                                    
                                 
                                 -
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 /
                                 
                                    
                                       σ
                                    
                                    
                                       01
                                    
                                 
                                 ]
                                 -
                                 
                                    
                                       [
                                       E
                                       (
                                       
                                          
                                             x
                                          
                                          
                                             1
                                          
                                       
                                       )
                                       ]
                                    
                                    
                                       2
                                    
                                 
                                 .
                              
                           
                        
                     

Processing along the route, the arrival time distribution at customer 2 is then based on the above start-service time distribution for customer 1, the service time for customer 1, and the time to travel from customer 1 to customer 2 (
                           
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                              
                              +
                              
                                 
                                    s
                                 
                                 
                                    1
                                 
                              
                              +
                              
                                 
                                    t
                                 
                                 
                                    12
                                 
                              
                           
                        ) with 
                           
                              
                                 
                                    t
                                 
                                 
                                    12
                                 
                              
                              ∼
                              N
                              (
                              
                                 
                                    μ
                                 
                                 
                                    12
                                 
                              
                              ,
                              
                                 
                                    σ
                                 
                                 
                                    12
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        . Note that 
                           
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                              
                           
                         follows a combined distribution representing the maximum of two normally distributed variables. The distribution of the maximum of two normal variables tends to be skewed with an asymptotic limit distribution of the Gumbel distribution, but there are usually not enough customers (arcs) being evaluated to approach the limiting distribution. In effect, the start-service time distribution of customer 1 and, hence, the arrival time distribution at customer 2 are not normal anymore. What some authors have done when estimating the mean and variance of the maximum of several normal variables, beginning with Clark (1961), is to find the mean and variance of the maximum of two variables, treat that result as a normal variable, and find the mean and variance of the maximum of that variable and a third variable. Then take that result and find the mean and variance of the maximum of that variable and a fourth normal variable, etc. We apply this approach along a route as follows.

The distribution of the arrival time at any customer i is based on the start-service time distribution of the previous customer, the service time of the previous customer, and the normally distributed travel time from the previous customer 
                           
                              i
                              -
                              1
                           
                         to customer i. Hence, 
                           
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              =
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          ST
                                       
                                       
                                          i
                                          -
                                          1
                                       
                                    
                                 
                              
                              +
                              
                                 
                                    s
                                 
                                 
                                    i
                                    -
                                    1
                                 
                              
                              +
                              
                                 
                                    μ
                                 
                                 
                                    i
                                    -
                                    1
                                    ,
                                    i
                                 
                              
                           
                         and 
                           
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                                 
                                    2
                                 
                              
                              =
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          ST
                                       
                                       
                                          i
                                          -
                                          1
                                       
                                    
                                 
                                 
                                    2
                                 
                              
                              +
                              
                                 
                                    σ
                                 
                                 
                                    i
                                    -
                                    1
                                    ,
                                    i
                                 
                                 
                                    2
                                 
                              
                           
                        . Although this arrival time is not normally distributed, we treat it as such to find an approximate value of the mean and variance of the start-service time distribution of customer i (i.e., the maximum of the arrival time distribution and the early time window).

Restating Eq. (1), the mean of the start-service time distribution is approximated as
                           
                              
                                 E
                                 (
                                 X
                                 )
                                 =
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 +
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 +
                                 θ
                                 ϕ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 .
                              
                           
                        In our implementation, 
                           
                              
                                 
                                    μ
                                 
                                 
                                    1
                                 
                              
                              =
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              ,
                              
                                 
                                    σ
                                 
                                 
                                    1
                                 
                              
                              =
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              ,
                              
                                 
                                    μ
                                 
                                 
                                    2
                                 
                              
                              =
                              
                                 
                                    e
                                 
                                 
                                    i
                                 
                              
                              ,
                              
                                 
                                    σ
                                 
                                 
                                    2
                                 
                              
                              =
                              0
                           
                        , and 
                           
                              ρ
                              =
                              0
                           
                        , so 
                           
                              θ
                              =
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                           
                         and
                           
                              (5)
                              
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             ST
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 -
                                 
                                    
                                       e
                                    
                                    
                                       i
                                    
                                 
                                 )
                                 /
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ]
                                 +
                                 
                                    
                                       e
                                    
                                    
                                       i
                                    
                                 
                                 Φ
                                 [
                                 (
                                 
                                    
                                       e
                                    
                                    
                                       i
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 )
                                 /
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ]
                                 +
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ϕ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 -
                                 
                                    
                                       e
                                    
                                    
                                       i
                                    
                                 
                                 )
                                 /
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ]
                                 .
                              
                           
                        The probability of waiting at customer i is 
                           
                              
                                 
                                    π
                                 
                                 
                                    i
                                 
                              
                              =
                              Φ
                              [
                              (
                              
                                 
                                    e
                                 
                                 
                                    i
                                 
                              
                              -
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              )
                              /
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              ]
                           
                        , which leads to:
                           
                              (6)
                              
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             ST
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 =
                                 
                                    
                                       π
                                    
                                    
                                       i
                                    
                                 
                                 
                                    
                                       e
                                    
                                    
                                       i
                                    
                                 
                                 +
                                 (
                                 1
                                 -
                                 
                                    
                                       π
                                    
                                    
                                       i
                                    
                                 
                                 )
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 +
                                 ϕ
                                 [
                                 
                                    
                                       ξ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ]
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    ξ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              =
                              (
                              
                                 
                                    e
                                 
                                 
                                    i
                                 
                              
                              -
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              )
                              /
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                           
                        .

A similar derivation is conducted for the variance of the start-service time distribution; restating Eq. (2):
                           
                              
                                 V
                                 (
                                 X
                                 )
                                 =
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                    
                                       2
                                    
                                 
                                 +
                                 
                                    
                                       σ
                                    
                                    
                                       1
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 +
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                    
                                       2
                                    
                                 
                                 +
                                 
                                    
                                       σ
                                    
                                    
                                       2
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 Φ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 +
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 +
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 θ
                                 ϕ
                                 [
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       1
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 /
                                 θ
                                 ]
                                 -
                                 
                                    
                                       [
                                       E
                                       (
                                       X
                                       )
                                       ]
                                    
                                    
                                       2
                                    
                                 
                                 .
                              
                           
                        Again, recognizing 
                           
                              
                                 
                                    μ
                                 
                                 
                                    1
                                 
                              
                              =
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              ,
                              
                                 
                                    σ
                                 
                                 
                                    1
                                 
                              
                              =
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              ,
                              
                                 
                                    μ
                                 
                                 
                                    2
                                 
                              
                              =
                              
                                 
                                    e
                                 
                                 
                                    i
                                 
                              
                              ,
                              
                                 
                                    σ
                                 
                                 
                                    2
                                 
                              
                              =
                              0
                              ,
                              ρ
                              =
                              0
                              ,
                              θ
                              =
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                           
                         and 
                           
                              
                                 
                                    π
                                 
                                 
                                    i
                                 
                              
                              =
                              Φ
                              [
                              (
                              
                                 
                                    e
                                 
                                 
                                    i
                                 
                              
                              -
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              )
                              /
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              ]
                           
                         provides:
                           
                              (7)
                              
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             ST
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       2
                                    
                                 
                                 =
                                 
                                    
                                       π
                                    
                                    
                                       i
                                    
                                 
                                 
                                    
                                       e
                                    
                                    
                                       i
                                    
                                    
                                       2
                                    
                                 
                                 +
                                 (
                                 1
                                 -
                                 
                                    
                                       π
                                    
                                    
                                       i
                                    
                                 
                                 )
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       2
                                    
                                 
                                 +
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       2
                                    
                                 
                                 )
                                 +
                                 (
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 +
                                 
                                    
                                       e
                                    
                                    
                                       i
                                    
                                 
                                 )
                                 ϕ
                                 [
                                 
                                    
                                       ξ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ]
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 -
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             ST
                                          
                                          
                                             i
                                          
                                       
                                    
                                    
                                       2
                                    
                                 
                                 .
                              
                           
                        
                     

In general, the mean is fairly well approximated with this approach, but the variance tends not to be estimated as well (Sinha, Zhou, & Shenoy, 2007). On the other hand, in our application, we are evaluating embedded maxima; for example, the start-service time for customer 3 is:
                           
                              (8)
                              
                                 
                                    
                                       x
                                    
                                    
                                       3
                                    
                                 
                                 =
                                 
                                    max
                                 
                                 {
                                 
                                    max
                                 
                                 {
                                 
                                    max
                                 
                                 {
                                 
                                    
                                       t
                                    
                                    
                                       01
                                    
                                 
                                 ,
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                 
                                 }
                                 +
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 +
                                 
                                    
                                       t
                                    
                                    
                                       12
                                    
                                 
                                 ,
                                 
                                    
                                       e
                                    
                                    
                                       2
                                    
                                 
                                 }
                                 +
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                                 +
                                 
                                    
                                       t
                                    
                                    
                                       23
                                    
                                 
                                 ,
                                 
                                    
                                       e
                                    
                                    
                                       3
                                    
                                 
                                 }
                                 ,
                              
                           
                        which is not simply the maximum of several variables. Since the time to travel to the next customer is a normally-distributed variable, it would be expected to reduce the skewness of the resulting distribution.

We now turn our attention to an experiment to evaluate how well the proposed methodology approximates the arrival and start-service time distributions as well as to determine the effect of non-normal travel times. The proposed experiment is designed to compare the analytic approach described in the previous section with extensive simulated results. For routes of varying lengths, we evaluate the quality of distribution estimates for different travel time distributions and various levels of time-window density (i.e., percentage of time-constrained customers).

For this experiment, the location of customers is obtained by randomly generating coordinates in two-dimensional space uniformly between 0 and 40, and the distance between customers is the Euclidean distance between those points; the mean travel time for each arc is set equal to this distance. Turner, Eisele, Benz, and Holdener (1998) indicated that the coefficient of variation (CoV) of travel times ranges from 15 to 25 percent for freeways/expressways and from 20 to 25 percent for principal/minor arterials; therefore, the CoV of travel time is randomly generated uniformly between 0.1 and 0.3. The service time for each customer is randomly generated in the range [1, 5], except the depot which has no service requirement. Five instances of routes with 5, 10, 15 and 20 customers each are generated with these travel-time means and CoVs and service times. The following distributions, with the same mean and CoV, are considered to evaluate the effect of increasingly skewed travel time distributions:
                           
                              1.
                              Normal distribution (skewness=0): the mean and CoV are specified for each arc as described above,

Shifted exponential distribution, in which a constant is added to the standard exponential distribution (skewness=2): the rate parameter is set to provide the appropriate CoV for each arc, then the shift parameter is set to provide the appropriate mean, and

Shifted gamma distribution, in which a constant is added to the standard gamma distribution: the shape parameter is set equal to 4 to provide skewness=1 (to fall midway between the normal and shifted exponential distributions), then the scale parameter is determined to provide the appropriate CoV, and the shift parameter is set to provide the appropriate mean.

To evaluate the effect of binding early time windows on the start-service time distributions, three scenarios are considered: (1) as a baseline, no time windows are employed, hence no waiting is necessary, (2) tight windows are employed such that 
                           
                              
                                 
                                    e
                                 
                                 
                                    j
                                 
                              
                              =
                              
                                 
                                    ∑
                                 
                                 
                                    i
                                    =
                                    0
                                    ,
                                    j
                                    -
                                    1
                                 
                              
                              
                                 
                                    μ
                                 
                                 
                                    ij
                                 
                              
                              +
                              
                                 
                                    ∑
                                 
                                 
                                    i
                                    =
                                    1
                                    ,
                                    j
                                    -
                                    1
                                 
                              
                              
                              
                                 
                                    s
                                 
                                 
                                    j
                                 
                              
                           
                         for all customers, so waiting would be expected with half of the customers, and (3) loose windows are employed such that 
                           
                              
                                 
                                    e
                                 
                                 
                                    j
                                 
                              
                              =
                              
                                 
                                    ∑
                                 
                                 
                                    i
                                    =
                                    0
                                    ,
                                    j
                                    -
                                    1
                                 
                              
                              
                                 
                                    μ
                                 
                                 
                                    ij
                                 
                              
                              +
                              
                                 
                                    ∑
                                 
                                 
                                    i
                                    =
                                    1
                                    ,
                                    j
                                    -
                                    1
                                 
                              
                              
                                 
                                    s
                                 
                                 
                                    j
                                 
                              
                              -
                              1.28
                              
                                 
                                    [
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          =
                                          0
                                          ,
                                          j
                                          -
                                          1
                                       
                                    
                                    
                                       
                                          σ
                                       
                                       
                                          ij
                                       
                                       
                                          2
                                       
                                    
                                    ]
                                 
                                 
                                    0.5
                                 
                              
                           
                        , so waiting would occur with ten percent of the customers.

To measure the accuracy of the proposed methodology, the mean and 95th percentile estimates are evaluated using the analytic results from Section 4.1 compared to an extensive simulation using @Risk with 1,000,000 simulation runs for each test scenario. Table 1
                         provides the results of this experimentation; shown are the mean absolute percent error (MAPE) of the start-service times for each scenario. Note that the standard error for the mean arrival time from the large number of simulations was very small (well below 0.05), so the standard error is not reported in the results.

As indicated in the table, the proposed methodology provides results very similar to the simulated values. For all situations considered, the mean is within one percent of the simulated value; for normally-distributed travel times, the MAPE is within one-quarter of one percent. As expected, the percent error increases as the skewness of the travel time distribution increases (from normal to gamma to exponential). One interesting aspect is that the estimates of the means are better with tight time windows than with loose windows, perhaps due to the certainty of the start-service time when the time window is binding.

The 95th percentile estimates are somewhat more sensitive to deviations from normality; however, the proposed methodology still provides accurate estimates. Again, the percent error increases as the skewness of the travel time distribution increases. For the shifted gamma and exponential distributions, the percent error decreases as the length of the route increases since, as the number of customers increases, the skewness of the arrival time distribution decreases. For example, the average skewness of the last customer on a twenty customer route (based on the simulation using skewed exponential travel times with no time windows) is slightly less than 0.60 compared to 2.00 for the first customer. Unlike the mean estimates, the 95th percentile estimates are slightly more accurate with loose time windows than with tight windows.

While these errors are quite small, there is also some bias associated with them. The mean is consistently overestimated but, as mentioned above, is within one-quarter of one percent. The standard deviation is consistently underestimated with loose and tight early time windows (mixed results when there are no early time windows) by a greater percent than the mean is underestimated. Of particular interest is the potential bias in the 95th percentile since we are evaluating the service levels for the customers along the route. The direction of the errors of the mean offset that of the standard deviation to some extent, but the 95th percentile is also consistently underestimated with loose and tight early time windows. However, it does not vary in a predictable manner. For example, as shown in Table 1, it does not consistently increase or decrease as the number of customers increases (i.e., as we progress through the route).

As routes are developed, it would be unlikely to have every customer with a tight time window. To illustrate the effect of occasionally-binding time windows, Table 2
                         details the customer-by-customer mean and 95th percentile of the start-service time for one instance (with normally-distributed travel time mean 
                           
                              
                                 
                                    μ
                                 
                                 
                                    i
                                    -
                                    1
                                 
                              
                           
                         and variance 
                           
                              
                                 
                                    σ
                                 
                                 
                                    i
                                    -
                                    1
                                    ,
                                    i
                                 
                                 
                                    2
                                 
                              
                           
                        , service time 
                           
                              
                                 
                                    s
                                 
                                 
                                    i
                                 
                              
                           
                        , and early time window 
                           
                              
                                 
                                    e
                                 
                                 
                                    i
                                 
                              
                           
                         for each customer). As shown in the table, for each customer that incurs a binding time window, the accuracy of the mean and 95th percentile decreases. But for each subsequent customer that does not incur a binding time window, the accuracy improves.

In this section, we discuss how to use the above equations for the construction of more reliable routes. To this end, we define an enhanced feasibility check considering information from arrival time distributions that can be included in any VRPTW algorithm. As an example, we present how to embed this feasibility check in a standard tabu search algorithm.

In VRPTW algorithms, feasibility regarding time windows is enforced by checking that the arrival time is by the late window of each customer. Here, we want to enforce that 
                           
                              P
                              (
                              
                                 
                                    AT
                                 
                                 
                                    i
                                 
                              
                              ⩽
                              
                                 
                                    l
                                 
                                 
                                    i
                                 
                              
                              )
                              ⩾
                              α
                              ∀
                              i
                           
                        . We can do this by using information from the arrival time distribution 
                           
                              
                                 
                                    AT
                                 
                                 
                                    i
                                 
                              
                           
                         to ensure that a certain α-percentile of 
                           
                              
                                 
                                    AT
                                 
                                 
                                    i
                                 
                              
                           
                         is before or includes the late window 
                           
                              
                                 
                                    l
                                 
                                 
                                    i
                                 
                              
                           
                         for each customer i. In particular, a set of routes will be considered feasible for the SVRPTW if the difference between 
                           
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                           
                         and 
                           
                              
                                 
                                    l
                                 
                                 
                                    i
                                 
                              
                           
                         allows for at least 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                           
                         standard deviations for each customer i, where 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                           
                         is the α-quantile of the standard normal distribution. More formally, for each customer i
                        
                           
                              (9)
                              
                                 
                                    
                                       μ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 +
                                 
                                    
                                       z
                                    
                                    
                                       α
                                    
                                 
                                 
                                    
                                       σ
                                    
                                    
                                       
                                          
                                             AT
                                          
                                          
                                             i
                                          
                                       
                                    
                                 
                                 ⩽
                                 
                                    
                                       l
                                    
                                    
                                       i
                                    
                                 
                                 .
                              
                           
                        If the left hand side is less than or equal to the right hand side, the arrival time at customer i satisfies the service level α.

The above feasibility check can be easily integrated in any algorithm for the VRPTW. To this end, the means and variances of arrival time and start-service time distributions need to be estimated, and existing time window feasibility checks need to be adapted according to Eq. (9). We need to maintain updated values for 
                           
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                           
                         and 
                           
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                                 
                                    2
                                 
                              
                           
                         as well as 
                           
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          ST
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                           
                         and 
                           
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          ST
                                       
                                       
                                          i
                                       
                                    
                                 
                                 
                                    2
                                 
                              
                           
                         for each customer i. The values of 
                           
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          ST
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                           
                         and 
                           
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          ST
                                       
                                       
                                          i
                                       
                                    
                                 
                                 
                                    2
                                 
                              
                           
                         are required to properly compute means and variances of arrival time distributions, while 
                           
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                           
                         and 
                           
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                                 
                                    2
                                 
                              
                           
                         values are required for the actual feasibility check. When a route is changed by inserting or deleting a customer, all of these values need to be updated from the point of change until the end of the route or until the feasibility check is not satisfied at a particular customer. This is because a change in the route may shift the arrival times and start-service times at later customers and make them infeasible. Due to the nature of the new feasibility check and the way variance is propagated, it does not appear possible to reduce the worst-case complexity required to evaluate a change in a route. In practice, though, we would only need to continue updating the distributions on a route until we get to a customer where the start of service time distribution does not change. This can happen due to arrivals occurring far before the opening of a customer’s early window, i.e., when a vehicle must wait.

For our computational experiments, we have embedded the enhanced feasibility check as well as the estimation of arrival and start-service times in a tabu search algorithm. Tabu search algorithms combine local search with learning capabilities and allow for a certain extent of randomization in exploring the search space. They include mechanisms that avoid cycling in local search by setting a particular local search move as “tabu”. Contrary to most other local search heuristics, inferior or infeasible solutions are temporarily accepted in order to avoid paths already investigated. Tabu search algorithms are considered one of the most successful solution approaches for the VRPTW (Vidal, Crainic, Gendreau, & Prins, 2013). More on tabu search and other metaheuristics used to solve the VRPTW can be found in a review paper by Bräysy and Gendreau (2005).

In particular, we have implemented the LANTIME tabu search algorithm. Details of the algorithm are provided in Maden, Eglese, and Black (2010), and a summary of the LANTIME heuristic is presented in Fig. 3
                        . LANTIME requires a feasible initial solution 
                           
                              
                                 
                                    x
                                 
                                 
                                    ∗
                                 
                              
                           
                         as an input, which is provided by a parallel insertion heuristic by Potvin and Rousseau (1993). For this parallel insertion heuristic, the changes required include replacing the existing time window feasibility check with Eq. (9) and maintaining the estimated values for the arrival and start-service time distributions for all customers. Every insertion requires checking feasibility, according to Eq. (9), from the point of insertion until the end of that route.

To improve the initial solution, LANTIME uses four standard neighborhood operators (Adapted Cross Exchange, Insertion/Removal, One Exchange, and Swap) that are randomly selected. The particular operator generates a neighborhood of the current solution 
                           
                              
                                 
                                    x
                                 
                                 
                                    now
                                 
                              
                           
                         and investigates it by local search. For each potential move, we need to evaluate the feasibility of the resulting routes as well as determine if they are superior in terms of cost. For the variant of the SVRPTW considered here, superior means that the number of vehicles is smaller (main objective) or the number of vehicles is the same and the total duration of all routes is smaller (secondary objective). The only tricky part of the implementation is how to handle the fact that tabu search algorithms allow for infeasible solutions in the solution process. LANTIME provides a dynamic control of infeasibility, i.e., there is a dynamic parameter that allows for more or less feasibility depending on the number of previous infeasible solutions. Details are given in Maden et al. (2010). Only solutions up to a certain extent of infeasibility are considered. The extent of infeasibility is measured by a function 
                           
                              P
                              (
                              x
                              )
                           
                         that reflects the total amount of lateness due to time window violations of an infeasible solution (extra time). For a feasible solution, 
                           
                              P
                              (
                              x
                              )
                              =
                              0
                           
                        . We adapt 
                           
                              P
                              (
                              x
                              )
                           
                         in a straightforward manner to allow for cases where the given service level is not satisfied. Whenever the service level is violated, we consider 
                           
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              +
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              -
                              
                                 
                                    l
                                 
                                 
                                    i
                                 
                              
                           
                         as the amount of additional extra time for customer i.

In this section, we introduce the design and the results of our computational experiments. Using Solomon benchmark data sets, we investigate the effectiveness of the presented feasibility check and discuss the resulting trade-offs between service level and cost of delivery.

For our experiments, we use the LANTIME heuristic, as described in Section 5.2, to solve instances of the well-known Solomon benchmark data sets (Solomon, 1987). Based on preliminary experiments, the probabilities of the neighborhood operators are set as follows: Adapted Cross Exchange 5%, One Exchange 40%, Swap 40%, Insertion/Removal 15%. These values provide a middle ground between run time and solution quality. LANTIME stops after 1000 iterations.

In particular, we compute routes for the first five instances of the R1, R2, C1, C2, RC1 and RC2 data sets. Each of the data sets reflects different factors that typically impact the behavior of vehicle routing algorithms. R1 and R2 represent a random distribution of customer locations, C1 and C2 contain clustered customer locations, and RC1 and RC2 provide a combination of random and clustered customer locations. R1, C1 and RC1 have a short scheduling horizon allowing only a few customers per route, while R2, C2 and RC2 have a long scheduling horizon permitting many customers to be serviced by the same route. All customers have a hard time window, but the length of the time window differs between the data sets and between the instances: R1, C1 and RC1 vary relatively tight time windows in the environment of a short scheduling horizon, while R2, C2 and RC2 consider wide time windows in large scheduling horizons that allow for a more flexible combination of customers. Note that the data sets also provide a maximum capacity of the vehicle, which is very low and binding for the R1, C1 and RC1 instances and relatively high for the R2, C2 and RC2 instances.

To reflect different amounts of variability in travel times, we assign travel time distributions to the data sets by means of a CoV of 20% and 40% of the mean travel time. The mean travel time is based on the Euclidean distance between customers in the data sets. Routes are created for 50 and 100 customer variants, where the 50 customers are the first 50 out of the 100 in each instance. For each choice of CoV and number of customers, we consider 
                           
                              α
                              =
                              50
                              %
                           
                        , 84.13%, and 97.73% 
                           
                              (
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                              ,
                              1
                              ,
                              2
                              )
                           
                         to investigate the impact of different service levels. Note that for a few of the instances, we had to move the departure time slightly earlier than the given start time to enable a feasible solution. This is because for some instances the late window of the first customer of a route would not feasibly allow for the buffer as required by Eq. (9) with a service level of 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              1
                              ,
                              2
                           
                        . To minimize changes to the original instance, we moved the departure time from the depot only for the vehicles where it was necessary and by as little as necessary. For example, if a shift was required for the vehicle making its first delivery to customer i, we moved the departure time from the depot earlier by 
                           
                              
                                 
                                    μ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              +
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          AT
                                       
                                       
                                          i
                                       
                                    
                                 
                              
                              -
                              
                                 
                                    l
                                 
                                 
                                    i
                                 
                              
                           
                         units. Also note that results for 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                         may differ from deterministic solutions because they consider expected arrival times as propagated by arrival and start-service time distributions (but without any additional buffer), which may lead to solutions of slightly higher cost compared to deterministic solutions. Experiments have been performed on a Windows 7 64-bit operating system with an Intel Core i5-3470 processor and 8GB of RAM. Because of the nature of the metaheuristic, run times vary quite a bit among different instances. However, on average, they only increase by 1% when the enhanced feasibility check is used.

We evaluate the results with simulation based on travel times following a normal distribution and a shifted gamma distribution, which is parameterized as described in Section 4.2. As indicated earlier, the shifted gamma distribution is considered to be a good representation of realistic travel times. In case of a late arrival at a customer i, we note the occurrence as well as the amount of lateness. The amount of lateness is defined by the difference between the simulated arrival time and the latest start of service 
                           
                              
                                 
                                    l
                                 
                                 
                                    i
                                 
                              
                           
                        , and we sum these amounts across all customers (“total late”). For each instance, the results are based on the average of 1000 simulation runs for each travel time distribution. Detailed results for each instance can be found in the electronic appendix of this article. In Section 6.3, we present summary tables that are based on averages from the first five instances of R1, R2, C1, C2, RC1, and RC2 with the same parameter settings. We start with a graphical example of results in Section 6.2.

We first show the way our enhanced feasibility check works based on two example routes from the 50-customer RC201 solution with CoV=0.4. Optimizing with 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                         leads to three routes and a total expected route duration of 887. For shifted gamma distributed travel times, this solution yields an average total lateness of 37 periods. With 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              1
                           
                        , total lateness can be reduced significantly to 6.8 periods with the use of our feasibility check. While the expected total route duration increases to 998, the number of vehicles stays constant.


                        Fig. 4
                         shows a Gantt chart comparing the first route of the 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                         solution (Route 1) to the most similar route of the 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              1
                           
                         solution (Route 2). Grey bars represent driving time; service time at customers is shown by black solid and patterned bars; and vertical lines between bars represent waiting times before the time window of a customer opens. The pattern of the service time bar reflects the service level at the particular customer. If the service time bar has a dotted pattern, the expected arrival at customer i is within one standard deviation of 
                           
                              
                                 
                                    l
                                 
                                 
                                    i
                                 
                              
                           
                        , i.e., there is only a very limited amount of buffer time before the time window closes. If the service time bar has a striped pattern, the expected arrival is between one and two standard deviations of 
                           
                              
                                 
                                    l
                                 
                                 
                                    i
                                 
                              
                           
                        . For all black-solid service times, there is a buffer of more than two standard deviations before 
                           
                              
                                 
                                    l
                                 
                                 
                                    i
                                 
                              
                           
                        . The numbers above the bars show the id of the particular customer, and the numbers below the bars reflect the expected arrival times.

For Route 1, expected arrivals at customers 19, 21, 23 and 34 are close to the end of their late windows. For example, the expected arrival at customer 34 is 606.1 and its late window is 607, which yields a buffer of only 0.06 standard deviations. A similar situation occurs at customer 23, where we have an expected arrival at 327.2 and a late window at 335, yielding a buffer of 0.33 standard deviations. Although this seems like a relatively wide gap between the expected arrival time and the late window for customer 23, it is not sufficient since the propagated variation from the earlier part of the route is quite high. Note that there is almost no waiting and much driving in the earlier part of the route.

Route 2 shows how the use of our enhanced feasibility check rearranges the visits to these customers. Customers 18, 19, 21 and 23 have been shifted earlier as to ensure a sufficient buffer time before their late window. Customer 34 needed to be moved to another route in order to guarantee the given service level. Customers 21 and 23 exceed the minimum service level of this route with a buffer of 1.67 standard deviations each. To increase the service levels for these customers to a level of 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              2
                           
                        , an additional vehicle would be required, though.

@&#RESULTS@&#

The following summary tables contain the parameters of the particular instance (number of customers “Num”, coefficient of travel time variation “CoV”, and the number of standard deviations “
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                           
                        ”), the results of route construction with LANTIME (average number of vehicles “Vehicles”, average percent increase in number of vehicles relative to 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                         “% incr”, average total route duration “time”, and average percent increase in duration relative to 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                         “% incr”), and the results of route simulation based on normal and shifted gamma distributed travel times (average total lateness “Total late”, average percent decrease in total lateness relative to 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                         “% decr”, average ratio of runs with lateness “Runs late”). Average ratio of runs with lateness is defined as the average proportion of the 1000 simulation runs where any customer is visited late.

We will start with a detailed discussion of R1 results (see Table 3
                        ). R1 instances involve randomly distributed customers, routes with few customers, and relatively tight time windows. This combination yields a significant amount of lateness without our enhanced feasibility check. The worst average lateness of 74.01 periods occurs for the 100-customer instance with CoV 
                           
                              =
                              0.4
                           
                         and shifted gamma distributed travel times. A significant reduction in the extent of lateness occurs with 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              2
                           
                         to an average of 7.19 periods or by 90%. The extent and occurrence of lateness is generally a little smaller for normal than for shifted gamma based simulations in our experiments. For both the 50 and the 100-customer instances, we can see that the average number of vehicles increases with increasing 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                           
                        , reflecting the impact of the higher service expectations. We also see that the number of vehicles increases faster with a higher CoV, reflecting the impact of the larger buffers required. As an example, let us look at the results for CoV 
                           
                              =
                              0.4
                           
                         and 50 customers. There is an increase from an average of 9.6 vehicles (
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                        ) to 11.0 (
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              1
                           
                        ) to 12.8 vehicles (
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              2
                           
                        ). This is accompanied by increasing average total route durations from 873.4 to 973.7 to 997.5 periods. A look at the columns below “Shifted gamma” and “Normal” reveals information on the simulated reliability of the routes. The routes for this example yield an average total lateness of 25.60/19.03 periods for shifted gamma/normal travel time distributions with 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                        , which decreases significantly with increasing service level to just 3.36/0.78 periods for 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              2
                           
                        . This heavily reduced lateness and improved customer service comes at the cost of 33% more vehicles and 14% longer route duration.


                        Table 4
                         summarizes the results for the R2 instances. Note that due to the length and design of the time windows, the average number of vehicles is generally much smaller compared to the R1 instances for the same number of customers. The wide time windows seem to allow for more flexibility in route construction: only 2.2 to 2.8 vehicles are required for the 50-customer instances and 3.6 to 4.2 for the 100-customer instances, respectively. Thus, it is not surprising that there is much slower growth in the number of vehicles when the variation of travel times or the given service level increases. The average route duration remains about the same for different parameter settings, but we can see similar percent reductions in total lateness as with R1. Thus, a higher service level can be maintained at very little additional cost for R2. The worst-case lateness again occurs for the 100-customer, CoV 
                           
                              =
                              0.4
                           
                         and 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                         instances. Note that these total lateness values can almost be eliminated with arrival time buffers resulting from 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              1
                           
                        . Technically, most of the customers affected by lateness for the 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                         solutions are switched to other positions in a route as to reduce the probability of late arrivals, rather than being placed on new vehicles.

Results for the C1 and C2 instances are shown in Tables 5 and 6
                        
                        . Generally, for these instances involving clustered customers, there is not very much lateness. For C1, which has fewer customers per vehicle than C2, the number of required vehicles varies between 5.0 and 5.2 (50 customers) or 10.0 and 11.0 (100 customers), respectively. Only for the CoV 
                           
                              =
                              0.4
                           
                         instances are there some examples of lateness that can be significantly reduced by enhanced feasibility checks. For C2, time windows are very wide, leading to the smallest number of required vehicles throughout all the experiments. Routes are extremely packed with almost no waiting necessary. The combination of clustered customers and wide time windows make the occurrence of a late arrival almost impossible. As with R2, it can be seen that the enhanced feasibilty check causes more changes in the ordering of deliveries rather than requiring more vehicles. In other words, we can guarantee a service level based on 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              2
                           
                         at almost no additional cost. The amount of lateness with 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              0
                           
                        , though, is much lower for C2 than R2.

The results of the RC1 instances (see Table 7
                        ) involve random and clustered customer locations and have tight time windows comparable to R1 customers. These instances essentially provide a middle ground between R1 and C1 results. There is more variation in the required resources and larger amounts of lateness observed than with C1. Worst-case total lateness again occurs for the CoV 
                           
                              =
                              0.4
                           
                         instances with 31.02/20.35 periods for the 50-customer and 68.52/54.54 periods for the 100-customer instances. A higher service level with 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              1
                           
                         requires about 13% more vehicles to reduce lateness by 59%/74% for 100 customers. For the 100-customer instances, there can still be notable lateness at the 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              1
                           
                         service level. The enforcement of a higher service level with 
                           
                              
                                 
                                    z
                                 
                                 
                                    α
                                 
                              
                              =
                              2
                           
                         decreases total lateness by a total of 78%/91%, but this comes at the cost of 24% more vehicles and 18% longer route duration.

Results from RC2 instances (see Table 8
                        ) are comparable to results of R2 instances, but generally yield a little larger extent and occurrence of lateness. Again, more reliable routes come at little additional cost. Also note that shifted gamma distributed travel times again lead to a little more lateness on average than normally distributed travel times.

As we have seen, different data sets behave differently with the inclusion of our enhanced feasibility check. For routes with wide time windows, the inclusion of buffer time before arrivals requires almost no additional cost to ensure the desired service level. For routes with tight time windows, lateness is much more prevalent, and it is thus much more expensive to ensure a high service level. This is especially the case when it comes to travel time distributions that more realistically reflect real-world variation of travel times. We also observe that when customers are distributed randomly, rather than in clusters, lateness is much more likely to occur without our enhanced feasibility check. This is likely to be the result of the longer travel times required to serve randomly distributed customers compared to clustered customers. These longer travel times create large variances in arrival times at the later customers on the routes.

@&#CONCLUSION@&#

There is an increasing interest in providing on-time deliveries to customers. Business models like “Ebay Now” (eBay Inc., 2013) are beginning to promise customers deliveries within the hour. To be able to satisfy customer expectations, it is very important to consider the variability in travel times in the design of vehicle routes. Many delivery businesses may already have implemented a sophisticated routing algorithm that works well for their company and do not want to implement a new algorithm. We offer a fairly straightforward way for these companies to modify their existing algorithms to guarantee a chosen level of service quality at minimum cost or to evaluate the costs associated with different service levels. Based on above experiments, our ideas can create great reductions in lateness when tight time windows and randomly distributed customers are involved. However, we have also discovered that service improvements can occur at relatively low cost when customer time windows are fairly wide.

There are several opportunities for future work. First, from analysis of historical traffic data, we know that travel time distributions change in the course of the day. Thus, it is a natural extension to consider the combination of time-dependent travel time distributions for lateness propagation. Second, for most parts of this work, we assumed that service times are constant. Varying service times may have a significant impact on how lateness is propagated in the course of a route and should thus be a part of future investigations. Third, here we assumed the travel times on arcs are statistically independent. This is a common assumption in most papers involving stochastic travel times, but it would be interesting to incorporate the correlation in arc travel times that exist in practice. Finally, our objective was to minimize vehicles and then total route duration while guaranteeing a given service level. An interesting idea would be to employ our formulas to optimize for the best service level given a limited number of transportation resources.

Supplementary data associated with this article can be found, in the online version, at http://dx.doi.org/10.1016/j.ejor.2014.06.045.


                     
                        
                           Supplementary Material
                           
                        
                     
                  

@&#REFERENCES@&#

