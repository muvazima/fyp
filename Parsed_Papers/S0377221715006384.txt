@&#MAIN-TITLE@&#Part sojourn time distribution in a two-machine line

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           An analytic formulation for the part sojourn time distribution in a 2-machine line.


                        
                        
                           
                           Machines are unreliable and the buffer is finite.


                        
                        
                           
                           The analytic formulation is verified with Little’s law.


                        
                        
                           
                           Numerical experiments are provided to illustrate the shape of the distribution.


                        
                        
                           
                           The analytic formulation is also applied to a given buffer of a long line.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Sojourn time

Two-machine transfer line

Unreliable machines

Production line

Finite buffer

@&#ABSTRACT@&#


               
               
                  The time that a part may spend in a buffer between successive operations is limited in some manufacturing processes. Parts that wait too long must be reworked or discarded due to the risk of quality degradation. In this paper, we present an analytic formulation for the steady-state probability distribution of the time a part spends in a two-machine, one-buffer transfer line (the part sojourn time). To do so, we develop a set of recurrence equations for the conditional probability of a part’s sojourn time, given the number of parts already in the buffer when it arrives and the state of the downstream machine. Then we compute the unconditional probabilities of the part sojourn time using the total probability theorem. Numerical results are provided to demonstrate how the shape of the distribution depends on machine reliability and the buffer size. The analytic formulation is also applied to approximately compute the part sojourn time distribution in a given buffer of a long line. Comparison with simulation shows good agreement.
               
            

@&#INTRODUCTION@&#

In some manufacturing processes, the time that a part may spend in a buffer between successive operations is limited. This time is called waiting time, delay time, queue time, or sojourn time. Parts that wait too long must be reworked or discarded due to the risk of quality degradation. Such parts reduce the throughput of the manufacturing systems and lead to significant scrap cost. Consequently, understanding part sojourn time is crucial. The probability distribution, rather than just the mean, or just the mean and standard deviation, is important because a factory’s profitability requires that no more than a specified percentage of the parts are scrapped. This issue is important in several industries, including the semiconductor, food, chemical, and steel industries.

The contribution of this paper is a procedure to calculate the probability distribution of the time that a part spends in the buffer of a two-machine production line. It is based on a model which is well suited for industry.

The rest of the paper is organized as follows. In the remaining of this section, we offer industrial examples where sojourn time is important (Section 1.1), describe the problem we are solving (Section 1.2), and review literature on this topic (Section 1.3). Section 2 describes the production line model used in this study and provides a precise definition of sojourn time. The analysis of the steady-state part sojourn time distribution and the derivation of the equations that determine it are discussed in detail in Section 3. Section 4 presents numerical results for two-machine systems. We show that different machine parameters and buffer sizes can lead to very different probability distributions of the sojourn time. Section 5 describes the application of these results to buffers in long lines. We summarize the paper and suggest future work in Section 6.

Sojourn time is important in many industries. Rostami, Hamidzadeh, and Camporese (2001) and Kim and Lee (2008) report that the time that a semiconductor wafer spends in a processing module within a cluster tool should be limited. Kim, Lee, Lee, and Park (2003) point out that when the delay at any low pressure chemical vapor deposition (LPCVD) process step exceeds 20 seconds, the wafer surface deteriorates (because of excessive exposure to residual gases under high temperature), and it is scrapped. Robinson and Giglio (1999) say that a baking operation must be started within 2 hours of a prior clean operation. If more than 2 hours elapse, the lot must be cleaned again. Lu, Ramaswamy, and Kumar (1994) study scheduling policies for semiconductor fabs that are intended to reduce the mean and variance of cycle time. They indicate that the shorter the period that wafers are exposed to aerial contaminants while waiting for processing, the smaller the yield loss.

The production of fresh food, such as bakery products and yogurt, is tightly regulated by strict requirements on hygiene and delivery precision. Short sojourn time is essential to the quality of the product in order to meet these requirements. Liberopoulos and Tsarouhas (2005) report the problem of scrapping work-in-process (WIP) due to long sojourn time in an automated pizza transfer line. They discovered that the scrapping of material results in 5 percent drop of the line efficiency. A similar issue can be found in Liberopoulos and Tsarouhas (2002) for a manufacturer of bakery products and snacks. Similarly, the typical production sequence of yogurt includes mixing/standardizing of milk, pasteurization, fermentation, cooling, addition of fruit additives and packaging. The sojourn time before packaging should not exceed a certain upper bound to ensure product quality.

According to Liberopoulos, Kozanidis, and Tsarouhas (2007), an upper limit of the sojourn time is a crucial consideration in the thermosetting plastics industry. When a failure occurs in the molding phase, the material in the process step just upstream may be polymerized or cured. If this lasts too long, the trapped material must be scrapped because the polymerization process is irreversible. Lee and Allwood (2003) report a similar phenomenon in temperature-dependent processes where machine interruptions can cause WIP to cool down, which leads to quality problems after production restarts.

Exposing parts for a long time to certain environmental factors, such as humidity, heat, or acidity, is a cause of quality deterioration in the metal processing industry. Katok, Serrander, and Wennstrom (1999) discuss aluminum can transfer lines and mention that in the washing stage, cans are cleaned with acids to remove the cooling fluids and lubricants from preceding process steps. Cans that wait in the washer for too long will be overexposed to the acids. This affects their surfaces and, as a consequence, the quality of the graphics applied by the printer.

In this paper, we derive the sojourn time distribution for production lines with two unreliable machines, constant operation times, and a finite buffer. Our approach first finds the steady-state conditional probability of the part sojourn time given the position of a part and the state of the downstream machine when it enters the buffer. It uses the conditional probability distribution and the law of total probability to obtain the unconditional probability distribution of the part sojourn time.

The paper presents the exact part sojourn time distribution for two-machine one-buffer production line systems. Numerical results vary dramatically as a function of the machines’ reliability parameters. It also shows some examples of long lines where our approach is used to find good approximations for the probability distribution of the sojourn time in a given buffer of a long line. This can lead to a better understanding of how part sojourn time in a buffer is affected by machine parameters and buffer sizes of a line.

@&#LITERATURE REVIEW@&#

Many researchers have looked into part sojourn times in production systems. Their work differs from ours in two important ways: they either consider only the first two moments of the sojourn time or they base their results on queueing models. The first two moments are not adequate when it is important that only a small specified fraction of the parts wait longer than a certain amount of time. Queueing models assume random operation times, and they most often assume reliable machines and infinite buffers. In most industries, however, operation times are constant, machines are unreliable, and buffers are finite.

Some prior literature on the sojourn time in a manufacturing system is based on classical queueing theory. In such models, machines are reliable and have random processing time. In most such models, buffers are assumed to be infinite. Yao and Buzacott (1986) develop a set of models for flexible manufacturing systems (FMS) with finite buffers. An FMS is modeled as a closed queueing network with exponential processing time machines. Both the throughput and the mean sojourn time are derived for different models. Leemans (2001) analyzes a Markovian two-class two-server queue with non-preemptive heterogeneous priority structures. The cumulative distribution function for the waiting time is derived based on the technique of tagging and randomization. Azaron, Katagiri, Kato, and Sakawa (2006) study an open queueing network for optimal design of multi-stage assemblies with Poisson arrivals and exponential servers. By applying the longest path analysis, they obtain the distribution function of the manufacturing lead time. A multi-objective optimal control problem is also studied where the mean and variance of lead time, as well as the total operating costs of the system are minimized. Perkgoz, Azaron, Katagiri, Kato, and Sakawa (2007) extend this work by adding the probability that the lead time does not exceed a given threshold into their multi-objective optimization. Tu and Chen (2009) analyze the part sojourn time observed in a series of operations on the back-end of wafer fabrication. A GI/G/m queuing network model is applied to determine the required number of machines under the sojourn time constraints. Wu and McGinnis (2012) analyze the mean queue time for general queueing networks in manufacturing systems. Their model decomposes system queue time and variability into bottleneck and non-bottleneck parts while capturing the dependence among workstations. This allows them to study the queue times for both individual workstations and the system. Lagershausen and Tan (2015) consider closed queueing networks where stations have phase-type service time distributions and buffers are finite. Such a network is modeled as a continuous time Markov chain with finite state space. They use first passage time analysis to find the distributions of inter-departure, inter-start and cycle time.

On the other hand, researchers have studied sojourn time using models with unreliable machines and, in most cases, finite buffers. Vouros and Papadopoulos (1998) consider a buffer allocation problem for unreliable production lines. Machines are subject to random failures according to a Poisson distribution. The performance measures include both the average production rate and the mean sojourn time. Tan (2003) proposes a methodology that automatically generates the state space models of production systems with unreliable machines and finite buffers. The conditional transient distribution of the cycle time given the initial state of the system is investigated. Qi, Sivakumar, and Gershwin (2009) present a job release methodology for production systems. A discrete production line model with geometric machine failure and repair times is used to analyze the behavior of the methodology. The proposed method is capable of reducing both the mean and the standard deviation of the sojourn time. Wu, Lin, and Chien (2010) examine the production control problem in two-station tandem queueing systems under queue time constraints. Machines have exponential operation, failure, and repair times. They propose an algorithm that finds the production control policy that minimizes the sum of the expected inventory holding costs and scrap costs. The same authors (Wu, Lin, & Chien, 2012) extend the work to parallel processing systems. Biller, Meerkov, and Yan (2013) look into the average lead time in Bernoulli production lines. In their model, machines obey the Bernoulli reliability model while buffers are infinite. The first machine is a release machine that controls the availability of raw material. They study how to control the parameters of the release machine such that the production rate of the system is maximized subject to an average lead time constraint. Meerkov and Yan (2014) extend Biller et al. (2013) to production lines where machines have exponentially distributed up and down times, and buffers are infinite.

The model considered in this paper is the Gershwin (1994) version of the Buzacott model (see Fig. 1
                     ). We denote the machines by M
                     1 and M
                     2 and the buffer by B. The processing times of both machines are equal, deterministic, and constant. Time is scaled so that operations take one time unit. Transportation time is ignored. Buffer B is finite and can hold N < ∞ parts. When machine M
                     1 operates, it adds one part to the buffer. When machine M
                     2 operates, it removes one part from the buffer. The sojourn time of a part is the time the part spends in the buffer.

Both machines are unreliable with geometrically distributed times to failure and to repair. The probabilities of failure are p
                     1 and p
                     2 and those of repair are r
                     1 and r
                     2. M
                     1 is blocked when the buffer is full and is idle. Similarly, M
                     2 is starved and consequently idle when the buffer is empty. Idle machines cannot fail or affect the number of parts in the buffer. The first machine is never starved and the second is never blocked.

The details of the model, including the Markov chain transition equations, are found in Gershwin (1994). The state of the Markov chain at time unit t is (n(t), α
                        1(t), α
                        2(t)), where n(t) is the number of parts in the buffer and α
                        1(t) and α
                        2(t) are the states of machines M
                        1 and M
                        2. It is convenient to define 
                           
                              
                                 α
                                 i
                              
                              =
                           
                         0 or 1, where 
                           
                              
                                 α
                                 i
                              
                              =
                              1
                           
                         means that Mi
                         is in good working order (up) so that it is capable of operating on parts; and 
                           
                              
                                 α
                                 i
                              
                              =
                              0
                           
                         means that Mi
                         has failed and is under repair (down).

The solution of the steady-state transition equations is needed to compute the average production rate, the average inventory level, and other performance measures. The steady-state probability distribution of the inventory level is needed here to calculate the sojourn time distribution. Gershwin (1994) provides an analytic solution of the steady state equations.
                           1
                        
                        
                           1
                           The analytic solution is not required. An exact numerical solution is sufficient.
                         See Appendix A for the complete analytic solution.


                        Fig. 2
                         illustrates the sequence of events in this model. The convention is that the states of both machines are determined at the beginning of a time unit while the buffer level is computed at the end of a time unit. Both time instants and time units are plotted on a horizontal line. A time instant (
                           
                              t
                              −
                              1
                              ,
                           
                         
                        t, or 
                           
                              t
                              +
                              1
                           
                         in the figure) is the end of one time unit and the beginning of the next. The interval between the time instants t and 
                           
                              t
                              +
                              1
                           
                         is time unit t.

Each machine, if it is operational and not idle, attempts to perform an operation and, if the machine fails, that state change is considered to occur at the beginning of the time unit. Similarly, if a machine is under repair, and that repair is completed during the current time unit, that state change is also considered to occur at the beginning of the time unit. (After a repair, the machine successfully performs an operation during the same time unit.) The dynamics of the machine state αi
                        (t) is therefore described by a set of Bernoulli random processes. In particular,

                           
                              
                                 
                                    
                                       
                                          
                                             If
                                             
                                             
                                                α
                                                i
                                             
                                             
                                                (
                                                t
                                                −
                                                1
                                                )
                                             
                                             =
                                             0
                                             ,
                                             
                                          
                                       
                                       
                                          
                                             
                                             
                                                α
                                                i
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         
                                                            with
                                                            
                                                            probability
                                                            
                                                            
                                                               r
                                                               i
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         0
                                                      
                                                      
                                                         
                                                            with
                                                            
                                                            probability
                                                            
                                                            1
                                                            −
                                                            
                                                               r
                                                               i
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        The failure process can only occur if a machine is not starved or blocked:

                           
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             If
                                             
                                             
                                                α
                                                i
                                             
                                             
                                                (
                                                t
                                                −
                                                1
                                                )
                                             
                                             =
                                             1
                                             ,
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            
                                                               α
                                                               i
                                                            
                                                            
                                                               (
                                                               t
                                                               )
                                                            
                                                            =
                                                            1
                                                            
                                                            if
                                                            
                                                            
                                                               M
                                                               i
                                                            
                                                            
                                                            is
                                                            
                                                            starved
                                                            
                                                            or
                                                            
                                                            blocked,
                                                            
                                                         
                                                      
                                                      
                                                   
                                                   
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               α
                                                               i
                                                            
                                                            
                                                               (
                                                               t
                                                               )
                                                            
                                                            =
                                                            
                                                               {
                                                               
                                                                  
                                                                     
                                                                        1
                                                                     
                                                                     
                                                                        
                                                                           with
                                                                           
                                                                           probability
                                                                           
                                                                           1
                                                                           −
                                                                           
                                                                              p
                                                                              i
                                                                           
                                                                        
                                                                     
                                                                  
                                                                  
                                                                     
                                                                        0
                                                                     
                                                                     
                                                                        
                                                                           with
                                                                           
                                                                           probability
                                                                           
                                                                           
                                                                              p
                                                                              i
                                                                           
                                                                        
                                                                     
                                                                  
                                                               
                                                               }
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                            
                                                               00
                                                               e
                                                               m
                                                            
                                                            
                                                               1.25
                                                               e
                                                               m
                                                            
                                                            if
                                                            
                                                            
                                                               M
                                                               i
                                                            
                                                            
                                                            is
                                                            
                                                            neither
                                                            
                                                            starved
                                                            
                                                            nor
                                                            
                                                            blocked.
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

If M
                        1 succeeds in doing an operation on a part, that part will enter the buffer at the end of the current time unit. Similarly, M
                        2, if it is operational and not starved, removes a part from the buffer (so the part leaves the system) at the end of the current time unit. The change of the buffer level n is therefore

                           
                              (1)
                              
                                 
                                    n
                                    
                                       (
                                       t
                                       )
                                    
                                    =
                                    n
                                    
                                       (
                                       t
                                       −
                                       1
                                       )
                                    
                                    +
                                    
                                       α
                                       1
                                    
                                    
                                       (
                                       t
                                       )
                                    
                                    −
                                    
                                       α
                                       2
                                    
                                    
                                       (
                                       t
                                       )
                                    
                                 
                              
                           
                        if the buffer is neither empty nor full at time 
                           
                              t
                              −
                              1
                              ,
                           
                         that is, if 
                           
                              1
                              ≤
                              n
                              (
                              t
                              −
                              1
                              )
                              ≤
                              N
                              −
                              1
                           
                        . (The more general form of this equation, which takes blocking and starvation into account, appears in Gershwin, 1994.) This equation says that we change the buffer level at time t only after the machine states at time t have been determined.

In this model, all events occur at integer times. At every event, each machine adds one part, removes one part, or does neither. Consequently, part sojourn times are always integers. This model does not account for the time that parts spend in machines; the sojourn time we calculate only includes the time that the parts spend in the buffer.

We assume that parts in the buffer follow a first-in first-out (FIFO) discipline. In previous analyses of this and similar models, the discipline was not specified because it did not affect the production rate or average inventory. However, the discipline does affect the probability distribution of the sojourn time, so we must specify it here.

Assuming FIFO allows us to make the following definition. The position of a part in a buffer is one more than the number of parts that will leave the buffer before it. If a part’s position is k, we also say that it is the kth part in the buffer.

If M
                        1 is up and the buffer is not full at the beginning of time unit t, a part will be put into the buffer at the end of time unit t. At the end of time unit t there are n(t) parts in the buffer; thus that part is the n(t)th part in the buffer. Consequently, it can only leave the buffer after the 
                           
                              n
                              (
                              t
                              )
                              −
                              1
                           
                         preceding parts have left. Note that if 
                           
                              n
                              (
                              t
                              )
                              =
                              1
                              ,
                           
                         that part is the only part in the buffer. If 
                           
                              n
                              (
                              t
                              )
                              =
                              1
                           
                         and M
                        2 is operational and does not fail while it is processing that part during time unit 
                           
                              t
                              +
                              1
                              ,
                           
                         the part spends one time unit in the buffer. That is, its sojourn time is 1. In general, the sojourn time of the part is counted from the instant it enters until the instant it leaves the buffer (at the end of some future time unit).

In this section, we derive the steady-state probability mass function of the part sojourn time. To do this, we introduce another dynamic system to describe the evolution of the position of a specific part.

In the following, we consider the movement of a reference part in the buffer from its arrival until it leaves the buffer. Define A(t′) to be the event that the reference part enters the buffer at the end of time unit t′. There are n(t′) parts in the buffer, including the reference part. Therefore, there are 
                           
                              n
                              (
                              
                                 t
                                 ′
                              
                              )
                              −
                              1
                           
                         parts ahead of it. For all t ≥ t′, define random variable X(t) to be the position of the reference part. Then

                           
                              
                                 
                                    X
                                    
                                       (
                                       
                                          t
                                          ′
                                       
                                       )
                                    
                                    =
                                    n
                                    
                                       (
                                       
                                          t
                                          ′
                                       
                                       )
                                    
                                 
                              
                           
                        See Fig. 3
                        .

The dynamics of X(t), t > t′ are

                           
                              
                                 
                                    X
                                    
                                       (
                                       t
                                       +
                                       1
                                       )
                                    
                                    =
                                    X
                                    
                                       (
                                       t
                                       )
                                    
                                    −
                                    
                                       α
                                       2
                                    
                                    
                                       (
                                       t
                                       +
                                       1
                                       )
                                    
                                 
                              
                           
                        A comparison with (1) shows that X(t) ≤ n(t).


                        X(t) is defined only for the reference part, whereas n(t) is the number of parts in the buffer at the end of time unit t, without regard to the position of the reference part. n(t) increases and decreases with t, based on the states of M
                        1 and M
                        2. By contrast, X(t) only decreases with t, as M
                        2 removes parts from the buffer. If the part leaves the buffer at time 
                           
                              t
                              =
                              
                                 t
                                 ′
                              
                              +
                              T
                              ,
                           
                         its sojourn time is T.

Note that for A(t′) to occur (i.e., for a reference part to be processed and added to the buffer by M
                        1 at the end of time unit t′), M
                        1 must be up and not blocked during time unit t′. That is, 
                           
                              
                                 α
                                 1
                              
                              
                                 (
                                 
                                    t
                                    ′
                                 
                                 )
                              
                              =
                              1
                           
                         and the buffer must not be full at the beginning of time unit t′. Given the model convention that the buffer level changes at the end of a time unit, the buffer level at the beginning of t′ is the same as the buffer level at the end of 
                           
                              
                                 t
                                 ′
                              
                              −
                              1
                              ,
                           
                         i.e., 
                           
                              n
                              (
                              
                                 t
                                 ′
                              
                              −
                              1
                              )
                              ,
                           
                         and therefore it must be less than N. Consequently, we can write

                           
                              
                                 
                                    A
                                    
                                       (
                                       
                                          t
                                          ′
                                       
                                       )
                                    
                                    =
                                    
                                       {
                                       
                                          α
                                          1
                                       
                                       
                                          (
                                          
                                             t
                                             ′
                                          
                                          )
                                       
                                       =
                                       1
                                       }
                                    
                                    
                                    and
                                    
                                    
                                       {
                                       n
                                       
                                          (
                                          
                                             t
                                             ′
                                          
                                          −
                                          1
                                          )
                                       
                                       <
                                       N
                                       }
                                    
                                 
                              
                           
                        
                     

For t > t′, the position of the reference part in the buffer is unaffected by anything that happens to the upstream machine M
                        1. Its position X(t) is only affected by α
                        2(s), t′ < s < t. When 
                           
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 +
                                 1
                                 )
                              
                              =
                              1
                              ,
                           
                        
                        
                           
                              X
                              (
                              t
                              +
                              1
                              )
                              =
                              X
                              (
                              t
                              )
                              −
                              1
                           
                        ; and when 
                           
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 +
                                 1
                                 )
                              
                              =
                              0
                              ,
                           
                        
                        
                           
                              X
                              (
                              t
                              +
                              1
                              )
                              =
                              X
                              (
                              t
                              )
                           
                        . Consequently, its sojourn time T depends only on X(t′), α
                        2(t′) and the sequence α
                        2(t), t > t′.

To determine the probability distribution 
                           
                              p
                              (
                              T
                              =
                              τ
                              |
                              A
                              
                                 (
                                 
                                    t
                                    ′
                                 
                                 )
                              
                              )
                           
                         of the reference part’s sojourn time T, we use the conditional probabilities 
                           
                              p
                              
                                 (
                                 T
                                 =
                                 τ
                                 |
                                 X
                                 
                                    (
                                    
                                       t
                                       ′
                                    
                                    )
                                 
                                 =
                                 x
                                 ,
                                 
                                    α
                                    2
                                 
                                 
                                    (
                                    
                                       t
                                       ′
                                    
                                    )
                                 
                                 =
                                 
                                    a
                                    2
                                 
                                 ,
                                 A
                                 
                                    (
                                    
                                       t
                                       ′
                                    
                                    )
                                 
                                 )
                              
                              ,
                              1
                              ≤
                              x
                              ≤
                              N
                              ,
                              
                                 a
                                 2
                              
                              =
                              0
                              ,
                              1
                           
                        . In the following, we no longer need to make a distinction between t′ and a generic t. We therefore simplify the presentation by dropping the ′.

To calculate 
                           
                              p
                              (
                              T
                              =
                              τ
                              |
                              A
                              (
                              t
                              )
                              )
                              ,
                           
                        
                        
                           
                              •
                              we derive, in Section 3.2, 
                                    
                                       p
                                       (
                                       T
                                       =
                                       τ
                                       |
                                       X
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       x
                                       ,
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       
                                          a
                                          2
                                       
                                       ,
                                       A
                                       
                                          (
                                          t
                                          )
                                       
                                       )
                                       ,
                                    
                                  the steady-state conditional probability that the reference part has sojourn time 
                                    
                                       T
                                       =
                                       τ
                                    
                                  given that 
                                    
                                       X
                                       (
                                       t
                                       )
                                       =
                                       x
                                       ,
                                    
                                 
                                 
                                    
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       
                                          a
                                          2
                                       
                                       ,
                                    
                                  and given that it arrived at time t for all x, 1 ≤ x ≤ N and 
                                    
                                       
                                          a
                                          2
                                       
                                       =
                                       0
                                       ,
                                       1
                                    
                                 ;

we find, in Section 3.3, the steady-state conditional probabilities 
                                    
                                       p
                                       (
                                       X
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       x
                                       ,
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       
                                          a
                                          2
                                       
                                       |
                                       A
                                       
                                          (
                                          t
                                          )
                                       
                                       )
                                       ,
                                    
                                  the probability that 
                                    
                                       X
                                       (
                                       t
                                       )
                                       =
                                       x
                                    
                                  for 1 ≤ x ≤ N and 
                                    
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       
                                          a
                                          2
                                       
                                    
                                  for 
                                    
                                       
                                          a
                                          2
                                       
                                       =
                                       0
                                       ,
                                       1
                                       ,
                                    
                                  given that the reference part arrived at time t;

then, also in Section 3.3, we find the steady-state probability 
                                    
                                       p
                                       (
                                       T
                                       =
                                       τ
                                       |
                                       A
                                       (
                                       t
                                       )
                                       )
                                    
                                  by using the total probability theorem (Bertsekas & Tsitsiklis, 2008):

We must make one more important observation before proceeding:

                           
                              (3)
                              
                                 
                                    p
                                    (
                                    T
                                    =
                                    τ
                                    )
                                    =
                                    p
                                    (
                                    T
                                    =
                                    τ
                                    |
                                    A
                                    (
                                    t
                                    )
                                    )
                                 
                              
                           
                        
                     

This is because the event 
                           
                              {
                              T
                              =
                              τ
                              }
                           
                         is actually the event that a part arrives at the buffer at some time t and it spends τ time units in the buffer. But since we are considering the system in steady state, the value of t does not affect the probability. Since A(t) is the event that a part arrives at some time t, 
                           
                              {
                              T
                              =
                              τ
                              }
                           
                         is a subset of A(t). This implies Eq. (3).

However this reasoning does not imply that we can drop A(t) from the conditions in any of the probabilities on the right side of Eq. (2). This is because all of those probabilities involve 
                           
                              {
                              X
                              (
                              t
                              )
                              =
                              x
                              }
                           
                        . That event occurs at the same time as the arrival of the part in event A(t). That is, even though we are considering the system in steady state, the quantities on the right side of (2) involve events that happen at the same time t.

In this section, we calculate two of the quantities that appear in (2).

The sojourn time of the reference part in position x cannot be smaller than 
                           
                              τ
                              =
                              x
                           
                         time units. This is because it will take at least x time units before that part can leave the buffer. Therefore, 
                           
                              p
                              (
                              T
                              =
                              τ
                              |
                              X
                              
                                 (
                                 t
                                 )
                              
                              =
                              x
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              
                                 a
                                 2
                              
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              )
                              =
                              0
                           
                         for τ < x and 
                           
                              
                                 a
                                 2
                              
                              =
                              0
                              ,
                              1
                              ,
                           
                         and we only need to find 
                           
                              p
                              (
                              T
                              =
                              τ
                              |
                              X
                              
                                 (
                                 t
                                 )
                              
                              =
                              x
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              
                                 a
                                 2
                              
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              )
                           
                         for τ ≥ x and 
                           
                              
                                 a
                                 2
                              
                              =
                              0
                              ,
                              1
                           
                        .

In the following derivation, define, for convenience,

                           
                              
                                 
                                    
                                       π
                                       
                                          t
                                       
                                       1
                                    
                                    
                                       (
                                       τ
                                       ,
                                       x
                                       )
                                    
                                    =
                                    p
                                    
                                       (
                                       T
                                       =
                                       τ
                                       |
                                       X
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       x
                                       ,
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       1
                                       ,
                                       A
                                       
                                          (
                                          t
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                    τ
                                    ≥
                                    x
                                 
                              
                           
                        and

                           
                              
                                 
                                    
                                       π
                                       
                                          t
                                       
                                       0
                                    
                                    
                                       (
                                       τ
                                       ,
                                       x
                                       )
                                    
                                    =
                                    p
                                    
                                       (
                                       T
                                       =
                                       τ
                                       |
                                       X
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       x
                                       ,
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       0
                                       ,
                                       A
                                       
                                          (
                                          t
                                          )
                                       
                                       )
                                    
                                    ,
                                    
                                    τ
                                    ≥
                                    x
                                    .
                                 
                              
                           
                        
                     

We find 
                           
                              π
                              
                                 t
                              
                              1
                           
                        (τ, x) and 
                           
                              π
                              
                                 t
                              
                              0
                           
                        (τ, x) by recursion. Recall that the reference part enters the buffer at time t with 
                           
                              X
                              (
                              t
                              )
                              =
                              x
                           
                        . Suppose 
                           
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                           
                        . M
                        2 can fail (
                           
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 +
                                 1
                                 )
                              
                              =
                              0
                           
                        ) with probability p
                        2 or it can remain up (
                           
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 +
                                 1
                                 )
                              
                              =
                              1
                           
                        ) with probability 
                           
                              1
                              −
                              
                                 p
                                 2
                              
                           
                        . We consider these cases separately:

                           
                              •
                              If M
                                 2 fails, then it cannot process any part in the buffer during time unit 
                                    
                                       t
                                       +
                                       1
                                    
                                 . Therefore, at the end of time unit 
                                    
                                       t
                                       +
                                       1
                                       ,
                                    
                                  the reference part will still be the xth part in the buffer. Thus 
                                    
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          +
                                          1
                                          )
                                       
                                       =
                                       0
                                    
                                  and 
                                    
                                       X
                                       (
                                       t
                                       +
                                       1
                                       )
                                       =
                                       x
                                    
                                 .

If M
                                 2 remains up, then it will process the first part in the buffer during time unit 
                                    
                                       t
                                       +
                                       1
                                    
                                 . Therefore, at the end of time unit 
                                    
                                       t
                                       +
                                       1
                                       ,
                                    
                                  the reference part will be the 
                                    
                                       (
                                       x
                                       −
                                       1
                                       )
                                    
                                 th part in the buffer. Thus 
                                    
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          +
                                          1
                                          )
                                       
                                       =
                                       1
                                    
                                  and 
                                    
                                       X
                                       (
                                       t
                                       +
                                       1
                                       )
                                       =
                                       x
                                       −
                                       1
                                    
                                 .

To establish a recurrence relation, note that no matter what happens to M
                        2, time unit 
                           
                              t
                              +
                              1
                           
                         has passed. For the reference part to have a sojourn time of τ time units counted from the end of time unit t, it must have a residual time of 
                           
                              τ
                              −
                              1
                           
                         time units counted from the end of time unit 
                           
                              t
                              +
                              1
                           
                        . At the end of time unit 
                           
                              t
                              +
                              1
                              ,
                           
                         the position of the reference part is 
                           
                              X
                              (
                              t
                              +
                              1
                              )
                              ,
                           
                         and the state of machine M
                        2 is 
                           
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 +
                                 1
                                 )
                              
                           
                        .

On the other hand, consider a hypothetical second reference part that enters the system at the end of time unit 
                           
                              t
                              +
                              1
                              ,
                           
                         with position 
                           
                              X
                              (
                              t
                              +
                              1
                              )
                           
                         and the state of M
                        2
                        
                           
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 +
                                 1
                                 )
                              
                           
                        . The probability that the second reference part has sojourn time 
                           
                              τ
                              −
                              1
                           
                         given these conditions is 
                           
                              p
                              (
                              T
                              =
                              τ
                              −
                              1
                              |
                              X
                              
                                 (
                                 t
                                 +
                                 1
                                 )
                              
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 +
                                 1
                                 )
                              
                              ,
                              A
                              
                                 (
                                 t
                                 +
                                 1
                                 )
                              
                              )
                           
                        . Both the original reference part and this hypothetical second reference part have the same conditions in terms of their positions and the state of M
                        2. Consequently, the distribution of the residual time of the original reference part is the same as the distribution of the sojourn time of the hypothetical second reference part.

Therefore, we have the following recurrence equation:

                           
                              (4)
                              
                                 
                                    
                                       
                                          
                                             p
                                             (
                                             T
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                τ
                                                |
                                                X
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                =
                                                x
                                                ,
                                             
                                             
                                                α
                                                2
                                             
                                             
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                =
                                                1
                                                ,
                                                A
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                )
                                                
                                                =
                                                
                                             
                                             
                                                p
                                                2
                                             
                                             p
                                             
                                                (
                                                T
                                                
                                                =
                                                
                                                τ
                                                −
                                                1
                                                |
                                             
                                             X
                                             
                                                (
                                                t
                                                +
                                                1
                                                )
                                             
                                             =
                                             x
                                             ,
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                                α
                                                2
                                             
                                             
                                                
                                                   (
                                                   t
                                                   +
                                                   1
                                                   )
                                                
                                                =
                                                0
                                                ,
                                                A
                                                
                                                   (
                                                   t
                                                   +
                                                   1
                                                   )
                                                
                                                )
                                                +
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   2
                                                
                                                )
                                             
                                             p
                                             
                                                (
                                                T
                                                =
                                                τ
                                                −
                                                1
                                                |
                                             
                                             X
                                             
                                                (
                                                t
                                                +
                                                1
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             =
                                             x
                                             −
                                             1
                                             ,
                                             
                                                α
                                                2
                                             
                                             
                                                
                                                   (
                                                   t
                                                   +
                                                   1
                                                   )
                                                
                                                =
                                                1
                                                ,
                                                A
                                                
                                                   (
                                                   t
                                                   +
                                                   1
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

We can disregard the time arguments in (4) because the system is in steady state and therefore these probabilities are independent of the time argument t. Eq. (4) becomes

                           
                              (5)
                              
                                 
                                    
                                       π
                                       1
                                    
                                    
                                       (
                                       τ
                                       ,
                                       x
                                       )
                                    
                                    =
                                    
                                       p
                                       2
                                    
                                    
                                       π
                                       0
                                    
                                    
                                       (
                                       τ
                                       −
                                       1
                                       ,
                                       x
                                       )
                                    
                                    +
                                    
                                       (
                                       1
                                       −
                                       
                                          p
                                          2
                                       
                                       )
                                    
                                    
                                       π
                                       1
                                    
                                    
                                       (
                                       τ
                                       −
                                       1
                                       ,
                                       x
                                       −
                                       1
                                       )
                                    
                                    .
                                 
                              
                           
                        
                     

Next, suppose that 
                           
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              0
                           
                         when the reference part enters the buffer. Then, at the beginning of time unit 
                           
                              t
                              +
                              1
                              ,
                           
                        
                        
                           
                              •
                              if M
                                 2 gets repaired, then it will process the first part in the buffer during time unit 
                                    
                                       t
                                       +
                                       1
                                    
                                 . Therefore, at the end of time unit 
                                    
                                       t
                                       +
                                       1
                                       ,
                                    
                                  the reference part will be the 
                                    
                                       (
                                       x
                                       −
                                       1
                                       )
                                    
                                 th part in the buffer. Thus 
                                    
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          +
                                          1
                                          )
                                       
                                       =
                                       1
                                    
                                  and 
                                    
                                       X
                                       (
                                       t
                                       +
                                       1
                                       )
                                       =
                                       x
                                       −
                                       1
                                    
                                 .

if M
                                 2 remains down, then it cannot process any part in the buffer during time unit 
                                    
                                       t
                                       +
                                       1
                                    
                                 . Therefore, at the end of time unit 
                                    
                                       t
                                       +
                                       1
                                       ,
                                    
                                  the reference part will still be the xth part in the buffer. Thus 
                                    
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          +
                                          1
                                          )
                                       
                                       =
                                       0
                                    
                                  and 
                                    
                                       X
                                       (
                                       t
                                       +
                                       1
                                       )
                                       =
                                       x
                                    
                                 .

Therefore, we establish the following equation (after dropping the t subscripts) in a similar way:

                           
                              (6)
                              
                                 
                                    
                                       π
                                       0
                                    
                                    
                                       (
                                       τ
                                       ,
                                       x
                                       )
                                    
                                    =
                                    
                                       r
                                       2
                                    
                                    
                                       π
                                       1
                                    
                                    
                                       (
                                       τ
                                       −
                                       1
                                       ,
                                       x
                                       −
                                       1
                                       )
                                    
                                    +
                                    
                                       (
                                       1
                                       −
                                       
                                          r
                                          2
                                       
                                       )
                                    
                                    
                                       π
                                       0
                                    
                                    
                                       (
                                       τ
                                       −
                                       1
                                       ,
                                       x
                                       )
                                    
                                    .
                                 
                              
                           
                        
                        Eqs. (5) and (6) are the general recurrence equations that we are seeking.


                        
                           
                              
                                 π
                                 1
                              
                              
                                 (
                                 1
                                 ,
                                 1
                                 )
                              
                              =
                              1
                              −
                              
                                 p
                                 2
                              
                           
                         because if the reference part is the first part in the buffer (
                           
                              x
                              =
                              1
                           
                        ) and the second machine is up, it can leave the system in the next time unit (
                           
                              τ
                              =
                              1
                           
                        ) only if the second machine stays up. (The probability of this event is 
                           
                              1
                              −
                              
                                 p
                                 2
                              
                           
                        .) Similarly, 
                           
                              
                                 π
                                 0
                              
                              
                                 (
                                 1
                                 ,
                                 1
                                 )
                              
                              =
                              
                                 r
                                 2
                              
                           
                         because if the reference part is the first part in the buffer (
                           
                              x
                              =
                              1
                           
                        ) and the second machine is down, it can leave the system in the next time unit (
                           
                              τ
                              =
                              1
                           
                        ) only if the second machine is repaired (probability r
                        2).


                        
                           
                              
                                 π
                                 1
                              
                              
                                 (
                                 τ
                                 −
                                 1
                                 ,
                                 0
                                 )
                              
                           
                         is meaningless. This is because the reference part cannot be in position 0. Therefore, (5) and (6) become, for 
                           
                              x
                              =
                              1
                              ,
                              τ
                              ≥
                              2
                              ,
                           
                        
                        
                           
                              (7)
                              
                                 
                                    
                                       
                                          
                                             
                                                π
                                                1
                                             
                                             
                                                (
                                                τ
                                                ,
                                                1
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                p
                                                2
                                             
                                             
                                                π
                                                0
                                             
                                             
                                                (
                                                τ
                                                −
                                                1
                                                ,
                                                1
                                                )
                                             
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (8)
                              
                                 
                                    
                                       
                                          
                                             
                                                π
                                                0
                                             
                                             
                                                (
                                                τ
                                                ,
                                                1
                                                )
                                             
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                (
                                                1
                                                −
                                                
                                                   r
                                                   2
                                                
                                                )
                                             
                                             
                                                π
                                                0
                                             
                                             
                                                (
                                                τ
                                                −
                                                1
                                                ,
                                                1
                                                )
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

We summarize the expressions for non-zero π
                        1(τ, x) and π
                        0(τ, x) as follows:

                           
                              •
                              
                                 
                                    
                                       τ
                                       =
                                       1
                                    
                                 
                                 
                                    
                                       (9)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         1
                                                         ,
                                                         1
                                                         )
                                                      
                                                   
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      1
                                                      −
                                                      
                                                         p
                                                         2
                                                      
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       (10)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         1
                                                         ,
                                                         1
                                                         )
                                                      
                                                   
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         r
                                                         2
                                                      
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              

2 ≤ τ ≤ N
                                 
                                    
                                       (11)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         1
                                                         )
                                                      
                                                   
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         p
                                                         2
                                                      
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         1
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       (12)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         1
                                                         )
                                                      
                                                   
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            r
                                                            2
                                                         
                                                         )
                                                      
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         1
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       (13)
                                       
                                          
                                             
                                                
                                                
                                                
                                                   
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         x
                                                         )
                                                      
                                                      =
                                                      
                                                         p
                                                         2
                                                      
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         x
                                                         )
                                                      
                                                      +
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            p
                                                            2
                                                         
                                                         )
                                                      
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         x
                                                         −
                                                         1
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                             
                                             
                                                
                                                
                                                
                                                   
                                                      2
                                                      ≤
                                                      x
                                                      ≤
                                                      τ
                                                      −
                                                      1
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       (14)
                                       
                                          
                                             
                                                
                                                
                                                
                                                   
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         x
                                                         )
                                                      
                                                      =
                                                      
                                                         r
                                                         2
                                                      
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         x
                                                         −
                                                         1
                                                         )
                                                      
                                                      +
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            r
                                                            2
                                                         
                                                         )
                                                      
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         x
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                             
                                             
                                                
                                                
                                                
                                                   
                                                      2
                                                      ≤
                                                      x
                                                      ≤
                                                      τ
                                                      −
                                                      1
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       (15)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         x
                                                         )
                                                      
                                                   
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            p
                                                            2
                                                         
                                                         )
                                                      
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         x
                                                         −
                                                         1
                                                         )
                                                      
                                                      ,
                                                      
                                                      x
                                                      =
                                                      τ
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       (16)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         x
                                                         )
                                                      
                                                   
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         r
                                                         2
                                                      
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         x
                                                         −
                                                         1
                                                         )
                                                      
                                                      ,
                                                      
                                                      x
                                                      =
                                                      τ
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              


                                 τ > N
                                 
                                    
                                       (17)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         1
                                                         )
                                                      
                                                   
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         p
                                                         2
                                                      
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         1
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       (18)
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         1
                                                         )
                                                      
                                                   
                                                
                                                
                                                   =
                                                
                                                
                                                   
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            r
                                                            2
                                                         
                                                         )
                                                      
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         1
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       (19)
                                       
                                          
                                             
                                                
                                                
                                                
                                                   
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         x
                                                         )
                                                      
                                                      =
                                                      
                                                         p
                                                         2
                                                      
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         x
                                                         )
                                                      
                                                      +
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            p
                                                            2
                                                         
                                                         )
                                                      
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         x
                                                         −
                                                         1
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                             
                                             
                                                
                                                
                                                
                                                   
                                                      2
                                                      ≤
                                                      x
                                                      ≤
                                                      N
                                                      ,
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       (20)
                                       
                                          
                                             
                                                
                                                
                                                
                                                   
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         x
                                                         )
                                                      
                                                      =
                                                      
                                                         r
                                                         2
                                                      
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         x
                                                         −
                                                         1
                                                         )
                                                      
                                                      +
                                                      
                                                         (
                                                         1
                                                         −
                                                         
                                                            r
                                                            2
                                                         
                                                         )
                                                      
                                                      
                                                         π
                                                         0
                                                      
                                                      
                                                         (
                                                         τ
                                                         −
                                                         1
                                                         ,
                                                         x
                                                         )
                                                      
                                                      ,
                                                   
                                                
                                             
                                             
                                                
                                                
                                                
                                                   
                                                      2
                                                      ≤
                                                      x
                                                      ≤
                                                      N
                                                      .
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              

We are now able to compute 
                           
                              
                                 π
                                 1
                              
                              
                                 (
                                 τ
                                 ,
                                 x
                                 )
                              
                              =
                              p
                              
                                 (
                                 T
                                 =
                                 τ
                                 |
                                 X
                                 
                                    (
                                    t
                                    )
                                 
                                 =
                                 x
                                 ,
                                 
                                    α
                                    2
                                 
                                 
                                    (
                                    t
                                    )
                                 
                                 =
                                 1
                                 ,
                                 A
                                 
                                    (
                                    t
                                    )
                                 
                                 )
                              
                           
                         and 
                           
                              
                                 π
                                 0
                              
                              
                                 (
                                 τ
                                 ,
                                 x
                                 )
                              
                              =
                              p
                              
                                 (
                                 T
                                 =
                                 τ
                                 |
                                 X
                                 
                                    (
                                    t
                                    )
                                 
                                 =
                                 x
                                 ,
                                 
                                    α
                                    2
                                 
                                 
                                    (
                                    t
                                    )
                                 
                                 =
                                 0
                                 ,
                                 A
                                 
                                    (
                                    t
                                    )
                                 
                                 )
                              
                           
                         by using the recursion of Eqs. (9)–(20).

In this section, we explain how to find 
                           
                              p
                              
                                 (
                                 X
                                 
                                    (
                                    t
                                    )
                                 
                                 =
                                 x
                                 ,
                                 
                                    α
                                    2
                                 
                                 
                                    (
                                    t
                                    )
                                 
                                 =
                                 
                                    a
                                    2
                                 
                                 |
                                 A
                                 
                                    (
                                    t
                                    )
                                 
                                 )
                              
                              ,
                              1
                              ≤
                              x
                              ≤
                              N
                              ,
                              
                                 a
                                 2
                              
                              =
                              0
                              ,
                              1
                           
                         (the remaining quantities in (2)) from the steady state probabilities p(n, α
                        1, α
                        2) of the two-machine line model of Gershwin (1994).


                        
                           
                              p
                              (
                              X
                              
                                 (
                                 t
                                 )
                              
                              =
                              x
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              
                                 a
                                 2
                              
                              |
                              A
                              
                                 (
                                 t
                                 )
                              
                              )
                           
                         is the probability that the reference part is in position x and the state of M
                        2 is 
                           
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              
                                 a
                                 2
                              
                              ,
                           
                         given that the part arrives at the end of time unit t. This probability is equal to the probability that the two-machine line is in state 
                           
                              {
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              x
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              
                                 a
                                 2
                              
                              }
                           
                         given that the part arrives at end of time unit t. This is because a part can only enter the buffer if 
                           
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                           
                        ; and for 
                           
                              X
                              (
                              t
                              )
                              =
                              x
                              ,
                           
                         we must have 
                           
                              n
                              (
                              t
                              )
                              =
                              x
                           
                         (recall that when a part arrives, its position 
                           
                              X
                              (
                              t
                              )
                              =
                              n
                              (
                              t
                              )
                           
                        ).

Therefore,

                           
                              (21)
                              
                                 
                                    
                                       
                                          
                                             p
                                             (
                                             X
                                             (
                                             t
                                             )
                                          
                                       
                                       
                                          
                                             =
                                             x
                                             ,
                                             
                                                α
                                                2
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             
                                                a
                                                2
                                             
                                             
                                                |
                                                A
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                          
                                             =
                                             p
                                             (
                                             n
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             x
                                             ,
                                             
                                                α
                                                1
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             1
                                             ,
                                             
                                                α
                                                2
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             
                                                a
                                                2
                                             
                                             |
                                             A
                                             
                                                (
                                                t
                                                )
                                             
                                             )
                                          
                                       
                                    
                                    
                                       
                                       
                                          
                                             =
                                             
                                                
                                                   p
                                                   (
                                                   n
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   =
                                                   x
                                                   ,
                                                   
                                                      α
                                                      1
                                                   
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   =
                                                   1
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   =
                                                   
                                                      a
                                                      2
                                                   
                                                   ,
                                                   A
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   )
                                                
                                                
                                                   p
                                                   (
                                                   A
                                                   (
                                                   t
                                                   )
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The quantity 
                           
                              p
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              x
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              
                                 a
                                 2
                              
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              )
                           
                         in (21) is the probability that the state of the line is (x, 1, a
                        2) at the end of time unit t and a new part enters the buffer at the end of time unit t. On the other hand, the quantity 
                           
                              p
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              x
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              
                                 a
                                 2
                              
                              )
                           
                         is the probability that the state of the line is (x, 1, a
                        2) at the end of time unit t.

However, if 
                           
                              x
                              ≤
                              N
                              −
                              2
                              ,
                           
                         the two probabilities are the same. This is because if a part enters the buffer at the end of time unit t (that is, if event A(t) occurs), the first machine must have been up (that is, 
                           
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                           
                        ). Furthermore, if the first machine is up and the buffer is not full, a part will enter the buffer. For the same reason, the probabilities are the same if 
                           
                              x
                              =
                              N
                              −
                              1
                           
                         and 
                           
                              
                                 a
                                 2
                              
                              =
                              0
                           
                        . If the second machine is down, the buffer level can reach 
                           
                              N
                              −
                              1
                           
                         only if a part entered the buffer, which requires that M
                        1 is up.

To summarize, for 
                           
                              x
                              ≤
                              N
                              −
                              2
                           
                         and 
                           
                              
                                 a
                                 2
                              
                              =
                              0
                              ,
                              1
                              ,
                           
                         as well as for 
                           
                              x
                              =
                              N
                              −
                              1
                           
                         and 
                           
                              
                                 a
                                 2
                              
                              =
                              0
                              ,
                           
                        
                        
                           
                              (22)
                              
                                 
                                    
                                       
                                          
                                             p
                                             (
                                             n
                                             (
                                             t
                                             )
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             x
                                             ,
                                             
                                                α
                                                1
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             1
                                             ,
                                             
                                                α
                                                2
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             
                                                a
                                                2
                                             
                                             
                                                ,
                                                A
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                          =
                                       
                                       
                                          
                                             p
                                             (
                                             n
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             x
                                             ,
                                             
                                                α
                                                1
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             1
                                             ,
                                             
                                                α
                                                2
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             
                                                a
                                                2
                                             
                                             )
                                          
                                       
                                    
                                    
                                       
                                       
                                          =
                                       
                                       
                                          
                                             p
                                             (
                                             x
                                             ,
                                             1
                                             ,
                                             
                                                a
                                                2
                                             
                                             )
                                          
                                       
                                    
                                 
                              
                           
                        
                     

On the other hand, 
                           
                              p
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              −
                              1
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              )
                           
                         and 
                           
                              p
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              −
                              1
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              )
                           
                         are not the same. This is because the system can reach 
                           
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              −
                              1
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              )
                           
                         without A(t) occurring, that is, without a part entering the buffer. In particular that state is reached when the buffer is full (and therefore M
                        1 is blocked) and M
                        2 is operational because M
                        2 takes a part out of the buffer.

Similarly, 
                           
                              p
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              0
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              )
                           
                         and 
                           
                              p
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              0
                              )
                           
                         are not the same. This is because the system can be in 
                           
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              0
                              )
                           
                         without a new part entering the buffer. In fact, the system remains in that state as long as M
                        2 remains down.

To determine 
                           
                              p
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              −
                              1
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              )
                              ,
                           
                         note that in steady state, 
                           
                              (
                              N
                              −
                              1
                              ,
                              1
                              ,
                              1
                              )
                           
                         can be reached directly only from 
                           
                              (
                              N
                              −
                              1
                              ,
                              0
                              ,
                              0
                              )
                              ,
                           
                        
                        
                           
                              (
                              N
                              −
                              1
                              ,
                              1
                              ,
                              0
                              )
                              ,
                           
                        
                        
                           
                              (
                              N
                              −
                              1
                              ,
                              1
                              ,
                              1
                              )
                           
                         and (N, 1, 0). The steady-state transition equation for 
                           
                              (
                              N
                              −
                              1
                              ,
                              1
                              ,
                              1
                              )
                           
                         in Gershwin (1994) is

                           
                              
                                 
                                    
                                       
                                          
                                             p
                                             (
                                             N
                                             −
                                             1
                                             ,
                                             1
                                             ,
                                             1
                                             )
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                r
                                                1
                                             
                                             
                                                r
                                                2
                                             
                                             p
                                             
                                                (
                                                N
                                                −
                                                1
                                                ,
                                                0
                                                ,
                                                0
                                                )
                                             
                                             +
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             
                                                r
                                                2
                                             
                                             p
                                             
                                                (
                                                N
                                                −
                                                1
                                                ,
                                                1
                                                ,
                                                0
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             +
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   2
                                                
                                                )
                                             
                                             p
                                             
                                                (
                                                N
                                                −
                                                1
                                                ,
                                                1
                                                ,
                                                1
                                                )
                                             
                                             +
                                             
                                                r
                                                2
                                             
                                             p
                                             
                                                (
                                                N
                                                ,
                                                1
                                                ,
                                                0
                                                )
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The first three terms of this equation describe transitions in which a part enters the buffer. In the first term, M
                        1 was down and it was repaired; in the second and third, M
                        1 was up and did not fail. Since the buffer was not full, a part could enter. On the other hand, a part does not enter the buffer in the last term. This is because the buffer was full and M
                        2 was down at the previous time step, and the system reached 
                           
                              (
                              N
                              −
                              1
                              ,
                              1
                              ,
                              1
                              )
                           
                         because the second machine was repaired and it took a part out of the buffer (while M
                        1 was blocked).

The event 
                           
                              {
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              −
                              1
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              }
                           
                         differs from 
                           
                              {
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              −
                              1
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              }
                           
                         because it requires a part to enter the buffer. Consequently it can be reached directly from 
                           
                              (
                              N
                              −
                              1
                              ,
                              0
                              ,
                              0
                              )
                              ,
                           
                        
                        
                           
                              (
                              N
                              −
                              1
                              ,
                              1
                              ,
                              0
                              )
                              ,
                           
                         and 
                           
                              (
                              N
                              −
                              1
                              ,
                              1
                              ,
                              1
                              )
                           
                         but not (N, 1, 0). Therefore, the probability of that event in steady state is given by

                           
                              (23)
                              
                                 
                                    
                                       
                                          
                                             p
                                             (
                                             n
                                             (
                                             t
                                             )
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             N
                                             −
                                             1
                                             ,
                                             
                                                α
                                                1
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             1
                                             ,
                                             
                                                α
                                                2
                                             
                                             
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                =
                                                1
                                                ,
                                                A
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                r
                                                1
                                             
                                             
                                                r
                                                2
                                             
                                             p
                                             
                                                (
                                                N
                                                −
                                                1
                                                ,
                                                0
                                                ,
                                                0
                                                )
                                             
                                             +
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             
                                                r
                                                2
                                             
                                             p
                                             
                                                (
                                                N
                                                −
                                                1
                                                ,
                                                1
                                                ,
                                                0
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             +
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   2
                                                
                                                )
                                             
                                             p
                                             
                                                (
                                                N
                                                −
                                                1
                                                ,
                                                1
                                                ,
                                                1
                                                )
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

Similarly, the steady-state transition equation for (N, 1, 0) in Gershwin (1994) is

                           
                              
                                 
                                    
                                       
                                          
                                             p
                                             (
                                             N
                                             ,
                                             1
                                             ,
                                             0
                                             )
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                r
                                                1
                                             
                                             
                                                (
                                                1
                                                
                                                −
                                                
                                                
                                                   r
                                                   2
                                                
                                                )
                                             
                                             p
                                             
                                                (
                                                N
                                                
                                                −
                                                
                                                1
                                                ,
                                                0
                                                ,
                                                0
                                                )
                                             
                                             
                                             +
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             
                                                (
                                                1
                                                
                                                −
                                                
                                                
                                                   r
                                                   2
                                                
                                                )
                                             
                                             p
                                             
                                                (
                                                N
                                                
                                                −
                                                
                                                1
                                                ,
                                                1
                                                ,
                                                0
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             +
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             
                                                p
                                                2
                                             
                                             p
                                             
                                                (
                                                N
                                                −
                                                1
                                                ,
                                                1
                                                ,
                                                1
                                                )
                                             
                                             +
                                             
                                                (
                                                1
                                                −
                                                
                                                   r
                                                   2
                                                
                                                )
                                             
                                             p
                                             
                                                (
                                                N
                                                ,
                                                1
                                                ,
                                                0
                                                )
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The four states on the right side of the equation are the only states that (N, 1, 0) can be reached directly from in steady state. Again, the first three terms represent transitions in which a part enters the buffer and the fourth does not. The event 
                           
                              {
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              0
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              }
                           
                         is the one in which the system reaches (N, 1, 0) when a part enters the buffer. Therefore, its steady-state probability is the same as that of (N, 1, 0) except that the fourth transition cannot happen. Therefore, in steady state,

                           
                              (24)
                              
                                 
                                    
                                       
                                          
                                             p
                                             (
                                             n
                                             (
                                             t
                                             )
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             N
                                             ,
                                             
                                                α
                                                1
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             =
                                             1
                                             ,
                                             
                                                α
                                                2
                                             
                                             
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                =
                                                0
                                                ,
                                                A
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                r
                                                1
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   r
                                                   2
                                                
                                                )
                                             
                                             p
                                             
                                                (
                                                N
                                                −
                                                1
                                                ,
                                                0
                                                ,
                                                0
                                                )
                                             
                                             +
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   r
                                                   2
                                                
                                                )
                                             
                                             p
                                             
                                                (
                                                N
                                                −
                                                1
                                                ,
                                                1
                                                ,
                                                0
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             +
                                             
                                             
                                                (
                                                1
                                                −
                                                
                                                   p
                                                   1
                                                
                                                )
                                             
                                             
                                                p
                                                2
                                             
                                             p
                                             
                                                (
                                                N
                                                −
                                                1
                                                ,
                                                1
                                                ,
                                                1
                                                )
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

The remaining quantity to be found is 
                           
                              p
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              )
                           
                         (i.e., 
                           
                              x
                              =
                              N
                           
                         and 
                           
                              
                                 a
                                 2
                              
                              =
                              1
                           
                        ), which is

                           
                              (25)
                              
                                 
                                    p
                                    (
                                    n
                                    
                                       (
                                       t
                                       )
                                    
                                    =
                                    N
                                    ,
                                    
                                       α
                                       1
                                    
                                    
                                       (
                                       t
                                       )
                                    
                                    =
                                    1
                                    ,
                                    
                                       α
                                       2
                                    
                                    
                                       (
                                       t
                                       )
                                    
                                    =
                                    1
                                    ,
                                    A
                                    
                                       (
                                       t
                                       )
                                    
                                    )
                                    =
                                    0
                                 
                              
                           
                        The reason is that 
                           
                              {
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              }
                           
                         means that the new part has a position of N while both M
                        1 and M
                        2 are up at the end of time unit t. This implies that during time unit t, the buffer level is N (so the buffer is full); and at the end of time unit t, M
                        1 adds the new part into the buffer while M
                        2 removes a part from the buffer. However, this is infeasible because a full buffer will block M
                        1 during time unit t and therefore it cannot process any part. Hence, it is not possible for a new part entering the buffer to have a position of N while both M
                        1 and M
                        2 are up; so 
                           
                              p
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              N
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              )
                              =
                              0
                           
                        .


                        Eqs. (22)–(25) are used to find 
                           
                              p
                              (
                              n
                              
                                 (
                                 t
                                 )
                              
                              =
                              x
                              ,
                              
                                 α
                                 1
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              1
                              ,
                              
                                 α
                                 2
                              
                              
                                 (
                                 t
                                 )
                              
                              =
                              
                                 a
                                 2
                              
                              ,
                              A
                              
                                 (
                                 t
                                 )
                              
                              )
                           
                         for 1 ≤ x ≤ N and 
                           
                              
                                 a
                                 2
                              
                              =
                              0
                              ,
                              1
                           
                        . Then, we calculate 
                           
                              p
                              
                                 (
                                 X
                                 
                                    (
                                    t
                                    )
                                 
                                 =
                                 x
                                 ,
                                 
                                    α
                                    2
                                 
                                 
                                    (
                                    t
                                    )
                                 
                                 =
                                 
                                    a
                                    2
                                 
                                 |
                                 A
                                 
                                    (
                                    t
                                    )
                                 
                                 )
                              
                              ,
                              1
                              ≤
                              x
                              ≤
                              N
                              ,
                              
                                 a
                                 2
                              
                              =
                              0
                              ,
                              1
                           
                         using (21). Finally, we compute 
                           
                              p
                              (
                              T
                              =
                              τ
                              |
                              A
                              (
                              t
                              )
                              )
                           
                         according to (2),

                           
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             p
                                             (
                                             T
                                             =
                                             τ
                                             |
                                             A
                                             (
                                             t
                                             )
                                             )
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             =
                                             
                                                ∑
                                                
                                                   x
                                                   =
                                                   1
                                                
                                                N
                                             
                                             
                                                [
                                                p
                                             
                                             
                                                (
                                                T
                                                
                                                =
                                                
                                                τ
                                                |
                                                X
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                
                                                =
                                                
                                                x
                                                ,
                                                
                                                   α
                                                   2
                                                
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                
                                                =
                                                
                                                1
                                                ,
                                                A
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                )
                                             
                                             p
                                             
                                                (
                                                X
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                
                                                =
                                                
                                                x
                                                ,
                                                
                                                   α
                                                   2
                                                
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                
                                                =
                                                
                                                1
                                                |
                                                A
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                )
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                             +
                                             
                                             p
                                             
                                                (
                                                T
                                                
                                                =
                                                
                                                τ
                                                |
                                                X
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                
                                                =
                                                
                                                x
                                                ,
                                                
                                                   α
                                                   2
                                                
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                
                                                =
                                                
                                                0
                                                ,
                                                A
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                )
                                             
                                             p
                                             
                                                (
                                                X
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                
                                                =
                                                
                                                x
                                                ,
                                                
                                                   α
                                                   2
                                                
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                
                                                =
                                                
                                                0
                                                |
                                                A
                                                
                                                   (
                                                   t
                                                   )
                                                
                                                )
                                             
                                             
                                                ]
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                                =
                                                
                                                   ∑
                                                   
                                                      x
                                                      =
                                                      1
                                                   
                                                   N
                                                
                                                
                                                   [
                                                   
                                                      
                                                         [
                                                         .
                                                         7
                                                         c
                                                         m
                                                         ]
                                                      
                                                      
                                                         0
                                                         c
                                                         m
                                                      
                                                      
                                                         0
                                                         e
                                                         m
                                                      
                                                      
                                                         π
                                                         1
                                                      
                                                      
                                                         (
                                                         τ
                                                         ,
                                                         x
                                                         )
                                                      
                                                      
                                                         
                                                            p
                                                            (
                                                            n
                                                            
                                                               (
                                                               t
                                                               )
                                                            
                                                            =
                                                            x
                                                            ,
                                                            
                                                               α
                                                               1
                                                            
                                                            
                                                               (
                                                               t
                                                               )
                                                            
                                                            =
                                                            1
                                                            ,
                                                            
                                                               α
                                                               2
                                                            
                                                            
                                                               (
                                                               t
                                                               )
                                                            
                                                            =
                                                            1
                                                            ,
                                                            A
                                                            
                                                               (
                                                               t
                                                               )
                                                            
                                                            )
                                                         
                                                         
                                                            p
                                                            (
                                                            A
                                                            (
                                                            t
                                                            )
                                                            )
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                             +
                                             
                                             
                                                
                                                   
                                                      π
                                                      0
                                                   
                                                   
                                                      (
                                                      τ
                                                      ,
                                                      x
                                                      )
                                                   
                                                   
                                                      
                                                         p
                                                         (
                                                         n
                                                         
                                                            (
                                                            t
                                                            )
                                                         
                                                         =
                                                         x
                                                         ,
                                                         
                                                            α
                                                            1
                                                         
                                                         
                                                            (
                                                            t
                                                            )
                                                         
                                                         =
                                                         1
                                                         ,
                                                         
                                                            α
                                                            2
                                                         
                                                         
                                                            (
                                                            t
                                                            )
                                                         
                                                         =
                                                         0
                                                         ,
                                                         A
                                                         
                                                            (
                                                            t
                                                            )
                                                         
                                                         )
                                                      
                                                      
                                                         p
                                                         (
                                                         A
                                                         (
                                                         t
                                                         )
                                                         )
                                                      
                                                   
                                                   
                                                      [
                                                      .
                                                      7
                                                      c
                                                      m
                                                      ]
                                                   
                                                   
                                                      0
                                                      c
                                                      m
                                                   
                                                   
                                                      0
                                                      e
                                                      m
                                                   
                                                
                                                ]
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           
                        
                     

But this can be further simplified. A(t) is the event that a part enters the buffer at the end of time unit t. Therefore p(A(t)) is the probability that a part enters the buffer. (We no longer need to speak of the reference part.) Conservation of flow requires this to be the same as the probability that a part leaves the buffer, which is the same as the probability that a part leaves the second machine. That is precisely the production rate P of the system, which is calculated in Eq. (A.1).

Consequently, the previous equation can be written, with the use of (3), as

                           
                              (26)
                              
                                 
                                    
                                       
                                          
                                             p
                                             (
                                             T
                                             =
                                             τ
                                             )
                                          
                                       
                                       
                                          =
                                       
                                       
                                          
                                             
                                                
                                                   1
                                                   P
                                                
                                                
                                                   ∑
                                                   
                                                      x
                                                      =
                                                      1
                                                   
                                                   N
                                                
                                                
                                                   [
                                                
                                                
                                                   π
                                                   1
                                                
                                                
                                                   (
                                                   τ
                                                   ,
                                                   x
                                                   )
                                                
                                                p
                                                
                                                   (
                                                   n
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   =
                                                   x
                                                   ,
                                                   
                                                      α
                                                      1
                                                   
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   =
                                                   1
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   =
                                                   1
                                                   ,
                                                   A
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   )
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                                +
                                                
                                                
                                                   π
                                                   0
                                                
                                                
                                                   (
                                                   τ
                                                   ,
                                                   x
                                                   )
                                                
                                                p
                                                
                                                   (
                                                   n
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   =
                                                   x
                                                   ,
                                                   
                                                      α
                                                      1
                                                   
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   =
                                                   1
                                                   ,
                                                   
                                                      α
                                                      2
                                                   
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   =
                                                   0
                                                   ,
                                                   A
                                                   
                                                      (
                                                      t
                                                      )
                                                   
                                                   )
                                                
                                                
                                                   ]
                                                   .
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

According to the derivation in Sections 3.1–3.3 the part sojourn time distribution can be found with the following steps.

                           
                              •
                              
                                 Step 1: Solve π
                                 1(τ, x) and π
                                 0(τ, x), 1 ≤ x ≤ N, by recursion, using (9)–(20).


                                 Step 2: Find 
                                    
                                       p
                                       (
                                       n
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       x
                                       ,
                                       
                                          α
                                          1
                                       
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       1
                                       ,
                                       
                                          α
                                          2
                                       
                                       
                                          (
                                          t
                                          )
                                       
                                       =
                                       
                                          a
                                          2
                                       
                                       ,
                                       A
                                       
                                          (
                                          t
                                          )
                                       
                                       )
                                       ,
                                    
                                  1 ≤ x
                                 
                                    
                                       ≤
                                       N
                                       ,
                                       
                                          a
                                          2
                                       
                                       =
                                       0
                                       ,
                                       1
                                       ,
                                    
                                  by (22)–(25), and P by (A.1).


                                 Step 3: Use (26) to calculate 
                                    
                                       p
                                       (
                                       T
                                       =
                                       τ
                                       )
                                    
                                 .


                     Eq. (26) was validated in two ways. First, numerous cases were simulated. The probability distributions obtained from simulation agreed closely with those from (26). Second, we evaluated the production rate P and the average buffer 
                        
                           n
                           ¯
                        
                      from the steady state probabilities of the two-machine line ((A.1) and (A.2)). According to Little’s law (Little 1961), the expected sojourn time 
                        
                           E
                           
                              [
                              T
                              ]
                           
                           =
                           
                              n
                              ¯
                           
                           /
                           P
                        
                     . We evaluated 
                        
                           E
                           
                              [
                              T
                              ]
                           
                           =
                           
                              ∑
                              
                                 τ
                                 =
                                 1
                              
                              ∞
                           
                           τ
                           p
                           
                              (
                              T
                              =
                              τ
                              )
                           
                        
                      from (26) and we found that Little’s law was satisfied perfectly.

Next, we show how the distribution is influenced by different values of machine parameters and buffer sizes. We consider a balanced line, a line where M
                     2 is the bottleneck, and a line where M
                     1 is the bottleneck.

In the first experiment, the parameters of the line are 
                           
                              
                                 p
                                 1
                              
                              =
                              .
                              01
                              ,
                           
                        
                        
                           
                              
                                 r
                                 1
                              
                              =
                              .
                              1
                              ,
                           
                        
                        
                           
                              
                                 p
                                 2
                              
                              =
                              .
                              01
                              ,
                           
                        
                        
                           
                              
                                 r
                                 2
                              
                              =
                              .
                              1
                              ,
                           
                         and 
                           
                              N
                              =
                              20
                           
                        . The sojourn time distribution is shown in Fig. 4
                        . The horizontal axis is τ, while the vertical axis is 
                           
                              p
                              (
                              T
                              =
                              τ
                              )
                           
                        .

Observe that
                        
                        
                           
                              p
                              (
                              T
                              =
                              1
                              )
                           
                         and 
                           
                              p
                              (
                              T
                              =
                              19
                              )
                           
                         are much larger than the other probabilities. Because of the symmetry of the line, the values of 
                           
                              p
                              (
                              T
                              =
                              τ
                              )
                           
                         are exactly the same for all τ between 2 and 18. In addition, there is a small tail indicating that a small portion of parts have sojourn times longer than 19 time units.

The buffer tends to be full or empty frequently because the size of the buffer is only 2 × MTTR (mean time to repair). Consequently, one machine is frequently forced to be idle.

Whenever M
                        1 fails and the buffer becomes empty, the system runs with an inventory level of 1 from when M
                        1 gets repaired until the next failure occurs. During this period, parts spend 1 time unit in the buffer—each part that enters the buffer at the beginning of a time unit is processed by M
                        2 immediately and leaves the system at the end of that time unit. On the other hand, if M
                        2 fails and the buffer gets full, then after it gets repaired, the system will run with an inventory level of 19 (not 20, due to the convention of the model) before the next failure takes place. During this period, each new part is the 19th part in the buffer and therefore has to wait for 19 time units (if no failures of M
                        2 occur) before it can leave. If M
                        2 fails when the system has an inventory level of 19, the sojourn time for some of the parts in the buffer will be longer than 19. The shape of the sojourn time distribution is comparable to that of the buffer level distribution (Fig. 5). The fact that 
                           
                              p
                              (
                              n
                              =
                              1
                              )
                           
                         and 
                           
                              p
                              (
                              n
                              =
                              19
                              )
                           
                         are much larger than others indicates that the system is most often running with a buffer level of either 1 or 19. As a result, the probabilities of 
                           
                              T
                              =
                              1
                           
                         and 
                           
                              T
                              =
                              19
                           
                         are large.

If we reduce the MTTR of both machines or increase the size of the buffer, the system will be blocked or starved less often, and the probabilities of 
                           
                              T
                              =
                              1
                           
                         and 
                           
                              T
                              =
                              N
                              −
                              1
                           
                         will be smaller. This is verified by Fig. 6, where the buffer size is still 20 but parameters of both machines are changed to 
                           
                              
                                 r
                                 1
                              
                              =
                              
                                 r
                                 2
                              
                              =
                              .
                              6
                           
                         and 
                           
                              
                                 p
                                 1
                              
                              =
                              
                                 p
                                 2
                              
                              =
                              .
                              04
                              ,
                           
                         so that the MTTR is smaller.

In the second experiment, the parameters of the line are 
                           
                              
                                 p
                                 1
                              
                              =
                              .
                              04
                              ,
                           
                        
                        
                           
                              
                                 r
                                 1
                              
                              =
                              .
                              5
                              ,
                           
                        
                        
                           
                              
                                 p
                                 2
                              
                              =
                              .
                              04
                              ,
                           
                        
                        
                           
                              
                                 r
                                 2
                              
                              =
                              .
                              4
                              ,
                           
                         and 
                           
                              N
                              =
                              20
                           
                        . Since the isolated efficiency of M
                        2 (
                           
                              =
                              
                                 r
                                 2
                              
                              /
                              
                                 (
                                 
                                    r
                                    2
                                 
                                 +
                                 
                                    p
                                    2
                                 
                                 )
                              
                              =
                              .
                              870
                           
                        ) is smaller than the isolated efficiency of M
                        1 (
                           
                              =
                              
                                 r
                                 1
                              
                              /
                              
                                 (
                                 
                                    r
                                    1
                                 
                                 +
                                 
                                    p
                                    1
                                 
                                 )
                              
                              =
                              .
                              909
                           
                        ), M
                        2 is the bottleneck of the line. It means that M
                        2 is less reliable than M
                        1 and it fails more frequently on average. When it fails, parts start accumulating in the buffer. On average, the inventory level is high. The part sojourn time distribution is provided in Fig. 7
                         and it shows that most of the parts have long sojourn times.

In the last experiment, M
                        1 is the bottleneck. Machine parameters are 
                           
                              
                                 p
                                 1
                              
                              =
                              .
                              05
                              ,
                           
                        
                        
                           
                              
                                 r
                                 1
                              
                              =
                              .
                              3
                              ,
                           
                        
                        
                           
                              
                                 p
                                 2
                              
                              =
                              .
                              05
                              ,
                           
                        
                        
                           
                              
                                 r
                                 2
                              
                              =
                              .
                              5
                              ,
                           
                         and the buffer size is 
                           
                              N
                              =
                              30
                           
                        . The distribution is shown in Fig. 8
                        . In this case, the isolated efficiency of M
                        2 (.909) is larger than the isolated efficiency of M
                        1 (.857). M
                        1 fails more frequently on average than M
                        2, and the average inventory level is low. Most of the parts have small sojourn times.

The analytic formulation for the part sojourn time distribution for a two-machine one-buffer line can be applied to a given buffer in a long line, with the help of decomposition. For long lines, the decomposition method (Gershwin, 1987) was developed to approximately evaluate the production rate and the average inventory level of each buffer. For a k-machine, 
                        
                           k
                           −
                           1
                        
                     -buffer line, the decomposition analyzes 
                        
                           k
                           −
                           1
                        
                      two-machine one-buffer building blocks. For each building block i, two pseudo-machines Mu
                     (i) and Md
                     (i) with geometric repair and failure probabilities are constructed to approximate the material behavior in buffer Bi
                      of the original line (see Fig. 9). Specifically, the parameters are ru
                     (i) and pu
                     (i), the parameters of the upstream pseudo-machine Mu
                     (i); and rd
                     (i) and pd
                     (i), the parameters of the downstream pseudo-machine Md
                     (i). These parameters can be found efficiently using the algorithm of Dallery, David, and Xie (1988) to solve the equations of Gershwin (1987). Using these parameters, we can use the algorithm of Section 3.4 to compute the part sojourn time for any given buffer Bi
                     . This provides an approximation of the part sojourn time distribution in the given buffer of a long line. In the following, we describe two examples in detail, and then we consider the aggregate behavior of a 100 cases.

Consider a balanced four-machine three-buffer line first. The machine parameters are 
                           
                              
                                 r
                                 i
                              
                              =
                              .
                              2
                           
                         and 
                           
                              
                                 p
                                 i
                              
                              =
                              .
                              01
                              ,
                              i
                              =
                              1
                              ,
                              2
                              ,
                              3
                              ,
                           
                         and 4, and the size of each buffer
                         is 20. The pseudo-machine parameters of all building blocks (calculated using the decomposition method of Gershwin, 1987) are listed in Table 1. Using these parameters and (26), we find an approximation of the part sojourn time distributions in the three buffers of the line. On the other hand, a discrete time simulation was written to compare with the approximation. The
                         length of each simulation is 21,000,000 time units with the first 1,000,000 time units being the warm up period. We ran the simulation 20 times and we report the average as the simulation result.

The results of 
                           
                              p
                              (
                              T
                              =
                              τ
                              )
                           
                         for all three buffers are illustrated in Fig. 10 which shows that the analytic and simulation results are remarkably close. The discrepancy is due to the fact that the decomposition (which is used to find the pseudo-machine parameters) is approximate, and due to the randomness of the simulation. In addition to the distribution, we study three quantities which are of more practical importance. They are the mean sojourn time, the standard deviation of the sojourn time, and the minimal value of τ such that p(T ≤ τ) ≥ δ, where 0 < δ < 1. In our study, we chose 
                           
                              δ
                              =
                              .
                              95
                           
                        . The three quantities from the two approaches are listed in Table 2, which shows that the analytic and simulation results are very close. For the minimal τ such that p(T ≤ τ) ≥ .95, the values from the two approaches are the same for buffers B
                        1 and B
                        3. For B
                        2, their difference is 1. This example indicates that the analytic approach, which is based on (26) for two-machine lines and decomposition, finds a very good estimation of the three quantities for a single buffer in this long line.

The second example is a five-machine four-buffer line. Machine parameters are 
                           
                              
                                 r
                                 1
                              
                              =
                              .
                              4
                              ,
                              
                                 p
                                 1
                              
                              =
                              .
                              01
                              ,
                              
                                 r
                                 2
                              
                              =
                              .
                              36
                              ,
                              
                                 p
                                 2
                              
                              =
                              .
                              009
                              ,
                              
                                 r
                                 3
                              
                              =
                              .
                              5
                              ,
                              
                                 p
                                 3
                              
                              =
                              .
                              012
                              ,
                              
                                 r
                                 4
                              
                              =
                              .
                              4
                              ,
                              
                                 p
                                 4
                              
                              =
                              .
                              01
                              ,
                              
                                 r
                                 5
                              
                              =
                              .
                              45
                              ,
                           
                         and 
                           
                              
                                 p
                                 5
                              
                              =
                              .
                              006
                           
                        . The sizes of the four buffers are 28, 22, 27 and 26. The pseudo-machine parameters are listed in Table 3, from which we see that the four two-machine building blocks are very different. For example, for B
                        1, the downstream pseudo-machine is the bottleneck; while for B
                        4, the upstream pseudo-machine is the bottleneck. Therefore, we should expect that the sojourn time distributions of the four buffers exhibit very different shapes. Fig. 11 shows 
                           
                              p
                              (
                              T
                              =
                              τ
                              )
                           
                         for all four buffers, and Table 4
                         lists the three quantities of interest. Again, the analytic solution is a very good approximation of the part sojourn time distribution for all four buffers.

Finally, we study 100 randomly generated long lines. The lengths of these lines range from three to ten machines. For each line, a buffer of interest is randomly chosen from all buffers of the line. When choosing machine parameters, we focus on realistic test cases, so that the findings can be the most useful to practitioners. Therefore, machine parameters are chosen according to the following assumptions. We want to test cases in which machine repair probabilities are neither too small nor too large (so we choose .05 ≤ ri
                         ≤ .9). We do not want to consider lines in which machines are very different from one another, so we limit the ratios of machine repair probabilities (and consequently mean times to repair) to be not greater than 2. (That is, ri
                        /rj
                         ≤ 2 for all i, j.) We also want to be sure that machine efficiencies are not unrealistically high or unrealistically low (and therefore we require 
                           
                              .
                              75
                              ≤
                              
                                 r
                                 i
                              
                              /
                              
                                 (
                                 
                                    r
                                    i
                                 
                                 +
                                 
                                    p
                                    i
                                 
                                 )
                              
                              ≤
                              .
                              99
                           
                        ). Lastly, we want buffers to be reasonably sized, not too small or too large, according to the mean times to repair of the machines. This is because a buffer which is sufficiently small will not have a significantly different effect on the line performance than a buffer of size 0; and a buffer which is sufficiently large will be obviously uneconomical and therefore unrealistic. That is,
                        
                         we choose

                           
                              
                                 
                                    
                                       B
                                       min
                                    
                                    
                                       min
                                       j
                                    
                                    
                                       {
                                       
                                          MTTR
                                          j
                                       
                                       }
                                    
                                    ≤
                                    
                                       N
                                       i
                                    
                                    ≤
                                    
                                       B
                                       max
                                    
                                    
                                       max
                                       j
                                    
                                    
                                       {
                                       
                                          MTTR
                                          j
                                       
                                       }
                                    
                                    ,
                                    
                                    for
                                    
                                    all
                                    
                                    i
                                    ,
                                    j
                                 
                              
                           
                        where 
                           
                              
                                 MTTR
                                 j
                              
                              =
                              1
                              /
                              
                                 r
                                 j
                              
                              ,
                           
                         and B
                        min  and B
                        max  are coefficients for choosing the buffer sizes. These lines are generated according to the case generation method described in Gershwin (2011).
                           2
                        
                        
                           2
                           This is a method that chooses ri, pi
                              , and Ni
                               to satisfy these inequalities without filtering. For every case, it randomly generates the parameters sequentially, so that when one parameter is chosen, the inequalities on the remaining parameters are narrowed so that they cannot violate the original inequalities. The alternative would be to generate a very large number of cases of which only a tiny fraction would be meaningful in practice. Even if the impractical cases were filtered out and not tested, the generation of enough useful cases would be extremely time consuming.
                        
                     

For these 100 lines, we report the mean sojourn time, the standard deviation of the sojourn time, and the value of the minimal τ such that p(T ≤ τ) ≥ .95 from the analytic and simulation approaches. They, and the errors between analytic and simulation results, are provided in Figs. 12–14.

The errors in the mean sojourn time and the standard deviation of the sojourn time for most of the lines, regardless of their lengths, machine parameters, buffer sizes, and buffers of interest, are smaller than 10 percent. The average error of the former is 2.98 percent while the average error of the latter is 4.64 percent. However, there are some cases in which the errors are considerably larger. The worst mean sojourn time error is 18.4percent and the worst standard deviation error is 21.5 percent.

The errors in the minimal τ such that p(T ≤ τ) ≥ .95 are much smaller. In 88 of the 100 lines, the value of τ from the analytic approach is either the same or offset only by 1 from the value from simulation. In 99 cases, the differences in τ are no greater than 2, and the remaining case has a difference of 3. This suggests that using τ from the analytic approach for p(T ≤ τ) ≥ .95 may provide a very good estimate for a given buffer of a long line.

This is encouraging because, as we suggest in Section 1, the sojourn time percentile is of greater economic importance than the mean or the standard deviation. Further experimentation is warranted.

@&#CONCLUSIONS AND FUTURE WORK@&#

In this paper, we develop an analytic formulation for the part sojourn time distribution in two-machine one-buffer production lines. The numerical experiments of Section 4 show that the finiteness of the buffer is an important determinant of the sojourn time distribution. In most cases, the distribution has two high probability sojourn times: a short time that occurs when the buffer is empty and a long time when the buffer is full. The numerical experiments of Section 4 also illustrate how the distribution is profoundly affected by the characteristics of the machines, especially which machine is the bottleneck.

The experiments of Section 5 suggest that the accuracy of the distribution may be good enough for practical line design even for a system that does not satisfy the assumptions that the derivation is based on. In other words, the mean time to fail and mean time to repair appear to be the dominant characteristics that determine the sojourn time distribution.

Comparisons with simulation show that the minimal value of τ such that p(T ≤ τ) ≥ .95 is approximated very well by the approach described here, and that the mean and standard deviation are approximated less well. This may be due to the fact that higher moments are more volatile and harder to determine than lower moments. A probability is a zeroth moment of a distribution, while the mean and the square of the standard deviation are first and second moments.

This paper describes a first research step. The following paragraphs describe several research directions that will lead to practical use in designing production lines.

                        
                           •
                           More cases should be examined to verify that the approach described here is of practical value for line designers. Such a study should examine how the accuracy of the long line approximation is affected by the length of the line, the existence and locations of bottlenecks, the number of bottlenecks, the sizes of the buffers, the frequency and durations of blocking and starvation, the differences among the machines (such as short frequent failures versus long infrequent failures), and other factors. Such results will provide useful insights on part sojourn times for production line practitioners.

Sojourn time distributions can be developed for other two-machine lines. There are a wide variety of discrete-time, discrete material two-machine line models in the literature, including the model of Tolio, Matta, and Gershwin (2002) that allows machines to have multiple binary failure modes and the model of Gershwin and Fallah-Fini (2007) that allows the machines to have general Markov reliability models. There are also continuous time, continuous material (fluid) models including Gershwin and Schick (1980), Alvarez Vargas, Dallery, and David (1992), Yeralan and Tan (1997), and Tan and Gershwin (2009). The machines of the last paper have general Markov reliability and speed models. Such models can represent two-stage lines with multiple parallel machines in each stage as well as more complex systems. In addition to widening the class of two-machine models that can be analyzed, this may improve the accuracy of the sojourn time estimate in buffers in long lines (as in Section 5).

There may sometimes be benefits for operating a buffer with a last-in first-out (LIFO) (or other) discipline. The analysis described in this paper should be done for such cases.

It may be of interest to develop analytic methods for calculating production rate, expected inventory, and sojourn times in buffers for long production lines where parts are scrapped or reworked when a sojourn time is too long.

Another important extension is to integrate the part sojourn time distribution into transfer line optimization problems. For example, consider the problem of choosing buffer sizes to maximize profit subject to constraints on the production rate and on the time that parts spend in buffer i
                              *:

                                 
                                    
                                       
                                          
                                             
                                                
                                                   max
                                                   N
                                                
                                             
                                             
                                                
                                                   
                                                      Π
                                                      
                                                         (
                                                         N
                                                         )
                                                      
                                                      =
                                                      A
                                                      P
                                                      
                                                         (
                                                         N
                                                         )
                                                      
                                                      −
                                                      
                                                         ∑
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         
                                                            k
                                                            −
                                                            1
                                                         
                                                      
                                                      
                                                         b
                                                         i
                                                      
                                                      
                                                         N
                                                         i
                                                      
                                                      −
                                                      
                                                         ∑
                                                         
                                                            i
                                                            =
                                                            1
                                                         
                                                         
                                                            k
                                                            −
                                                            1
                                                         
                                                      
                                                      
                                                         c
                                                         i
                                                      
                                                      
                                                         
                                                            n
                                                            ¯
                                                         
                                                         i
                                                      
                                                      
                                                         (
                                                         N
                                                         )
                                                      
                                                   
                                                
                                             
                                          
                                          
                                             
                                                
                                                   subject
                                                   
                                                   to
                                                
                                             
                                             
                                                
                                                   P
                                                   
                                                      (
                                                      N
                                                      )
                                                   
                                                   ≥
                                                   
                                                      P
                                                      *
                                                   
                                                
                                             
                                          
                                          
                                             
                                             
                                                
                                                   p
                                                   (
                                                   
                                                      T
                                                      
                                                         i
                                                         *
                                                      
                                                   
                                                   ≤
                                                   τ
                                                   )
                                                   ≥
                                                   δ
                                                
                                             
                                          
                                          
                                             
                                             
                                                
                                                   
                                                      N
                                                      ≥
                                                      
                                                         N
                                                         min
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              in which the decision variables are the buffer sizes Ni, Π(N) is the profit, A, bi
                              , and ci
                               are revenue and cost coefficients, i
                              * is a buffer in which the sojourn time must be limited, τ is the maximum allowable time in that buffer, δ is the fraction of parts that are acceptable (i.e., need not be scrapped or reworked), and P
                              * is the target production rate. Some preliminary work has been conducted (Shi 2012) by extending the buffer allocation algorithm of Shi and Gershwin (2009) which maximizes profit subject only to the production rate constraint.

It will be valuable to study the total time that a part spends in a tandem production line (its lead time) with three or more machines. This is of great practical importance because manufacturers must promise early and accurate delivery dates to their customers. They lose customers when their delivery promises are too far in the future, or if they fail too often to keep those promises.

@&#ACKNOWLEDGMENTS@&#

The authors are grateful for support from the MIT-Portugal Program and from the Singapore-MIT Alliance. The authors also thank Professor Lorenzo Peccati, the editor who handled this paper, as well as two anonymous reviewers for their valuable comments and suggestions, which helped improve both the presentation and the quality of the paper.

Suppose a two-machine line has parameters r
                     1, p
                     1, r
                     2, and p
                     2, and the buffer size is N. In the two-machine, the state of the system is 
                        
                           s
                           =
                           (
                           n
                           ,
                           
                              α
                              1
                           
                           ,
                           
                              α
                              2
                           
                           )
                        
                      where n (0 ≤ n ≤ N) is the buffer level and αi
                      (
                        
                           
                              α
                              i
                           
                           =
                           0
                           ,
                           1
                        
                     ) is the state of machine Mi
                     , 
                        
                           i
                           =
                           1
                           ,
                           2
                        
                     . p(n, α
                     1, α
                     2) stands for the steady-state probability of that state. Gershwin (1994) shows that the steady-state probability distribution is

                        
                           
                              
                                 
                                    
                                       
                                          p
                                          (
                                          0
                                          ,
                                          0
                                          ,
                                          0
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          0
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          0
                                          ,
                                          0
                                          ,
                                          1
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             C
                                             X
                                             
                                                
                                                   
                                                      r
                                                      1
                                                   
                                                   +
                                                   
                                                      r
                                                      2
                                                   
                                                   −
                                                   
                                                      r
                                                      1
                                                   
                                                   
                                                      r
                                                      2
                                                   
                                                   −
                                                   
                                                      r
                                                      1
                                                   
                                                   
                                                      p
                                                      2
                                                   
                                                
                                                
                                                   
                                                      r
                                                      1
                                                   
                                                   
                                                      p
                                                      2
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          0
                                          ,
                                          1
                                          ,
                                          0
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          0
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          0
                                          ,
                                          1
                                          ,
                                          1
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          0
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          1
                                          ,
                                          0
                                          ,
                                          0
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          C
                                          X
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          1
                                          ,
                                          0
                                          ,
                                          1
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          C
                                          X
                                          
                                             Y
                                             2
                                          
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          1
                                          ,
                                          1
                                          ,
                                          0
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          0
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          1
                                          ,
                                          1
                                          ,
                                          1
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             
                                                
                                                   C
                                                   X
                                                
                                                
                                                   p
                                                   2
                                                
                                             
                                             
                                                
                                                   
                                                      r
                                                      1
                                                   
                                                   +
                                                   
                                                      r
                                                      2
                                                   
                                                   −
                                                   
                                                      r
                                                      1
                                                   
                                                   
                                                      r
                                                      2
                                                   
                                                   −
                                                   
                                                      r
                                                      1
                                                   
                                                   
                                                      p
                                                      2
                                                   
                                                
                                                
                                                   
                                                      p
                                                      1
                                                   
                                                   +
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      p
                                                      1
                                                   
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      r
                                                      1
                                                   
                                                   
                                                      p
                                                      2
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          N
                                          −
                                          1
                                          ,
                                          0
                                          ,
                                          0
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          C
                                          
                                             X
                                             
                                                N
                                                −
                                                1
                                             
                                          
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          N
                                          −
                                          1
                                          ,
                                          0
                                          ,
                                          1
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          0
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          N
                                          −
                                          1
                                          ,
                                          1
                                          ,
                                          0
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          C
                                          
                                             X
                                             
                                                N
                                                −
                                                1
                                             
                                          
                                          
                                             Y
                                             1
                                          
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          N
                                          −
                                          1
                                          ,
                                          1
                                          ,
                                          1
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             
                                                
                                                   C
                                                   
                                                      X
                                                      
                                                         N
                                                         −
                                                         1
                                                      
                                                   
                                                
                                                
                                                   p
                                                   1
                                                
                                             
                                             
                                                
                                                   
                                                      r
                                                      1
                                                   
                                                   +
                                                   
                                                      r
                                                      2
                                                   
                                                   −
                                                   
                                                      r
                                                      1
                                                   
                                                   
                                                      r
                                                      2
                                                   
                                                   −
                                                   
                                                      p
                                                      1
                                                   
                                                   
                                                      r
                                                      2
                                                   
                                                
                                                
                                                   
                                                      p
                                                      1
                                                   
                                                   +
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      p
                                                      1
                                                   
                                                   
                                                      p
                                                      2
                                                   
                                                   −
                                                   
                                                      p
                                                      1
                                                   
                                                   
                                                      r
                                                      2
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          N
                                          ,
                                          0
                                          ,
                                          0
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          0
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          N
                                          ,
                                          0
                                          ,
                                          1
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          0
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          N
                                          ,
                                          1
                                          ,
                                          0
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             C
                                             
                                                X
                                                
                                                   N
                                                   −
                                                   1
                                                
                                             
                                             
                                                
                                                   
                                                      r
                                                      1
                                                   
                                                   +
                                                   
                                                      r
                                                      2
                                                   
                                                   −
                                                   
                                                      r
                                                      1
                                                   
                                                   
                                                      r
                                                      2
                                                   
                                                   −
                                                   
                                                      p
                                                      1
                                                   
                                                   
                                                      r
                                                      2
                                                   
                                                
                                                
                                                   
                                                      p
                                                      1
                                                   
                                                   
                                                      r
                                                      2
                                                   
                                                
                                             
                                             ,
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          p
                                          (
                                          N
                                          ,
                                          1
                                          ,
                                          1
                                          )
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          0
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           
                              
                                 p
                                 
                                    (
                                    n
                                    ,
                                    
                                       α
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 =
                                 C
                                 
                                    X
                                    n
                                 
                                 
                                    Y
                                    1
                                    
                                       α
                                       1
                                    
                                 
                                 
                                    Y
                                    2
                                    
                                       α
                                       2
                                    
                                 
                                 ,
                                 2
                                 ≤
                                 n
                                 ≤
                                 N
                                 −
                                 2
                                 ;
                                 
                                    α
                                    1
                                 
                                 =
                                 0
                                 ,
                                 1
                                 ;
                                 
                                    α
                                    2
                                 
                                 =
                                 0
                                 ,
                                 1
                                 ,
                              
                           
                        
                     where

                        
                           
                              
                                 
                                    
                                       
                                          Y
                                          1
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             
                                                
                                                   r
                                                   1
                                                
                                                +
                                                
                                                   r
                                                   2
                                                
                                                −
                                                
                                                   r
                                                   1
                                                
                                                
                                                   r
                                                   2
                                                
                                                −
                                                
                                                   r
                                                   1
                                                
                                                
                                                   p
                                                   2
                                                
                                             
                                             
                                                
                                                   p
                                                   1
                                                
                                                +
                                                
                                                   p
                                                   2
                                                
                                                −
                                                
                                                   p
                                                   1
                                                
                                                
                                                   p
                                                   2
                                                
                                                −
                                                
                                                   p
                                                   1
                                                
                                                
                                                   r
                                                   2
                                                
                                             
                                          
                                          ,
                                       
                                    
                                 
                                 
                                    
                                       
                                          Y
                                          2
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             
                                                
                                                   r
                                                   1
                                                
                                                +
                                                
                                                   r
                                                   2
                                                
                                                −
                                                
                                                   r
                                                   1
                                                
                                                
                                                   r
                                                   2
                                                
                                                −
                                                
                                                   p
                                                   1
                                                
                                                
                                                   r
                                                   2
                                                
                                             
                                             
                                                
                                                   p
                                                   1
                                                
                                                +
                                                
                                                   p
                                                   2
                                                
                                                −
                                                
                                                   p
                                                   1
                                                
                                                
                                                   p
                                                   2
                                                
                                                −
                                                
                                                   r
                                                   1
                                                
                                                
                                                   p
                                                   2
                                                
                                             
                                          
                                          ,
                                          
                                          X
                                          =
                                          
                                             
                                                Y
                                                2
                                             
                                             
                                                Y
                                                1
                                             
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     and C is a positive normalizing constant. Its expression can be found (according to Shi, 2012) by,

                        
                           •
                           when X ≠ 1:

                                 
                                    
                                       
                                          
                                             C
                                             
                                             =
                                             
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               r
                                                               2
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               p
                                                               2
                                                            
                                                         
                                                         
                                                            r
                                                            2
                                                         
                                                      
                                                      
                                                      −
                                                      
                                                      
                                                         
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               p
                                                               1
                                                            
                                                         
                                                         
                                                            r
                                                            1
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            
                                                               r
                                                               2
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               p
                                                               2
                                                            
                                                         
                                                         
                                                            r
                                                            2
                                                         
                                                      
                                                      
                                                         X
                                                         
                                                            N
                                                            
                                                            −
                                                            
                                                            1
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                            
                                                            −
                                                            
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                            
                                                            −
                                                            
                                                            
                                                               p
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                         
                                                         
                                                            
                                                               p
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                         
                                                      
                                                      
                                                      −
                                                      
                                                      
                                                         
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               p
                                                               1
                                                            
                                                         
                                                         
                                                            r
                                                            1
                                                         
                                                      
                                                      X
                                                      
                                                         
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                            
                                                            −
                                                            
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                            
                                                            −
                                                            
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               p
                                                               2
                                                            
                                                         
                                                         
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               p
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                             .
                                          
                                       
                                    
                                 
                              
                           

when 
                                 
                                    X
                                    =
                                    1
                                 
                              :

                                 
                                    
                                       
                                          
                                             C
                                             =
                                             
                                                1
                                                
                                                   M
                                                   +
                                                   R
                                                   +
                                                   Q
                                                   (
                                                   N
                                                   −
                                                   3
                                                   )
                                                
                                             
                                          
                                       
                                    
                                 
                              where

                                 
                                    
                                       
                                          
                                             
                                                Q
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   
                                                      (
                                                      1
                                                      +
                                                      
                                                         Y
                                                         1
                                                      
                                                      )
                                                   
                                                   
                                                      (
                                                      1
                                                      +
                                                      
                                                         Y
                                                         2
                                                      
                                                      )
                                                   
                                                   ,
                                                
                                             
                                          
                                          
                                             
                                                M
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   
                                                      1
                                                      +
                                                      
                                                         Y
                                                         2
                                                      
                                                      
                                                      +
                                                      
                                                      
                                                         
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                            +
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                            
                                                            −
                                                            
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                            
                                                            −
                                                            
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               p
                                                               2
                                                            
                                                         
                                                         
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               p
                                                               2
                                                            
                                                         
                                                      
                                                      
                                                      +
                                                      
                                                      
                                                         
                                                            
                                                               r
                                                               1
                                                            
                                                            +
                                                            
                                                               r
                                                               2
                                                            
                                                            −
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                            −
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               p
                                                               2
                                                            
                                                         
                                                         
                                                            
                                                               p
                                                               1
                                                            
                                                            +
                                                            
                                                               p
                                                               2
                                                            
                                                            −
                                                            
                                                               p
                                                               1
                                                            
                                                            
                                                               p
                                                               2
                                                            
                                                            −
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               p
                                                               2
                                                            
                                                         
                                                      
                                                      
                                                         1
                                                         
                                                            p
                                                            2
                                                         
                                                      
                                                      ,
                                                   
                                                
                                             
                                          
                                          
                                             
                                                R
                                             
                                             
                                                =
                                             
                                             
                                                
                                                   
                                                      1
                                                      
                                                      +
                                                      
                                                      
                                                         Y
                                                         1
                                                      
                                                      
                                                      +
                                                      
                                                      
                                                         
                                                            
                                                               r
                                                               1
                                                            
                                                            +
                                                            
                                                               r
                                                               2
                                                            
                                                            −
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                            −
                                                            
                                                               p
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                         
                                                         
                                                            
                                                               p
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                         
                                                      
                                                      +
                                                      
                                                         
                                                            
                                                               r
                                                               1
                                                            
                                                            +
                                                            
                                                               r
                                                               2
                                                            
                                                            −
                                                            
                                                               r
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                            −
                                                            
                                                               p
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                         
                                                         
                                                            
                                                               p
                                                               1
                                                            
                                                            +
                                                            
                                                               p
                                                               2
                                                            
                                                            −
                                                            
                                                               p
                                                               1
                                                            
                                                            
                                                               p
                                                               2
                                                            
                                                            −
                                                            
                                                               p
                                                               1
                                                            
                                                            
                                                               r
                                                               2
                                                            
                                                         
                                                      
                                                      
                                                         1
                                                         
                                                            p
                                                            1
                                                         
                                                      
                                                      .
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           


                     Gershwin (1994) also shows that the steady-state production rate is determined by the steady-state probability distribution according to

                        
                           (A.1)
                           
                              
                                 P
                                 =
                                 
                                    ∑
                                    
                                       
                                          
                                             
                                                
                                                   n
                                                   <
                                                   N
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      α
                                                      1
                                                   
                                                   =
                                                   1
                                                
                                             
                                          
                                       
                                    
                                 
                                 p
                                 
                                    (
                                    n
                                    ,
                                    
                                       α
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 =
                                 
                                    ∑
                                    
                                       
                                          
                                             
                                                
                                                   n
                                                   >
                                                   0
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      α
                                                      2
                                                   
                                                   =
                                                   1
                                                
                                             
                                          
                                       
                                    
                                 
                                 p
                                 
                                    (
                                    n
                                    ,
                                    
                                       α
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 .
                              
                           
                        
                     The two expressions are equal because flow is conserved in steady state. In addition,

                        
                           (A.2)
                           
                              
                                 
                                    n
                                    ¯
                                 
                                 =
                                 
                                    ∑
                                    
                                       
                                          
                                             
                                                
                                                   n
                                                   =
                                                   0
                                                   ,
                                                   …
                                                   ,
                                                   N
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      α
                                                      1
                                                   
                                                   =
                                                   0
                                                   ,
                                                   1
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                      α
                                                      2
                                                   
                                                   =
                                                   0
                                                   ,
                                                   1
                                                
                                             
                                          
                                       
                                    
                                 
                                 p
                                 
                                    (
                                    n
                                    ,
                                    
                                       α
                                       1
                                    
                                    ,
                                    
                                       α
                                       2
                                    
                                    )
                                 
                                 .
                              
                           
                        
                     
                  

@&#REFERENCES@&#

