@&#MAIN-TITLE@&#Capacity and lead-time management when demand for service is seasonal and lead-time sensitive

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           We provide a solution for the joint decision on lead-time and capacity level.


                        
                        
                           
                           We consider firms facing lead-time sensitive and time-varying demand.


                        
                        
                           
                           We also consider convex capacity acquisition cost and lateness penalties.


                        
                        
                           
                           The proposed solution is easy-to-compute.


                        
                        
                           
                           The generality of our work makes it widely applicable.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Capacity management

Time based competition

Uniform lead-time

@&#ABSTRACT@&#


               
               
                  In today’s competitive business environment, quick service with minimal waiting time is an important factor for customers when choosing a service. Many service organizations guarantee a uniform lead-time to all customers in order to gain competitive advantages in the market. In selecting a lead-time to quote, the firm has to take into consideration not only how customers will react to the delivery time guarantee, but also whether it has adequate capacity to fulfill the commitment. A short lead-time can bring both benefits and costs. It can increase customer demand, but might require a higher capacity level. We present a mathematical model and a solution method for determining the optimal quoted lead-time and capacity level for a profit-maximizing firm with time-varying and lead-time sensitive demand. The firm incurs convex capacity costs and pays lateness penalties whenever the actual lead-time exceeds the quoted lead-time. A few studies have been conducted on the relationship between uniform lead-time, capacity, demand, and overall profitability. However, none of them takes the time variation of demand into account. Our work differs from previous research in that we explicitly model such a demand pattern.
               
            

@&#INTRODUCTION@&#

The increasing importance of the service sector and the intense competition in a global economy have led to a worldwide expansion in research on services. In the past decade, a large amount of literature has recognized the power of using time to gain competitive advantage in the service market; see for example (Blackburn, Elrod, Lindsley, & Zahorik, 1992; Hum & Sim, 1994; Stalk & Hout, 1990). Besides price, service time has become one of the most important instruments for companies to compete in today’s business environment.

Considering speed as the basis of competitive advantage, following (So & Song, 1998) there are three main strategies companies can use to attract customers:

                        
                           1.
                           to serve customers as quickly as possible;

to encourage potential customers to call ahead to get a quoted lead-time prior to ordering;

to guarantee a uniform lead-time for all potential customers.

Today, many service companies are applying the third strategy of uniform lead-time. For instance, banks and supermarkets have introduced a “maximum waiting-time guarantee” where customers receive a money voucher or credit if they wait for more than 5 minutes in line. Next-day delivery is often offered by freight or postal services. Other examples are restaurants that offer free lunches if customers are not served within 10 minutes (see So & Song, 1998; So, 2000; Rao, Swaminathan, & Zhang, 2005). In order to make the right decision about delivery lead-time setting, it is important for firms to understand the interrelationships between delivery time, pricing, demand and the overall profitability of service offering.

A vast number of papers have noted that customer demand increases with shorter lead-times as well as with lower prices (see e.g Blackburn et al., 1992; So & Song, 1998; So, 2000). Short lead-time can also allow a price premium, as customers may be willing to pay a higher price to reduce their wait time (Blackburn et al., 1992; Weng, 1996; So & Song, 1998; Ray & Jewkes, 2004). The potential increase in demand and/or a price premium is clearly an incentive for companies to improve lead-time performance. However, the risk that demand may exceed the firm’s available capacity still exists. Hence, in selecting a lead-time to quote, the firm has to take into consideration not only how customers will react to the delivery time guarantee, but also whether it has adequate capacity to fulfill the commitment.

Due to the special character of service, there are several difficulties that managers face to match capacity with customer demand. The perishable nature of services do not allow mass production and inventory for future consumption (see e.g. Zeithaml, Bittner, & Gremler, 2004; Fitzsimmons & Fitzsimmons, 2006). Instead services are simultaneously or near-simultaneously consumed at the time they are produced. On the other hand, the inherent variability in demand creates a challenge for managers trying to make the best use of capacity. The demand variability is quite natural. For example, peak times in restaurants are caused by people’s behavior of eating at the same hours; the demands for flights and hotels are high in summer, because vacations are usually taken in this season. When demand for a service falls short of the capacity to serve, the results are idle servers and facilities. On the contrary, when demand exceeds the available capacity, resulting in long wait-time for customers, service companies have to cope with customer dissatisfaction and costs for compensating delayed or failed service deliveries. Different strategies for managing service capacity have been proposed in (Armistead & Clark, 1994; Johnston & Clark, 2001; Sasser, 1976). For instance, in order to be able to reliably promise a short lead-time, firms can invest to increase capacity by hiring extra workers or acquiring improved equipment etc. However, the trade-off between the cost of capacity and the potential increase in demand and / or price must then be taken into consideration.

The key contributions of this paper are the following:

                        
                           1.
                           Developing a model that captures the profit impact of variation in demand as well as the service process when customers are lead-time sensitive and the firm incurs capacity costs and lateness penalties. This model should help to understand the interrelationships among quoted lead-time, capacity, demand and the overall profitability of offering services.

Proposing a solution procedure from which analytical results are derived to characterize the optimal lead-time and capacity decisions.

The remainder of the paper is organized as follows: the next section provides an overview of relevant literature. In Section 3, we present a deterministic model formulation and in Section 4 propose a solution method for the problem of interest. A concrete numerical example is provided in Section 5 to illustrate our approach. Using a simulation we show in Section 6 that the proposed approach can be used as an approximation in case of stochastic demand. Section 7 provides a summary and discusses avenues for future research.

This paper primarily addresses a problem frequently arising in service enterprises. However, the results of our work are equally applicable to make-to-order (MTO) manufacturing environments. In the latter case, lead-time is understood as the interval between the time an order is placed and the time the requested product is delivered to the customer.

Several works are related to our study, but with different emphases (see e.g. (Keskinocak & Tayur, 2004) for an overview). Since the 1990s extensive research has been conducted on the effects of customer responsiveness as a key weapon in time-based competition. Much of this literature is qualitative in nature; only a number of papers present quantitative models to support managerial decisions. In some of those quantitative studies, customer delay costs are considered, which, either implicitly or explicitly, drive demand to be sensitive to the quoted lead-time. Dewan and Mendelson (1990), for example, study the optimal capacity and pricing decisions while taking users’ delay cost into account, expressed as a function of the actual delivery time. In (Loch, 1991) demand is assumed to be a function of full-price, which equals price charged plus cost of waiting. Li and Lee (1994) and Lederer and Li (1997) propose similar models to analyze customer delay costs.

Other research focuses on the use of quoted lead-time as a competitive strategy. Weng (1996) considers an MTO manufacturer facing two types of customers: (i) lead-time-sensitive customers who are willing to pay a higher price for a shorter lead-time and (ii) lead-time-insensitive customers who are willing to wait. In a queueing setting the author studies the joint decision on customer acceptance rates and quoted lead-times which would maximize profit. Using queueing and semi-Markov decision processes, Duenyas and Hopp (1995) investigate different cases of dynamically quoting lead-times to customers in the manufacturing environment, assuming that the probability of the customer placing an order decreases as the lead-time quoted increases.

More recently, Altendorfer and Minner (2011) consider the problem of finding the optimal planned lead-times and production capacities for each stage of a two-stage MTO manufacturing system, so that the total inventory holding and customer order tardiness cost are minimized. Using M/M/1 queuing systems to model the problem, they present a general solution approach and study the influence of customer required lead-time on optimal planned lead-time. Chaharsooghi, Honarvar, Modarres, and Kamalabadi (2011) investigate the role of flexibility in price, lead-time and delivery in the MTO environment, where limited production capacity under a stochastic demand function is allowed. They develop a stochastic programming model to determine the price, lead-time and production amount in each period for various demand classes with different sensitivities to lead-time and price. However, these papers do not consider the dependencies between quoted lead-time and demand.


                     Hill and Khosla (1992) are probably the first to study the impact of lead-time reduction on demand where demand is formulated as a log-linear (Cobb–Douglas) function of actual lead-time and price. The authors also assume operating cost to be lead-time-sensitive. The firm’s objective is to maximize profit by appropriate selection of decision variable values: price and lead-time. This deterministic model puts demand in a log-linear relationship with lead-time and price, but does not consider the impact of demand variability and system congestion as stochastic models do. In most of the analytic models related to uniform guaranteed lead-time, a queueing model is used to describe the manufacturing or service facility. In order to characterize optimal decisions, the authors usually perform analytical comparative statics (e.g. they study changes in profit before and after a change in some underlying parameters) and provide numerical results and managerial insights on the effect of operating characteristics on the optimal strategy of a firm. Such a model is proposed by So and Song (1998): the mean customer demand is expressed as a Cobb–Douglas function of lead-time and price. The objective is to maximize the profit per unit time by optimal choice of not only lead-time and price but also capacity, subject to reliability constraint that ensures a pre-specified service level.

In a model similar to that of So and Song (1998), Palaka, Erlebacher, and Kropp (1998) also use queuing theory to analyze pricing and lead-time decisions, but the lead-time and price-dependent demand function is assumed to be linear. A further difference is that they explicitly consider inventory and penalty costs to capture the impact of quoted lead-time on the cost side. So (2000) extends So and Song’s work to a multi-firm model, in which he analyzes how firms select the best price and lead-time decisions in the presence of competition (i.e. each firm can react to the other’s action) and how different firm and market characteristics affect the optimal strategy. In Ray and Jewkes (2004) demand is expressed as a linear function of market price and guaranteed lead-time. Their work is distinguished from others in that market price is modeled as a function of lead-time and unit operating cost as a function of mean demand rate. Ray and Jewkes (2004) study lead-time and capacity decisions. They consider the trade-off between capacity and the lead-time guarantee while assuming that the firm can increase its capacity to reduce lead-time but must be able to ensure a satisfactory service level. Urban (2009) generalizes the existing lead-time guarantee models and provides a practical model by relaxing the simplifying assumptions of the previous studies.

All uniform lead-time models discussed so far assume a deterministic (typically linear or log-linear) relationship between demand, price and/or lead-time. Rao et al. (2005) extend this assumption with a stochastic component, which represents the impact of unobserved factors on demand and can be seen as forecast error when a deterministic demand function is applied. In this paper, the objective is to find an optimal uniform lead-time strategy which is integrated with the production planning of an MTO firm so that the production schedule is synchronized with the quoted lead-time and the expected profit per period is maximized.

While the existing papers based on uniform lead-time framework assume demand per unit time to be dependent on price and/or lead-time, they do not consider the time variation of demand. Our work differs from previous research in that we explicitly model such a demand pattern.

The main notations that are going to be used to describe the problem and algorithm are as follows:

We consider a single product/service model. The planning horizon T is finite and consists of τ periods, 
                           
                              T
                              =
                              {
                              1
                              ,
                              …
                              ,
                              τ
                              }
                           
                        . The demand rate varies from one period to the next, but it is assumed to be deterministic in this study. Customers are lead-time sensitive. The firm quotes a uniform lead-time L (L > 0) to all customers. We model demand as a vector 
                           
                              
                                 d
                                 L
                              
                              =
                              
                                 [
                                 
                                    d
                                    L
                                 
                                 
                                    (
                                    t
                                    )
                                 
                                 ]
                              
                           
                         where dL
                        (t) can be any arbitrary function decreasing on L for all t ∈ T (Table 1
                        ).

Let ℓ denote the necessary waiting time before which a job cannot be processed. Without loss of generality, we set 
                           
                              ℓ
                              =
                              0
                           
                        . Thus, the feasible time window in which a job must be completed is between its arrival i and the due date 
                           
                              L
                              +
                              i
                           
                        .

The price p for a job is assumed to be fixed and exogenously set by the market.

Further, we assume that the firm faces costs consisting of two following categories:

The firm can augment its capacity level per period C through hiring strategies etc. In general, it is likely that successive investments to increase C require higher marginal cost. Thus, we do not place any restriction on the capacity cost function A(C), except to assume that it is continuously differentiable and non-decreasing convex in C. These costs mainly consist of personnel wages and are to be considered in each planning horizon.

These costs have to be paid as direct compensation to customers whenever a service request has not been fulfilled within the quoted lead-time. The penalty costs can include tangible components (e.g. contractual penalties) as well as intangible short- and long-run costs (e.g. customer inconvenience, reduced future purchase probability and generally reduced customer retention) for delayed services. These costs are thus not directly measurable and some companies may impose a penalty on themselves in order to take the negative impacts of unreliable services into account. The most common assumption in the literature is that the lateness penalty is proportional to the amount of lateness. We follow this assumption and measure the lateness of a job by the number of days between the due date and the time it is met.

Each order is assumed to be filled on a first come first served (FCFS) basis. In the following, before describing the mathematical model, we first derive a formula for calculating the total penalty costs over the planning horizon, which obviously depends on L and C. In order to do so, we need to calculate the queue length and the number of delayed jobs in the system at any period. Our approach for computing the queue length is inspired by the work of (Whitt, 1999), who applied a deterministic fluid model to estimate the time-dependent queue length under deterministic, continuous demand.

It is clear that the firm has to pay penalty costs only when there is a queue. We get queues and possibly delays because dL
                              (t) > C for some t. Fig. 1
                               illustrates such a situation.

The demand rate in each period from 1 to 
                                 
                                    
                                       t
                                       1
                                    
                                    −
                                    1
                                 
                               is lower than the capacity C. Therefore, every job arriving between the periods 1 to 
                                 
                                    
                                       t
                                       1
                                    
                                    −
                                    1
                                 
                               can be fulfilled in the period of its arrival. A queue emerges for the first time in period t
                              1, in which the arrival rate exceeds the capacity C. From t
                              1 to x, the arrival rate remains above C. The hatched area A
                              1 corresponds to the number of jobs that cannot be satisfied in their arrival periods. The number of these backlogged jobs is reduced by B
                              1 during the periods 
                                 
                                    x
                                    +
                                    1
                                 
                               to y, where demand is below capacity. The number of backlogged jobs is increased again by A
                              2 at the end of period z, and can be completely fulfilled at the end of period t
                              2. We have

                                 
                                    (1)
                                    
                                       
                                          
                                             A
                                             1
                                          
                                          −
                                          
                                             B
                                             1
                                          
                                          +
                                          
                                             A
                                             2
                                          
                                          −
                                          
                                             B
                                             2
                                          
                                          ≤
                                          0
                                          
                                          or
                                          
                                          
                                             ∑
                                             
                                                i
                                                =
                                                
                                                   t
                                                   1
                                                
                                             
                                             
                                                t
                                                2
                                             
                                          
                                          
                                             (
                                             
                                                d
                                                L
                                             
                                             
                                                (
                                                i
                                                )
                                             
                                             −
                                             C
                                             )
                                          
                                          ≤
                                          0
                                       
                                    
                                 
                              
                           

Formally, the first period t
                              1 ∈ T with a queue can be determined as

                                 
                                    (2)
                                    
                                       
                                          
                                             t
                                             1
                                          
                                          =
                                          min
                                          
                                             {
                                             t
                                             >
                                             0
                                             :
                                             
                                                d
                                                L
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             >
                                             C
                                             }
                                          
                                       
                                    
                                 
                              The queue then remains positive until the end of period t
                              2 ∈ T
                              
                                 
                                    (3)
                                    
                                       
                                          
                                             t
                                             2
                                          
                                          =
                                          min
                                          
                                             {
                                             t
                                             >
                                             
                                                t
                                                1
                                             
                                             :
                                             
                                                ∑
                                                
                                                   i
                                                   =
                                                   
                                                      t
                                                      1
                                                   
                                                
                                                t
                                             
                                             
                                                (
                                                
                                                   d
                                                   L
                                                
                                                
                                                   (
                                                   i
                                                   )
                                                
                                                −
                                                C
                                                )
                                             
                                             ≤
                                             0
                                             }
                                          
                                       
                                    
                                 
                              
                           

Let 
                                 
                                    
                                       I
                                       0
                                    
                                    =
                                    
                                       {
                                       
                                          t
                                          1
                                       
                                       ,
                                       …
                                       ,
                                       
                                          t
                                          2
                                       
                                       }
                                    
                                 
                               be the set of successive time periods of positive queue length. Let qL
                              (t) denote the time-dependent queue length at the beginning of period t. If during the planning horizon there is only one such set I
                              0, the queue length qL
                              (t) at the end of a period t is determined as below

                                 
                                    (4)
                                    
                                       
                                          
                                             q
                                             L
                                          
                                          
                                             (
                                             t
                                             ,
                                             C
                                             )
                                          
                                          =
                                          
                                             {
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               ∑
                                                               
                                                                  i
                                                                  =
                                                                  
                                                                     t
                                                                     1
                                                                  
                                                               
                                                               t
                                                            
                                                            
                                                               (
                                                               
                                                                  d
                                                                  L
                                                               
                                                               
                                                                  (
                                                                  i
                                                                  )
                                                               
                                                               −
                                                               C
                                                               )
                                                            
                                                            >
                                                            0
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         for
                                                         
                                                         
                                                            t
                                                            1
                                                         
                                                         ≤
                                                         t
                                                         <
                                                         
                                                            t
                                                            2
                                                         
                                                         ;
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         0
                                                         ,
                                                      
                                                   
                                                   
                                                      else;
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

A job is delayed if and only if its waiting time is longer than L periods. Hence, the number of delayed jobs nL
                              (t) entering period 
                                 
                                    t
                                    +
                                    L
                                 
                               is determined as

                                 
                                    (5)
                                    
                                       
                                          
                                             n
                                             L
                                          
                                          
                                             (
                                             t
                                             ,
                                             C
                                             )
                                          
                                          =
                                          
                                             {
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  [
                                                                  
                                                                     ∑
                                                                     
                                                                        i
                                                                        =
                                                                        
                                                                           t
                                                                           1
                                                                        
                                                                     
                                                                     t
                                                                  
                                                                  
                                                                     d
                                                                     L
                                                                  
                                                                  
                                                                     (
                                                                     i
                                                                     )
                                                                  
                                                                  −
                                                                  
                                                                     (
                                                                     L
                                                                     +
                                                                     t
                                                                     −
                                                                     
                                                                        t
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                                  C
                                                                  ]
                                                               
                                                               +
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         for
                                                         
                                                         
                                                            t
                                                            1
                                                         
                                                         ≤
                                                         t
                                                         ≤
                                                         
                                                            t
                                                            2
                                                         
                                                         ;
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         0
                                                         ,
                                                      
                                                   
                                                   
                                                      else;
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              where 
                                 
                                    
                                       
                                          [
                                          x
                                          ]
                                       
                                       +
                                    
                                    =
                                    max
                                    
                                       {
                                       0
                                       ,
                                       x
                                       }
                                    
                                 
                              .

Note that, if the planning horizon starts with a queue of positive length, the same approach can be applied starting with determining the point of time at which the queue empties for the first time. However, for simplicity, we assume that the planning horizon starts with no queue. Indeed, service systems with cyclical demand, and with no queue at the beginning of a time cycle (
                                 =
                               planning horizon), are quite common in practice. For instance, a call center or a restaurant usually starts a day with no customer waiting from the day before. During a day (
                                 =
                               planning horizon) there are customers waiting for service, however when the working hours end, customer requests for service will be denied.

Further, we only consider a planning horizon of τ periods, but assume a cyclical behavior of demand over successive planning horizons. Let the average demand over τ periods be

                                 
                                    (6)
                                    
                                       
                                          
                                             
                                                d
                                                L
                                             
                                             ¯
                                          
                                          =
                                          
                                             1
                                             τ
                                          
                                          
                                             ∑
                                             
                                                t
                                                =
                                                1
                                             
                                             τ
                                          
                                          
                                             d
                                             L
                                          
                                          
                                             (
                                             t
                                             )
                                          
                                       
                                    
                                 
                              
                           

We assume 
                                 
                                    
                                       
                                          d
                                          L
                                       
                                       ¯
                                    
                                    <
                                    C
                                    ,
                                 
                               so that the number of denied service requests does not build up over the long run.

In general, there may be more than one set I
                              0 of successive periods of positive queue length during a planning horizon. Assume there may be m such sets Ik
                               ∈ T with 
                                 
                                    k
                                    ∈
                                    {
                                    0
                                    ,
                                    …
                                    ,
                                    m
                                    −
                                    1
                                    }
                                 
                               and 
                                 
                                    
                                       I
                                       k
                                    
                                    =
                                    
                                       {
                                       
                                          t
                                          
                                             2
                                             k
                                             +
                                             1
                                          
                                       
                                       ,
                                       …
                                       ,
                                       
                                          t
                                          
                                             2
                                             k
                                             +
                                             2
                                          
                                       
                                       }
                                    
                                 
                              . For each set Ik
                               we determine recursively

                                 
                                    (7)
                                    
                                       
                                          
                                             t
                                             
                                                2
                                                k
                                                +
                                                1
                                             
                                          
                                          =
                                          min
                                          
                                             {
                                             t
                                             >
                                             
                                                t
                                                
                                                   2
                                                   k
                                                
                                             
                                             :
                                             
                                                d
                                                L
                                             
                                             
                                                (
                                                t
                                                )
                                             
                                             >
                                             C
                                             }
                                          
                                       
                                    
                                 
                              and

                                 
                                    (8)
                                    
                                       
                                          
                                             t
                                             
                                                2
                                                k
                                                +
                                                2
                                             
                                          
                                          =
                                          min
                                          
                                             {
                                             t
                                             >
                                             
                                                t
                                                
                                                   2
                                                   k
                                                   +
                                                   1
                                                
                                             
                                             :
                                             
                                                ∑
                                                
                                                   i
                                                   =
                                                   
                                                      t
                                                      
                                                         2
                                                         k
                                                         +
                                                         1
                                                      
                                                   
                                                
                                                t
                                             
                                             
                                                (
                                                
                                                   d
                                                   L
                                                
                                                
                                                   (
                                                   i
                                                   )
                                                
                                                −
                                                C
                                                )
                                             
                                             ≤
                                             0
                                             }
                                          
                                       
                                    
                                 
                              Then, we have

                                 
                                    (9)
                                    
                                       
                                          
                                             q
                                             L
                                          
                                          
                                             (
                                             t
                                             ,
                                             C
                                             )
                                          
                                          =
                                          
                                             {
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               ∑
                                                               
                                                                  i
                                                                  =
                                                                  
                                                                     t
                                                                     
                                                                        2
                                                                        k
                                                                        +
                                                                        1
                                                                     
                                                                  
                                                               
                                                               t
                                                            
                                                            
                                                               (
                                                               
                                                                  d
                                                                  L
                                                               
                                                               
                                                                  (
                                                                  i
                                                                  )
                                                               
                                                               −
                                                               C
                                                               )
                                                            
                                                            >
                                                            0
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         for
                                                         
                                                         
                                                            t
                                                            
                                                               2
                                                               k
                                                               +
                                                               1
                                                            
                                                         
                                                         ≤
                                                         t
                                                         <
                                                         
                                                            t
                                                            
                                                               2
                                                               k
                                                               +
                                                               2
                                                            
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                   
                                                      
                                                         and
                                                         
                                                         0
                                                         ≤
                                                         k
                                                         <
                                                         m
                                                         ;
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         0
                                                         ,
                                                      
                                                   
                                                   
                                                      else;
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              and

                                 
                                    (10)
                                    
                                       
                                          
                                             
                                             
                                             
                                                
                                                   
                                                      n
                                                      L
                                                   
                                                   
                                                      (
                                                      t
                                                      ,
                                                      C
                                                      )
                                                   
                                                
                                             
                                          
                                          
                                             
                                             
                                             
                                                
                                                   
                                                   =
                                                   
                                                      {
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           [
                                                                           
                                                                              ∑
                                                                              
                                                                                 i
                                                                                 =
                                                                                 
                                                                                    t
                                                                                    
                                                                                       2
                                                                                       k
                                                                                       +
                                                                                       1
                                                                                    
                                                                                 
                                                                              
                                                                              t
                                                                           
                                                                           
                                                                              d
                                                                              L
                                                                           
                                                                           
                                                                              (
                                                                              i
                                                                              )
                                                                           
                                                                           −
                                                                           
                                                                              (
                                                                              L
                                                                              +
                                                                              t
                                                                              −
                                                                              
                                                                                 t
                                                                                 
                                                                                    2
                                                                                    k
                                                                                    +
                                                                                    1
                                                                                 
                                                                              
                                                                              )
                                                                           
                                                                           C
                                                                           ]
                                                                        
                                                                        +
                                                                     
                                                                     ,
                                                                  
                                                               
                                                            
                                                            
                                                               
                                                                  for
                                                                  
                                                                  
                                                                     t
                                                                     
                                                                        2
                                                                        k
                                                                        +
                                                                        1
                                                                     
                                                                  
                                                                  ≤
                                                                  t
                                                                  ≤
                                                                  
                                                                     t
                                                                     
                                                                        2
                                                                        k
                                                                        +
                                                                        2
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                            
                                                               
                                                                  and
                                                                  
                                                                  0
                                                                  ≤
                                                                  k
                                                                  <
                                                                  m
                                                                  ;
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  0
                                                                  ,
                                                               
                                                            
                                                            
                                                               
                                                                  else
                                                                  ;
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Assume κ is the penalty cost per order per unit lateness. The total penalty cost function is defined by

                                 
                                    (11)
                                    
                                       
                                          
                                             P
                                             L
                                          
                                          
                                             (
                                             C
                                             )
                                          
                                          =
                                          κ
                                          
                                             ∑
                                             
                                                t
                                                =
                                                1
                                             
                                             τ
                                          
                                          
                                             n
                                             L
                                          
                                          
                                             (
                                             t
                                             )
                                          
                                       
                                    
                                 
                              
                           

Let |Ik
                              | denote the cardinality, i.e. the number of periods, of set Ik
                              . For ease of notation, we use the tuple (k, j) where 0 ≤ k < m and 1 ≤ j ≤ |Ik
                              | to index the jth time period of Ik
                              . That is, 
                                 
                                    
                                       (
                                       k
                                       ,
                                       j
                                       )
                                    
                                    ≡
                                    
                                       
                                          t
                                          
                                             2
                                             k
                                             +
                                             1
                                          
                                       
                                       +
                                       j
                                       −
                                       1
                                    
                                 
                              .

Let DL
                              (k, j) denote the cumulative demand of the first j periods of Ik
                              . We have

                                 
                                    (12)
                                    
                                       
                                          
                                             q
                                             L
                                          
                                          
                                             (
                                             k
                                             ,
                                             j
                                             ,
                                             C
                                             )
                                          
                                          =
                                          
                                             D
                                             L
                                          
                                          
                                             (
                                             k
                                             ,
                                             j
                                             )
                                          
                                          −
                                          j
                                          C
                                       
                                    
                                 
                              
                           


                              Fig. 2
                               shows two sets of time periods I
                              0 and I
                              1, in which the queue is not empty. We can see that 
                                 
                                    
                                       |
                                    
                                    
                                       I
                                       0
                                    
                                    
                                       |
                                       =
                                       8
                                    
                                 
                               and 
                                 
                                    
                                       |
                                    
                                    
                                       I
                                       1
                                    
                                    
                                       |
                                       =
                                       7
                                    
                                 
                              . The length of the queue in the 6th period of the set I
                              0 is the difference between the two areas A
                              1 and A
                              2, which is equal to the gray hatched area.

The number of delayed jobs and the total penalty cost are determined accordingly as

                                 
                                    (13)
                                    
                                       
                                          
                                             n
                                             L
                                          
                                          
                                             (
                                             k
                                             ,
                                             j
                                             ,
                                             C
                                             )
                                          
                                          =
                                          
                                             
                                                [
                                                
                                                   D
                                                   L
                                                
                                                
                                                   (
                                                   k
                                                   ,
                                                   j
                                                   )
                                                
                                                −
                                                
                                                   (
                                                   L
                                                   +
                                                   j
                                                   −
                                                   1
                                                   )
                                                
                                                C
                                                ]
                                             
                                             +
                                          
                                       
                                    
                                 
                              and

                                 
                                    (14)
                                    
                                       
                                          
                                             P
                                             L
                                          
                                          
                                             (
                                             C
                                             )
                                          
                                          =
                                          κ
                                          
                                             ∑
                                             
                                                t
                                                =
                                                1
                                             
                                             τ
                                          
                                          
                                             n
                                             L
                                          
                                          
                                             (
                                             t
                                             )
                                          
                                          =
                                          κ
                                          
                                             ∑
                                             
                                                k
                                                =
                                                0
                                             
                                             
                                                m
                                                −
                                                1
                                             
                                          
                                          
                                             ∑
                                             
                                                j
                                                =
                                                1
                                             
                                             
                                                
                                                   |
                                                
                                                
                                                   I
                                                   k
                                                
                                                
                                                   |
                                                
                                             
                                          
                                          
                                             n
                                             L
                                          
                                          
                                             (
                                             k
                                             ,
                                             j
                                             )
                                          
                                       
                                    
                                 
                              
                           

The previous section is a preprocessing phase determining all the data needed in the succeeding optimization problem. The objective is to determine an optimal lead-time 
                           
                              L
                              
                                 
                                 *
                              
                           
                         and an optimal capacity level per period 
                           
                              C
                              
                                 
                                 *
                              
                           
                         that maximize the profit of the firm.


                        
                           
                              (
                              P
                              1
                              )
                           
                        
                        
                           
                              (15)
                              
                                 
                                    
                                       max
                                       
                                          L
                                          ,
                                          C
                                       
                                    
                                    
                                    
                                       Π
                                       L
                                    
                                    
                                       (
                                       C
                                       )
                                    
                                    =
                                    p
                                    
                                       ∑
                                       
                                          t
                                          =
                                          1
                                       
                                       τ
                                    
                                    
                                       d
                                       L
                                    
                                    
                                       (
                                       t
                                       )
                                    
                                    −
                                    A
                                    
                                       (
                                       C
                                       )
                                    
                                    −
                                    
                                       P
                                       L
                                    
                                    
                                       (
                                       C
                                       )
                                    
                                    
                                    
                                    
                                    C
                                    ∈
                                    
                                       R
                                       +
                                    
                                    ,
                                    L
                                    ∈
                                    N
                                 
                              
                           
                        
                     

The problem under consideration is a non-linear optimization problem, and the constraints were taken into account in Section 3. In the following, a solution approach is proposed.

Problem 
                        
                           (
                           P
                           1
                           )
                        
                      can be solved in two steps

                        
                           1.
                           For each 
                                 
                                    L
                                    ∈
                                    {
                                    1
                                    ,
                                    …
                                    ,
                                    τ
                                    }
                                    ,
                                 
                               solve


                              
                                 
                                    (
                                    P
                                    2
                                    )
                                 
                              
                              
                                 
                                    (16)
                                    
                                       
                                          
                                             min
                                             C
                                          
                                          
                                          
                                             Φ
                                             L
                                          
                                          
                                             (
                                             C
                                             )
                                          
                                          =
                                          A
                                          
                                             (
                                             C
                                             )
                                          
                                          +
                                          
                                             P
                                             L
                                          
                                          
                                             (
                                             C
                                             )
                                          
                                          
                                          
                                          
                                          C
                                          ∈
                                          
                                             R
                                             +
                                          
                                       
                                    
                                 
                              to find a capacity level 
                                 
                                    C
                                    L
                                    
                                       
                                       *
                                    
                                 
                               that minimizes the total relevant cost.

The profit optimal solution 
                                 
                                    (
                                    
                                       L
                                       
                                          
                                          *
                                       
                                    
                                    ,
                                    
                                       C
                                       
                                          
                                          *
                                       
                                    
                                    )
                                 
                               to 
                                 
                                    (
                                    P
                                    1
                                    )
                                 
                               is selected by comparing the total profit 
                                 
                                    
                                       Π
                                       L
                                    
                                    
                                       (
                                       
                                          C
                                          L
                                          
                                             
                                             *
                                          
                                       
                                       )
                                    
                                 
                               of all pairs 
                                 
                                    (
                                    L
                                    ,
                                    
                                       C
                                       L
                                       
                                          
                                          *
                                       
                                    
                                    )
                                 
                               where 
                                 
                                    L
                                    ∈
                                    {
                                    1
                                    ,
                                    …
                                    ,
                                    τ
                                    }
                                 
                               and 
                                 
                                    C
                                    L
                                    
                                       
                                       *
                                    
                                 
                               is the solution to 
                                 
                                    (
                                    P
                                    2
                                    )
                                    ,
                                 
                               given L.

In the remainder of this section, we are going to analyze the subproblem 
                        
                           (
                           P
                           2
                           )
                        
                      of finding an optimal capacity level 
                        
                           C
                           L
                           
                              
                              *
                           
                        
                      for any given lead-time L.


                        
                           Proposition 1
                           
                              Let
                              
                                 
                                    c
                                    
                                       (
                                       k
                                       ,
                                       j
                                       )
                                    
                                    =
                                    
                                       
                                          
                                             D
                                             L
                                          
                                          
                                             (
                                             k
                                             ,
                                             j
                                             )
                                          
                                       
                                       
                                          L
                                          +
                                          j
                                          −
                                          1
                                       
                                    
                                 
                               
                              and
                              
                                 
                                    
                                       c
                                       max
                                    
                                    
                                       =
                                       max
                                       {
                                       c
                                       
                                          (
                                          k
                                          ,
                                          j
                                          )
                                       
                                       :
                                       0
                                       ≤
                                       k
                                       <
                                       m
                                       ∧
                                       1
                                       ≤
                                       j
                                       ≤
                                       |
                                    
                                    
                                       I
                                       k
                                    
                                    
                                       |
                                       }
                                    
                                 
                              
                              .
                           


                              For any L > 0, the function PL
                              (C) has the following properties:
                              
                                 
                                    (i)
                                    
                                       
                                          
                                             
                                                P
                                                L
                                             
                                             
                                                (
                                                C
                                                )
                                             
                                             =
                                             0
                                          
                                        
                                       when C ≥ c
                                       max
                                    


                                       PL
                                       (C) is piecewise linear convex in C when
                                       
                                          
                                             
                                                
                                                   d
                                                   L
                                                
                                                ¯
                                             
                                             ≤
                                             C
                                             ≤
                                             
                                                c
                                                max
                                             
                                          
                                       
                                       .
                                    

(i) From Eq. (14)
                              
                                 
                                    
                                       
                                          
                                             P
                                             L
                                          
                                          
                                             (
                                             C
                                             )
                                          
                                          =
                                          κ
                                          
                                             ∑
                                             
                                                t
                                                =
                                                1
                                             
                                             τ
                                          
                                          
                                             n
                                             L
                                          
                                          
                                             (
                                             t
                                             ,
                                             C
                                             )
                                          
                                          =
                                          κ
                                          
                                             ∑
                                             
                                                k
                                                =
                                                0
                                             
                                             
                                                m
                                                −
                                                1
                                             
                                          
                                          
                                             ∑
                                             
                                                j
                                                =
                                                1
                                             
                                             
                                                
                                                   |
                                                
                                                
                                                   I
                                                   k
                                                
                                                
                                                   |
                                                
                                             
                                          
                                          
                                             n
                                             L
                                          
                                          
                                             (
                                             k
                                             ,
                                             j
                                             ,
                                             C
                                             )
                                          
                                       
                                    
                                 
                              we see that 
                                 
                                    
                                       P
                                       L
                                    
                                    
                                       (
                                       C
                                       )
                                    
                                    =
                                    0
                                 
                               when 
                                 
                                    
                                       n
                                       L
                                    
                                    
                                       (
                                       k
                                       ,
                                       j
                                       ,
                                       C
                                       )
                                    
                                    =
                                    0
                                 
                               for any 0 ≤ k < m and 1 ≤ j ≤ |Ik
                              |. On the other hand, according to Eq. (13)
                              
                                 
                                    
                                       
                                          
                                             n
                                             L
                                          
                                          
                                             (
                                             k
                                             ,
                                             j
                                             ,
                                             C
                                             )
                                          
                                          =
                                          
                                             
                                                [
                                                
                                                   D
                                                   L
                                                
                                                
                                                   (
                                                   k
                                                   ,
                                                   j
                                                   )
                                                
                                                −
                                                
                                                   (
                                                   L
                                                   +
                                                   j
                                                   −
                                                   1
                                                   )
                                                
                                                C
                                                ]
                                             
                                             +
                                          
                                       
                                    
                                 
                              
                           

Therefore 
                                 
                                    
                                       n
                                       L
                                    
                                    
                                       (
                                       k
                                       ,
                                       j
                                       ,
                                       C
                                       )
                                    
                                    =
                                    0
                                 
                               if and only if 
                                 
                                    C
                                    ≥
                                    
                                       
                                          
                                             D
                                             L
                                          
                                          
                                             (
                                             k
                                             ,
                                             j
                                             )
                                          
                                       
                                       
                                          L
                                          +
                                          j
                                          −
                                          1
                                       
                                    
                                    =
                                    c
                                    
                                       (
                                       k
                                       ,
                                       j
                                       )
                                    
                                 
                              . Thus 
                                 
                                    
                                       P
                                       L
                                    
                                    
                                       (
                                       C
                                       )
                                    
                                    =
                                    0
                                 
                               when C ≥ c(k, j) for all k, j, that is C ≥ c
                              max.

(ii) If C < c
                              max, then there exists at least one period t with nL
                              (t, C) > 0. Assume 
                                 
                                    
                                       
                                          d
                                          L
                                       
                                       ¯
                                    
                                    <
                                    
                                       c
                                       max
                                    
                                 
                              . For 
                                 
                                    C
                                    =
                                    
                                       
                                          d
                                          L
                                       
                                       ¯
                                    
                                    ,
                                 
                               suppose there exist s time periods 
                                 
                                    
                                       τ
                                       1
                                    
                                    ,
                                    …
                                    ,
                                    
                                       τ
                                       s
                                    
                                    ∈
                                    T
                                 
                               such that 
                                 
                                    
                                       n
                                       L
                                    
                                    
                                       (
                                       
                                          τ
                                          1
                                       
                                       ,
                                       C
                                       )
                                    
                                    ,
                                    …
                                    ,
                                    
                                       n
                                       L
                                    
                                    
                                       (
                                       
                                          τ
                                          s
                                       
                                       ,
                                       C
                                       )
                                    
                                 
                               are positive and 
                                 
                                    
                                       
                                          d
                                          L
                                       
                                       ¯
                                    
                                    ≤
                                    c
                                    
                                       (
                                       
                                          τ
                                          1
                                       
                                       )
                                    
                                    <
                                    c
                                    
                                       (
                                       
                                          τ
                                          2
                                       
                                       )
                                    
                                    ⋯
                                    <
                                    c
                                    
                                       (
                                       
                                          τ
                                          s
                                       
                                       )
                                    
                                    ≤
                                    
                                       c
                                       max
                                    
                                 
                              . Then, 
                                 
                                    
                                       P
                                       L
                                    
                                    
                                       (
                                       
                                          
                                             d
                                             L
                                          
                                          ¯
                                       
                                       )
                                    
                                    =
                                    
                                       n
                                       L
                                    
                                    
                                       (
                                       
                                          τ
                                          1
                                       
                                       ,
                                       C
                                       )
                                    
                                    +
                                    ⋯
                                    +
                                    
                                       n
                                       L
                                    
                                    
                                       (
                                       
                                          τ
                                          s
                                       
                                       ,
                                       C
                                       )
                                    
                                 
                              . We shall see that

                                 
                                    
                                       
                                          
                                             
                                             
                                                
                                                   i
                                                   f
                                                   
                                                   C
                                                   ≥
                                                   c
                                                   
                                                      (
                                                      
                                                         τ
                                                         1
                                                      
                                                      )
                                                   
                                                   ,
                                                   then
                                                   
                                                   
                                                      n
                                                      L
                                                   
                                                   
                                                      (
                                                      
                                                         τ
                                                         1
                                                      
                                                      ,
                                                      C
                                                      )
                                                   
                                                   =
                                                   0
                                                
                                             
                                          
                                          
                                             
                                             
                                                
                                                   i
                                                   f
                                                   
                                                   C
                                                   ≥
                                                   c
                                                   
                                                      (
                                                      
                                                         τ
                                                         2
                                                      
                                                      )
                                                   
                                                   ,
                                                   then
                                                   
                                                   
                                                      n
                                                      L
                                                   
                                                   
                                                      (
                                                      
                                                         τ
                                                         1
                                                      
                                                      ,
                                                      C
                                                      )
                                                   
                                                   =
                                                   
                                                      n
                                                      L
                                                   
                                                   
                                                      (
                                                      
                                                         τ
                                                         2
                                                      
                                                      ,
                                                      C
                                                      )
                                                   
                                                   =
                                                   0
                                                
                                             
                                          
                                          
                                             
                                             
                                                ⋯
                                             
                                          
                                          
                                             
                                             
                                                
                                                   i
                                                   f
                                                   
                                                   C
                                                   ≥
                                                   c
                                                   
                                                      (
                                                      
                                                         τ
                                                         s
                                                      
                                                      )
                                                   
                                                   ,
                                                   then
                                                   
                                                   
                                                      n
                                                      L
                                                   
                                                   
                                                      (
                                                      
                                                         τ
                                                         1
                                                      
                                                      ,
                                                      C
                                                      )
                                                   
                                                   =
                                                   
                                                      n
                                                      L
                                                   
                                                   
                                                      (
                                                      
                                                         τ
                                                         2
                                                      
                                                      ,
                                                      C
                                                      )
                                                   
                                                   =
                                                   ⋯
                                                   =
                                                   
                                                      n
                                                      L
                                                   
                                                   
                                                      (
                                                      
                                                         τ
                                                         s
                                                      
                                                      ,
                                                      C
                                                      )
                                                   
                                                   =
                                                   0
                                                
                                             
                                          
                                       
                                    
                                 
                              Hence, for 
                                 
                                    
                                       
                                          d
                                          L
                                       
                                       ¯
                                    
                                    ≤
                                    c
                                    
                                       (
                                       
                                          τ
                                          1
                                       
                                       )
                                    
                                    <
                                    c
                                    
                                       (
                                       
                                          τ
                                          2
                                       
                                       )
                                    
                                    ⋯
                                    <
                                    c
                                    
                                       (
                                       
                                          τ
                                          s
                                       
                                       )
                                    
                                    ≤
                                    
                                       c
                                       max
                                    
                                    ,
                                 
                               the penalty cost function can be written in the following form

                                 
                                    (17)
                                    
                                       
                                          
                                             
                                             
                                             
                                                
                                                   
                                                      P
                                                      L
                                                   
                                                   
                                                      (
                                                      C
                                                      )
                                                   
                                                   =
                                                   κ
                                                
                                             
                                          
                                          
                                             
                                             
                                             
                                                
                                                   
                                                   ×
                                                   
                                                      {
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     n
                                                                     L
                                                                  
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        1
                                                                     
                                                                     ,
                                                                     C
                                                                     )
                                                                  
                                                                  +
                                                                  
                                                                     n
                                                                     L
                                                                  
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        2
                                                                     
                                                                     ,
                                                                     C
                                                                     )
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                  +
                                                                  ⋯
                                                                  +
                                                                  
                                                                     n
                                                                     L
                                                                  
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        s
                                                                     
                                                                     ,
                                                                     C
                                                                     )
                                                                  
                                                                  ,
                                                               
                                                            
                                                            
                                                               
                                                                  for
                                                                  
                                                                  
                                                                     
                                                                        d
                                                                        L
                                                                     
                                                                     ¯
                                                                  
                                                                  ≤
                                                                  C
                                                                  <
                                                                  c
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     n
                                                                     L
                                                                  
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        2
                                                                     
                                                                     ,
                                                                     C
                                                                     )
                                                                  
                                                                  +
                                                                  ⋯
                                                                  +
                                                                  
                                                                     n
                                                                     L
                                                                  
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        s
                                                                     
                                                                     ,
                                                                     C
                                                                     )
                                                                  
                                                                  ,
                                                               
                                                            
                                                            
                                                               
                                                                  for
                                                                  
                                                                  c
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                                  ≤
                                                                  C
                                                                  <
                                                                  c
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        2
                                                                     
                                                                     )
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               ⋯
                                                            
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     n
                                                                     L
                                                                  
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        s
                                                                     
                                                                     ,
                                                                     C
                                                                     )
                                                                  
                                                                  ,
                                                               
                                                            
                                                            
                                                               
                                                                  for
                                                                  
                                                                  c
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        
                                                                           s
                                                                           −
                                                                           1
                                                                        
                                                                     
                                                                     )
                                                                  
                                                                  ≤
                                                                  C
                                                                  <
                                                                  c
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        s
                                                                     
                                                                     )
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  0
                                                                  ,
                                                               
                                                            
                                                            
                                                               
                                                                  for
                                                                  
                                                                  c
                                                                  (
                                                                  
                                                                     τ
                                                                     s
                                                                  
                                                                  )
                                                                  ≤
                                                                  C
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

Combining Eqs. 13 and 17, given L, we can derive the slope of the penalty cost function as

                                 
                                    (18)
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         ∂
                                                         P
                                                      
                                                      
                                                         ∂
                                                         C
                                                      
                                                   
                                                   =
                                                   κ
                                                   
                                                      {
                                                      
                                                         
                                                            
                                                               
                                                                  −
                                                                  [
                                                                  n
                                                                  
                                                                     (
                                                                     L
                                                                     −
                                                                     1
                                                                     )
                                                                  
                                                                  +
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        1
                                                                     
                                                                     +
                                                                     
                                                                        τ
                                                                        2
                                                                     
                                                                     +
                                                                     ⋯
                                                                     +
                                                                     
                                                                        τ
                                                                        s
                                                                     
                                                                     )
                                                                  
                                                                  ]
                                                               
                                                            
                                                            
                                                               
                                                                  for
                                                                  
                                                                  
                                                                     
                                                                        d
                                                                        L
                                                                     
                                                                     ¯
                                                                  
                                                                  ≤
                                                                  C
                                                                  <
                                                                  c
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  −
                                                                  [
                                                                  
                                                                     (
                                                                     n
                                                                     −
                                                                     1
                                                                     )
                                                                  
                                                                  
                                                                     (
                                                                     L
                                                                     −
                                                                     1
                                                                     )
                                                                  
                                                                  +
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        2
                                                                     
                                                                     +
                                                                     ⋯
                                                                     +
                                                                     
                                                                        τ
                                                                        s
                                                                     
                                                                     )
                                                                  
                                                                  ]
                                                                  ,
                                                               
                                                            
                                                            
                                                               
                                                                  for
                                                                  
                                                                  c
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        1
                                                                     
                                                                     )
                                                                  
                                                                  <
                                                                  C
                                                                  <
                                                                  c
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        2
                                                                     
                                                                     )
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               ⋯
                                                            
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  −
                                                                  [
                                                                  
                                                                     (
                                                                     L
                                                                     −
                                                                     1
                                                                     )
                                                                  
                                                                  +
                                                                  
                                                                     τ
                                                                     s
                                                                  
                                                                  ]
                                                                  ,
                                                               
                                                            
                                                            
                                                               
                                                                  for
                                                                  
                                                                  c
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        
                                                                           s
                                                                           −
                                                                           1
                                                                        
                                                                     
                                                                     )
                                                                  
                                                                  <
                                                                  C
                                                                  <
                                                                  c
                                                                  
                                                                     (
                                                                     
                                                                        τ
                                                                        s
                                                                     
                                                                     )
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  0
                                                                  ,
                                                               
                                                            
                                                            
                                                               
                                                                  for
                                                                  
                                                                  c
                                                                  (
                                                                  
                                                                     τ
                                                                     s
                                                                  
                                                                  )
                                                                  <
                                                                  C
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

We can see from (17) and (18) that for any fixed L > 0, PL
                              (C) is decreasing and piecewise linear convex when 
                                 
                                    
                                       
                                          d
                                          L
                                       
                                       ¯
                                    
                                    ≤
                                    C
                                    ≤
                                    
                                       c
                                       max
                                    
                                 
                              .□

The proof of Proposition 1 shows how the penalty cost function PL
                        (C) can be constructed when demand and lead-time are given.

                           
                              1.
                              First, 
                                    
                                       c
                                       
                                          (
                                          k
                                          ,
                                          j
                                          )
                                       
                                       =
                                       
                                          
                                             
                                                D
                                                L
                                             
                                             
                                                (
                                                k
                                                ,
                                                j
                                                )
                                             
                                          
                                          
                                             L
                                             +
                                             j
                                             −
                                             1
                                          
                                       
                                    
                                  needs to be computed for each period j in each set Ik
                                  with positive queue. If 
                                    
                                       c
                                       
                                          (
                                          k
                                          ,
                                          j
                                          )
                                       
                                       >
                                       
                                          
                                             d
                                             L
                                          
                                          ¯
                                       
                                       ,
                                    
                                  then c(k, j) is one of the breakpoints of the penalty cost function.

For each breakpoint c(k, j), we calculate 
                                    
                                       
                                          n
                                          L
                                       
                                       
                                          (
                                          k
                                          ,
                                          j
                                          )
                                       
                                       =
                                       
                                          D
                                          L
                                       
                                       
                                          (
                                          k
                                          ,
                                          j
                                          )
                                       
                                       −
                                       
                                          (
                                          L
                                          +
                                          j
                                          −
                                          1
                                          )
                                       
                                       C
                                       ,
                                    
                                  which represents the penalty cost difference at c(k, j) and the next higher breakpoint.

Finally, Eq. (17) can be applied for the construction of PL
                                 (C).


                        
                           Proposition 2
                           
                              The optimal capacity level
                              
                                 
                                    C
                                    L
                                    
                                       
                                       *
                                    
                                 
                               
                              for (P2) can be found as follows:
                              
                                 
                                    (i)
                                    
                                       If
                                       
                                          
                                             
                                                
                                                   d
                                                   L
                                                
                                                ¯
                                             
                                             ≥
                                             
                                                c
                                                max
                                             
                                             ,
                                          
                                       
                                       
                                          
                                             
                                                C
                                                L
                                                
                                                   
                                                   *
                                                
                                             
                                             =
                                             
                                                
                                                   d
                                                   L
                                                
                                                ¯
                                             
                                          
                                       
                                       .
                                    


                                       If
                                       
                                          
                                             
                                                
                                                   d
                                                   L
                                                
                                                ¯
                                             
                                             <
                                             
                                                c
                                                max
                                             
                                             ,
                                          
                                        
                                       there exists a global minimum
                                       
                                          
                                             C
                                             L
                                             
                                                
                                                *
                                             
                                          
                                        
                                       on
                                       
                                          
                                             [
                                             
                                                
                                                   d
                                                   L
                                                
                                                ¯
                                             
                                             ,
                                             
                                                c
                                                max
                                             
                                             ]
                                          
                                       
                                       .
                                    


                              Let
                              
                                 
                                    c
                                    
                                       (
                                       
                                          τ
                                          1
                                       
                                       )
                                    
                                    ,
                                    …
                                    ,
                                    c
                                    
                                       (
                                       
                                          τ
                                          s
                                       
                                       )
                                    
                                 
                               
                              be the breakpoints of P(C) and
                              
                                 
                                    
                                       ∂
                                       Φ
                                    
                                    
                                       ∂
                                       C
                                    
                                 
                               
                              the first derivative of Φ with respect to
                              
                                 
                                    C
                                    ∈
                                    C
                                 
                               
                              where
                              
                                 
                                    C
                                    =
                                    
                                       [
                                       
                                          
                                             d
                                             L
                                          
                                          ¯
                                       
                                       ,
                                       
                                          c
                                          max
                                       
                                       ]
                                    
                                    ∖
                                    
                                       {
                                       c
                                       
                                          (
                                          
                                             τ
                                             1
                                          
                                          )
                                       
                                       ,
                                       …
                                       ,
                                       c
                                       
                                          (
                                          
                                             τ
                                             s
                                          
                                          )
                                       
                                       }
                                    
                                 
                              
                              . Set
                              
                                 
                                    s
                                    =
                                    min
                                    {
                                    |
                                    
                                       
                                          ∂
                                          Φ
                                       
                                       
                                          ∂
                                          C
                                       
                                    
                                    |
                                    :
                                    C
                                    ∈
                                    C
                                 
                              
                              }, we obtain
                              
                                 
                                    (19)
                                    
                                       
                                          
                                             C
                                             L
                                             
                                                
                                                *
                                             
                                          
                                          =
                                          
                                             {
                                             
                                                
                                                   
                                                      
                                                         
                                                            max
                                                            
                                                               {
                                                               C
                                                               :
                                                               
                                                                  |
                                                                  
                                                                     
                                                                        ∂
                                                                        Φ
                                                                     
                                                                     
                                                                        ∂
                                                                        C
                                                                     
                                                                  
                                                                  |
                                                               
                                                               =
                                                               s
                                                               }
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            if
                                                            
                                                            
                                                               
                                                                  ∂
                                                                  Φ
                                                               
                                                               
                                                                  ∂
                                                                  C
                                                               
                                                            
                                                            <
                                                            0
                                                            ;
                                                         
                                                      
                                                   
                                                
                                                
                                                   
                                                      
                                                         
                                                            min
                                                            
                                                               {
                                                               C
                                                               :
                                                               
                                                                  |
                                                                  
                                                                     
                                                                        ∂
                                                                        Φ
                                                                     
                                                                     
                                                                        ∂
                                                                        C
                                                                     
                                                                  
                                                                  |
                                                               
                                                               =
                                                               s
                                                               }
                                                            
                                                            ,
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            if
                                                            
                                                            
                                                               
                                                                  ∂
                                                                  Φ
                                                               
                                                               
                                                                  ∂
                                                                  C
                                                               
                                                            
                                                            ≥
                                                            0
                                                            ;
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           

The proof follows directly from Proposition 1. Part (i) is trivial, for, if 
                                 
                                    
                                       
                                          d
                                          L
                                       
                                       ¯
                                    
                                    ≥
                                    
                                       c
                                       max
                                    
                                    ,
                                 
                               by exceeding c
                              max, the firm cannot reduce penalty cost, but incurs higher capacity cost, and hence lower profit.

Recall the convexity of A(C). Part(ii) holds because if 
                                 
                                    
                                       
                                          d
                                          L
                                       
                                       ¯
                                    
                                    <
                                    
                                       c
                                       max
                                    
                                    ,
                                 
                               
                              Φ(C), as a sum of two convex functions, is convex on 
                                 
                                    [
                                    
                                       
                                          d
                                          L
                                       
                                       ¯
                                    
                                    ,
                                    
                                       c
                                       max
                                    
                                    ]
                                 
                              .□

In the telecommunications industry, a common practice is to use uniform lead time. For services (e.g. installation of broadband at telecom exchanges) where customers do not have to participate in the service delivery process, the advantages of quoting a uniform lead time are twofold. On the one hand, all customers are guaranteed a uniform delivery lead time. On the other hand, the firm can flexibly choose the best time within the promised lead-time to carry out the work. In this example, we consider a telecommunication operator facing demand variability with a weekly pattern (measured by the number of jobs) for such a service. As it is possible to estimate the average time a technician needs to complete a job, we represent the capacity C needed during a time period in terms of the number of jobs to better match it with customer demand.

To illustrate the solution approach presented in the previous section, let us provide a numerical example with the following parameters: 
                           
                              τ
                              =
                              7
                              ,
                              p
                              =
                              5
                              ,
                              κ
                              =
                              2
                           
                        . The demand is assumed to behave according to

                           
                              (20)
                              
                                 
                                    
                                       d
                                       L
                                    
                                    
                                       (
                                       t
                                       )
                                    
                                    =
                                    a
                                    
                                       β
                                       t
                                    
                                    −
                                    b
                                    
                                       (
                                       L
                                       −
                                       1
                                       )
                                    
                                 
                              
                           
                        The first part of the equation denotes the maximum potential demand rates for the minimum lead-time 
                           
                              L
                              =
                              1
                              ,
                           
                         where the constant a indicates the basic demand and βt
                         denotes the seasonal factor of demand in period t. Note that 
                           
                              
                                 ∑
                                 
                                    t
                                    =
                                    1
                                 
                                 7
                              
                              
                                 β
                                 t
                              
                              =
                              1
                           
                        . The factor b in the second part of the equation represents the lead-time sensitivity of demand. In this example we set 
                           
                              a
                              =
                              35
                              ,
                              b
                              =
                              1
                           
                         and 
                           
                              β
                              =
                              
                                 
                                    [
                                    
                                       β
                                       t
                                    
                                    ]
                                 
                                 T
                              
                              =
                              
                                 
                                    [
                                    0.24
                                    
                                    0.04
                                    
                                    0.14
                                    
                                    0.41
                                    
                                    0.02
                                    
                                    0.10
                                    
                                    0.05
                                    ]
                                 
                                 T
                              
                           
                        .

In order to keep the illustration simple, let assume the cost per capacity unit to be 
                           
                              (
                              γ
                              +
                              θ
                              C
                              )
                              ,
                           
                         where 
                           
                              γ
                              =
                              1
                           
                         and 
                           
                              θ
                              =
                              0.02
                           
                         are positive constants. Hence, the capacity cost function is defined by 
                           
                              A
                              (
                              C
                              )
                              =
                              C
                              (
                              γ
                              +
                              θ
                              C
                              )
                              =
                              C
                              (
                              1
                              +
                              0.02
                              C
                              )
                           
                        .

For 
                           
                              L
                              =
                              1
                              ,
                           
                         the average demand equals 
                           
                              
                                 
                                    d
                                    L
                                 
                                 ¯
                              
                              =
                              35
                              ,
                           
                         which is also the minimum value the decision variable C can assume. As we can see from Table 2
                        , the queue length is positive for the first time in period 1 if the capacity level is less than the period demand, i.e. C < 60. In this case, the time interval I
                        0 starts with period 1, and the maximum queue length in this period equals 
                           
                              
                                 q
                                 L
                              
                              
                                 (
                                 k
                                 ,
                                 j
                                 ,
                                 
                                    
                                       d
                                       L
                                    
                                    ¯
                                 
                                 )
                              
                              =
                              25
                           
                         when 
                           
                              C
                              =
                              
                                 
                                    d
                                    L
                                 
                                 ¯
                              
                              =
                              35
                           
                        . In period 2, the queue is empty, as the minimum level of capacity is sufficient to satisfy the demand of period 2 and the backlog from period 1. The queue length is again positive from periods 4 to 7. Hence 
                           
                              
                                 I
                                 0
                              
                              =
                              
                                 {
                                 1
                                 ,
                                 2
                                 }
                              
                              ,
                           
                        
                        
                           
                              
                                 I
                                 1
                              
                              =
                              
                                 {
                                 4
                                 ,
                                 5
                                 ,
                                 6
                                 ,
                                 7
                                 }
                              
                           
                        . The columns DL
                        (k, j) and 
                           
                              j
                              
                                 
                                    d
                                    L
                                 
                                 ¯
                              
                           
                         contain, respectively, the cumulative demand and the minimum cumulative capacity from the beginning of an interval Ik
                         up to the jth period of that interval. The maximum queue length in a period is determined as 
                           
                              
                                 q
                                 L
                              
                              
                                 (
                                 k
                                 ,
                                 j
                                 ,
                                 
                                    
                                       d
                                       L
                                    
                                    ¯
                                 
                                 )
                              
                              =
                              
                                 D
                                 L
                              
                              
                                 (
                                 k
                                 ,
                                 j
                                 )
                              
                              −
                              j
                              
                                 
                                    d
                                    L
                                 
                                 ¯
                              
                           
                        . This calculation corresponds to Eq. 12 where the capacity level is set to its lower bound 
                           
                              
                                 d
                                 L
                              
                              ¯
                           
                        . Finally, we compute 
                           
                              c
                              
                                 (
                                 k
                                 ,
                                 j
                                 )
                              
                              =
                              
                                 
                                    
                                       D
                                       L
                                    
                                    
                                       (
                                       k
                                       ,
                                       j
                                       )
                                    
                                 
                                 
                                    L
                                    +
                                    j
                                    −
                                    1
                                 
                              
                           
                         with 
                           
                              L
                              =
                              1
                           
                         and nL
                        (k, j) using Eq. 13. As depicted in Table 2, tardy jobs can occur in periods 1, 4, 5 and 6.

It is obvious that there are no tardy jobs during the whole planning horizon if C ≥ 100 (and 
                           
                              L
                              =
                              1
                           
                        ), since 
                           
                              
                                 n
                                 1
                              
                              
                                 (
                                 1
                                 ,
                                 C
                                 )
                              
                              =
                              
                                 
                                    [
                                    60
                                    −
                                    C
                                    ]
                                 
                                 +
                              
                              =
                              0
                              ;
                              
                                 n
                                 1
                              
                              
                                 (
                                 4
                                 ,
                                 C
                                 )
                              
                              =
                              
                                 
                                    [
                                    100
                                    −
                                    C
                                    ]
                                 
                                 +
                              
                              =
                              0
                              ;
                              
                                 n
                                 1
                              
                              
                                 (
                                 5
                                 ,
                                 C
                                 )
                              
                              =
                              
                                 
                                    [
                                    105
                                    −
                                    2
                                    C
                                    ]
                                 
                                 +
                              
                              =
                              0
                           
                         and 
                           
                              
                                 n
                                 1
                              
                              
                                 (
                                 6
                                 ,
                                 C
                                 )
                              
                              =
                              
                                 
                                    [
                                    130
                                    −
                                    3
                                    C
                                    ]
                                 
                                 +
                              
                              =
                              0
                           
                        . Further, the number of delayed jobs increases when the capacity level decreases. According to Eq. 17 the penalty cost function for 
                           
                              L
                              =
                              1
                           
                         and 
                           
                              κ
                              =
                              1
                           
                         is defined by

                           
                              (21)
                              
                                 
                                    
                                       
                                       
                                       
                                          
                                             
                                                P
                                                1
                                             
                                             
                                                (
                                                C
                                                )
                                             
                                             =
                                             2
                                          
                                       
                                    
                                    
                                       
                                       
                                       
                                          
                                             
                                             ×
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            
                                                               n
                                                               1
                                                            
                                                            
                                                               (
                                                               1
                                                               ,
                                                               C
                                                               )
                                                            
                                                            +
                                                            
                                                               n
                                                               1
                                                            
                                                            
                                                               (
                                                               4
                                                               ,
                                                               C
                                                               )
                                                            
                                                            +
                                                            
                                                               n
                                                               1
                                                            
                                                            
                                                               (
                                                               5
                                                               ,
                                                               C
                                                               )
                                                            
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                            +
                                                            
                                                               n
                                                               1
                                                            
                                                            
                                                               (
                                                               6
                                                               ,
                                                               C
                                                               )
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            35
                                                            ≤
                                                            C
                                                            <
                                                            43.3
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               n
                                                               1
                                                            
                                                            
                                                               (
                                                               1
                                                               ,
                                                               C
                                                               )
                                                            
                                                            +
                                                            
                                                               n
                                                               1
                                                            
                                                            
                                                               (
                                                               4
                                                               ,
                                                               C
                                                               )
                                                            
                                                            +
                                                            
                                                               n
                                                               1
                                                            
                                                            
                                                               (
                                                               5
                                                               ,
                                                               C
                                                               )
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            43.3
                                                            ≤
                                                            C
                                                            <
                                                            52.5
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               n
                                                               1
                                                            
                                                            
                                                               (
                                                               1
                                                               ,
                                                               C
                                                               )
                                                            
                                                            +
                                                            
                                                               n
                                                               1
                                                            
                                                            
                                                               (
                                                               4
                                                               ,
                                                               C
                                                               )
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            52.5
                                                            ≤
                                                            C
                                                            <
                                                            60
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               n
                                                               1
                                                            
                                                            
                                                               (
                                                               4
                                                               ,
                                                               C
                                                               )
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            60
                                                            ≤
                                                            C
                                                            <
                                                            100
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            0
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            100
                                                            ≤
                                                            C
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (22)
                              
                                 
                                    
                                       
                                          
                                             =
                                             2
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            (
                                                            60
                                                            −
                                                            C
                                                            )
                                                            +
                                                            (
                                                            100
                                                            −
                                                            C
                                                            )
                                                            +
                                                            (
                                                            105
                                                            −
                                                            2
                                                            C
                                                            )
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                            +
                                                            (
                                                            130
                                                            −
                                                            3
                                                            C
                                                            )
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            35
                                                            ≤
                                                            C
                                                            <
                                                            43.3
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            (
                                                            60
                                                            −
                                                            C
                                                            )
                                                            +
                                                            (
                                                            100
                                                            −
                                                            C
                                                            )
                                                            +
                                                            (
                                                            105
                                                            −
                                                            2
                                                            C
                                                            )
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            43.3
                                                            ≤
                                                            C
                                                            <
                                                            52.5
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            (
                                                            60
                                                            −
                                                            C
                                                            )
                                                            +
                                                            (
                                                            100
                                                            −
                                                            C
                                                            )
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            52.5
                                                            ≤
                                                            C
                                                            <
                                                            60
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            (
                                                            100
                                                            −
                                                            C
                                                            )
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            60
                                                            ≤
                                                            C
                                                            <
                                                            100
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            0
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            100
                                                            ≤
                                                            C
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              (23)
                              
                                 
                                    
                                       
                                          
                                             =
                                             2
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            395
                                                            −
                                                            7
                                                            C
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            35
                                                            ≤
                                                            C
                                                            <
                                                            43.3
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            265
                                                            −
                                                            4
                                                            C
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            43.3
                                                            ≤
                                                            C
                                                            <
                                                            52.5
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            160
                                                            −
                                                            2
                                                            C
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            52.5
                                                            ≤
                                                            C
                                                            <
                                                            60
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            100
                                                            −
                                                            C
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            60
                                                            ≤
                                                            C
                                                            <
                                                            100
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            0
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            100
                                                            ≤
                                                            C
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

We calculate the total cost 
                           
                              
                                 Φ
                                 1
                              
                              
                                 (
                                 C
                                 )
                              
                              =
                              A
                              
                                 (
                                 C
                                 )
                              
                              +
                              
                                 P
                                 1
                              
                              
                                 (
                                 C
                                 )
                              
                           
                         where P
                        1(C) is defined in Eq. 23 and obtain

                           
                              (24)
                              
                                 
                                    
                                       
                                          
                                             
                                                Φ
                                                1
                                             
                                             
                                                (
                                                C
                                                )
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            790
                                                            −
                                                            13
                                                            C
                                                            +
                                                            0.02
                                                            
                                                               C
                                                               2
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            35
                                                            ≤
                                                            C
                                                            <
                                                            43.3
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            530
                                                            −
                                                            7
                                                            C
                                                            +
                                                            0.02
                                                            
                                                               C
                                                               2
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            43.3
                                                            ≤
                                                            C
                                                            <
                                                            52.5
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            320
                                                            −
                                                            3
                                                            C
                                                            +
                                                            0.02
                                                            
                                                               C
                                                               2
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            52.5
                                                            ≤
                                                            C
                                                            <
                                                            60
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            200
                                                            −
                                                            1
                                                            C
                                                            +
                                                            0.02
                                                            
                                                               C
                                                               2
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            60
                                                            ≤
                                                            C
                                                            <
                                                            100
                                                         
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            C
                                                            +
                                                            0.02
                                                            
                                                               C
                                                               2
                                                            
                                                            ,
                                                         
                                                      
                                                      
                                                         
                                                            for
                                                            
                                                            100
                                                            ≤
                                                            C
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

According to Proposition 2, the optimal capacity level is 
                           
                              
                                 C
                                 L
                                 
                                    
                                    *
                                 
                              
                              =
                              60
                           
                         for 
                           
                              L
                              =
                              1
                              ,
                           
                         as also shown in Fig. 3
                        .

For each 
                           
                              L
                              ∈
                              {
                              1
                              ,
                              …
                              ,
                              7
                              }
                           
                         we compute the corresponding optimal capacity level analogously (see Table 3
                        ) and obtain 
                           
                              
                                 L
                                 
                                    
                                    *
                                 
                              
                              =
                              3
                              ,
                              
                                 C
                                 
                                    
                                    *
                                 
                              
                              =
                              33
                           
                         as the solution that optimizes the overall profit ΠL
                        (C) over the planning horizon.

The main purpose of this computational study is to assess the proposed solution approach under conditions of stochastic demand. We assume that the demand in each period is uncertain and defined as

                        
                           (25)
                           
                              
                                 
                                    λ
                                    L
                                 
                                 
                                    (
                                    t
                                    )
                                 
                                 =
                                 
                                    d
                                    L
                                 
                                 
                                    (
                                    t
                                    )
                                 
                                 +
                                 ϵ
                                 
                                    (
                                    t
                                    )
                                 
                              
                           
                        
                     The first component dL
                     (t) represents the deterministic demand forecast for a period t ∈ T as defined in Eq. 20. The second component 
                        
                           ϵ
                           (
                           t
                           )
                        
                      denotes the combined effect of several unobserved factors affecting demand in period t and could be interpreted as forecast error. Note that we consciously do not want to simulate a certain forecast procedure (and its resulting forecast error), but rather decide to directly calculate forecast errors. In this respect, our analysis is independent of the chosen forecast procedure and thus, a much larger spectrum of different forecast errors can be investigated. We assume that 
                        
                           ϵ
                           (
                           t
                           )
                        
                      is a continuous random variable, independent of L and independently, normally distributed with mean zero and standard deviation σ(t). For simplicity, we assume that all 
                        
                           ϵ
                           (
                           t
                           )
                        
                      have the same standard deviation value 
                        
                           σ
                           (
                           t
                           )
                           =
                           σ
                           ,
                        
                      i.e. 
                        
                           ϵ
                           (
                           t
                           )
                           ∼
                           N
                           (
                           0
                           ,
                           σ
                           )
                        
                     .

Our numerical experiments are based on the scenario described in Section 5, with the only difference that stochastic components of demand are taken into account. We choose 
                        
                           σ
                           ∈
                           {
                           5
                           ,
                           10
                           ,
                           …
                           ,
                           30
                           }
                        
                      to study the impact of demand variability on the choice of lead-time and capacity level. This means that we consider six different cases of forecast errors between 14.29 and 85.71 percent. Note that negative demand is changed to zero.

First, we use the approach proposed in Section 3 to solve the problem. In order to ensure the probability that the expected mean demand does exceed the chosen capacity level is less than α, we define

                        
                           (26)
                           
                              
                                 
                                    c
                                    L
                                    min
                                 
                                 =
                                 
                                    
                                       d
                                       L
                                    
                                    ¯
                                 
                                 +
                                 
                                    z
                                    α
                                 
                                 
                                    
                                       var
                                       (
                                       
                                          
                                             d
                                             L
                                          
                                          ¯
                                       
                                       )
                                    
                                 
                              
                           
                        
                     where 
                        
                           P
                           (
                           N
                           
                              (
                              0
                              ,
                              1
                              )
                           
                           >
                           
                              z
                              α
                           
                           )
                           =
                           α
                        
                     . We adjust and round the capacity level 
                        
                           C
                           L
                           
                              
                              *
                           
                        
                      obtained by using our deterministic approach for a given L to

                        
                           (27)
                           
                              
                                 
                                    C
                                    L
                                    
                                       
                                       *
                                    
                                 
                                 =
                                 
                                    ⌊
                                    max
                                    
                                       {
                                       
                                          c
                                          L
                                          min
                                       
                                       ,
                                       
                                          C
                                          L
                                          
                                             
                                             *
                                          
                                       
                                       }
                                    
                                    +
                                    0.5
                                    ⌋
                                 
                              
                           
                        
                     where 
                        
                           ⌊
                           x
                           +
                           0.5
                           ⌋
                        
                      denotes the nearest integer to x.

According to Eq. 25 the mean demand 
                        
                           
                              λ
                              L
                           
                           ¯
                        
                      is a continuous random variable with mean 
                        
                           
                              
                                 d
                                 L
                              
                              ¯
                           
                           =
                           
                              
                                 
                                    ∑
                                    
                                       t
                                       =
                                       1
                                    
                                    τ
                                 
                                 
                                    d
                                    L
                                 
                                 
                                    (
                                    t
                                    )
                                 
                              
                              τ
                           
                        
                      and standard deviation 
                        
                           
                              σ
                              
                                 τ
                              
                           
                           τ
                        
                     . We use these formulae and set 
                        
                           α
                           =
                           0.05
                        
                      to adjust the value of 
                        
                           
                              C
                              L
                              
                                 
                                 *
                              
                           
                           ,
                        
                      as suggested above.

Second, we use Monte Carlo methods, implemented in MATLAB. The simulations run over 141,400 demand periods with a warm-up phase of 1,400 periods (i.e. 20,000 weeks of seven periods each). We evaluate the expected profit for each 
                        
                           σ
                           ∈
                           {
                           5
                           ,
                           10
                           …
                           ,
                           30
                           }
                           ,
                        
                      each 
                        
                           L
                           ∈
                           {
                           1
                           ,
                           …
                           ,
                           7
                           }
                        
                      and each 
                        
                           C
                           ∈
                           {
                           
                              
                                 d
                                 L
                              
                              ¯
                           
                           ,
                           …
                           100
                           }
                        
                      to find the optimal combination of L and C for each case of forecast errors (Fig. 4). For each σ and each L, we report the optimal capacity C found by simulations, and the corresponding profit. We compare these results with those obtained by our calculation approach in Table 4
                     .

As expected, given the lead-time, when demand variability is higher, the gap between the calculated and simulated optimal capacity level is higher. In all cases of forecast errors, the profit optimal lead-time to choose is 3, which corresponds to the result obtained by our solution method. We calculate the profit gaps that occur if our solution is applied instead of the simulation based solution. For all test instances, the profit gaps are less than 5.5 percent which is a promising indication that our approach could be used for the approximation of optimal lead-time and capacity level in case of forecast errors.

@&#CONCLUSION@&#

In this paper, we presented a mathematical model and a solution method for finding the optimal joint decision of lead-time quoting and capacity level selection that can generally be applied for service firms facing lead-time sensitive and time-varying demand, convex capacity cost and lateness penalties. This work is the first step in building a model to support service capacity management under time-varying demand using uniform guaranteed lead-time. The proposed solution approach is very easy to implement. Although the model presented is based on the assumption of deterministic demand. However, it can still be applied as an approximation in the case of stochastic demand. Indeed, the results of our test experiments are encouraging. There are several extensions to our model which are worth further investigation. One such extension is to consider the dependence of demand on price and lead-time, where price can be modeled as a function of lead-time. Another challenge is to extend the one-firm model in a competitive framework.

@&#REFERENCES@&#

