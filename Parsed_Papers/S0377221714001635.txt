@&#MAIN-TITLE@&#Reverse logistics network design and planning utilizing conditional value at risk

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           It is the first paper that tries to regard risk measure in reverse Supply Chain.


                        
                        
                           
                           We specify CVaR as our risk measure in a two stage stochastic programming structure.


                        
                        
                           
                           We consider stochastic demands and prices with a mean-CVaR objective.


                        
                        
                           
                           Results show significant better performances for mean-CVaR models.


                        
                        
                           
                           In real markets, managers can apply their risk factors via our mean-risk model.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Conditional value at risk

Design and planning

End of life products

Reverse supply chain

Two-stage stochastic programming

@&#ABSTRACT@&#


               
               
                  Nowadays, due to some social, legal, and economical reasons, dealing with reverse supply chain is an unavoidable issue in many industries. Besides, regarding real-world volatile parameters, lead us to use stochastic optimization techniques. In location–allocation type of problems (such as the presented design and planning one), two-stage stochastic optimization techniques are the most appropriate and popular approaches. Nevertheless, traditional two-stage stochastic programming is risk neutral, which considers the expectation of random variables in its objective function. In this paper, a risk-averse two-stage stochastic programming approach is considered in order to design and planning a reverse supply chain network. We specify the conditional value at risk (CVaR) as a risk evaluator, which is a linear, convex, and mathematically well-behaved type of risk measure. We first consider return amounts and prices of second products as two stochastic parameters. Then, the optimum point is achieved in a two-stage stochastic structure regarding a mean-risk (mean-CVaR) objective function. Appropriate numerical examples are designed, and solved in order to compare the classical versus the proposed approach. We comprehensively discuss about the effectiveness of incorporating a risk measure in a two-stage stochastic model. The results prove the capabilities and acceptability of the developed risk-averse approach and the affects of risk parameters in the model behavior.
               
            

@&#INTRODUCTION@&#

In a reverse supply chain network, used products (called return products) are collected from customers and they are tried to be reused. Fleischmann (2001) defines the Reverse Logistic (RL) in a generic form: “reverse logistics is the process of planning, implementing, and controlling the efficient, effective inbound flow and storage of secondary goods and related information opposite to the traditional supply chain direction for the purpose of recovering value and proper disposal”. Dealing with End of Life (EOL) products, there are various alternative decisions, which can be undertaken such as recycling options, remanufacturing by manufacturers (in order to send to the second markets), repairing by collection or disassembly centers (in order to forward to second markets), and finally green disposing options.

Nowadays, we can mention many reasons those actuates manufacturers toward focusing on reverse supply chain issues but the most prominent reasons are the growing concern for the environment and cost reduction (Govindan & Popiuc, 2014; Kannan, Noorul Haq, & Devika, 2009). Recently, Srivastava (2008) presents an illustration of a simple reverse logistics network, which contains various processes of reverse flows (see Fig. 1
                     ). In this Figure, EOL products are collected from consumers and, after some quality tests, appropriate decisions are undertaken. Based on the quality of return products, series of minor (repair, refurbish, disassembly, and service) or major processes (remanufacturing and recycling) are the available alternatives. The remaining products should be environmental-friendly disposed.

Generally, dealing with any type of supply chain network, we have three main decision levels: Long-term (called design or configuration or generally named location), mid-term (named planning or allocation), and short-term (called operational) (Chopra & Meindl, 2010). In this paper, the design and planning decision levels of a multi-product reverse supply chain problem is considered. In the designing stage, strategic decisions on locations of all facilities are undertaken. In the planning level, we should determine a very important part of supply chain network: Quantity of flows between all reverse supply chain network entities. Besides, since design and planning levels are long and mid-term decisions so the related decisions are not simply compensable (clearly it is costly) in comparison with short-term decision levels (Chopra & Meindl, 2010). Therefore, these important levels are chosen to be studies in this paper. Finally, in this paper a multi-echelon, multi-product reverse network including various possible flows between network entities is developed, formulated, and evaluated. Then, nondeterministic parameters (demand of return products and their prices) are considered in the network design problem and a new approach to deal with such uncertainties is developed.

There are various sources of uncertainties in a reverse supply chain such as quality, price, time, and amounts of return products, which are not exist in a classical form of supply chain (forward). Therefore, in the designing and planning procedure of a reverse supply chain, availability of sufficient information about parameters is the main issue. In volatile markets, considering nondeterministic parameters is unavoidable. In this paper, the network design problem with stochastic return and price is regarded. On the other side, for location–allocation problems, two-stage stochastic programming is a powerful technique. Consequently, two-stage stochastic approaches have been applied in wide range of applications (Birge & Louveaux, 1997). In the field of reverse supply chain design and planning problem, there are few two-stage stochastic programming researches. To the best of our knowledge, all of them are risk neutral in a way that they consider just expectation criterion in their two-stage objective function. For non-repetitive decision making problems under uncertainty (such as this paper), a risk-averse approach that considers the effects of the variability of random outcomes, such as the random total cost, would provide more robust solutions compared to a risk-neutral approach (Noyan, 2012).

Most earlier researches have tried to cope with the real volatile markets by regarding some stochastic parameters in one or two-stage stochastic structure (Noyan, 2012). However, all of these researches in reverse logistics have just considered expected cost or expected profit as the objective function. Therefore, they are all risk-neutral. In these studies, there is not any kind of risk parameters to cope with real volatile markets. These risk-neutral approaches are inefficient in non-repetitive decision making problems such as design and planning a reverse network (generally in location allocation problems). The studies of Ruszczynski and Shapiro (2006) and Ahmed (2006), are two popular papers dealing with risk-averse approaches. They stipulate on inefficiencies of risk-neutral approaches when just expectation is considered in the objective function. Consequently, in order to cope with real volatile markets in such problems, regarding risk criteria will lead us to solutions that are more robust. On the other hand, based on excellent background of risk measures in financial engineering, they can be utilized as risk criteria in two-stage stochastic problems. We attempt to develop the mentioned approach in the reverse supply chain and to cover this gap for reverse logistics.

In this paper, Conditional Value at Risk (CVaR) as one of the effective and well-behaved risk measures is incorporated into the objective function of the proposed two-stage stochastic framework. To the best of our knowledge, it is the first research that tries to consider a risk-measure in reverse supply chain network design and planning through a two-stage stochastic programming framework. As discussed, this extension is completely necessary in the current volatile markets specially for location–allocation problems. Indeed, in a reverse supply chain, missing of such risk-based approaches are observed and we try to cover this gap through a multi-product network.

The rest of this paper is arranged as follows: In Section 2, a complete literature review is presented. Discussing about risk-measures especially conditional value at risk and the framework of two-stage stochastic programming is illustrated in Section 3. The model characteristics and formulation is demonstrated in Section 4. A comprehensive computational analysis is undertaken in Section 5. Finally, Section 6 is assigned to conclusion and future research.

@&#LITERATURE REVIEW@&#

The main two fundamental papers in reverse logistics are Beamon (1999) and Fleischmann, Krikke, Dekker, and Flapper (2000). Beamon studies the environmental factors toward implementing a reverse logistic and a CLSC. She offers a conceptual framework for classical supply chain, reverse logistics, and closed loop supply chain in a green structure. Popular paper of Fleischmann deals with logistic networks’ characteristics in order to consist with reverse supply chain. Since then, many papers have researched on different aspects of design, planning, and utilizing reverse supply chain. Here, we consider stochastic researches specially two-stage cases.

Although we can mention some excellent two-stage stochastic optimization papers in design and planning forward supply chain such as Chen, Daskin, Shen, and Uryasev (2006), Guillén, Mele, Espuña, and Puigjaner (2006), Schütz, Tomasgard, and Ahmed (2009), Bidhandi and Yusuff (2011), Nickel, Saldanha-da-Gama, and Ziegler (2012), and Chen and Fan (2012), there are few researches that try to design and planning reverse supply chain in a two-stage stochastic programming structure. Besides, we mention some similar researches in CLSC, which can have partial relations with current study. These papers are all risk-neutral and they are described as follows.


                     Kara and Onut (2010) study designing and planning a reverse supply chain network in a two-stage stochastic structure with nondeterministic return and risk neutral approach. They utilized robust optimization technique and CPLEX software as their solver. They develop a single-product reverse network in order to achieve profit maximization. They generate forty scenarios for two-stage stochastic programming and all the scenarios are used for the deterministic model. Their model objective is revenue-maximization with a real case study in waste-paper recycling industry. They try to find optimal locations for recycling center and to determine the flow amounts between nodes in a reverse supply network problem.


                     Fonseca, García-Sánchez, Ortega-Mier, and Saldanha-da-Gama (2010) propose a strategic planning model for reverse logistics, which features multiple facility echelons, multiple commodities, stochasticity, and multiple objectives. They try to combines these features with other aspects of practical relevance such as the possibility of choosing the technology used. Indeed, their approach is a two-stage capacitated design and planning a reverse supply chain network including a study of waste generation in Spanish province of Cordoba (74 towns in province). They consider two main objective functions: Cost and inappropriate effects of RL. Their study is also considering expectation in its structure, which is called risk-neutral.


                     Benedito and Corominas (2013) try to develop a capacitated system with reverse logistics, stochastic demand and returns, and limited manufacturing and storage capacities as a Markov decision model. The model considers several key elements in defining a reverse logistic system: Product life cycle duration, sales behavior, and costs incurred in each period. Returns were modeled as dependent on demand, product life cycle and return rate. An approximated Markov decision model is defined where the optimal manufacturing policy is easily obtained. The optimal policies of the original and the approximated models are compared. This paper presents somehow similar nondeterministic parameters as our study but it does not consider any risk criterion.


                     Panagiotidou, Nenes, and Zikopoulos (2013) develop a single-period, single-product, non-capacitated reverse network to deal with nondeterministic returns yield. The primary objective of the present paper is to study the potential economic benefits of establishing sampling inspection schemes for the timely evaluation of returns quality in reverse supply chains. The approach of the paper is a risk-neutral profit maximization study.

The other similar papers, which try to develop stochastic approach in design and planning problem, can be mentioned in CLSC network. However, it should be mentioned that in order to analyze the effects of risk-averse approaches in return products, studying RLs are more efficient in comparison with studying CLSC networks. The reason is that in a CLSC, the profitability of forward network covers the drawbacks of reveres’. Therefore, it needs to develop such risk-averse approaches in a pure RL. By the way, in order to have a comprehensive literature review, we also mention the two-stage stochastic studies in CLSC network design problems.


                     Lee, Dong, and Bian (2010) propose a two-stage stochastic programming approach for designing a sustainable logistics network under uncertainty of demand. He develops a sample average approximation scheme with an importance sampling strategy. His case study is involving a large-scale sustainable logistics network in Asia Pacific region. El-Sayed, Afia, and El-Kharbotly (2010) develop a multi-period multi-echelon forward–reverse logistics network model under risk. The problem is formulated in a two-stage stochastic mixed integer linear programming (SMILP) structure. The objective is to maximize the total expected profit so it is a risk neutral paper.

Recently, Baptista, Gomes, and Barbosa-Povoa (2012) address the problem of demand uncertainty in designing and planning a multi-period, multi-product closed loop supply chain. They develop a two-stage model where first stage decisions concern the facility location and second stage decisions are the production planning of the supply chain. It is a risk neutral paper and its focus is on adopting an integer L-shaped method as the solution tool. In a similar research, Zeballos, Gomes, Barbosa-Povoad, and Novais (2012) consider uncertainty that is associated to the quantity and quality of the flow of products in a reverse network, products that are directly affected by customers and sorting centers, respectively. Ramezani, Bashiri, and Tavakkoli-Moghaddam (2012) present a stochastic multi-objective model for forward/reverse logistic network design under an uncertain environment including three echelons in forward direction (suppliers, plants, and distribution centers) and two echelons in backward direction. Mentioned paper is a general form of stochastic programming and not a two-stage one. Finally, Soleimani, Seyyed-Esfahani, and Kannan (2013) develop a similar approach of this paper but in CLSC. They incorporate CVaR, Value at Risk (VaR), and Mean Absolute Deviation (MAD) into the two-stage stochastic programming. Their study regards closed-loop supply chain so the drawbacks of reverse loop can be covered by the profitability of forward supply chain. Therefore, in this study, a pure reverse logistics network is designed, developed, and formulated. Besides, sufficient evaluations of the capabilities of a mean-risk model in the proposed network are undertaken.

Whereas utilizing mean-risk model (also CVaR) has a long excellent history especially in financial optimization (Alexander, Coleman, & Li, 2006; Bentai, 2003; Konno, 1990; Krokhmal, Palmquist, & Uryasev, 2002; Markowitz, 1952; Yau, Kwon, Rogers, & Wub, 2011), incorporating CVaR into two-stage stochastic programming models is a new idea (Ahmed, 2006; Rockafellar, & Uryasev, 2002; Schultz & Tiedemann, 2006; Miller & Ruszczynski, 2011). In the field of reverse logistic network design problem, CVaR is an original subject. Our research suggests that developing a risk-averse two-stage stochastic programming in RL design or planning is novel and essential issue. As mentioned, these risk measures has admissible performance in design and planning of supply chain and in other similar fields of supply chain such as analyzing risk management in the oil supply chain considering a CVaR approach (Carneiro, Ribas, & Hamacher, 2010), calculating optimal ordering quantities (Zhou, Chena, & Wang, 2008), and disaster management (Noyan, 2012). Reviewing these brilliant performances of risk measures, motivate this study to utilize CVaR in the problem of RL design and planning. Regarding the volatile markets and necessary risk analysis, we can distinguish the vital importance of considering risk measures in mentioned problem. This approach can provide more robust solutions compared to a risk-neutral approach. Finally, as it is mentioned we incorporate conditional value at risk, as one of the effective and well-behaved risk measures, into the objective function of the proposed two-stage stochastic framework. Regarding real volatile markets, it is unavoidable to consider risk parameters. We can claim that in real markets, results of risk-neutral models are inefficient (Miller & Ruszczynski, 2011). Finally, we try to cover this gap and develop a two-stage risk-averse approach into reverse supply chain design and planning.

Two-stage stochastic programming framework, in its general form is formulated as follows (Birge & Louveaux, 1997):
                        
                           (3.1)
                           
                              
                                 
                                    
                                       min
                                    
                                    
                                       x
                                       ∈
                                       
                                          
                                             R
                                          
                                          
                                             n
                                          
                                       
                                    
                                 
                              
                              
                              E
                              (
                              f
                              (
                              x
                              ,
                              ω
                              )
                              )
                              =
                              
                                 
                                    
                                       min
                                    
                                    
                                       x
                                       ∈
                                       
                                          
                                             R
                                          
                                          
                                             n
                                          
                                       
                                    
                                 
                              
                              
                              
                                 
                                    c
                                 
                                 
                                    T
                                 
                              
                              x
                              +
                              E
                              (
                              Q
                              (
                              x
                              ,
                              ξ
                              (
                              ω
                              )
                              )
                              )
                              ,
                           
                        
                     where (f(
                        x
                     ,
                     ω)), is the total cost function of the first-stage problem, Q(
                        x
                     ,
                     ξ(ω)) is the optimal value of second-stage problem (also known as recourse function):
                        
                           (3.2)
                           
                              Q
                              (
                              x
                              ,
                              ξ
                              (
                              ω
                              )
                              )
                              =
                              
                                 
                                    
                                       min
                                    
                                    
                                       y
                                       ∈
                                       
                                          
                                             R
                                          
                                          
                                             m
                                          
                                       
                                    
                                 
                              
                              
                              q
                              
                                 
                                    (
                                    ξ
                                    )
                                 
                                 
                                    T
                                 
                              
                              y
                           
                        
                     
                     
                        
                           
                              
                                 
                                    
                                    
                                       
                                          s
                                          .
                                          t
                                          .
                                          :
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                          T
                                          
                                             
                                                (
                                                ξ
                                                )
                                             
                                             
                                                T
                                             
                                          
                                          x
                                          +
                                          W
                                          
                                             
                                                (
                                                ξ
                                                )
                                             
                                             
                                                T
                                             
                                          
                                          y
                                          =
                                          h
                                          
                                             
                                                (
                                                ξ
                                                )
                                             
                                             
                                                T
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                          y
                                          ⩾
                                          0
                                       
                                    
                                 
                              
                           
                        
                     In abovementioned problem, “
                        x
                     ” is the first-stage decision variable vector, and “
                        y
                     ” is the second-stage decision variable vector. At the first stage, we have to make a “here-and-now” decision “
                        x
                     ” before the realization of the uncertain data ξ (illustrated as a random vector). At the second stage, after a realization of ξ is identified, we can optimize our behavior by solving an appropriate optimization problem. Indeed, at the first stage, we optimize (minimize) the cost “
                        c
                        T
                        x
                     ” of the first-stage decision plus the expected cost of the (optimal) second-stage decision (Shapiro, Dentcheva, & Ruszczynski, 2009). Clearly, this is a risk-neutral approach that does not regard risk parameters (as we can see in the E(f(
                        x
                     ,
                     ω)) phrase). One of the best approaches to incorporate risk parameters in two-stage stochastic programming models is developing a mean-risk model where the mean risk function is minimized. Then, the two-stage framework will be (Soleimani et al., 2013):
                        
                           (3.3)
                           
                              
                                 
                                    
                                       min
                                    
                                    
                                       x
                                       ∈
                                       
                                          
                                             R
                                          
                                          
                                             n
                                          
                                       
                                    
                                 
                              
                              
                              {
                              E
                              (
                              f
                              (
                              x
                              ,
                              ω
                              )
                              )
                              +
                              λ
                              ρ
                              (
                              f
                              (
                              x
                              ,
                              ω
                              )
                              )
                              }
                           
                        
                     where λ is a non-negative weighted coefficient of risk part and ρ:Z
                     →
                     R, is a specific risk measure (Z is a linear space of F-measurable function on the probability space (Ω, F, P)).

In this study, conditional value at risk as is considered as the risk part of the proposed two-stage stochastic programming model:
                        
                           (3.4)
                           
                              
                                 
                                    
                                       min
                                    
                                    
                                       x
                                       ∈
                                       
                                          
                                             R
                                          
                                          
                                             n
                                          
                                       
                                    
                                 
                              
                              
                              {
                              E
                              (
                              f
                              (
                              x
                              ,
                              ω
                              )
                              )
                              +
                              λ
                              
                                 
                                    CVaR
                                 
                                 
                                    ∝
                                 
                              
                              (
                              f
                              (
                              x
                              ,
                              ω
                              )
                              )
                              }
                           
                        
                     where CVaR
                        α
                      denotes the conditional value at risk at level α.

A risk measure has been introduced by Rockafellar & Uryasev, 2000 for a financial application where the authors called it conditional value at-risk or CVaR. Indeed, they introduced the following risk measure for continuous distribution functions for random variable Z:
                        
                           (3.5)
                           
                              
                                 
                                    CVaR
                                 
                                 
                                    α
                                 
                              
                              (
                              Z
                              )
                              =
                              E
                              (
                              Z
                              |
                              Z
                              ⩾
                              
                                 
                                    VaR
                                 
                                 
                                    α
                                 
                              
                              (
                              Z
                              )
                              )
                              ,
                           
                        
                     where
                        
                           
                              
                                 
                                    VaR
                                 
                                 
                                    α
                                 
                              
                              (
                              Z
                              )
                              =
                              
                                 inf
                              
                              {
                              η
                              ∈
                              R
                              :
                              
                                 
                                    F
                                 
                                 
                                    z
                                 
                              
                              (
                              η
                              )
                              ⩾
                              α
                              }
                              ,
                           
                        
                     where F represents cumulative distribution function (CDF).

CVaR is a popular well-behaved risk measure, which could cover drawbacks of previous risk measures such as VaR. It could add positive points to previous risk measures. First, CVaR can provide an indication about the severity of loss and second it is a coherent and convex risk measure (Artzner, Delbaen, Eber, & Heath, 1999). Based on the excellent performances of CVaR, it is widely used in different fields of optimization especially in financial optimization, disaster management, and here for reverse logistic network design.

In order to make it a type of mathematically well-behaved risk measure, α-CVaR can be expressed by the following linear minimization formula (Schultz & Tiedemann, 2006):
                        
                           (3.6)
                           
                              
                                 
                                    CVaR
                                 
                                 
                                    α
                                 
                              
                              =
                              
                                 
                                    
                                       min
                                    
                                    
                                       η
                                       ∈
                                       R
                                    
                                 
                              
                              
                              f
                              (
                              α
                              ,
                              η
                              ,
                              x
                              )
                              ,
                           
                        
                     where
                        
                           
                              f
                              (
                              α
                              ,
                              η
                              ,
                              x
                              )
                              =
                              η
                              +
                              
                                 
                                    1
                                 
                                 
                                    1
                                    -
                                    α
                                 
                              
                              E
                              {
                              
                                 max
                              
                              {
                              Z
                              (
                              x
                              ,
                              ω
                              )
                              -
                              η
                              ,
                              0
                              }
                              }
                           
                        
                     
                     f is linear, convex and finite (hence continues). Therefore, it can successfully used as a suitable risk measure in two-stage stochastic framework (mentioned in Eq. (3.4)). We utilized this extension in this study as a risk criterion. Finally, as it is proved in Noyan (2012), for the case of finite probability space (same as this research with 9 scenarios), we can equivalently reformulate the mean-risk problem of (3.4) as the following linear programming problem:
                        
                           (3.7)
                           
                              
                                 min
                              
                              
                              (
                              1
                              +
                              λ
                              )
                              
                                 
                                    c
                                 
                                 
                                    T
                                 
                              
                              x
                              +
                              E
                              (
                              Q
                              (
                              x
                              ,
                              ξ
                              (
                              ω
                              )
                              +
                              
                                 
                                    
                                       ∑
                                    
                                    
                                       s
                                       =
                                       1
                                    
                                    
                                       N
                                    
                                 
                              
                              
                                 
                                    p
                                 
                                 
                                    s
                                 
                              
                              
                                 
                                    (
                                    
                                       
                                          q
                                       
                                       
                                          s
                                       
                                    
                                    )
                                 
                                 
                                    T
                                 
                              
                              
                                 
                                    y
                                 
                                 
                                    s
                                 
                              
                              +
                              λ
                              
                                 
                                    
                                       η
                                       +
                                       
                                          
                                             1
                                          
                                          
                                             1
                                             -
                                             α
                                          
                                       
                                       
                                          
                                             
                                                ∑
                                             
                                             
                                                s
                                                =
                                                1
                                             
                                             
                                                N
                                             
                                          
                                       
                                       
                                          
                                             p
                                          
                                          
                                             s
                                          
                                       
                                       
                                          
                                             v
                                          
                                          
                                             s
                                          
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           
                              
                                 
                                    
                                    
                                       
                                          s
                                          .
                                          t
                                          .
                                          :
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                          
                                             
                                                W
                                             
                                             
                                                s
                                             
                                          
                                          
                                             
                                                y
                                             
                                             
                                                s
                                             
                                          
                                          =
                                          
                                             
                                                h
                                             
                                             
                                                s
                                             
                                          
                                          -
                                          
                                             
                                                T
                                             
                                             
                                                s
                                             
                                          
                                          x
                                          ,
                                          
                                          s
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          N
                                          ,
                                          
                                          x
                                          ∈
                                          
                                             
                                                R
                                             
                                             
                                                n
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                          
                                             
                                                y
                                             
                                             
                                                s
                                             
                                          
                                          ⩾
                                          0
                                          ,
                                          
                                          s
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          N
                                          ,
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                          
                                             
                                                v
                                             
                                             
                                                s
                                             
                                          
                                          ⩾
                                          
                                             
                                                (
                                                
                                                   
                                                      q
                                                   
                                                   
                                                      s
                                                   
                                                
                                                )
                                             
                                             
                                                T
                                             
                                          
                                          
                                             
                                                y
                                             
                                             
                                                s
                                             
                                          
                                          -
                                          η
                                          ,
                                          
                                          s
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          N
                                          ,
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          
                                          η
                                          ∈
                                          R
                                          ,
                                          
                                          0
                                          ⩽
                                          λ
                                          ⩽
                                          1
                                          ,
                                          
                                          
                                             
                                                v
                                             
                                             
                                                s
                                             
                                          
                                          ⩾
                                          0
                                          ,
                                          
                                          s
                                          =
                                          1
                                          ,
                                          …
                                          ,
                                          N
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     
                  

The above representation of CVaR-integrated two-stage stochastic programming model is used in our study in order to design and planning a reverse supply chain (Noyan, 2012). The complete model is presented in the next section.

In this study, a multi-echelon multi-product two-stage model with stochastic demand and prices of return products is presented and formulated. The proposed model is based on the following assumptions:
                        
                           •
                           Disposal and recycling centers are third party providers. For the first one (disposal centers), we should pay for green disposing and for the latter, we can sell return products to recycling centers in order to achieve more raw materials.

Shortage costs are considered in the same period on the basis of not-covered demands.

Price and demand of return products are two stochastic parameters of the model, which are determined in a limited number of scenarios. Purchasing price of return products (from first customers) and selling price of processed products to recycling centers is dependant to their final selling price in second markets.

Second customers can be supplied by redistributors, manufacturers, or disassembly centers.

Quality of returned products is different from quality of first products so they cannot be sold as new products after reverse processes.

The potential location, capacities of all facilities and cost parameters are predetermined.


                     Fig. 2
                      illustrates the complete proposed network.

The role of each entity and the description of each flow (determined by numbers) is explained as follows:


                     First customer: Selling used products to collection centers (disassembly centers) (flow (1)).


                     Collection centers (disassembly centers): Purchasing used products from first customers and deciding about the next step based on the quality of used products. They segregate used products in four levels: Some portions of used products have acceptable quality, which they can be repaired in disassembly centers and then forwarded to the second customers directly (flow (6)) or through redistributors (flow (5)). Some portion can be resold after undertaking some manufacturing processes so they are transferred to the manufacturers (flow (4)). Some portions can be sold as recyclable products to the recycling centers in order to provide more raw materials (flow (2)). The rest of return products, which they are not in an acceptable quality, can just be disposed by sending to disposal centers (flow (3)).


                     Recycling centers: They buy return products from collection centers and recycled them to provide raw materials.


                     Disposal centers: Some portions of low-quality return products, are forwarded to disposal centers to assure green disposing. The managers of supply chain should pay disposal centers to get their services.


                     Manufacturers: Manufacturers should assign a limited time of production line for remanufacturing of return products in order to make them ready to be sold in the second markets. It should be mentioned that the manufacturers can send remanufactured products to the customers directly (flow (9)) or through redistributors (flow (7)).


                     Redistributors: Redistributors manage to send optimized flow of repaired or remanufactured products to the second markets based on the customers’ demands (flow (8)).


                     Second customers: These kinds of customers are interested in repaired or remanufactured products, which they can buy such good quality products at a low price.

The complete two-stage stochastic programming model is presented as follows:


                     Sets and indices:
                        
                           •
                           
                              S: Set of scenarios indexed by “s”.


                              U: Set of products indexed by “u”.


                              C: Set of first customers indexed by “c”.


                              L: Set of recycling centers indexed by “l”.


                              P: Set of disposal centers indexed by “p”.


                              K: Set of second customers indexed by “k”.


                              A: Potential number of disassembly centers (collection centers) indexed by “a”.


                              M: Potential set of manufacturers indexed by “f”.


                              R: Potential set of redistributors indexed by “r”.

“i”: Index, which can refer to any node (i
                              ∊{C,
                              A,
                              L,
                              P,
                              M,
                              R,
                              K})“j”: Index, which can refer to any destination node (j
                              ∊{A,
                              L,
                              P,
                              M,
                              R,
                              K})


                     Parameters:
                        
                           •
                           Alpha (α): A parameter in CVaR
                                 α
                               and VaR
                                 α
                               formulation based on Eqs. (3.6) and (3.7).

Lambda (λ): The weight of risk part of objective function based on Eq. (3.3).


                              Probs
                              : Probability of occurring scenario “s”,


                              Demkus
                              : Second customer “k” demand for product “u” in scenario “s”.


                              Purcus
                              : Purchasing cost of product “u” at the first customer “c” in scenario “s”.


                              Prikus
                              : Unit price of product “u” at the second customer “k” in scenario “s”.


                              Prilus
                              : Unit price of product “u” at the recycling center “l” in scenario “s”.


                              Fixj
                              : Fixed cost of establishing facility “j” (j
                              ∊{A,
                              M,
                              R}).


                              Disij
                              : Distance between location “i” and location “j” ((i,
                              j)∊{(C,
                              A),(A,
                              L),(A,
                              M),(A,
                              P),(A,
                              R), (M,
                              K),(M,
                              R),(R,
                              K),(A,
                              K)}.


                              Capiu
                              : Capacity of facility “i” of product “u” (i
                              ∊{A,
                              L,
                              P,
                              M,
                              R}).


                              Cosfu
                              : Remanufacturing cost of product “u” per unit, which is manufactured by manufacturer “f”.


                              Cosau
                              : Collection and disassembly cost of product “u” per unit by disassembly center “a”.


                              
                                 
                                    
                                       
                                          Cos
                                       
                                       
                                          
                                             
                                                a
                                             
                                             
                                                ′
                                             
                                          
                                          u
                                       
                                    
                                 
                              : Repairing cost of product “u” per unit that is repaired by disassembly center “a”.


                              Cospu
                              : Disposal cost of product “u” per unit disposed by disposal center “p”.


                              Cosku
                              : Shortage cost of product “u” per unit for second customer “k”.


                              Cosru
                              : Holding and distributing cost of product “u” per unit at the store of distributor “d”.


                              Cosu
                              : Transportation cost of product “u” per unit per kilometer.


                              Biu
                              : Transportation batch size of product “u” for location “i” (i
                              ∊{C,
                              A,
                              L,
                              P,
                              M,
                              R}).


                              Rec: Recycling ratio (percentage of products that are sold to recycling centers).


                              Rem: Remanufacturing ratio (percentage of products that are forwarded to manufacturer for remanufacturing).


                              Rep: Repairing ratio (percentage of products that can be repaired and sold).


                              Red: Disposal ratio (percentage of products that have to be green disposed.


                              M: A sufficiently large integer.


                              
                                 
                                    
                                       
                                          L
                                       
                                       
                                          A
                                       
                                       
                                          ′
                                       
                                    
                                 
                              : Maximum number of allowable activated collection and disassembly centers.


                              
                                 
                                    
                                       
                                          L
                                       
                                       
                                          M
                                       
                                       
                                          ′
                                       
                                    
                                 
                              : Maximum number of allowable activated manufacturers.


                              
                                 
                                    
                                       
                                          L
                                       
                                       
                                          R
                                       
                                       
                                          ′
                                       
                                    
                                 
                              : Maximum number of allowable activated redistributors.


                     First-stage decision variables:
                        
                           •
                           
                              Lj
                              : Binary variable equals “1” if location “j” is open and “0” otherwise (j
                              ∊{A,
                              M,
                              R}).


                     Second-stage decision variables:
                        
                           •
                           
                              Qijus
                              : Batch-flows of product “u” from location “i” to the location “j” in scenario “s” (i,
                              j)∊{(C,
                              A),(A,
                              L),(A,
                              M),(A,
                              P),(A,
                              R), (M,
                              K),(M,
                              R),(R,
                              K),(A,
                              K)}.

The objective function tries to maximize total expected profit and it is determined as follows:
                           
                              
                                 Maximize total expected profit
                                 =
                                 Total expected sales
                                 -
                                 Total mean
                                 -
                                 CVaR
                                 
                                 costs
                              
                           
                        
                     

Total expected sales are two-fold: Expected sales of second products to second customers and expected sales of recyclable products to recycling centers. On the other hand, second customers are supplied by manufacturers, disassembly centers, and redistributors so these flows should be considered in expected sales to the second customers. It is formulated as follows:
                           
                              (4.1)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          r
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          ∈
                                          K
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 (
                                 
                                    
                                       Q
                                    
                                    
                                       rkus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       ru
                                    
                                 
                                 
                                    
                                       Pri
                                    
                                    
                                       kus
                                    
                                 
                                 )
                                 
                                    
                                       Prob
                                    
                                    
                                       s
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          f
                                          ∈
                                          F
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          ∈
                                          K
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 (
                                 
                                    
                                       Q
                                    
                                    
                                       fkus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       fu
                                    
                                 
                                 
                                    
                                       Pri
                                    
                                    
                                       kus
                                    
                                 
                                 )
                                 
                                    
                                       Prob
                                    
                                    
                                       s
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          a
                                          ∈
                                          A
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          ∈
                                          K
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 (
                                 
                                    
                                       Q
                                    
                                    
                                       akus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 
                                    
                                       Pri
                                    
                                    
                                       kus
                                    
                                 
                                 )
                                 
                                    
                                       Prob
                                    
                                    
                                       s
                                    
                                 
                              
                           
                        
                     

In addition, we have following calculation for expected sales to recycling centers:
                           
                              (4.2)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          a
                                          ∈
                                          A
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          l
                                          ∈
                                          L
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 (
                                 
                                    
                                       Q
                                    
                                    
                                       alus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 
                                    
                                       Pri
                                    
                                    
                                       aus
                                    
                                 
                                 )
                                 
                                    
                                       Prob
                                    
                                    
                                       s
                                    
                                 
                              
                           
                        
                     

On the other hand, total cost can be calculated in the following form as we discussed before in Section 3:
                           
                              (4.3)
                              
                                 Total costs
                                 =
                                 (
                                 1
                                 +
                                 λ
                                 )
                                 
                                 Fixed costs
                                 +
                                 Total expected costs
                                 +
                                 (
                                 λ
                                 )
                                 
                                 Total CVaR costs
                              
                           
                        where, fixed costs (location costs) are calculated as follows:
                           
                              (4.4)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          j
                                          ∈
                                          {
                                          A
                                          ,
                                          M
                                          ,
                                          R
                                          }
                                       
                                    
                                 
                                 
                                    
                                       Fix
                                    
                                    
                                       j
                                    
                                 
                                 ×
                                 
                                    
                                       L
                                    
                                    
                                       j
                                    
                                 
                              
                           
                        
                     

Other costs can include the following costs:
                           
                              (4.5)
                              
                                 Total
                                 
                                 expected
                                 
                                 costs
                                 =
                                 expected remanufacturing costs
                                 +
                                 expected shortage costs
                                 +
                                 expected purchasing costs
                                 +
                                 expected disassembly costs
                                 +
                                 expected repairing costs
                                 +
                                 expected disposal costs
                                 +
                                 expected transportation costs
                                 +
                                 expected inventory holding costs.
                              
                           
                        
                        
                           
                              (4.6)
                              
                                 Total
                                 
                                 CVaR
                                 
                                 cost
                                 =
                                 η
                                 +
                                 
                                    
                                       1
                                    
                                    
                                       1
                                       -
                                       α
                                    
                                 
                                 
                                    
                                       
                                          CVaR remanufacturing costs
                                          +
                                          CVaR shortage costs
                                          +
                                          CVaR purchasing costs
                                          +
                                          CVaR disassembly costs
                                          +
                                          CVaR repairing cost
                                          +
                                          CVaR disposal cost
                                          +
                                          CVaR recycling cost
                                          +
                                          CVaR transportation costs
                                          +
                                          CVaR inventory holding costs
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

Total costs are calculated based on the general Eq. (3.7). Also, the abovementioned expected costs are calculated as follows:


                        Expected remanufacturing costs:
                           
                              (4.7)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          a
                                          ∈
                                          A
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          f
                                          ∈
                                          F
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 (
                                 
                                    
                                       Q
                                    
                                    
                                       afus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 
                                    
                                       Cos
                                    
                                    
                                       fu
                                    
                                 
                                 )
                                 
                                    
                                       Prob
                                    
                                    
                                       s
                                    
                                 
                              
                           
                        
                     


                        Expected shortage costs:
                           
                              (4.8)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          ∈
                                          K
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                Cos
                                             
                                             
                                                ku
                                             
                                          
                                          ×
                                          Maximum
                                          
                                             
                                                
                                                   0
                                                   ,
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  Dem
                                                               
                                                               
                                                                  kus
                                                               
                                                            
                                                            -
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              a
                                                                              ∈
                                                                              A
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              k
                                                                              ∈
                                                                              K
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              u
                                                                              ∈
                                                                              U
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              s
                                                                              ∈
                                                                              S
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           Q
                                                                        
                                                                        
                                                                           akus
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           B
                                                                        
                                                                        
                                                                           au
                                                                        
                                                                     
                                                                     +
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              r
                                                                              ∈
                                                                              R
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              k
                                                                              ∈
                                                                              K
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              u
                                                                              ∈
                                                                              U
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              s
                                                                              ∈
                                                                              S
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           Q
                                                                        
                                                                        
                                                                           rkus
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           B
                                                                        
                                                                        
                                                                           ru
                                                                        
                                                                     
                                                                     +
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              f
                                                                              ∈
                                                                              F
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              k
                                                                              ∈
                                                                              K
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              u
                                                                              ∈
                                                                              U
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              s
                                                                              ∈
                                                                              S
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           Q
                                                                        
                                                                        
                                                                           fkus
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           B
                                                                        
                                                                        
                                                                           fu
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     


                        Expected purchasing costs:
                           
                              (4.9)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          c
                                          ∈
                                          C
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          a
                                          ∈
                                          A
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 (
                                 
                                    
                                       Q
                                    
                                    
                                       caus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       cu
                                    
                                 
                                 
                                    
                                       Pur
                                    
                                    
                                       cus
                                    
                                 
                                 )
                                 
                                    
                                       Prob
                                    
                                    
                                       s
                                    
                                 
                              
                           
                        
                     


                        Expected collection and disassembly costs:
                           
                              (4.10)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          c
                                          ∈
                                          C
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          a
                                          ∈
                                          A
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 (
                                 
                                    
                                       Q
                                    
                                    
                                       caus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 
                                    
                                       Cos
                                    
                                    
                                       au
                                    
                                 
                                 )
                                 
                                    
                                       Prob
                                    
                                    
                                       s
                                    
                                 
                              
                           
                        
                     


                        Expected repairing costs:
                           
                              (4.11)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          c
                                          ∈
                                          C
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          a
                                          ∈
                                          A
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 (
                                 Rep
                                 ×
                                 
                                    
                                       Q
                                    
                                    
                                       caus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 
                                    
                                       Cos
                                    
                                    
                                       
                                          
                                             a
                                          
                                          
                                             ′
                                          
                                       
                                       u
                                    
                                 
                                 )
                                 
                                    
                                       Prob
                                    
                                    
                                       s
                                    
                                 
                              
                           
                        
                     


                        Expected disposal costs:
                           
                              (4.12)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          a
                                          ∈
                                          A
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          p
                                          ∈
                                          P
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 (
                                 
                                    
                                       Q
                                    
                                    
                                       apus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 
                                    
                                       Cos
                                    
                                    
                                       pu
                                    
                                 
                                 )
                                 
                                    
                                       Prob
                                    
                                    
                                       s
                                    
                                 
                              
                           
                        
                     


                        Expected transportation costs:
                           
                              (4.13)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          (
                                          i
                                          ,
                                          j
                                          )
                                          ∈
                                          {
                                          (
                                          C
                                          ,
                                          A
                                          )
                                          ,
                                          (
                                          A
                                          ,
                                          M
                                          )
                                          ,
                                          (
                                          A
                                          ,
                                          R
                                          )
                                          ,
                                          (
                                          A
                                          ,
                                          P
                                          )
                                          ,
                                          (
                                          A
                                          ,
                                          l
                                          )
                                          ,
                                          (
                                          A
                                          ,
                                          K
                                          )
                                          ,
                                          (
                                          M
                                          ,
                                          K
                                          )
                                          ,
                                          (
                                          M
                                          ,
                                          R
                                          )
                                          ,
                                          (
                                          R
                                          ,
                                          K
                                          )
                                          }
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       ijus
                                    
                                 
                                 
                                    
                                       Dis
                                    
                                    
                                       ij
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       iu
                                    
                                 
                              
                           
                        
                     


                        Expected inventory-holding costs:
                           
                              (4.14)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          ∈
                                          K
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          u
                                          ∈
                                          U
                                       
                                    
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          s
                                          ∈
                                          S
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                Cos
                                             
                                             
                                                ru
                                             
                                          
                                          ×
                                          Maximum
                                          
                                             
                                                
                                                   0
                                                   ,
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              a
                                                                              ∈
                                                                              A
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              k
                                                                              ∈
                                                                              K
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              u
                                                                              ∈
                                                                              U
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              s
                                                                              ∈
                                                                              S
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           Q
                                                                        
                                                                        
                                                                           akus
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           B
                                                                        
                                                                        
                                                                           au
                                                                        
                                                                     
                                                                     +
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              r
                                                                              ∈
                                                                              R
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              k
                                                                              ∈
                                                                              K
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              u
                                                                              ∈
                                                                              U
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              s
                                                                              ∈
                                                                              S
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           Q
                                                                        
                                                                        
                                                                           rkus
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           B
                                                                        
                                                                        
                                                                           ru
                                                                        
                                                                     
                                                                     +
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              f
                                                                              ∈
                                                                              F
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              k
                                                                              ∈
                                                                              K
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              u
                                                                              ∈
                                                                              U
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           
                                                                              ∑
                                                                           
                                                                           
                                                                              s
                                                                              ∈
                                                                              S
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           Q
                                                                        
                                                                        
                                                                           fkus
                                                                        
                                                                     
                                                                     
                                                                        
                                                                           B
                                                                        
                                                                        
                                                                           fu
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                            -
                                                            
                                                               
                                                                  Dem
                                                               
                                                               
                                                                  kus
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                           
                        
                     

There are three groups of constraints: Balanced constraints, capacity constraints, and maximum limitation of facilities, which they are explained respectively as follows.

Balanced constraints assure to construct equilibrium between inputs and outputs of a node in the network. For instance, all flows of a product entering to a disassembly center in a scenario should be exactly equal to all flows issuing from that disassembly center for that product in that scenario. This constraint should be established for all network entities illustrated in Fig. 2. The complete constraints are presented as follows.

Disassembly centers (input from customers should be equal to total outputs to recycling centers, manufacturers, redistributors, disposal centers, and second customers):
                           
                              (4.15)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          c
                                          ∈
                                          C
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       caus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       cu
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          l
                                          ∈
                                          L
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       alus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          m
                                          ∈
                                          M
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       amus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          r
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       arus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          p
                                          ∈
                                          P
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       apus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          ∈
                                          K
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       akus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 
                                 ∀
                                 {
                                 s
                                 ∈
                                 S
                                 ,
                                 
                                 u
                                 ∈
                                 U
                                 ,
                                 
                                 a
                                 ∈
                                 A
                                 }
                              
                           
                        
                     

Manufacturers (input from collection centers should be equal to total outputs to redistributors and second customers):
                           
                              (4.16)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          a
                                          ∈
                                          A
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       amus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          r
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       mrus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       mu
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          ∈
                                          K
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       mkus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       mu
                                    
                                 
                                 
                                 ∀
                                 {
                                 s
                                 ∈
                                 S
                                 ,
                                 
                                 u
                                 ∈
                                 U
                                 ,
                                 
                                 m
                                 ∈
                                 M
                                 }
                              
                           
                        
                     

Redistributors (total inputs from collection centers and manufacturers should be equal to total outputs to second customers):
                           
                              (4.17)
                              
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          a
                                          ∈
                                          A
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       arus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       au
                                    
                                 
                                 +
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          m
                                          ∈
                                          M
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       mrus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       mu
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          ∈
                                          K
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       rkus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       ru
                                    
                                 
                                 
                                 ∀
                                 {
                                 s
                                 ∈
                                 S
                                 ,
                                 
                                 u
                                 ∈
                                 U
                                 ,
                                 
                                 r
                                 ∈
                                 R
                                 }
                              
                           
                        
                     

The other groups of constraints are capacity constraints, which control the maximum flows that can enter or issue from each node. Theses constraints are determined as follows:
                           
                              (4.18)
                              
                                 Capacity constraints
                                 :
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          i
                                          ∈
                                          {
                                          C
                                          ,
                                          A
                                          ,
                                          M
                                          }
                                       
                                    
                                 
                                 
                                    
                                       Q
                                    
                                    
                                       ijus
                                    
                                 
                                 
                                    
                                       B
                                    
                                    
                                       iu
                                    
                                 
                                 ⩽
                                 
                                    
                                       Cap
                                    
                                    
                                       ju
                                    
                                 
                                 ×
                                 
                                    
                                       L
                                    
                                    
                                       j
                                    
                                 
                                 
                                 ∀
                                 {
                                 j
                                 ∈
                                 {
                                 A
                                 ,
                                 L
                                 ,
                                 P
                                 ,
                                 R
                                 ,
                                 M
                                 }
                                 ,
                                 
                                 u
                                 ∈
                                 U
                                 }
                              
                           
                        
                     

The last category of constraints is managerial limitations on the maximum number of allowable locations, which can be illustrated as follows:
                           
                              (4.19)
                              
                                 Collection and disassembly centers
                                 :
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          j
                                          ∈
                                          A
                                       
                                    
                                 
                                 
                                    
                                       L
                                    
                                    
                                       j
                                    
                                 
                                 ⩽
                                 
                                    
                                       L
                                    
                                    
                                       A
                                    
                                    
                                       ′
                                    
                                 
                              
                           
                        
                        
                           
                              (4.20)
                              
                                 Manufacturers
                                 :
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          j
                                          ∈
                                          M
                                       
                                    
                                 
                                 
                                    
                                       L
                                    
                                    
                                       j
                                    
                                 
                                 ⩽
                                 
                                    
                                       L
                                    
                                    
                                       M
                                    
                                    
                                       ′
                                    
                                 
                              
                           
                        
                        
                           
                              (4.21)
                              
                                 Redistributors
                                 :
                                 
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          j
                                          ∈
                                          R
                                       
                                    
                                 
                                 
                                    
                                       L
                                    
                                    
                                       j
                                    
                                 
                                 ⩽
                                 
                                    
                                       L
                                    
                                    
                                       R
                                    
                                    
                                       ′
                                    
                                 
                              
                           
                        
                     

In the next section, a complete computational analysis is run and a comprehensive study is performed in order to analyze the characteristics of the presented two-stage mean-CVaR stochastic programming model.

In order to have a comprehensive computational analysis, a mid-size problem is designed. Indeed, due to the limitations of optimizer software, we can call these instances as acceptable size ones. We construct a network with five units in each entity so the network consists of five manufacturers, five collection centers, five redistributors, five disposal centers, five recycling centers, and five second customers. The model is coded by IBM ILOG CPLEX 12.2 optimizer software, which can find the global optimum of the proposed two-stage stochastic mixed-integer linear programming. All computations are run by a Core 2 Duo-2.26gigahertz processor laptop. In all computational analyses, the parameters are generated via uniformly distribution, which are presented in Table 1
                     . It should be noted that the rates of recycling, remanufacturing, repairing, and disposing are 0.2, 0.5, 0.2, and 0.1, respectively.

In a real market, we cannot assume to have all parameters deterministically especially return amounts and prices of second products. Therefore, we consider them as stochastic parameters. Regarding nine scenarios, we try to research on sufficient probability cases. We consider three cases for return flows and selling price of second products (High, Mid, and Low). Complete information about uncertainties of parameters and the final 9 scenarios is presented in Table 2
                     .

In order to analyze the effects of the presented mean-risk model, we have run different values of 
                        
                           α
                        
                      and λ. We set three cases for 
                        
                           α
                        
                      (0.05, 0.1, and 0.2) and eight cases for λ (0.1, 0.4, 0.7, 1.0, 2.0, 3.0, 5.0, 10). Consequently, we have 24 instances of combinations of all cases. Surely, we should add analysis of the case without risk part (λ
                     =0). Finally, it should be mentioned that the generated instances has 38,700 constraints and around 10,000 decision variables including 3000 binary variables; CPLEX can achieve the global optimum for all instances. If we try to make the process clearer, we can mention below steps for solution methodology:
                        
                           •
                           First, all parameters such as λ, α and other costs and prices values are read.

Second, first stage decision variables (Li
                              ) (network configuration) are determined.

Third, based on the realizations of scenarios, second stage decision variables (network flows) are specified in order to maximize the objective function value. Definitely, all constraints should be considered in this step.

All process is repeated in CPLEX algorithms to achieve the optimum of mixed-integer two-stage stochastic linear programming models.

Before starting analysis, the results are illustrated in Tables 3 and 4
                     
                      (all values are in million).

At first, the performance of the model is analyzed for all combinations of the cases. The results are presented in Figs. 3–8
                     
                     
                     
                     
                     
                     .

Reviewing Figs. 3–8 lead us to the following interesting results:
                        
                           •
                           
                              Figs. 3 and 4 demonstrate the objective function values of the proposed two-stage mean-CVaR model. It is illustrated that by increasing the value of alpha (α), the model behave less risk averse based on the permission to ignore more scenarios. Therefore, it performs less conservative and consequently the objective function values increase by augmentation of the alpha value. A similar behavior of alpha can be observed in other figures. Furthermore, it is expected that by increasing the value of lambda (λ) the risk-averse behavior is increasing due to the weight of CVaR costs in the objective function. Therefore, the model achieves lower values for objective function.

Since the value of lambda (λ) affects the value of objective function so we cannot analyze the risk parameters appropriately. Therefore, study about “total expected costs” in Figs. 5 and 6 and also the difference between “total sales” and “total expected costs” (called real profit here and they illustrated in Figs. 7 and 8) are undertaken. Analyzing the latter expressions (Figs. 7 and 8), we can find that even if we ignore the value of CVaR costs and the weight of lambda (λ) in the model, again we can see decreasing trend for real profit values (total sale minus total expected cost) by increasing the value of λ. Also, we expect process of increasing in real profit by increasing the value of α .

On the other hand, reviewing Figs. 5 and 6, we can deduce that the model try to decrease total expected costs by increasing the value of λ. Indeed, adding to the value of lambda lead to a more risk-averse behavior so the performance of the model will be more conservative. Consequently, the costs decrease as it is illustrated in Figs. 5 and 6.

Clearly, we expect from risk-neutral model (λ
                              =0) to show the highest profit. The related objective function is 145,252million with the same expected and fixed costs between risk neutral case and the first nine instances. The total sales and profit of risk neutral case are 147,380 (the same as the first nine instances) and 145,253million respectively, which are completely close to the first nine instances (see Tables 3 and 4). The total average of differences between the profits of risk-neutral (λ
                              =0) and risk-averse approaches for all 24 instances is 25% (from 1% to 80%), which can prove the acceptable capabilities of risk-averse model based on the risk adversity of decision-makers.


                              Tables 3 and 4 illustrate the total iteration and time in achieving objective functions. The developed instances can be solved in a few seconds but the model become more complex by increasing the values of α and λ.

After analyzing the effects of α and λ, it is so important to prove the necessity of utilizing a risk measure in such problems. Therefore, the proposed mean-risk model is compared to the risk neutral model through VSS (value of stochastic solution). Because we have a mean-CVaR model, so we should calculate these concepts for the mentioned model. As discussed in Noyan (2012), these can be calculated as follows:
                        
                           
                              MRRP
                              
                              (
                              mean-risk recourse problem
                              )
                              =
                              
                                 
                                    
                                       min
                                    
                                    
                                       x
                                       ∈
                                       
                                          
                                             R
                                          
                                          
                                             n
                                          
                                       
                                    
                                 
                              
                              
                              {
                              E
                              (
                              f
                              (
                              x
                              ,
                              ω
                              )
                              )
                              +
                              λ
                              
                              
                                 
                                    CVaR
                                 
                                 
                                    ∝
                                 
                              
                              (
                              f
                              (
                              x
                              ,
                              ω
                              )
                              )
                              }
                           
                        
                     
                     
                        
                           
                              MREV
                              
                              (
                              mean-risk expected value
                              )
                              =
                              E
                              {
                              (
                              f
                              (
                              
                                 
                                    x
                                 
                                 
                                    ¯
                                 
                              
                              (
                              
                                 
                                    ξ
                                 
                                 
                                    ¯
                                 
                              
                              )
                              ,
                              ω
                              )
                              )
                              }
                              +
                              λ
                              
                                 
                                    CVaR
                                 
                                 
                                    ∝
                                 
                              
                              (
                              f
                              (
                              
                                 
                                    x
                                 
                                 
                                    ¯
                                 
                              
                              (
                              
                                 
                                    ξ
                                 
                                 
                                    ¯
                                 
                              
                              )
                              ,
                              ω
                              )
                              )
                           
                        
                     where 
                        
                           
                              
                                 x
                              
                              
                                 ¯
                              
                           
                           (
                           
                              
                                 ξ
                              
                              
                                 ¯
                              
                           
                           )
                        
                      is the optimal solution of the expected value problem and 
                        
                           
                              
                                 ξ
                              
                              
                                 ¯
                              
                           
                           =
                           E
                           (
                           ξ
                           (
                           ω
                           )
                           )
                        
                     .
                        
                           
                              MRVSS
                              
                              (
                              mean-risk value of stochastic solution
                              )
                              =
                              MRRP
                              -
                              MREV
                           
                        
                     
                  

In order to complete evaluations, these concepts are presented in Tables 5 and 6
                     
                      and Figs. 9–12
                     
                     
                     
                     .

Reviewing Tables 5 and 6 and Figs. 9–12, we can conclude the necessity of the proposed two-stage risk-averse stochastic programming approach. As illustrated in Figs. 9–11, the values of MRRP and MREV increase when we decrease the level of risk aversion (increasing in the values of α and decreasing in the values of λ). Indeed, the value of MRVSS increases (see Fig. 12) when we increase the level of risk aversion (increasing in the values of λ and decreasing in the values of α). The average differences of MRVSS in Figs. 9–11 are 541,011 and 429,997, 379,128million respectively, which show the close dependence of risk parameters and MRVSS values (see also Fig. 12). Clearly, the proposed two-stage stochastic programming approach presents significant differences in comparison with expected value problem. We can see an average of 450,045million (747%) differences between mean-risk instances and mean risk expected value. Fig. 12 illustrates the performance of the model in various values of α, which can prove that the value of stochastic solution in a mean-risk model is increased for decision makers who are more risk-averse. Such decision makers allow CVaR to ignore just a few scenarios so the limitations of choosing different values for decision variables become lower. Finally, results indicate that solving the risk-averse model is completely efficient to obtain more robust solutions especially in volatile situations.

In this paper, we study design and planning a reverse supply chain network in a two-stage stochastic programming framework. The developed model is SMILP considering two stochastic parameters: Return amounts of EOL products and price of second products. Almost all of the few earlier researches in this field are risk neutral. Nevertheless, in real markets, we cannot ignore risk parameters due to uncertainties. Among various risk measures and because of the mathematically well-behaved performance, we choose conditional value at risk. Further, CVaR can be easily linear and convex so we can achieve to the global optimum. Therefore, in this paper, a mean-CVaR two-stage model is developed and formulated. Then an appropriate instance is designed and the results are analyzed in various values of α and λ (the risk parameters). Results prove that the model behave more conservative (lower costs) by increasing the weight of CVaR part (λ) and decreasing the value of α in CVaR. The computational analysis shows the acceptable performance of mean-CVaR model. After analyzing the effects of α and λ, the mean-risk model is compared to the risk neutral model through MRVSS (mean-risk value of stochastic solution). Consequently, MRRP (mean-risk recourse problem) is compared to MREV (mean-risk expected value).

The results prove the acceptable performance of the developed two-stage mean-risk stochastic approach. We can conclude an average of 450,045million (747%) differences between mean-CVaR instances and mean risk expected value. As illustrated, the value of MRVSS increases when we increase the level of risk aversion (increasing the values of λ and decreasing the value of α). Finally, results indicate that solving the risk-averse model is efficient to obtain more-reliable solutions.

From the managerial implications point of view, the proposed approach has high potentials to be applied in real-world situations as it can regard uncertainties of real markets better than the risk-neutral approaches. Besides, the managers can choose their level of risk in the CVaR through tuning parameter α and its weight parameter (λ). Therefore, the model has high flexibility based on the risk adversity of the managers. The computational analyses also prove the reliability of the presented approach especially in volatile markets.

There are some recommendations as future research: Utilizing other risk-measures such as VaR and other deviation risk measures and incorporating them into the two-stage stochastic model can be an extension of this study. Further, the risk measures can compare to each other and to the results of this paper in order to introduce the most appropriate one for RL. Because of the limitations of exact solvers, we could not consider large-scale instances, so some real/large-size instances can be regarded in other future research through some extensions in solution methodologies. Considering more stochastic parameters such as capacities and rate parameters (for instance rate of return) can be another field of future research.

@&#ACKNOWLEDGEMENT@&#

This research was supported by a Grant from Forsknings-og Innovationsstyrelsen for Project 12-132697.

@&#REFERENCES@&#

