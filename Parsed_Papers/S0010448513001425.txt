@&#MAIN-TITLE@&#Product modeling framework based on interaction feature pair

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           The framework can make parts pre-interact with each other at part modeling stage.


                        
                        
                           
                           It can integrate more design activities and support different modeling approaches.


                        
                        
                           
                           It relies on an interaction feature pair (IFP) that can be constructed mathematically.


                        
                        
                           
                           An IFP incorporates more information, especially the behavioral information.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Product modeling framework

Pre-interact

Interaction feature pair

Behavior model

Integration

@&#ABSTRACT@&#


               
               
                  Designing products effectively and efficiently is of great significance. However, currently part models are usually created without knowing how they will interact with other parts, leading to gaps between part modeling and assembly modeling and between other applications, and to tedious and redundant labor. This paper proposes a novel product modeling framework to address the problems. The framework is different from current product modeling systems from two aspects. On the architecture level, a new module based on a concept of interaction feature pair (IFP) is developed. An IFP incorporates information of interaction type, related feature pairs and behavioral information that fulfill the interactions. The new module can model the structure of IFPs mathematically through operators and functions defined in a space spanned from six basic IFPs. It can also utilize the constituent elements of an IFP as state variables to form behavior models for the IFP. On the process level, the IFP-based framework can support both bottom-up and top-down approaches, and integrate part modeling and assembly modeling together by changing the workflows. Concretely, IFPs will be embedded into part models at part modeling stage to make them pre-interact with each other, and at assembly modeling stage, parts will be assembled by instantiating the embedded IFPs instead of specifying mating constraints, thus reducing the tedious and redundant labor. Incorporating knowledge of different domains, IFPs can also be developed to integrate more applications together. The implementation of the framework is demonstrated through a prototype system.
               
            

@&#INTRODUCTION@&#

The demand for high-quality and low-cost products with a short development time for the dynamic global market has forced researchers and industries to focus on various effective product development strategies, such as computer-integrated manufacturing and concurrent engineering. The success of these strategies depends on product modeling, which is recognized as one of the key factors for industrial competitiveness  [1]. In Computer-Aided Design (CAD), product modeling refers to both part modeling and assembly modeling  [2], and the relationships between them in most current (bottom-up) CAD systems can be generalized as: parts are modeled in the part modeling environment first as a collection of surfaces, and then are input into the assembly modeling environment to form an assembly model through applying mating constraints on geometric entities  [3,4]. Based on the assembly model, analysis and evaluation work such as assembly sequence planning, etc. can be implemented (illustrated in Fig. 1
                     ).

In this product modeling paradigm, when creating a part model, the designer knows how it will interact with other parts; however, this information is not stored with the part model  [3], i.e., at part modeling stage, the expected potential interactions of the part with other parts are rarely formalized and incorporated into it. This can be abstracted in Fig. 2
                     (a), in which a shaft and a gear are going to be assembled according to an interaction pattern “Shaft–Hole Mating”; stored in the human brain, the pattern cannot be directly integrated into the part models at part modeling stage (the dashed arrow in the figure); at assembly modeling stage, mating constraints or assembly features capturing the pattern will be applied to make them interact with each other (the solid arrow in the figure). However, this is usually done manually in industrial applications, though feature recognition technologies (e.g.  [5,6]) can be developed to change this situation. The realization of interactions between parts in downstream applications such as assembly planning and simulation is similar to this. Specifying interactions between parts discipline by discipline raises two severe problems: (1) there is little integration between part models and assembly models, nor between assembly models used in analysis and evaluation activities  [2]; (2) determining interactions between parts, such as applying mating constraints on geometric entities, is tedious and error-prone, especially for large assemblies  [3].

Endowing a part with the ability of knowing its potential interactions with other parts at part modeling stage may be a natural choice to alleviate the problems. For consistency’s sake, “interaction” here is referred as an effect that can establish a kind of relationship between part models. For example, applying mating constraints between parts and calculating a path to mate parts enable interactions between them. “Interaction” is related to three aspects: (1) the interaction relationships between parts; (2) the interaction region where the relationships occur; (3) the behaviors that fulfill the relationships. However, currently few concepts fully take the three aspects into account with the aim of making parts pre-interact with each other at part modeling stage. A novel product modeling strategy needs to be developed to satisfy the requirement.

This paper introduces a concept of interaction feature pair (IFP), with the aim of refining the current product modeling paradigm to form a novel product modeling framework and solve the problems above. The IFP is different from current concepts such as assembly feature from four aspects: (1) its goal is to make a part pre-interact with other parts at part modeling stage; (2) it considers all three aspects of an interaction; (3) its structure can be modeled mathematically to obtain more complex and consistent IFPs; (4) it can support the integration of more stages in product development. Based on the IFP, the framework will be established from two aspects. On the process level, IFPs capturing the potential interactions of a part will be directly embedded into it at part modeling stage; and in the downstream applications, the actual interactions between parts will be accomplished by instantiating the embedded IFPs instead of by specifying (see Fig. 2(b) for example). On the architectural level, a new independent module, i.e. IFP modeling, will be integrated into current CAD systems to support IFP embedding and instantiation.

The rest of this paper is organized as follows: Section  2 will review some related works that mostly inspire our thoughts; Section  3 will introduce the concept of IFPs and IFP modeling; Section  4 will discuss the product modeling framework based on IFPs in detail; Section  5 will demonstrate a prototype system supporting our approach; Section  6 will give some deeper discussions; and Section  7 will conclude this paper and introduce some future works.

@&#LITERATURE REVIEW@&#

The ultimate goal of this paper is to develop a novel product modeling framework based on the concept of IFPs. The inspirations to our idea are distributed in various fields, including feature-based product modeling, function-based design research, assembly automation technology, etc. Among them, the first research is mostly related to the concept of IFPs, the second inspires us to model IFPs in an abstract and mathematical way, and the third facilitates the idea of making parts pre-interact with each other at part modeling stage.

In feature-based product modeling, the assembly feature is an important concept to capture the relationships and interaction regions between parts, and can take the first two aspects of an interaction into account conveniently. However, currently there is no unified definition for it. Early concepts of the assembly feature focus on the relationships between components  [7,8], and due to the lack of related interaction regions, or form features, in them, assembly information that can be incorporated is limited. Later concepts treat relationships and related form features as equally important aspects (e.g.  [9–11]). A representative definition is: an assembly feature is a collection of elementary relations and mating form features  [9]. These concepts are essential for assemblies but are very specialized. Then more generic and comprehensive definitions appeared to echo the requirement that a product model should include rich information such as component geometry, mating relations, and representation of functions  [12]. Holland et al.  [2] defined the assembly feature as an information carrier for assembly-specific information. Deneux  [13] referred to it as a generic solution referring to two groups of parts that need to be related by a relationship so as to solve a design problem. As they require detailed form features defined in part models, they offer no solution for top-down development, and thus are inadequate for the early stages of design  [14]. For this reason, Ma et al.  [14] designed the concept of an associative assembly feature with the aim of covering all kinds of assembly purposes. Lam  [15] proposed a feature-based design framework to integrate conceptual design and assemblies. Mascle  [16] presented a feature-based assembly model for integration in computer-aided assembly. Although is convenient to integrate more stages in product development, they rarely consider stages that focus on part interaction processes (assembly process simulation for instance), as little behavioral information describing the interactions is considered. In addition, they are usually not used at the part modeling stage to make parts pre-interact with each other and facilitate assembly modeling and other applications. And their definitions are mostly based on classifications; no methods are developed to model them mathematically. This makes them heavily depend on the experience and knowledge of designers.

Function-based design research usually models a product by recursively dividing the main function into sub-functions and then mapping them to the structures of a product. In this research, two concepts are important to our idea. One is the “interface” and the other is the “behavior”. “Interfaces” can be used to represent and manage the kinematic relationships, connection forms and corresponding geometric-mating relationships between parts of an assembly (e.g.  [17,18]), and can capture the first two aspects of an interaction easily. “Behavior” is a key aspect in the popular function–behavior–structure approach  [19,20], which attempts to bridge the gaps between design intention and physical structure. For the two concepts, “interfaces” are too specific to be used independently in bottom-up product modeling systems. In addition, they are usually not utilized as constituent elements to capture the behavioral information for part interactions. “Behaviors” are usually too general to be taken into account at the part geometry level  [4], and they have focused on conceptual design with an immature integration with detail design  [14]. Realizing this, Roy et al.  [4] proposed a “part behavior” model based on interactions between geometrical surfaces of parts, and transformed it into a “part function” model to generate specifications (tolerances, surface finishes, etc.). Albers et al.  [21] introduced a contact and channel model approach and located functions at working surface pairs (pairwise-interfaces between a part and its environment). These methods can utilize surface pairs as the constituent elements of “behaviors” and some related approaches even synthesize shapes of parts by considering their interactions with other parts (e.g.  [22]). However, their goals mainly concentrate on the propagations of shape change to generate single parts’ structures from functions. The integration between part modeling and other downstream applications is not explicitly addressed. Nonetheless, the interface (or functional surfaces) and the surface pair are of finer granularity than an assembly feature, which usually contains more than one interface or surface pair. Importantly, they are usually modeled as a a systematical skeleton or layout model for a product (through manual work), which inspires our idea to construct IFPs mathematically using operators.

In assembly automation technology, Singh et al.  [3] presented assembly ports to group together the interface information between parts. Based on the port representation, they attempted to automate the mating definition and reduce the designer’s effort. However, assembly ports only contain geometric entities related to one part in an interaction, little behavioral information is integrated, and they mainly address standard components, which are different from the concept of IFP. Nonetheless, their idea of embedding assembly information into parts at part modeling stage to automate the process of applying mating constraints is an important inspiration for our research. This kind of idea is also echoed in other domains. For example, in computer animation, Kallmann et al.  [23] proposed feature-based “smart objects” with not only reactive behaviors, but also able to provide the expected behaviors of their users. In robotics, Lau  [24] utilized the geometric arrangement of the work piece and its interacting environment to establish a contact-based control strategy. However, they are not for product modeling and cannot be used directly.

From the analyses above, it can be seen that few technologies are fully dedicated to address the problems of this paper. However, we will take advantage of the significant researches above to achieve our goals described in the previous section.

This section will first give some preliminary definitions for IFPs and then introduce the core module, IFP Modeling, of the proposed product modeling framework.


                        Interaction Feature (IF): a region on a part that is of significance in an interaction. 
                           
                              (1)
                              
                                 
                                    IF
                                 
                                 =
                                 
                                    (
                                    Topo, Geo, Param
                                    )
                                 
                                 ,
                              
                           
                         where, Topo is the topology, Geo is the geometry, and Param is the parameter set of the IF.


                        Interaction Behavior (IB): a set of states and transition functions that directly fulfill the interactions between two IFs. 
                           
                              (2)
                              
                                 
                                    IB
                                 
                                 =
                                 
                                    (
                                    S
                                    ,
                                    
                                       TF
                                    
                                    )
                                 
                                 .
                              
                           
                         In Eq. (2), 
                           S
                         is the set of states, TF is the set of transition functions.


                        Interaction Feature Pair (IFP): a collection of interaction type sets, a pair of IFs on two different parts interacting with each other, and an IB set. It is expressed as 
                           
                              (3)
                              
                                 
                                    IFP
                                 
                                 =
                                 
                                    (
                                    T
                                    ,
                                    
                                       (
                                       
                                          
                                             
                                                IF
                                             
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       
                                          
                                             
                                                IF
                                             
                                          
                                          
                                             2
                                          
                                       
                                       )
                                    
                                    ,
                                    
                                       IB
                                    
                                    )
                                 
                                 ,
                                 
                                 
                                    
                                       
                                          IF
                                       
                                    
                                    
                                       1
                                    
                                 
                                 ∈
                                 
                                    
                                       P
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                 
                                    
                                       
                                          IF
                                       
                                    
                                    
                                       2
                                    
                                 
                                 ∈
                                 
                                    
                                       P
                                    
                                    
                                       2
                                    
                                 
                                 ,
                              
                           
                         where 
                           T
                         is the interaction type set, 
                           
                              
                                 P
                              
                              
                                 i
                              
                           
                         (
                           i
                           =
                           1
                           ,
                           2
                        ) is a part (this is the same in Eqs. (5)–(10)).

The right part of Fig. 3
                         is an example of the concepts for the IFP. The IFP illustrated consists of two abstract cylindrical features, IF1 and IF2, and an IB set, and there are two kinds of behaviors in the IB set. One is that before the two IFs are assembled and the other is that after. When used in an actual interaction between a shaft and a gear as shown in the left part of Fig. 3, the abstract IF1 and IF2 of the IFP will be instantiated as the actual IF1 of the shaft and the actual IF2 of the gear respectively. The IB set will be used to guide and constrain the interactions of the two parts before and after they are assembled. Concretely, before they are assembled, IBs can be transformation matrices directly specifying positions and orientations, or motion planning algorithms calculating the paths and poses, to guide them to interact with each other. After the assembly, IBs can be translational motion, rotational motion or both to constrain the interactions between them.

It can be inferred from Eqs. (1) and (3) that the underlying geometries fulfilling the topological structure of an IFP are generally infinite. However, from the perspective of topology, there are only six basic IFPs (B-IFPs) on the highest level of abstraction (see Table 1
                        ). In the next subsection, the consistent modeling approach for the construction of IFPs’ topological structures will be based on a structure space (S-Space) spanned from the six B-IFPs as shown in Eq. (4). 
                           
                              (4)
                              
                                 S-Space
                                 =
                                 
                                    span
                                 
                                 
                                    {
                                    
                                       
                                          
                                             IFP
                                          
                                       
                                       
                                          
                                             V V
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             IFP
                                          
                                       
                                       
                                          
                                             V E
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             IFP
                                          
                                       
                                       
                                          
                                             V F
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             IFP
                                          
                                       
                                       
                                          
                                             EE
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             IFP
                                          
                                       
                                       
                                          
                                             EF
                                          
                                       
                                    
                                    ,
                                    
                                       
                                          
                                             IFP
                                          
                                       
                                       
                                          
                                             FF
                                          
                                       
                                    
                                    }
                                 
                                 .
                              
                           
                        
                     

According to Eq. (3), IFP modeling contains two aspects: (1) modeling the feature pair (IF1, IF2), (2) modeling the IB that fulfills the interactions embedded in the IFP. The former is related to the structure of an IFP, the latter focuses on how the IFP will behave. As a framework, the following subsections will focus more on the principles of IFP modeling.

The structure of an IFP can be represented as a combination of B-IFPs shown in Table 1. To construct compound IFPs (C-IFPs), we first give a generic operation form for two IFPs: 
                              
                                 (5)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   )
                                                
                                                ⊙
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      2
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      3
                                                   
                                                
                                                
                                                   (
                                                   
                                                      (
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            11
                                                         
                                                      
                                                      ⊙
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            21
                                                         
                                                      
                                                      )
                                                   
                                                   ,
                                                   
                                                      (
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            12
                                                         
                                                      
                                                      ⊙
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            22
                                                         
                                                      
                                                      )
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   )
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      1
                                                   
                                                
                                                ,
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      2
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                            where 
                              ⊙
                            is an operator. Eq. (5) implies that operations occur between IFs on the same parts.

To support Eq. (5), currently five operators are adopted and defined to model IFPs: Union, Union-Difference, Union-SemiDifference, Union-Merge, and Union-Attach.


                           Union makes a union for two IFPs (denoted as 
                              ∪
                           , see Eq. (6) and Fig. 4
                           (a)). 
                              
                                 (6)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   )
                                                
                                                ∪
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      2
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      3
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ∪
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   ∪
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   )
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      1
                                                   
                                                
                                                ,
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      2
                                                   
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        


                           Union-Difference first makes a union for two IFPs, and then removes the region encompassed by the intersection of them (denoted as 
                              
                                 
                                    ∪
                                 
                                 
                                    –
                                 
                              
                           , see Eq. (7) and Fig. 4(b)). 
                              
                                 (7)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   )
                                                
                                                
                                                   
                                                      ∪
                                                   
                                                   
                                                      –
                                                   
                                                
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      2
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      3
                                                   
                                                
                                                
                                                   (
                                                   
                                                      (
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            11
                                                         
                                                      
                                                      ∪
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            21
                                                         
                                                      
                                                      )
                                                   
                                                   −
                                                   
                                                      IN
                                                   
                                                   
                                                      (
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            11
                                                         
                                                      
                                                      ∩
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            21
                                                         
                                                      
                                                      )
                                                   
                                                   ,
                                                   
                                                      (
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            12
                                                         
                                                      
                                                      ∪
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            22
                                                         
                                                      
                                                      )
                                                   
                                                   −
                                                   
                                                      IN
                                                   
                                                   
                                                      (
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            12
                                                         
                                                      
                                                      ∩
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            22
                                                         
                                                      
                                                      )
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   )
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      1
                                                   
                                                
                                                ,
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      2
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                              
                            where IN() is a function indicating the interior of a boundary; this is the same in Eq. (8).


                           Union-SemiDifference makes a union for one pair of IFs in two IFPs, and for another pair of IFs in the two IFPs, it first makes a union for them and then removes the region encompassed by the intersection of them (denoted as 
                              
                                 
                                    ∪
                                 
                                 
                                    ⊣
                                 
                              
                           , see Eq. (8) and Fig. 4(c)). 
                              
                                 (8)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   )
                                                
                                                
                                                   
                                                      ∪
                                                   
                                                   
                                                      ⊣
                                                   
                                                
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      2
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      3
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ∪
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   ,
                                                   
                                                      (
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            12
                                                         
                                                      
                                                      ∪
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            22
                                                         
                                                      
                                                      )
                                                   
                                                   −
                                                   
                                                      IN
                                                   
                                                   
                                                      (
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            12
                                                         
                                                      
                                                      ∩
                                                      
                                                         
                                                            
                                                               IF
                                                            
                                                         
                                                         
                                                            22
                                                         
                                                      
                                                      )
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                          
                                             
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   )
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      1
                                                   
                                                
                                                ,
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      2
                                                   
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        


                           Union-Merge is to combine two IFPs with a common constituent 
                              I
                              
                                 
                                    F
                                 
                                 
                                    
                                       c
                                    
                                 
                              
                            (denoted as 
                              
                                 
                                    ∪
                                 
                                 
                                    ∘
                                 
                              
                           , see Eq. (9) and Fig. 4(d)). 
                              
                                 (9)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         
                                                            c
                                                         
                                                      
                                                   
                                                   )
                                                
                                                
                                                   
                                                      ∪
                                                   
                                                   
                                                      ∘
                                                   
                                                
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      2
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         
                                                            c
                                                         
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      3
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         
                                                            c
                                                         
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         IF
                                                      
                                                   
                                                   
                                                      11
                                                   
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      1
                                                   
                                                
                                                ,
                                                
                                                
                                                   
                                                      
                                                         IF
                                                      
                                                   
                                                   
                                                      
                                                         c
                                                      
                                                   
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      2
                                                   
                                                
                                                ,
                                                
                                                
                                                   
                                                      
                                                         IF
                                                      
                                                   
                                                   
                                                      22
                                                   
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      3
                                                   
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        


                           Union-Attach combines two IFPs with their constituent IFs on three different parts, and two IFs on the same part, the others on two other parts (denoted as 
                              
                                 
                                    ∪
                                 
                                 
                                    ←
                                 
                              
                           , see Eq. (10) and Fig. 4(e)). 
                              
                                 (10)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   )
                                                
                                                
                                                   
                                                      ∪
                                                   
                                                   
                                                      ←
                                                   
                                                
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      2
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      
                                                         IFP
                                                      
                                                   
                                                   
                                                      3
                                                   
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         11
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   ∪
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         22
                                                      
                                                   
                                                   )
                                                
                                                ,
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         IF
                                                      
                                                   
                                                   
                                                      11
                                                   
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      1
                                                   
                                                
                                                ,
                                                
                                                
                                                   (
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         12
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IF
                                                         
                                                      
                                                      
                                                         21
                                                      
                                                   
                                                   )
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      2
                                                   
                                                
                                                ,
                                                
                                                
                                                   
                                                      
                                                         IF
                                                      
                                                   
                                                   
                                                      22
                                                   
                                                
                                                ∈
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      3
                                                   
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

The operators above form one of the mathematical bases for IFP structure modeling; however, this does not mean that all operators have been exhausted. As the study progresses, more operators will be discovered and defined.

For more complex C-IFP construction, IFP functions can also be defined in the S-Space through the combination of operators, B-IFPs and other C-IFPs (see Eq. (11)). 
                              
                                 (11)
                                 
                                    
                                       {
                                       
                                          
                                             
                                                C-IFP
                                                =
                                                f
                                                
                                                   (
                                                   
                                                      Operator
                                                   
                                                   ,
                                                   
                                                      
                                                         
                                                            IFP
                                                         
                                                      
                                                      
                                                         ′
                                                      
                                                   
                                                   )
                                                
                                             
                                          
                                          
                                             
                                                Operator
                                                ⊂
                                                
                                                   {
                                                   ∪
                                                   ,
                                                   
                                                      
                                                         ∪
                                                      
                                                      
                                                         –
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         ∪
                                                      
                                                      
                                                         ⊣
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         ∪
                                                      
                                                      
                                                         ∘
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         ∪
                                                      
                                                      
                                                         ←
                                                      
                                                   
                                                   }
                                                
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      IFP
                                                   
                                                   
                                                      ′
                                                   
                                                
                                                ⊂
                                                
                                                   {
                                                   B-IFP
                                                   ,
                                                   
                                                      
                                                         C-IFP
                                                      
                                                      
                                                         ′
                                                      
                                                   
                                                   }
                                                
                                                .
                                             
                                          
                                       
                                    
                                 
                              
                           
                        

Similarly to IFP structure modeling, IFP behavior modeling can be divided into basic and compound types. The former refers to the behavior modeling for B-IFPs and uses IFs as state variables; the latter refers to that for C-IFPs but uses B-IFPs as compound state variables. The basic behavior model is demonstrated in Fig. 5
                           . As shown in the left part of Fig. 5, the model is a kind of finite state machine, which uses one IF (IF2 in the figure) of the B-IFP as state variable, and its goal state is to form the B-IFP. Transition functions are the main part of the behavior model, and can be applied to the IF state variable to make it arrive at the goal state. The right part of Fig. 5 shows an example for the basic behavior model. The IFPFF and part models are the same as in Fig. 3. Initially, the IF1 of the shaft and the IF2 of the gear are separated in the actual assembly modeling environment. To fulfill the assembly, the abstract IFPFF is used to guide the IF1 of the shaft to mate with the IF2 of the gear through the defined transition functions. After the assembly, the IFPFF can be further used to constrain the IBs of the gear and the shaft. For example, it can restrict the gear to: (1) translate along the shaft, (2) rotate around the shaft, or (3) simultaneously translate along and rotate around the shaft. If we design behavior models for other disciplines, a plug-and-play mechanism based on IFPs can be developed to integrate these disciplines together.

Based on the basic behavior model, the compound behavior model for the C-IFP is straightforward. Suppose there are 
                              n
                            B-IFPs in a C-IFP, each B-IFP will be treated as a compound state variable. Once a compound state is arrived at, i.e. a B-IFP is established, the next compound state will be triggered until the C-IFP is formed. The compound behavior model for the C-IFP is illustrated in Fig. 6
                           ; it can be used in downstream applications such as assembly sequence planning, path planning, or process simulation to integrate them together. However, to fully utilize the compound behavior model, control strategies that can manage the states and transitions between them need to be developed concretely for different applications.

In this section, we will first overview the product modeling framework based on IFPs, and then discuss the issues about the corresponding modeling strategies.

As is mentioned in Section  1, one of the main differences between the proposed framework and current modeling systems is that on the architectural level, an IFP modeling module will be added as a new basis to support product modeling. The overview of the architecture is illustrated in Fig. 7
                        . As shown in Fig. 7, IFP modeling will serve as both the product modeling module and the applications module, and the basic tasks in IFP modeling include the definitions of operators, functions and behavior models discussed in Section  3; all modeled IFPs will be stored and managed in an IFP database. Based on the architecture, the framework will change the workflows of current modeling systems based on IFPs to integrate the part model and the assembly model, as well as part modeling and assembly modeling in the product modeling module more naturally. The concrete contents will be discussed in Section  4.2, and the integration of the fields in the applications module based on IFPs will be discussed in Section  6.

Here, we use two scenarios to demonstrate the IFP-based approaches for bottom-up and top-down product modeling systems. In both scenarios, it is assumed that the IFP database has already been established.

The general workflow of the bottom-up product modeling approach in current CAD systems has been described in Figs. 1 and 2(a). In the proposed product modeling framework, the workflow will be changed from two aspects: (1) IFPs will be embedded into part solid models at part modeling stage, and (2) part models will be assembled by instantiating the embedded IFPs, instead of applying mating constraints or assembly features. The new workflow is demonstrated in Fig. 8
                           , and the two aspects are discussed in the following paragraphs.

The steps of embedding an IFP into a part model are as follows:

Step 1, choose an IFP from the IFP database, and specify its identification information;

Step 2, instantiate the corresponding IF in the IFP to the corresponding form feature on the part model, so as to map the IF into a concrete form feature.

The steps of instantiating IFPs to establish an assembly model are as follows:

Step 1, input the part models to be assembled into the assembly modeling environment;

Step 2, identify the IFPs in part models with the same identification information;

Step 3, specify the concrete parameters (such as interaction type) to instantiate the IFPs and assemble the part models related by the IFPs.

The steps of IFP embedding and instantiation are illustrated in Fig. 9
                           . Suppose we are going to model the shaft–gear assembly shown in the right-bottom of Fig. 9. First, we will model the solid models of Shaft and Gear in a part modeling environment. Then, we will not directly input them into assembly modeling environment, instead, we will embed two IFPs, IFPFF 1 and IFPFF 2, retrieved from the IFP database into them. To do so, IF1 and IF2 of IFPFF 1 are instantiated as Face1 of Shaft and Face1 of Gear respectively; similarly, IF1 and IF2 of IFPFF 2 are instantiated as Face2 of Shaft and Face2 of Gear respectively (see the left and middle parts of Fig. 9). To facilitate assembly modeling, the same identification will be assigned to the IFPFF 1 in Shaft and Gear; this strategy is also applied to IFPFF 2. After all IFPs are embedded, the part models will be loaded into an assembly modeling environment, in which the two IFPs, IFPFF 1 and IFPFF 2, embedded in Shaft and Gear will be firstly identified by their identifications; then they will be fully instantiated by specifying corresponding parameters to finish the assembly. As shown in the right part of Fig. 9, the main parameters “interaction type” T and “interaction behavior” IB of IFPFF 1 are specified as “Coincident” and “Transformation Matrix”, respectively. Similarly, the main parameters “interaction type” T, Distance, and “interaction behavior” IB of IFPFF 2 are specified as “Offset”, “20 mm” and “Transformation Matrix”, respectively. By instantiating IFPFF 1, Shaft and Gear will be coincident with each other, and by instantiating IFPFF 2, they will form the expected assembly. Note that, as is mentioned before, we can also specify IBs of other disciplines into IFPFF 1 and IFPFF 2. For instance, if we specify the IBs as motion planning algorithms, the path and poses to assemble Shaft and Gear will be exhibited. As IFPs contain IF pairs related by interactions and integrate IBs that fulfill the interactions, a part will know not only its interaction interface but also its interaction behavior types with other parts after embedding IFPs into it, thus making them pre-interact with each other.

There is another way to embed an IFP into a part solid model: an IFP can be used as an operator to model a corresponding form feature on the part model. For example, suppose there is an IFP containing an external thread face (ETF) and an internal thread face (ITF) as its feature pair (ETF, ITF), and there is a bolt to be modeled. We can use the IFP as an operator to model the thread feature on the bolt, and specify its type as ETF. The main focus of this subsection is on the principles of IFP-based bottom-up product modeling, so how IFPs will be exactly used will be left to our future study.

The top-down product modeling approach is based on the designer’s point of view. In a top-down approach, an overview of the product is first formulated, and each component (which could be a part or a subassembly) is then refined in greater detail, sometimes in many additional sub-component levels, until the base components are defined exactly  [18]. Generally, the workflow of top-down product modeling based on IFPs will not be different from that of current top-down product design, and an example for top-down product modeling method based on IFPs is illustrated in Fig. 10
                           . As shown in Fig. 10, there is a Cam Assembly (consisting of a Cam, a Shaft and a Gear) that needs to be modeled. Suppose there is a compound IFP (C-IFP 3 in the figure) retrieved from the IFP database that can be used to model the assembly, and it consists of two compound IFPs (C-IFP 1 and C-IFP 2) and four basic IFPs (B- IFPFF 1–4) which are combined together through three operators. To model the assembly, first we design the part models of the assembly and embed the corresponding B-IFPs into them. For example, we first model the part model of the Shaft, and then embed the B- IFPFF 1 into it, with the abstract cylindrical face in the B-IFP instantiated as the actual cylindrical face of the Shaft. The embedding is the same as that in the IFP-based bottom-up product modeling strategy. After all parts and IFPs are modeled and embedded, the IFPs can be instantiated to form two subassemblies (Cam–Shaft and Shaft–Gear) and finally the Cam assembly (see Fig. 10). For the two subassemblies, their forming processes are the same as that described in Fig. 9. From this example, it can be seen that a compound IFP can be treated as an interface model or a layout model in the function-based design research. Importantly, by the introduction of operators, IFPs can be developed as modeling elements or basic primitives for the interface or layout model, forming approaches similar to the CSG method in part solid modeling for conceptual design.

Based on the logical structure shown in Fig. 7, a prototype system for the IFP-based product modeling framework is now under development, on the platforms of Visual Studio 2003 & CAA for CATIA and the product design system CATIA V5 R16. The main modules currently included are IFP modeling, IFP-based part modeling, and IFP-based assembly modeling. The following paragraphs will introduce the main interfaces in the three modules briefly.

As is mentioned in Section  3.2.1, IFP structure modeling is based on operators that can combine simpler IFPs to form C-IFPs, and new operators will be needed besides the five ones in Section  3.2.1. In IFP modeling, the Operator Definition function is designed for this purpose. As shown in Fig. 11
                        , the steps of the function are as follows: (1) specify the basic information such as name, sign of a new operator, (2) specify the IFPs that need to be operated, and (3) determine the operation rules for the IFs in these IFPs. The example in Fig. 11 shows the operation rules of Union-Difference according to Eq. (7): a union operation is applied between Face 1 of IFPFF 1 and Face 1 of IFPFF 2 firstly, then the intersection of the two Face 1s will be generated and finally the area encompassed by the intersection will be removed (see the first three rows of the IF Operation in Fig. 11). The same rules will be applied to Face 2 of IFPFF 1 and Face 2 of IFPFF 2.

The IFP Function Definition illustrated in Fig. 12
                         is designed for constructing complex C-IFPs according to Eq. (11). The steps for this function are (1) determine the IFPs included, and (2) define the function body and the operation rules of the C-IFP. It is usually discipline-specific, so we design a domain ontology component in the function. However, currently the component is just an interface kept for the Domain Knowledge module that will be accomplished in the future. As shown in Fig. 12, a compound IFP (right-bottom corner) for a Cam Assembly (left-bottom corner) is going to be defined. And according to the interaction surfaces shown in the middle-bottom of the figure, four B-IFPs are abstracted first. Among them, IFPFF 1 is generalized from Plane 1 of Shaft and Plane of Cam, IFPFF 2 is from Cylinder of Shaft and Cylinder of Cam, IFPFF 3 is from Cylinder of Shaft and Cylinder of Gear, and IFPFF 4 is from Plane 2 of Shaft and Plane of Gear. Then according to Eq. (11), we define the function body for the C-IFP as follows and the operation rules are the same as those in the operators. 
                           
                              
                                 
                                    (
                                    
                                       
                                          
                                             IFP
                                          
                                       
                                       
                                          
                                             FF
                                          
                                       
                                    
                                    1
                                    
                                       
                                          ∪
                                       
                                       
                                          ⊣
                                       
                                    
                                    
                                       
                                          
                                             IFP
                                          
                                       
                                       
                                          
                                             FF
                                          
                                       
                                    
                                    2
                                    )
                                 
                                 
                                    
                                       ∪
                                    
                                    
                                       ∘
                                    
                                 
                                 
                                    (
                                    
                                       
                                          
                                             IFP
                                          
                                       
                                       
                                          
                                             FF
                                          
                                       
                                    
                                    3
                                    
                                       
                                          ∪
                                       
                                       
                                          ⊣
                                       
                                    
                                    
                                       
                                          
                                             IFP
                                          
                                       
                                       
                                          
                                             FF
                                          
                                       
                                    
                                    4
                                    )
                                 
                                 .
                              
                           
                        
                     

The IB Modeling function is to define the transition functions between constituent elements of B-IFP or C-IFP. The interface of the function is demonstrated in Fig. 13
                        , which shows the tasks in the function including (1) specify basic information of an IB, (2) identify the related IFP, (3) discretize the IFP into constituent elements, and (4) define the transitions between the discretized elements according to the corresponding domain knowledge. The example shown is a basic behavior model of a B-IFP, which only has two constituent elements, and the example transition function between them is specified as “Transform Matrix”.

The three functions above are prepared for constructing the topological structure and behavior models of an IFP. According to the definition of an IF, an IFP also contains geometric information. IFP Modeling in the prototype system (see Fig. 14
                        ) is to specify all the related information. As shown in Fig. 14, the tasks to fulfill this function are (1) specify the basic information such as from which the IFP is derived, name, interaction type, etc.; (2) determine feature pairs and the topology and geometry types of the IFs in the IFP; in this task, compound IFPs can utilize the operators and functions, together with single B-IFPs to finish its definition; (3) define the parameters for the IFs and IFPs; and (4) retrieve the defined IBs, and if there are no appropriate existing IBs, new IBs will be defined by calling the IB Modeling function.

Well-defined IFPs are the basis for IFP embedding and instantiation. IFP Embedding is the key function to fulfill the pre-interaction of a part with other parts. According to Section  4.2, the interface of this function is illustrated in Fig. 15
                        . The interface essentially demonstrates the steps described in Section  4.2.1: select IFP and then instantiate IFs. For example, the IF1s of the four B-IFPs shown in Fig. 12 are instantiated as Plane1, Cylinder1 and Plane2 of the Shaft model respectively (see the right part of Fig. 15).

IFP instantiation can fulfill the actual interactions between parts, and its interface is shown in Fig. 16
                        . In the figure, the example product is an engine model, which consists of fifteen subassemblies. In the example illustrated, we are going to assemble the subassembly Cam_Assembly.1 by instantiating four B-IFPs (see the right-bottom of Fig. 12) shown in the right part of the interface; the parts related by them are listed in the left part of the interface, and the instantiation mainly includes specifying the IFP parameters and IBs.

@&#DISCUSSION@&#

This section will further discuss the IFP-based product modeling framework in terms of advantages and potential for developing novel solid model representations.

As is mentioned above, the key basis for fulfilling the goals of the proposed product modeling framework lies on the introduction of the IFP concept, especially the IFP Modeling module. Essentially, IFP modeling is to model the information of part interactions, and does not focus on the shape generation for a single part though it can be extended to. Different from the concepts of assembly features and interfaces, IFP can be modeled through operators and functions defined in the S-Space spanned by the six B-IFPs. This can enhance the IFP modeling module to an independent position as important as the current part modeling module and assembly modeling module. The modeled IFPs are abstract and similar to the skeleton model or layout model consisting of “interfaces” or “functional surfaces” in function-based design research, but they can take the behavior information into account at the part geometry level; compared to assembly features, they are of finer granularity and more systematic in terms of both structure modeling and behavior modeling. In addition, by capturing the interaction interfaces and behavior models, they can be used as a controller for part interactions whether they are bottom-up or top-down. This can be seen by referring to Section  4.

As different behavior models can be integrated into IFPs, a plug-and-play mechanism can be developed based on domain knowledge to integrate applications such as Assembly Process Planning, Assembly Process Simulation and Assembly Ergonomics Analysis in the Applications module of the proposed framework (see Fig. 7). The strategy is shown in Fig. 17
                        . Besides the integrated behavior models, this strategy can also benefit from the construction of the IFP structure. As an example shown in Fig. 10, the construction tree of C-IFP 3 can represent the assembly tree of the Cam Gear Assembly. In addition, the construction sequence of this tree can represent the assembly sequence of the parts to some extent. This information is important for assembly sequence planning. However, to fulfill the integration strategy, many concrete problems should be addressed in our coming work.

The IFP concept also has the potential to develop novel solid model representations. Currently, the most popular representations for solid modeling are Brep and CSG. Both can be reinterpreted from the perspective of interaction. For example, in the Brep representation, the formations of edges, loops, faces, shells and bodies depend on the interactions between vertices, edges, loops, faces, and shells. In the CSG representation, interactions between simpler products (such as cuboids, cylinders, prisms, spheres, cones, etc.) through Boolean operators can form shapes. The interactions in the Brep and CSG representations can also be captured by IFPs. For example, an edge in Brep can be represented as an IFPV V. By doing so, force models, spring models, deformation rules, etc. can be directly integrated in the underlying representations of the solid model through IFPs, which may contribute to the physics-based product modeling and analysis. Current representations topologically equate a product model with a point set in geometric spaces of corresponding dimension  [25], and the basic element in them is the point. If novel IFP-based representations can be developed, the product model will be treated as a point-pair set, and the basic element will be the point-pair. In this way, an infrastructure modeling system that can support interactions in different applications from the very beginning may be obtained. This is a radical difference from current representations and may be an open problem to be addressed in the future.

To integrate more product design activities and reduce labor such as applying mating constraints in assembly modeling, this paper proposed a product modeling framework based on IFPs. The framework is different from current product modeling systems from two aspects. On the architecture level, a new module, i.e. IFP modeling, is added. As the core concept of the framework, an IFP incorporates information of interaction type, related feature pairs and behavioral information that fulfill the interactions. By introducing an S-Space spanned by six B-IFPs, the structure of an IFP can be modeled consistently and mathematically through operators and functions; in addition, the constituent elements of IFPs can be used as state variables to form behavior models of IFPs. On the process level, the framework embeds IFPs into part models to make them pre-interact with each other at part modeling stage; it also instantiates the embedded IFPs at assembly modeling stage to replace the laborious work of applying mating constraints. In this way, it integrates the part modeling and the assembly modeling together. Importantly, the IFP-based approach can support both bottom-up and top-down design of a product. To make the approach clearer, a prototype system under development for the framework is also demonstrated. Then some deeper discussions about the advantages and potential of the IFP-based modeling strategy are made.

However, as a framework, the product modeling approach is far from practical. In IFP modeling, more operators may be needed, and concrete behavior models for different applications should be established in the future so as to integrate product design activities to a broader and deeper extent. In addition, domain knowledge, IFP database, etc. also need to be explored to fully support and realize the proposed framework and modeling strategy. Nonetheless, the proposed framework is of value as a novel product modeling approach.

@&#ACKNOWLEDGMENTS@&#

The authors would like to thank the Doctorate Foundation of Northwestern Polytechnical University (CX201223), the Basic Research Foundation of Northwestern Polytechnical University of China (JC201112), the National Natural Science Foundation of China (51205316), the Innovation Foundation of National Engineering Research Center for Commercial Aircraft (SAMC12-JS-15-013) and the Defense Basic Research Project for financial support. Great thanks are also given to the anonymous reviewers for their comments and suggestions, which helped us to improve the manuscript.

@&#REFERENCES@&#

