@&#MAIN-TITLE@&#Motion analysis of a mobile manipulator executing pick-up tasks

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           Reaching Target-point by the end-effector of a mobile manipulator.


                        
                        
                           
                           The optimized trajectory, minimizing the execution time of the task is generated.


                        
                        
                           
                           Introduction of manipulability index for configuring the manipulator far from singularities.


                        
                        
                           
                           The feasibility of the computed trajectories is validated against experimentation on a real robot.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Mobile manipulator

Pick-up task

Manipulability

Optimization

Trajectory generation

@&#ABSTRACT@&#


               
               
                  This paper presents an analysis of a mobile manipulator movement executing a pick-up task. The robot has to reach a target point with its end-effector. The configuration of the manipulator and the pose of the mobile robot define the inputs of the problem.
                  The random profile approach is applied to deal with the aforementioned issue. The trajectory which minimizes the execution time of the task is generated. Furthermore, the manipulability index is introduced in the optimization process in order to allow a comfortable configuration of the manipulator to reach the target-point. The obtained results in free and cluttered environments are presented and discussed. The feasibility of the computed trajectories is also validated against experimentation, in the case of the RobuTER mobile robot carrying the Ultra-Light Manipulator.
               
            

@&#INTRODUCTION@&#

Robot mechanical structures are mainly classified into fixed-base articulated systems and mobile platforms. The diversity of applications leads to consider an obvious alternative that associates manipulation and mobility aptitudes. A robotic system with these capabilities is typically composed of robotized vehicle (mobile robot) carrying one or more arms.

Planning framework of automated systems is commonly based on two-stage method. First, the path planning which outcomes the path points connecting the query pair, and describes geometrically the motion of the robot. Then, the path is interpolated in trajectory-generation level, with specifying to a timing law.

In this article, a pick-up task is assigned to one-armed mobile robot (RobuTER/ULM mobile manipulator). A target-point (ITP) defined in 3D Cartesian space is imposed to the End-Effector (EF) of the manipulator. The movement of the mobile manipulator is complex due to its high Degrees of Freedom (DoF) number. Unavoidable mobile robot localization error also occurred due to odometry sensor and initial position of the robot [1].

The redundancy caused by the combination between mobility and manipulation (offering many possibilities to reach ITP) is solved using a multi-dimensional trajectory generation methodology. The random profile approach (RPA) [2] is employed to the generated optimal trajectory to the system. Execution time (cost function) is minimized. The trajectories are generated in the joint space. Reaching singular configurations and the calculation of kinematic models are avoided. The saturation values of the actuators (velocities and accelerations of the robot actuators) and the non-holonomic constraint of the mobile system are respected. RPA allows solving varied types of trajectory problems, using diverse types of performance criteria under diverse types of kinodynamic constraints, and has the ability to find near-optimal solutions within competitive runtimes [2]. RPA is characterized by interesting attributes as versatility, efficiency and simplicity of implementation [3]. Manipulability index is introduced as additional constraint, placing the arm in regular configuration for reaching ITP. Pose error transmitted from the mobile system to the EF can be corrected by the manipulator, which is adapted to be reconfigured. The analysis of simulation and experimental results regarding the impact of the manipulability as a supplementary constraint, to the RPA algorithm (planning trajectories for RobuTER/ULM), is presented in this work.

The rest of this paper is organized as follows. Section 2 gives a brief state-of-the-art of methodologies addressing trajectory generation and pick-up tasks execution issues for mobile manipulators. Section 3 summarizes the characteristics of the experimental robotic system. Section 4 describes explicitly the difficulty to execute the prescribed task. Section 5 explains the concept of the RPA and formulates the proposed solution. Section 6 validates the proposed approach in simulation. The real motion of the robot is also analyzed when implementing generated trajectories on RobuTER/ULM.

@&#RELATED WORKS@&#

The context of trajectory planning for mobile manipulators is complicated due to the combination between the mobility of the vehicle and the manipulation of the articulated robotic system. Trajectory planning methods with singularity avoidance and redundancy resolution for one unique-armed mobile system are the principal topics discussed in this section.

The execution of pick up tasks by mobile manipulators principally requires the respect of initial manipulator configuration with the mobile robot pose, and the reaching of ITP with the EF of the arm. One solution might consist of fixing the final pose of the mobile robot, in an area allowing reaching the ITP with the EF. The best final robot pose can also be calculated with optimizing cost functions [1,4]. The connection between the fixed queries consists of generating a unique feasible trajectory. Polynomial-based obstacle avoidance technique [5], or model-based methods [6] are relevant. However, randomly sampling based approaches are the most widely used for solving planning problems for mobile and manipulation robotic systems [4]. However, additional processing is needed to obtain feasible trajectories [7]. Operational tasks can also be executed with finding simultaneously the best final configuration and a feasible trajectory. That objective can be achieved with optimization algorithms [8,9].

The classical way for solving redundancy consists of using approaches dedicated to fixed-base redundant manipulators. Inverse kinematic modeling is discussed extensively in the literature. Analytic approaches can compute closed-form solutions. Such algorithms are, however robot-specific [10]. In the case of trajectory planning for non-holonomic mobile robots, position-level inverse kinematic model is not adequate. It is pointed out to solve the redundancy in velocity level [11]. Jacobian-based approaches are widely used. Operational paths might be transformed into smooth joint space trajectories via the product of exponentials formula [12], with gradient optimization methods [11]. The other oriented-model approach allowing solving redundancy is task-oriented (augmented task space approach). The Jacobian matrix is augmented, so as to tackle additional objectives expressed as constraints [13]. However, there are some principal drawbacks related to those methods. The calculation of the inverse augmented Jacobian matrix is necessary; hence, task execution related to time (continuous) is not appropriate and extra singularities may appear [14].

Trajectory planning optimization approaches consist of finding optimal movement for the robots satisfying desired mission specifications. The trajectories are constructed with polynomial functions. Performance criteria are introduced in cost function. In the context of mobile manipulation, Korayem et al. [15] proposed trajectory planning strategy based on the combination of the potential field method and optimal control theory. Optimal problem solution is applied based on Pontryagin’s Minimum Principle (PMP). Dong Hun Shint et al. [16] presented a motion planning method for mobile manipulators for which the base locomotion is less precise than the manipulator control. The proposed method finds successive base poses that meet constraints on a measure of manipulability.

Stochastic optimization techniques offer advantages of simpler implementation compared to deterministic techniques. Most common methods applied to solve planning problems include Genetic Algorithms (GA) and Simulated Annealing (SA). Chen and Zalzala [17] presented an approach for planning optimal trajectories (optimizing torque and manipulability) with GA for path following with the end-effector. Fifth order polynomials are used for the mobile platform and manipulator joints trajectories. Zaho et al. [18] addressed path planning problem for a robot which is used to perform a sequence of tasks specified by poses and minimum-oriented force capabilities. In case of multiple tasks execution, Lee et al. [19] divided the problem into two sub-problems (i) trajectory generation with assuming that the commutation configurations are given and, (ii) calculation of the optimal commutation configurations. Watanabe et al. [20] described a method for trajectory planning for an omnidirectional mobile manipulator with Evolutionary Algorithm (EA). The proposed approach automatically selects via-points in a wide range, and interpolates the trajectories with B-spline. The total cost function consists of motion smoothness, movable range of joints, singular orientation and falling down sub-cost functions.


                        SA is a hill-climbing local exploration optimization heuristic [21]. In context of trajectory planning, Carriker et al. [22] formulated the problem in which the decision variables for mobility are separated from the manipulator joint angles in cost function. The mobile manipulator system must perform a sequence of tasks defined by position, orientation, force, and moment vectors at the end-effector. The used cost function is that measuring the energy or time required performing the sequence of tasks. Carlos Alfaro et al. [23] presented a path planning technique for a mobile manipulator whose EF path is imposed. Criteria for planning the path minimize the need to turn the mobile robot and the gravity induced torque components of the manipulator. Haddad et al. [8] proposed a stochastic scheme for point-to-point trajectory planning for non-holonomic mobile manipulators by using the RPA. The cost functions might involve travel time, efforts and/or power. Akli et al. [9] proposed trajectory planning with the same method (RPA), for operational-task execution. The minimum time trajectories are generated for a spatial arm carried on differentially-driven vehicle. The mobile robot is placed in a final position, allowing a regular configuration of the manipulator for reaching the ITP.

Manipulability is a measure of the ability of robotic mechanisms, in positioning and orienting end-effectors. This index is efficient for evaluating the distance between a current and a singular configuration of any mechanism. Manipulability was introduced by Yoshikawa [24] for manipulators motion generation, and was extended to mobile manipulators in optimal placement strategies [1,4], to build up reachability data [10], for redundancy resolution, for reaching an ITP with control approaches [7], and for optimal trajectory planning [9]. Optimal trajectory planning for introducing regular configuration of the manipulator requires in the major articles presented above introducing the manipulability in the cost function [4,17,23]. The problem that arises, however, is the normalization and prioritization of the contribution of the various objectives. Also, these objectives can interact or conflict with each other [25].

In this article, the trajectories are generated with RPA. Unique-final trajectory is generated for every actuator of the robot allowing optimizing a global cost function with SA. This latter possesses the ability of avoiding local optimums, whereas GA operates on a whole population and may be subject to local optimization [17]. The RPA can converge to a global optimum and remains insensitive to initial conditions. Methods based on the PMP provide also very satisfactory solutions and reaches optimality. However, they are not all the time applicable. They require, in general, pre-analytical developments that are specific to the addressed problem. This paper proposes to set the mobile system in a pose allowing reaching the ITP with the EF in a regular configuration of the articulated system (far from singularities). The singularity avoidance is chosen in the form of the manipulability measure. Indeed, the mobile system is constrained to be located in a position in which the manipulability of the arm is higher than a threshold. The influence of this index is analyzed with regard to the movement of the robot.

The following section describes the experimental system, and presents the definition of some important notions in relation with trajectory generation.

The mobile manipulator RobuTER/ULM (Fig. 1
                     ) consists of a differentially-driven mobile robot carrying a six DoF manipulator (with an electrical gripper), placed at the center of the front steering wheels axis.

The mobile base is equipped with a laser measurement system. The robot is also equipped with incremental position sensor on each joint and a camera placed on the end-effector. In addition, the odometer module provides the current position of the mobile robot. The robot is controlled by an on-board industrial PC.

The study of the movement of mobile manipulators requires focusing on the absolute reference frame ROA
                     , the platform reference frame ROP
                     , and the manipulator reference frame ROB0
                     .

The comfortable placement of the manipulator is prioritized disregarding the orientation of the end-effector. The sub-vectors Pa
                     
                     =(P
                     1
                     ,
                     
                     P
                     2
                     ,
                     
                     P
                     3) or qa
                     
                     =(q
                     1
                     ,
                     
                     q
                     2
                     ,
                     
                     q
                     3) denote the joint angles of the arm (Fig. 1). The parameters of the sub-vector Pm
                     
                     =(P
                     4
                     ,
                     
                     P
                     5
                     ,
                     
                     P
                     6) denote the mobile robot pose. The rotation angles of the right and left wheels are defined in qm
                     
                     =(q
                     4
                     ,
                     
                     q
                     5). The elements of the vector ITP
                     =[XITP YITP ZITP
                     ]T are the Cartesian positions of the ITP defined in ROA
                     . The D-H parameters and the mechanical characteristics RobuTER/ULM are presented in Table 1
                     .

The velocity of RobuTER and ULM actuators is Proportional-Integral controlled. The incremental encoders detect the infinitesimal displacement of every joint of the arm, and the steering wheels of the mobile robot. The current position of the manipulator is updated every 10ms (Fig. 2
                     ).

The combination between mobility and manipulation skills as a vehicle equipped with a single arm improves the reachable space of EF. The prescribed task consists of starting with initial joint angles for the manipulator and an initial pose for the mobile robot. The ITP is assumed not belonging to the current workspace of the manipulator, needing the displacement of the mobile robot.

The mobile manipulator is able to reach ITP in various ways (as shown in Fig. 3
                     a). However, the vehicle can be placed only in restricted perimeter. This latter is a Squared Area (RA) including a ring surrounding ITP and bounded by XRA
                     
                     =
                     
                        
                           [
                           
                              
                                 X
                              
                              
                                 RA
                              
                              
                                 min
                              
                           
                           ,
                           
                              
                                 X
                              
                              
                                 RA
                              
                              
                                 max
                              
                           
                           ]
                        
                      and YRA
                     
                     =
                     
                        
                           [
                           
                              
                                 Y
                              
                              
                                 RA
                              
                              
                                 min
                              
                           
                           ,
                           
                              
                                 Y
                              
                              
                                 RA
                              
                              
                                 max
                              
                           
                           ]
                        
                     . This is due to the joints limits 
                        
                           [
                           
                              
                                 P
                              
                              
                                 a
                              
                              
                                 min
                              
                           
                           ,
                           
                              
                                 P
                              
                              
                                 a
                              
                              
                                 max
                              
                           
                           ]
                        
                      and the dimensions of the carried arm.

Executing a pick-up task requires also the connection between Pinit
                      and Pend
                      (Pend
                      supposed fix). The mission is transformed, thus, into a Generalized Point-to-Point Task (GPPT) execution (Fig. 3b). Indeed, the GPPT is defined in the configuration space and suggests imposing the initial pose Pinit
                     
                     =
                     
                        
                           (
                           
                              
                                 P
                              
                              
                                 a
                              
                              
                                 init
                              
                           
                           ,
                           
                              
                                 P
                              
                              
                                 m
                              
                              
                                 init
                              
                           
                           )
                        
                     , the final pose Pend
                     
                     =
                     
                        
                           (
                           
                              
                                 P
                              
                              
                                 a
                              
                              
                                 end
                              
                           
                           ,
                           
                              
                                 P
                              
                              
                                 m
                              
                              
                                 end
                              
                           
                           )
                        
                     , with a set of intermediate poses P(t) describing the motion of the robot (t
                     ∈[0, T] where T is the global execution time of the task). Infinite number of possible trajectories can be assigned to the mobile manipulator. However, some trajectories are excluded in presence of obstacles.

The mathematical representation of the restrictions is presented by the following equations. The movement of RobuTER/ULM is restricted by the initial pose of the robot Pinit
                     , the non-holonomic constraint, the joints limits of the manipulator, and the maximum admitted velocities 
                        
                           
                              
                                 
                                    
                                       q
                                    
                                    
                                       ̇
                                    
                                 
                              
                              
                                 max
                              
                           
                        
                      and accelerations 
                        
                           
                              
                                 
                                    
                                       q
                                    
                                    
                                       ¨
                                    
                                 
                              
                              
                                 max
                              
                           
                        
                     . The velocities of the robot at the beginning and at the end of the task must be null, and the kinematic model invertible when 
                        
                           
                              
                                 P
                              
                              
                                 m
                              
                              
                                 end
                              
                           
                        
                      and ITP are imposed. During the execution of the task, the robot should also be always in collision-free poses.
                        
                           (1)
                           
                              P
                              (
                              0
                              )
                              =
                              
                                 
                                    P
                                 
                                 
                                    init
                                 
                              
                           
                        
                     
                     
                        
                           (2)
                           
                              
                                 
                                    
                                       
                                          P
                                       
                                       
                                          ̇
                                       
                                    
                                 
                                 
                                    4
                                 
                              
                              sin
                              (
                              
                                 
                                    P
                                 
                                 
                                    6
                                 
                              
                              )
                              -
                              
                                 
                                    
                                       
                                          P
                                       
                                       
                                          ̇
                                       
                                    
                                 
                                 
                                    5
                                 
                              
                              cos
                              (
                              
                                 
                                    P
                                 
                                 
                                    6
                                 
                              
                              )
                              =
                              0
                           
                        
                     
                     
                        
                           (3)
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    min
                                 
                              
                              <
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                              
                              (
                              t
                              )
                              <
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    max
                                 
                              
                           
                        
                     
                     
                        
                           (4)
                           
                              
                                 
                                    q
                                 
                                 
                                    ̇
                                 
                              
                              (
                              t
                              )
                              <
                              
                                 
                                    
                                       
                                          q
                                       
                                       
                                          ̇
                                       
                                    
                                 
                                 
                                    max
                                 
                              
                           
                        
                     
                     
                        
                           (5)
                           
                              
                                 
                                    q
                                 
                                 
                                    ¨
                                 
                              
                              (
                              t
                              )
                              <
                              
                                 
                                    
                                       
                                          q
                                       
                                       
                                          ¨
                                       
                                    
                                 
                                 
                                    max
                                 
                              
                           
                        
                     
                     
                        
                           (6)
                           
                              
                                 
                                    q
                                 
                                 
                                    ̇
                                 
                              
                              (
                              0
                              )
                              =
                              0
                              ,
                              
                                 
                                    q
                                 
                                 
                                    ̇
                                 
                              
                              (
                              T
                              )
                              =
                              0
                           
                        
                     
                     
                        
                           (7)
                           
                              IKM
                              
                                 
                                    
                                       Input
                                       
                                       
                                          
                                             P
                                          
                                          
                                             m
                                          
                                          
                                             end
                                          
                                       
                                       ,
                                       ITP
                                       ,
                                       
                                       Output
                                       
                                       
                                          
                                             P
                                          
                                          
                                             a
                                          
                                          
                                             end
                                          
                                       
                                    
                                 
                              
                              
                              ≠
                              
                              ∅
                           
                        
                     
                     
                        
                           (8)
                           
                              Collision
                              (
                              P
                              (
                              t
                              )
                              )
                              =
                              ∅
                           
                        
                     
                  

The next section presents the fundamentals of the RPA and the proposed solution for executing the prescribed task performed by RobuTER/ULM.

The RPA has been carried out in [8,25] for wheeled mobile manipulators. This approach builds time-scaled trajectory profiles. The kinodynamic constraints bound the travel time. The trajectory planning problem is, thus reduced to a constrained-profile optimization. The path τ(λ) (approximated with forth degree B-spline) and the motion λ(ξ) (interpolated with cubic splines) profiles are modeled into control points.

A trajectory profile Q(ξ), representing the combination between τ(λ) and λ(ξ) is defined for any trajectory P(t).
                        
                           (9)
                           
                              P
                              (
                              t
                              )
                              {
                              t
                              ∈
                              [
                              0
                              ,
                              T
                              ]
                              }
                              ⇔
                              Q
                              
                                 
                                    
                                       ξ
                                       =
                                       
                                          
                                             t
                                          
                                          
                                             T
                                          
                                       
                                    
                                 
                              
                              {
                              ξ
                              ∈
                              [
                              0
                              ,
                              1
                              ]
                              }
                           
                        
                     
                  

The path and motion laws are simultaneously conducted with SA. The trajectory space is sampled while adjusting the position of the control points in order to find a best trajectory QBest
                      (ξ) with the minimized cost function 
                        
                           
                              
                                 F
                              
                              
                                 cost
                              
                              
                                 Best
                              
                           
                        
                     . We present in the following paragraph the RPA adapted to the case study.

The generation of the optimal trajectories with RPA for executing pick-up tasks consists of optimizing the cost function Fcost
                        . In this article, 
                           
                              
                                 
                                    F
                                 
                                 
                                    cost
                                 
                                 
                                    Best
                                 
                              
                           
                         represents the shortest execution time of the task, allowing generating trajectory respecting the constraints presented previously (Eqs. (1)–(8)).

The path profiles τ
                        1
                        
                           .
                        
                        2
                        
                           ,
                        
                        3 related to the joints angles of the manipulator include Na
                         control points. The positions of Nm
                         control points related to the elements τ
                        4 and τ
                        5 vary in the intervals 
                           
                              
                                 
                                    τ
                                 
                                 
                                    4
                                    ,
                                    5
                                 
                                 
                                    min
                                 
                              
                              (
                              j
                              )
                           
                         and 
                           
                              
                                 
                                    τ
                                 
                                 
                                    4
                                    ,
                                    5
                                 
                                 
                                    max
                                 
                              
                              (
                              j
                              )
                           
                         (
                           
                              j
                              ∈
                              [
                              1
                              ,
                              
                                 
                                    N
                                 
                                 
                                    m
                                 
                              
                              ]
                           
                        ). Motion profile is also modeled with Nλ
                         control points. One extra control point is added to the path profiles of the mobile system in order to satisfy the initial orientation 
                           
                              
                                 
                                    P
                                 
                                 
                                    6
                                 
                                 
                                    init
                                 
                              
                           
                         (Fig. 4
                        ). The principal steps allowing generating trajectories are presented in what follows:
                           
                              (1)
                              The velocities 
                                    
                                       
                                          
                                             
                                                
                                                   q
                                                
                                                
                                                   ̇
                                                
                                             
                                          
                                          
                                             i
                                          
                                       
                                       (
                                       t
                                       )
                                    
                                  and accelerations 
                                    
                                       
                                          
                                             
                                                
                                                   q
                                                
                                                
                                                   ¨
                                                
                                             
                                          
                                          
                                             i
                                          
                                       
                                       (
                                       t
                                       )
                                    
                                  (i
                                 ∊[0,5] for the case study) are transformed into profiles as:


                        
                           
                              (2)
                              The orientation of the mobile system τ
                                 6(λ) is deduced from the following equation after generating the trajectory profiles Q
                                 4(ξ) and Q
                                 5(ξ), and differentiating τ
                                 4(λ) and τ
                                 5(λ):


                        
                           
                              (3)
                              The velocity of the wheels are formulated by the following equation:


                        
                           
                              (4)
                              The parameters 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             i
                                          
                                          
                                             v
                                          
                                       
                                    
                                  and 
                                    
                                       
                                          
                                             T
                                          
                                          
                                             i
                                          
                                          
                                             a
                                          
                                       
                                    
                                  are an explicit lower bands for respecting the kinematic constraints for each ith joint of the system as:


                        
                           
                              (5)
                              The function Fcost
                                  calculated for any trajectory profile Q(ξ) is given by:

In this article, the manipulability parameter Man(
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    end
                                 
                              
                           
                        ) is included as a supplementary constraint in the search process of QBest
                        (ξ). The manipulability is calculated using the Singular Value Decomposition (SVD) of the Jacobian matrix Jm
                        (
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    end
                                 
                              
                           
                        ). SVD is a reliable method to compute the rank of the Jm
                        (
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    end
                                 
                              
                           
                        ). Manipulability is the isotropy index of the Jacobian matrix. It is the measure of distance from singular configuration. The Man(
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    end
                                 
                              
                           
                        ) can be written in the form:
                           
                              (17)
                              
                                 Man
                                 (
                                 
                                    
                                       P
                                    
                                    
                                       a
                                    
                                    
                                       end
                                    
                                 
                                 )
                                 =
                                 
                                    
                                       
                                          
                                             σ
                                          
                                          
                                             min
                                          
                                       
                                    
                                    
                                       
                                          
                                             σ
                                          
                                          
                                             max
                                          
                                       
                                    
                                 
                              
                           
                        where σ
                        max and σ
                        min are respectively the highest and the lowest singular values of Jm
                        (
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    end
                                 
                              
                           
                        ). Man(
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    end
                                 
                              
                           
                        ) has values ranging from 1 (for the most regular configuration) to 0 (for a singular configuration). At a singularity, the robot loses mobility in some operational space direction. We propose to detail the trajectory optimization method in the following sub-section.

The following algorithms (Algorithm 1 and 2) describe, respectively, the calculation of the cost function Fcost
                         and the RPA procedure for RobuTER/ULM.

In the first algorithm F
                        cost, the smoothing algorithms C_Spline and B_Spline_Mobile are called in order to generate a trajectory for the mobile system and to calculate 
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    end
                                 
                              
                           
                        . The calculated path profile is checked for collision. The current trajectory is rejected if the result of this check is affirmative. In this case, a Penalty parameter is affected to Fcost. Otherwise, the vector 
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    end
                                 
                              
                           
                         
                        is calculated. The final configuration of the manipulator is admitted if the pose of the mobile system allows reaching ITP while respecting the joints limits. After that, the manipulability Man(
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    end
                                 
                              
                           
                        ) is calculated and compared to Lmt. If Man is less than Lmt, the trajectory is generated for the manipulator and the execution time is calculated via the function GPPT.
                           
                              
                                 
                                 
                                    
                                       
                                          Algorithm 1. Calculation of the cost function
                                    
                                    
                                       
                                          Procedure Fcost
                                           (Input CP, Pinit
                                          , 
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      4
                                                   
                                                   
                                                      end
                                                   
                                                
                                                ,
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      5
                                                   
                                                   
                                                      end
                                                   
                                                
                                                ,
                                                
                                                   
                                                      
                                                         
                                                            q
                                                         
                                                         
                                                            ̇
                                                         
                                                      
                                                   
                                                   
                                                      max
                                                   
                                                
                                                ,
                                                
                                                   
                                                      
                                                         
                                                            q
                                                         
                                                         
                                                            ¨
                                                         
                                                      
                                                   
                                                   
                                                      max
                                                   
                                                
                                             
                                           
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            q
                                                         
                                                         
                                                            ¨
                                                         
                                                      
                                                   
                                                   
                                                      max
                                                   
                                                
                                             
                                          , Obstacle, Lmt, Output Time){
                                    
                                    
                                       
                                          
                                          λ(ξ)=
                                          C_Spline (CPλ
                                          , Nλ
                                          );
                                    
                                    
                                       
                                          B_Spline_Mobile(CP, Pint
                                          , 
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      4
                                                   
                                                   
                                                      end
                                                   
                                                
                                                ,
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      5
                                                   
                                                   
                                                      end
                                                   
                                                
                                             
                                          , Output τ
                                          4(λ), τ
                                          5(λ), τ
                                          6(λ), 
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      6
                                                   
                                                   
                                                      end
                                                   
                                                
                                             
                                          , 
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      m
                                                   
                                                   
                                                      end
                                                   
                                                
                                             
                                          );
                                    
                                    
                                       
                                          if (! Collision(τ
                                          4(λ), τ
                                          5(λ), τ
                                          6(λ), Obst)){
                                    
                                    
                                       
                                          
                                          IKM(Input 
                                          
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      m
                                                   
                                                   
                                                      end
                                                   
                                                
                                             
                                          , ITP, Output 
                                          
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      a
                                                   
                                                   
                                                      end
                                                   
                                                
                                             
                                          );
                                    
                                    
                                       
                                          
                                          if (
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      a
                                                   
                                                   
                                                      end
                                                   
                                                
                                             
                                          
                                          =∅){
                                    
                                    
                                       
                                          
                                          
                                          
                                          Time=Penalty;
                                    
                                    
                                       
                                          
                                          }
                                    
                                    
                                       
                                          
                                          else{
                                    
                                    
                                       
                                          
                                          
                                          
                                          Man (
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      a
                                                   
                                                   
                                                      end
                                                   
                                                
                                             
                                          );
                                    
                                    
                                       
                                          
                                          }
                                    
                                    
                                       
                                          
                                          if (Man
                                          <
                                          Lmt){
                                    
                                    
                                       
                                          
                                          
                                          
                                          Time
                                          =
                                          Penalty;
                                    
                                    
                                       
                                          
                                          }
                                    
                                    
                                       
                                          
                                          else{
                                    
                                    
                                       
                                          
                                          
                                          B_Spline_Arm(Input CP, Pint
                                          , Pend
                                          , λ(ξ), Output τa
                                          (λ));
                                    
                                    
                                       
                                          
                                          
                                          
                                          GPPT(Input CP, Pint
                                          , Pend
                                          , λ(ξ), τ(λ), 
                                             
                                                
                                                   
                                                      
                                                         
                                                            q
                                                         
                                                         
                                                            ̇
                                                         
                                                      
                                                   
                                                   
                                                      max
                                                   
                                                
                                                ,
                                                
                                                   
                                                      
                                                         
                                                            q
                                                         
                                                         
                                                            ¨
                                                         
                                                      
                                                   
                                                   
                                                      max
                                                   
                                                
                                             
                                          , Output TM
                                          );
                                    
                                    
                                       
                                          
                                          
                                          
                                          Time=TM
                                          ;
                                    
                                    
                                       
                                          
                                          }
                                    
                                    
                                       
                                          }
                                    
                                    
                                       
                                          else{
                                    
                                    
                                       
                                          
                                          
                                          Time
                                          =
                                          Penalty;
                                    
                                    
                                       
                                          }
                                    
                                    
                                       }
                                    
                                 
                              
                           
                        
                     

For the second algorithm, the positions of all the control points are initialized randomly on CPrand
                        . After the initialization Afterwards, SA procedure is called in order to calculate the optimized trajectory.
                           
                              
                                 
                                 
                                    
                                       
                                          Algorithm 2. The RPA procedure
                                    
                                    
                                       Procedure RPA (Input Pinit
                                          , P
                                          min, P
                                          max, τ
                                          min, τ
                                          max, XRA
                                          , YRA
                                          , 
                                             
                                                
                                                   
                                                      
                                                         
                                                            q
                                                         
                                                         
                                                            ̇
                                                         
                                                      
                                                   
                                                   
                                                      max
                                                   
                                                
                                                ,
                                                
                                                   
                                                      
                                                         
                                                            q
                                                         
                                                         
                                                            ¨
                                                         
                                                      
                                                   
                                                   
                                                      max
                                                   
                                                
                                             
                                          , ITP, Na
                                          , Nm
                                          , Nλ
                                          , Output 
                                             
                                                
                                                   
                                                      F
                                                   
                                                   
                                                      cost
                                                   
                                                   
                                                      Best
                                                   
                                                
                                             
                                          ){
                                    
                                    
                                       
                                          
                                          P_Intervals
                                          =
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       P
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       min
                                                                                    
                                                                                 
                                                                                 (
                                                                                 i
                                                                                 )
                                                                                 ,
                                                                                 
                                                                                    
                                                                                       P
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       max
                                                                                    
                                                                                 
                                                                                 (
                                                                                 i
                                                                                 )
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           i
                                                                           =
                                                                           1
                                                                        
                                                                        
                                                                           Na
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               3
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       τ
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       min
                                                                                    
                                                                                 
                                                                                 (
                                                                                 i
                                                                                 )
                                                                                 ,
                                                                                 
                                                                                    
                                                                                       τ
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       max
                                                                                    
                                                                                 
                                                                                 (
                                                                                 i
                                                                                 )
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           i
                                                                           =
                                                                           1
                                                                        
                                                                        
                                                                           Nm
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                            
                                                               j
                                                               =
                                                               4
                                                            
                                                            
                                                               5
                                                            
                                                         
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        X
                                                                     
                                                                     
                                                                        RA
                                                                     
                                                                     
                                                                        min
                                                                     
                                                                  
                                                                  ,
                                                                  
                                                                     
                                                                        X
                                                                     
                                                                     
                                                                        RA
                                                                     
                                                                     
                                                                        max
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        Y
                                                                     
                                                                     
                                                                        RA
                                                                     
                                                                     
                                                                        min
                                                                     
                                                                  
                                                                  ,
                                                                  
                                                                     
                                                                        Y
                                                                     
                                                                     
                                                                        RA
                                                                     
                                                                     
                                                                        max
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         
                                                            
                                                               [
                                                               0
                                                               ,
                                                               1
                                                               ]
                                                            
                                                            
                                                               1
                                                            
                                                            
                                                               N
                                                               λ
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          ;
                                    
                                    
                                       
                                          
                                          CPam
                                          
                                          =
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       CP
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       i
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           i
                                                                           =
                                                                           1
                                                                        
                                                                        
                                                                           Na
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                            
                                                               j
                                                               =
                                                               1
                                                            
                                                            
                                                               3
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              
                                                                                 
                                                                                    
                                                                                       CP
                                                                                    
                                                                                    
                                                                                       j
                                                                                    
                                                                                    
                                                                                       i
                                                                                    
                                                                                 
                                                                              
                                                                           
                                                                        
                                                                        
                                                                           i
                                                                           =
                                                                           1
                                                                        
                                                                        
                                                                           Nm
                                                                        
                                                                     
                                                                  
                                                               
                                                            
                                                            
                                                               j
                                                               =
                                                               4
                                                            
                                                            
                                                               5
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              CP
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        XRA
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                         ,
                                                         
                                                            
                                                               
                                                                  
                                                                     
                                                                        
                                                                           
                                                                              CP
                                                                           
                                                                        
                                                                     
                                                                     
                                                                        YRA
                                                                     
                                                                  
                                                               
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          ;
                                    
                                    
                                       
                                          
                                          CPλ
                                          
                                          =
                                          
                                             
                                                
                                                   
                                                      [
                                                      
                                                         
                                                            CP
                                                         
                                                         
                                                            i
                                                         
                                                      
                                                      ]
                                                   
                                                   
                                                      i
                                                      =
                                                      1
                                                   
                                                   
                                                      N
                                                      λ
                                                   
                                                
                                             
                                          ;
                                    
                                    
                                       
                                          
                                          CP
                                          =[CPam
                                          , CPλ
                                          ];
                                    
                                    
                                       
                                          
                                          CPrand
                                          
                                          =
                                          Random (P_Intervals);
                                    
                                    
                                       
                                          
                                          
                                             
                                                
                                                   
                                                      F
                                                   
                                                   
                                                      cost
                                                   
                                                   
                                                      init
                                                   
                                                
                                             
                                          
                                          =
                                          Fcost
                                           (CPrand
                                          , Pinit
                                          , 
                                             
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      4
                                                   
                                                   
                                                      end
                                                   
                                                
                                                ,
                                                
                                                   
                                                      P
                                                   
                                                   
                                                      5
                                                   
                                                   
                                                      end
                                                   
                                                
                                                ,
                                                
                                                   
                                                      
                                                         
                                                            q
                                                         
                                                         
                                                            ̇
                                                         
                                                      
                                                   
                                                   
                                                      max
                                                   
                                                
                                                ,
                                                
                                                   
                                                      
                                                         
                                                            q
                                                         
                                                         
                                                            ¨
                                                         
                                                      
                                                   
                                                   
                                                      max
                                                   
                                                
                                             
                                          , Obstacles, Lmt);
                                    
                                    
                                       
                                          
                                          
                                             
                                                
                                                   
                                                      F
                                                   
                                                   
                                                      cost
                                                   
                                                   
                                                      Best
                                                   
                                                
                                             
                                          
                                          =
                                          SA(
                                             
                                                
                                                   
                                                      F
                                                   
                                                   
                                                      cost
                                                   
                                                   
                                                      init
                                                   
                                                
                                             
                                          , Niter
                                          );
                                    
                                    
                                       }
                                    
                                 
                              
                           
                        
                     

@&#RESULTS@&#

This section presents an analysis of the movement of RobuTER/ULM executing an operational task. Simulation results are evaluated in cluttered and free environment, in order to analyze the impact of adding the manipulability constraint to RPA. Experimental validation is also presented in order to test the feasibility of the presented approach. The impact of the path planning level is also tested, with modifying the limit 
                        
                           
                              
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         P
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         min
                                                      
                                                   
                                                   (
                                                   i
                                                   )
                                                   ,
                                                   
                                                      
                                                         P
                                                      
                                                      
                                                         j
                                                      
                                                      
                                                         max
                                                      
                                                   
                                                   (
                                                   i
                                                   )
                                                
                                             
                                          
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             Nm
                                          
                                       
                                    
                                 
                              
                              
                                 j
                                 =
                                 4
                              
                              
                                 5
                              
                           
                        
                     .

Simulation results are presented in Table 2
                        . The parameters Na
                        
                        =6, Nm
                        
                        =6 and Nλ
                        
                        =4 are the inputs. ITP
                        =[1.39m, 5.23m, 0.65m], Pinit
                        
                        =[0°, 0°, 0°, 5.5m, 1.3m, 180°]. The iteration number of SA algorithm is Niter
                        
                        =100. The area RA is sampled and the manipulability calculated for every pose of the mobile robot. The maximum admitted manipulability index value 0.47 (in the presented work) is the threshold assigned to the parameter Lmt. The manipulator takes most regular pose if the parameter Man is as close as possible to Lmt.

The following figures show the generated trajectories for the mobile robot and for the manipulator. The successive configurations and the velocities of the system are also presented.

@&#EXPERIMENTAL RESULTS@&#

The trajectories are validated against experimentations in free environment. The experimental results are presented in Table 3
                        . The inputs are Pinit
                        
                        =[0°, 0°, 0°, 0m, 0m, 90°] and ITP
                        =[−0.1085m, 3.93m, 0.658m].

The successive velocities assigned to the robot’s actuators are sampled from the trajectories generated off-line and sent to the low-level controllers. Fig. 8
                        
                        
                        
                         presents the real trajectory and the position consigns for the mobile robot. Figs. 9 and 10
                        
                         show the real and the off-line generated trajectories of the EF.


                        Fig. 11
                         shows workspace representation of the reachability of the robot. The reachability is constructed by going through all the points [XR
                        , YR
                        , ZR
                        ] belonging to a cube surrounding ITP, while the IKM(
                           
                              
                                 
                                    P
                                 
                                 
                                    m
                                 
                                 
                                    end
                                 
                              
                           
                        , [XR
                        , YR
                        , ZR
                        ], 
                        
                           
                              
                                 
                                    P
                                 
                                 
                                    a
                                 
                                 
                                    end
                                 
                              
                           
                        ) is solved. The degree of reachability represents the number of reachable points with the coordinates [XR
                        , YR
                        ] and a variable coordinate ZR
                        . The total number of reachable points is about 35000 when the manipulability is considered against 21943 for the other case.

There are several common features between the simulation results (Figs. 5–7). Indeed, the manipulability and the execution time are correlated. The velocity of at least one of the wheels of the mobile robot is saturated (reaches the permissible velocity 1rad/s), and supplementary movement of the arm is noticed while introducing the manipulability constraint. Finding concession between the execution time of the task and the manipulability index values depends on the task requirements. In fact, optimizing the execution time is an efficient condition for repetitive movements of the robot. On the other hand, maximizing the manipulability is important index for executing tasks based on manipulation.

It should be noted also, an observed difference of 9s between the calculated Fcost
                         related to trajectories generated in cluttered environment (Fig. 5 and Table 2). In fact, the orientations P
                        6 get through three major phases. The value of P
                        6 changes from an initial (
                           
                              
                                 
                                    P
                                 
                                 
                                    6
                                 
                                 
                                    end
                                 
                              
                           
                        
                        =180°) to an intermediate (P
                        6
                        =135°) values. The wheels actuators reach maximum allowable speed. The mobile system is then constrained to change the orientation in the vicinity of the ITP. Additional time is required to reach the imposed 
                           
                              
                                 
                                    P
                                 
                                 
                                    6
                                 
                                 
                                    end
                                 
                              
                           
                        
                        =148°. Unsatisfactory results in terms of execution time are obtained in Case 1. The mobile system starts the displacement oriented to 
                           
                              
                                 
                                    P
                                 
                                 
                                    6
                                 
                                 
                                    end
                                 
                              
                           
                        . However, the bounding area of the first control point is situated in higher position. This forces the vehicle rapidly to switch into an other orientation, difficult to be reached (regarding the non-holonomic constraint). In the second case, the search space of the first variable control point is in the same level as the initial placement of the mobile system. This requires less effort to change the orientation. The non-holonomic constraint both with obstacles located above the target contribute to increase the value of 
                           
                              
                                 
                                    F
                                 
                                 
                                    cost
                                 
                                 
                                    Best
                                 
                              
                           
                         and to make the movement of the mobile robot rather difficult when approaching ITP. The arrangement of the bounding areas of control points, generated in the free space of the vehicle, is also a factor influencing on the time duration of the task. The rejection rate of acceptable generated trajectories is reduced in cluttered environments.

The experimental results show that the real final location of the EF is very close to the desired positions (Table 3). However, the position tracking error of the EF (Figs. 10a and 11a) occurred. Indeed, position tracking errors occurred for the vehicle (Fig. 8) and for the joints of the manipulation the manipulator (Figs. 10b and 11b) during the execution of the assigned consigns. The control scheme allows tracking accurately the velocity command signals, contrary to the position reference values. The occurred unavoidable errors might be quantified and included in the collision-detection process. Coordinating the collision-free movement of the manipulator with that of the mobile robot is not required leading only more energy consumption. The ITP can be reached with introducing manipulability constraint even if tracking errors occurred. It is preferable to change the configuration of the manipulator because RobuTER is restricted by a non-holonomic constraint.

The final configuration of the manipulator appears extended in Fig. 9b contrary to the other configuration Fig. 9a. The result presented in Fig. 12
                        b suggests that the reachability increases in the volume close to the mobile system, and increases in the volume located at the rear of ITP (Fig. 12a). Introducing the manipulability constraint to the 
                           
                              
                                 
                                    F
                                 
                                 
                                    cost
                                 
                                 
                                    Best
                                 
                              
                           
                         search process augments the reachability of the manipulator. The large concentration of high reachability values might be in a volume far from the mobile system. This allows the avoidance of self-collision.

@&#CONCLUSION@&#

An analysis of a mobile manipulator movement performing a pick-up task was presented. Optimal time trajectories were generated using RPA. Manipulability index was included as a constraint. The mobile robot was forced to take a certain final pose, guaranteeing non-singular configuration of the manipulator. The influence of the manipulability measure on the execution time of the task (in free and cluttered environments) was studied. The feasibility of the presented approach was implemented on a real robot: the RobuTER/ULM.

The addressed trajectory generation issue is converted from a multi-objective into a mono-objective optimization problem. As a consequence, the two weighted objective functions are transformed into only one cost function in which the principal objective is time optimization, whereas the secondary objective is transformed into a constraint in the form of a Manipulability threshold.

The manipulator is forced to reach a target-point in a most regular way. Utmost rejection of the generated trajectories (which might increase in the presence of obstacles) is avoided. Although positioning errors due to the control of the robot occurred, the proposed solution in this article allows performing tasks oriented manipulation correctly. Preliminary expertise of the distribution and the maximum admitted value of the manipulability index (around the target-point) is however required. Setting priority to manipulation tasks alters the cost function and increases the execution time.

The proposed methodology can be expanded to the achievement of other kind of tasks (e.g., following operational paths). However, the control of the end-effector movement might be executed in the operational space, in order to avoid high tracking errors. Furthermore, external sensors (camera, Laser Measurement Sensors, ultrasonic sensors) and localization module should be introduced to enhance the robustness of the presented approach. The integration of the end-effector orientation, and the collision detector into the manipulator (i.e. in the presented trajectory generation algorithm) might extend the impact of the presented study.

@&#REFERENCES@&#

