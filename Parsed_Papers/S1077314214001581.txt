@&#MAIN-TITLE@&#Temporal validation of Particle Filters for video tracking

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           A novel approach to determine adaptively the temporal consistency of Particle Filters.


                        
                        
                           
                           The proposed method is demonstrated on online performance evaluation of tracking.


                        
                        
                           
                           Temporal consistency is modeled by convolutions of mixtures of Gamma distributions.


                        
                        
                           
                           The proposed method does not need thresholds and can be used on large datasets.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Particle Filter

Uncertainty

Model validation

Change detection

Performance evaluation

Video tracking

@&#ABSTRACT@&#


               
               
                  We present an approach for determining the temporal consistency of Particle Filters in video tracking based on model validation of their uncertainty over sliding windows. The filter uncertainty is related to the consistency of the dispersion of the filter hypotheses in the state space. We learn an uncertainty model via a mixture of Gamma distributions whose optimum number is selected by modified information-based criteria. The time-accumulated model is estimated as the sequential convolution of the uncertainty model. Model validation is performed by verifying whether the output of the filter belongs to the convolution model through its approximated cumulative density function. Experimental results and comparisons show that the proposed approach improves both precision and recall of competitive approaches such as Gaussian-based online model extraction, bank of Kalman filters and empirical thresholding. We combine the proposed approach with a state-of-the-art online performance estimator for video tracking and show that it improves accuracy compared to the same estimator with manually tuned thresholds while reducing the overall computational cost.
               
            

@&#INTRODUCTION@&#

Sequential Monte Carlo methods, also known as Particle Filters, have demonstrated their success for parameter estimation in nonlinear and non-Gaussian problems in many areas such as video tracking [1], navigation [2], econometrics [3] and signal processing [4]. When the observed data hold the modeling assumptions, the estimated errors converge to zero [5] (i.e. with zero mean and small covariance). However, several sources of error exist that affect the filter performance and lead to inconsistency, where the estimated errors have non-zero mean or high covariance [6]. Filter consistency is commonly analyzed to detect estimation errors over time [7].

Determining the temporal consistency of Particle Filters can be cast as a change detection problem [8]: consistency measures are generated and then analyzed for deciding between one of two cases, namely consistent or inconsistent operation. Examples of such approaches include the χ
                     2 validation [6], the cumulative sum (CUSUM) [9] and the expected model likelihood [10]. However, their performance is limited due to drawbacks related to high-dimensional state spaces [6], prior change magnitude assumptions [9] or empirical thresholding [10]. Domain-related knowledge can be exploited to improve change detection performance. For example, in video tracking, Particle Filter consistency is measured as spatial uncertainty [11], time-reversibility [12] or combining both approaches [13]. However, current approaches are tuned to particular data either in the consistency measurement or in the change detection process due to the need of using empirical thresholding approach [12,13].

In order to enable the application of Particle Filter validation to unseen data, in this paper we propose an approach to estimate its temporal consistency without relying on empirical thresholding and we present a robust model for temporal filter uncertainty. We measure filter consistency as its uncertainty (dispersion of its hypotheses in the state space) and validate an uncertainty model over sliding windows, allowing to increase the robustness of the consistency estimation, unlike existing approaches based on single-point analysis [14,12,13]. Such uncertainty model is approximated by sequential convolutions of mixtures of Gamma distributions whose number of mixture components is selected via modified information-based criteria. By applying hypothesis testing over filter uncertainty models, the parameters required for detecting inconsistency are automatically determined, unlike empirical-based approaches [15,12,13,16]. The proposed approach is included in a framework for online performance evaluation of video tracking [13]. The results show that the proposed approach improves related work over two heterogeneous datasets containing challenges in both change detection and video tracking.

The paper is organized as follows: Section 2 states the addressed problem and Section 3 discusses the related work. Section 4 presents the proposed approach whereas Section 5 describes the filter consistency modeling. Section 6 introduces its use for video tracking evaluation. Section 7 presents and discusses the experimental results. Finally, Section 8 concludes the paper.

Let 
                        
                           
                              
                                 X
                              
                              
                                 t
                              
                           
                           =
                           
                              
                                 {
                                 (
                                 
                                    
                                       x
                                    
                                    
                                       t
                                    
                                    
                                       (
                                       n
                                       )
                                    
                                 
                                 ,
                                 
                                    
                                       π
                                    
                                    
                                       t
                                    
                                    
                                       (
                                       n
                                       )
                                    
                                 
                                 )
                                 }
                              
                              
                                 n
                                 =
                                 1
                                 ,
                                 …
                                 ,
                                 N
                              
                           
                        
                      be the output of N weighted particles generated by a Particle Filter at time t, where each 
                        
                           
                              
                                 x
                              
                              
                                 t
                              
                              
                                 (
                                 n
                                 )
                              
                           
                        
                      defines a hypothetical estimation weighted by 
                        
                           
                              
                                 π
                              
                              
                                 t
                              
                              
                                 (
                                 n
                                 )
                              
                           
                        
                     . Each particle should have a low (high) weight when it is far from (close to) the ideal state. Each particle is recursively obtained with a prediction, 
                        
                           g
                           (
                           .
                           )
                        
                      
                     [17]:
                        
                           (1)
                           
                              
                                 
                                    x
                                 
                                 
                                    t
                                 
                                 
                                    (
                                    n
                                    )
                                 
                              
                              =
                              g
                              
                                 
                                    
                                       
                                          
                                             x
                                          
                                          
                                             t
                                             -
                                             1
                                          
                                          
                                             (
                                             n
                                             )
                                          
                                       
                                       ,
                                       
                                          
                                             κ
                                          
                                          
                                             t
                                          
                                       
                                    
                                 
                              
                              ,
                           
                        
                     and an update step 
                        
                           z
                           (
                           .
                           )
                        
                     :
                        
                           (2)
                           
                              
                                 
                                    π
                                 
                                 
                                    t
                                 
                                 
                                    (
                                    n
                                    )
                                 
                              
                              ∝
                              z
                              
                                 
                                    
                                       
                                          
                                             x
                                          
                                          
                                             t
                                          
                                          
                                             (
                                             n
                                             )
                                          
                                       
                                       ,
                                       
                                          
                                             ρ
                                          
                                          
                                             t
                                          
                                       
                                    
                                 
                              
                              ,
                           
                        
                     where 
                        
                           
                              
                                 
                                    
                                       
                                          
                                             κ
                                          
                                          
                                             t
                                          
                                       
                                    
                                 
                              
                              
                                 t
                                 =
                                 1
                                 ,
                                 …
                              
                           
                        
                      and 
                        
                           
                              
                                 
                                    
                                       
                                          
                                             ρ
                                          
                                          
                                             t
                                          
                                       
                                    
                                 
                              
                              
                                 t
                                 =
                                 1
                                 ,
                                 …
                              
                           
                        
                      are independent and identically distributed random processes. From these steps two distributions are derived, namely the prior and posterior distribution. The prior distribution predicts the states (particles) relying on previous data only; whereas the posterior distribution is estimated by considering the prior given all observations up to the current observation time.

The problem we address is the online determination of the consistency of the filter (i.e. its reliability) by observing the posterior distribution. A consistent behavior means that 
                        
                           
                              
                                 X
                              
                              
                                 t
                              
                           
                        
                      provides an accurate state estimation. Let C and I be the labels for consistency and inconsistency, respectively. The goal of online inconsistency detection is to assign a label 
                        
                           
                              
                                 l
                              
                              
                                 t
                              
                           
                        
                      as follows:
                        
                           (3)
                           
                              
                                 
                                    X
                                 
                                 
                                    t
                                 
                              
                              
                                 
                                    →
                                 
                                 
                                    φ
                                    (
                                    ·
                                    )
                                 
                              
                              
                                 
                                    l
                                 
                                 
                                    t
                                 
                              
                              ∈
                              {
                              C
                              ,
                              
                              I
                              }
                              ,
                           
                        
                     where 
                        
                           φ
                           (
                           ·
                           )
                        
                      is the labeling approach. Such approach should be accurate, offer low latency and operate without manual parameter tuning. Fig. 1
                      shows an example of a Particle-Filter-based tracker where the filter becomes inconsistent as most of the hypotheses are apart from each other and have small weights. The labeling approach shall automatically identify this inconsistent behavior of the filter.

@&#RELATED WORK@&#

In this section, we review the literature for estimating the consistency of a Particle Filter and for change detection, which are later particularized for video tracking.

The consistency of a Particle Filter can be estimated from its posterior. For example, likelihood ratios are computed using filter observations (weights) for consistent and inconsistent assumptions, which are later accumulated over time [9]. The Kullback–Leibler divergence is used to measure differences between prior and posterior distributions [10]. However, the prior is assumed to be static without being conditioned to the observed data over time, thus limiting its use to stationary prediction [10], i.e. the variance of the posterior does not increase with time. Filter consistency can be estimated as the dispersion of its hypotheses (particles) in the state space [11]. The posterior hypotheses could be also converted into uniformly distributed variables through the cumulative distribution of the observations [6]. However, its computation for high-dimensional state spaces is not feasible [12]. The Mahalanobis distance (MD) between forward and backward filters can also be used for consistency estimation [12]. However, MD values have not got a fixed variation range for identifying filter inconsistency without ambiguities as several values can simultaneously represent consistent and inconsistent operation under different conditions [13]. Recently, concentration measures have been proposed using the likelihood of the filter observations [19].

Estimating inconsistency of Particle Filters can be approached as a change detection problem. The goal is to recognize significant deviations from a known level of the measurement. Approaches exist based on single or multiple detectors [7]. Single-detector approaches apply a whiteness test to the filter residuals (errors). The cumulative sum approach (CUSUM) is a popular single-detector example that accumulates likelihood ratios of a Particle Filter [9]. Then, empirical thresholding is used to detect changes [9,10,19]. Multi-detector approaches have each detector matched to a certain change assumption. Although not applied to Particle Filters, several approaches exist for signal processing such as the bank of matched filters [7] and Parallel-CUSUM [20]. The former adapts each detector to new change hypothesis when its prediction error is high and the latter runs in parallel several (differently adjusted) CUSUM detectors. Both detect changes by concatenating over time the results of the most probable detectors, namely those with lowest prediction errors. However, CUSUM-based approaches require prior knowledge of the change magnitude, an information that is often not available. For unknown change magnitudes, model validation has been proposed as an alternative when only the unchanged status is known by computing its fitness with observed data [8] such as the χ
                     2 test to verify uniformity of measurements [6]. Finally, other approaches do not consider any prior modeling or thresholding and use sliding windows for online model extraction and validation. Examples are the two-model validation through the χ
                     2 test [7] and SVMs [21], where both models are extracted from sliding windows with different lengths, assuming that one does not have any changes. However, online model extraction requires a minimum window length to get statistically significant models.

Particle Filters are widely employed for parameter estimation of targets in video tracking. Filter consistency is analyzed for performance evaluation over time to detect errors. Examples are those looking at time-reversibility [12], spatial uncertainty change over time [13], illumination model consistency [22] or filter selection in multi-camera settings [23]. One of the major problems is the use of consistency statistics [11,12] whose variation range is unknown, thus making it difficult to estimate a significant deviation. Empirical thresholding is broadly applied to detect changes, limiting their application to unseen data. Similar approaches also exist for non-Particle Filter-based approaches focused on feature accuracy [14], filter switching [24] or multi-hypothesis similarity [15,16]. All these approaches are making use of data-dependent manually selected thresholds (computed offline) for change detection. This manual tuning prevents the design of online strategies to correct inconsistency thus limiting the analysis of new data.


                     Table 1
                      compares the main approaches discussed in this section. In summary, current estimators of Particle Filter consistency are limited as most of the extracted measures have not got a bounded range of variation [12], require the knowledge of change magnitudes [9], use empirical thresholding [10,13,22] or are not applicable to large state spaces [6].

Model validation provides a robust framework for Particle Filter consistency analysis whose performance could be improved by sliding windows. For measuring the consistency of the Particle Filter, we first compute the uncertainty of its posterior and accumulate its change over a temporal window. Then, we validate an uncertainty change model to check consistency (Fig. 2
                     ). We term the proposed approach as Accumulated Validation of Uncertainty (AVU).

We estimate the uncertainty for each time t by measuring the spread of the generated hypotheses in the state space through 
                           
                              
                                 
                                    Σ
                                 
                                 
                                    t
                                 
                              
                              =
                              [
                              
                                 
                                    ζ
                                 
                                 
                                    ij
                                 
                              
                              ]
                           
                         (the covariance matrix of the filter output 
                           
                              
                                 
                                    X
                                 
                                 
                                    t
                                 
                              
                           
                        ), where each element 
                           
                              
                                 
                                    ζ
                                 
                                 
                                    ij
                                 
                              
                           
                         is defined as [11]:
                           
                              (4)
                              
                                 
                                    
                                       ζ
                                    
                                    
                                       ij
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          n
                                          =
                                          1
                                       
                                       
                                          N
                                       
                                    
                                 
                                 
                                    
                                       π
                                    
                                    
                                       (
                                       n
                                       )
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                             
                                                i
                                             
                                             
                                                (
                                                n
                                                )
                                             
                                          
                                          -
                                          
                                             
                                                μ
                                             
                                             
                                                i
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                             
                                                j
                                             
                                             
                                                (
                                                n
                                                )
                                             
                                          
                                          -
                                          
                                             
                                                μ
                                             
                                             
                                                j
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    x
                                 
                                 
                                    i
                                 
                                 
                                    (
                                    n
                                    )
                                 
                              
                           
                         is the ith element of the nth estimation (particle) of 
                           
                              
                                 
                                    X
                                 
                                 
                                    t
                                 
                              
                              ,
                              
                                 
                                    μ
                                 
                                 
                                    i
                                 
                              
                              =
                              E
                              
                                 
                                    
                                       
                                          
                                             x
                                          
                                          
                                             i
                                          
                                          
                                             (
                                             1
                                             ,
                                             …
                                             ,
                                             N
                                             )
                                          
                                       
                                    
                                 
                              
                           
                         and 
                           
                              E
                              
                                 
                                    
                                       ·
                                    
                                 
                              
                           
                         is the expectation. The filter uncertainty is computed as [13]:
                           
                              (5)
                              
                                 
                                    
                                       u
                                    
                                    
                                       t
                                    
                                 
                                 =
                                 
                                    
                                       1
                                    
                                    
                                       C
                                    
                                 
                                 
                                    
                                       det
                                       
                                          
                                             
                                                
                                                   
                                                      Σ
                                                   
                                                   
                                                      t
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       d
                                    
                                 
                                 ,
                              
                           
                        where C is a normalizing constant to consider the target size as in [13], 
                           
                              det
                              (
                              ·
                              )
                           
                         is the matrix determinant and d is the number of dimensions of 
                           
                              
                                 
                                    x
                                 
                                 
                                    t
                                 
                                 
                                    n
                                 
                              
                           
                        . Unlike [13], we compute the uncertainty 
                           
                              
                                 
                                    u
                                 
                                 
                                    t
                                 
                              
                           
                         (Eq. (5)) for the complete target state without temporal smoothing. Fig. 3
                         shows an example of uncertainty analysis of Particle Filters for video tracking where the filter becomes inconsistent when losing the target around frame 540.

For detecting uncertainty transitions from low-to-high or high-to-low values, we compute a change signal 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         that maximizes the difference between 
                           
                              
                                 
                                    u
                                 
                                 
                                    t
                                 
                              
                           
                         and previous uncertainty values. We use a sliding window of length W to remove the offset uncertainty value that could be exhibited due to the initial configuration or the observations:
                           
                              (6)
                              
                                 
                                    
                                       c
                                    
                                    
                                       t
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      u
                                                   
                                                   
                                                      t
                                                   
                                                
                                                -
                                                
                                                   
                                                      u
                                                   
                                                   
                                                      
                                                         
                                                            t
                                                         
                                                         
                                                            ˆ
                                                         
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   
                                                      u
                                                   
                                                   
                                                      
                                                         
                                                            t
                                                         
                                                         
                                                            ˆ
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        where
                           
                              (7)
                              
                                 
                                    
                                       t
                                    
                                    
                                       ˆ
                                    
                                 
                                 =
                                 
                                    
                                       argmax
                                    
                                    
                                       j
                                       ∈
                                       W
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      
                                                         
                                                            
                                                               u
                                                            
                                                            
                                                               t
                                                            
                                                         
                                                         -
                                                         
                                                            
                                                               u
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                      
                                                         
                                                            
                                                               u
                                                            
                                                            
                                                               j
                                                            
                                                         
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

The problem consists of detecting changes in the time series 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                              
                              (
                              t
                              =
                              1
                              ,
                              2
                              ,
                              …
                              )
                           
                        , which is sampled from a random variable Q following the probability density function (pdf) 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                        . For increasing robustness of model validation, we accumulate 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         by using a sliding window of length L:
                           
                              (8)
                              
                                 
                                    
                                       s
                                    
                                    
                                       t
                                    
                                 
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          r
                                          =
                                          1
                                       
                                       
                                          L
                                       
                                    
                                 
                                 
                                    
                                       w
                                    
                                    
                                       r
                                    
                                 
                                 
                                    
                                       c
                                    
                                    
                                       r
                                       +
                                       t
                                       -
                                       L
                                    
                                 
                                 ,
                              
                           
                        where L determines the amount of historical data considered and 
                           
                              
                                 
                                    w
                                 
                                 
                                    r
                                 
                              
                              ∈
                              (
                              0
                              ,
                              1
                              ]
                           
                         weights the contribution of each 
                           
                              
                                 
                                    c
                                 
                                 
                                    r
                                    +
                                    t
                                    -
                                    L
                                 
                              
                           
                         to 
                           
                              
                                 
                                    s
                                 
                                 
                                    t
                                 
                              
                           
                         defining the amount of variation required for detecting the change. For example, a geometric weight (
                           
                              
                                 
                                    w
                                 
                                 
                                    r
                                 
                              
                              =
                              (
                              1
                              -
                              λ
                              )
                           
                         
                        
                           
                              
                                 
                                    λ
                                 
                                 
                                    r
                                 
                              
                           
                         with 
                           
                              λ
                              ∈
                              [
                              0
                              ,
                              1
                              ]
                           
                        ) [7] gives low importance to new data, whereas all data are equally considered with a uniform weight 
                           
                              (
                              
                                 
                                    w
                                 
                                 
                                    r
                                 
                              
                              =
                              1
                              )
                           
                        . The former case requires higher variation in the new incoming data than the latter for detecting a possible change. We use uniform weights as we are interested in studying changes over time without having any prior assumptions on the filter response (i.e. if changes are long-term or short-term).

Let the null hypothesis 
                           
                              
                                 
                                    H
                                 
                                 
                                    0
                                 
                              
                           
                         indicate that data are consistent with the model 
                           
                              
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             t
                                          
                                       
                                       ∈
                                       S
                                    
                                 
                              
                           
                         and 
                           
                              
                                 
                                    s
                                 
                                 
                                    t
                                 
                              
                           
                         be sampled from a random variable S following the pdf 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         which describes the time accumulation of 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                        , thus defining the test statistic for the 
                           
                              
                                 
                                    H
                                 
                                 
                                    0
                                 
                              
                           
                         hypothesis. Let 
                           
                              
                                 
                                    H
                                 
                                 
                                    1
                                 
                              
                           
                         be the hypothesis that a change occurred with unknown magnitude and parameters (i.e. non-trainable). Model validation implies that one of the hypotheses holds true [5]:
                           
                              (9)
                              
                                 
                                    
                                       
                                       
                                          
                                             
                                                
                                                   H
                                                
                                                
                                                   0
                                                
                                             
                                             :
                                             
                                             
                                                
                                                   s
                                                
                                                
                                                   t
                                                
                                             
                                             ∈
                                             S
                                          
                                       
                                    
                                    
                                       
                                       
                                          
                                             
                                                
                                                   H
                                                
                                                
                                                   1
                                                
                                             
                                             :
                                             
                                             
                                                
                                                   s
                                                
                                                
                                                   t
                                                
                                             
                                             
                                             ∉
                                             
                                             S
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        
                        
                           
                              
                                 
                                    H
                                 
                                 
                                    1
                                 
                              
                           
                         is accepted (
                           
                              
                                 
                                    H
                                 
                                 
                                    0
                                 
                              
                           
                         is rejected) when a change is detected 
                           
                              
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             t
                                          
                                       
                                       
                                       ∉
                                       
                                       S
                                    
                                 
                              
                           
                        . For testing the 
                           
                              
                                 
                                    H
                                 
                                 
                                    0
                                 
                              
                           
                         hypothesis, we use the cumulative distribution function (cdf) of S defined as follows:
                           
                              (10)
                              
                                 
                                    
                                       P
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 j
                                 )
                                 =
                                 
                                    ∫
                                    
                                       -
                                       ∞
                                    
                                    
                                       j
                                    
                                 
                                 
                                    
                                       p
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 v
                                 )
                                 
                                 dv
                                 .
                              
                           
                        
                     

For accepting 
                           
                              
                                 
                                    H
                                 
                                 
                                    0
                                 
                              
                           
                        , a probability of false alarms α is required [7] (with values ranging from 0.001 to 0.05 depending on the application) resulting in the following condition:
                           
                              (11)
                              
                                 
                                    
                                       P
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 
                                    
                                       s
                                    
                                    
                                       t
                                    
                                 
                                 >
                                 β
                                 )
                                 =
                                 α
                                 ,
                              
                           
                        where β is a constant to determine if 
                           
                              
                                 
                                    s
                                 
                                 
                                    t
                                 
                              
                           
                         values follow 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         depending on the considered cdf 
                           
                              
                                 
                                    P
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         and the false alarm rate α. Then, Eq. (11) is reformulated as 
                           
                              
                                 
                                    P
                                 
                                 
                                    2
                                 
                              
                              (
                              
                                 
                                    
                                       
                                          
                                             s
                                          
                                          
                                             t
                                          
                                       
                                    
                                 
                              
                              <
                              β
                              )
                              =
                              1
                              -
                              α
                           
                         to define the hypothesis test for detecting a change in 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         as the condition 
                           
                              
                                 
                                    s
                                 
                                 
                                    t
                                 
                              
                              >
                              β
                           
                        . The value of β can be (approximately) determined by computing the empirical distribution of 
                           
                              
                                 
                                    s
                                 
                                 
                                    t
                                 
                              
                           
                         and estimating the α-quantile.

In summary, the proposed approach relies on estimating the cdf 
                           
                              
                                 
                                    P
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        , which depends on the pdfs 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         and 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         of the data 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         and 
                           
                              
                                 
                                    s
                                 
                                 
                                    t
                                 
                              
                           
                        , respectively, and the computation of β to accept (
                           
                              
                                 
                                    l
                                 
                                 
                                    t
                                 
                              
                              =
                              C
                           
                        ) or reject (
                           
                              
                                 
                                    l
                                 
                                 
                                    t
                                 
                              
                              =
                              I
                           
                        ) 
                           
                              
                                 
                                    H
                                 
                                 
                                    0
                                 
                              
                           
                        .

We now model the consistent filter status 
                        
                           
                              
                                 p
                              
                              
                                 1
                              
                           
                           (
                           v
                           )
                        
                      and its window-based accumulation 
                        
                           
                              
                                 p
                              
                              
                                 2
                              
                           
                           (
                           v
                           )
                        
                     .

Obtaining the PF uncertainty change 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         considers three stages. In the first stage, the weighted covariance matrix of the target state is computed as described in Eq. (4). Each matrix element is a weighted sum of products between two terms 
                           
                              (
                              
                                 
                                    x
                                 
                                 
                                    i
                                 
                                 
                                    (
                                    n
                                    )
                                 
                              
                              -
                              
                                 
                                    μ
                                 
                                 
                                    i
                                 
                              
                              )
                           
                         and 
                           
                              (
                              
                                 
                                    x
                                 
                                 
                                    j
                                 
                                 
                                    (
                                    n
                                    )
                                 
                              
                              -
                              
                                 
                                    μ
                                 
                                 
                                    j
                                 
                              
                              )
                           
                        . Each term can be modeled as a Random Variable (RV) following a zero-mean normal distribution 
                           
                              N
                              (
                              0
                              ,
                              
                                 
                                    σ
                                 
                                 
                                    i
                                 
                              
                              )
                           
                         as defined in Eq. (1). The variance 
                           
                              
                                 
                                    σ
                                 
                                 
                                    i
                                 
                              
                           
                         of each distribution depends on the process noise 
                           
                              
                                 
                                    κ
                                 
                                 
                                    t
                                 
                              
                           
                         as defined in Eq. (1). Therefore, Eq. (4) is a weighted combination of products between two Gaussian-distributed RVs that can be expressed as a combination of Chi-Square RVs (or their equivalent form using Gamma RVs) [25]. Such weighted covariance matrix only depends on the common representation of the posterior density in the PF framework (set of particles and associated weights), thus being applicable to any PF-based tracker. The second and third stages (Eqs. (5) and (6), respectively) consist of pairwise subtractions, products and ratios of Gamma RVs. The result of each operation can be expressed via Bessel functions which are mixtures of Gamma distributions [26,27].

We propose to model 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         as a mixture of K Gamma distributions [28]. In this mixture, each kth Gamma is defined by its parameters (
                           
                              
                                 
                                    η
                                 
                                 
                                    k
                                 
                              
                           
                         and 
                           
                              
                                 
                                    θ
                                 
                                 
                                    k
                                 
                              
                           
                        ) and its contribution 
                           
                              (
                              
                                 
                                    γ
                                 
                                 
                                    k
                                 
                              
                              )
                           
                         to the mixture 
                           
                              
                                 
                                    
                                       
                                          
                                             ∑
                                          
                                          
                                             k
                                             =
                                             1
                                          
                                          
                                             K
                                          
                                       
                                       
                                          
                                             γ
                                          
                                          
                                             k
                                          
                                       
                                       =
                                       1
                                    
                                 
                              
                           
                        . The pdf 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         is then approximated by:
                           
                              (12)
                              
                                 gm
                                 (
                                 v
                                 ;
                                 ξ
                                 )
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          k
                                          =
                                          1
                                       
                                       
                                          K
                                       
                                    
                                 
                                 
                                    
                                       γ
                                    
                                    
                                       k
                                    
                                 
                                 f
                                 (
                                 v
                                 ;
                                 
                                    
                                       η
                                    
                                    
                                       k
                                    
                                 
                                 ,
                                 
                                    
                                       θ
                                    
                                    
                                       k
                                    
                                 
                                 )
                                 ,
                              
                           
                        where v is a data sample, 
                           
                              ξ
                              =
                              {
                              
                                 
                                    
                                       
                                          
                                             η
                                          
                                          
                                             k
                                          
                                       
                                       ,
                                       
                                          
                                             θ
                                          
                                          
                                             k
                                          
                                       
                                       ,
                                       
                                          
                                             γ
                                          
                                          
                                             k
                                          
                                       
                                    
                                 
                              
                              :
                              
                              k
                              =
                              1
                              ,
                              …
                              ,
                              K
                              }
                           
                         and 
                           
                              f
                              (
                              v
                              ;
                              
                                 
                                    η
                                 
                                 
                                    k
                                 
                              
                              ,
                              
                                 
                                    θ
                                 
                                 
                                    k
                                 
                              
                              )
                           
                         is the kth Gamma distribution defined as:
                           
                              (13)
                              
                                 
                                    
                                       
                                       
                                          
                                             f
                                             (
                                             v
                                             ;
                                             η
                                             ,
                                             θ
                                             )
                                             =
                                             
                                                
                                                   1
                                                
                                                
                                                   
                                                      
                                                         θ
                                                      
                                                      
                                                         η
                                                      
                                                   
                                                
                                             
                                             
                                                
                                                   1
                                                
                                                
                                                   Γ
                                                   (
                                                   η
                                                   )
                                                
                                             
                                             
                                                
                                                   v
                                                
                                                
                                                   η
                                                   -
                                                   1
                                                
                                             
                                             
                                                
                                                   e
                                                
                                                
                                                   -
                                                   
                                                      
                                                         v
                                                      
                                                      
                                                         θ
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                       
                                          
                                             for
                                             
                                             v
                                             ⩾
                                             0
                                             
                                             and
                                             
                                             η
                                             ,
                                             θ
                                             >
                                             0
                                             ,
                                          
                                       
                                    
                                 
                              
                           
                        where η is the shape and θ is the scale. When 
                           
                              η
                              >
                              1
                           
                         the distribution is bell-shaped, whereas for 
                           
                              η
                              <
                              1
                           
                        , it is L-shaped. The parameter set ξ is estimated using training data. Fig. 4
                         depicts examples of 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         distribution using empirical data for various assumptions of the 
                           
                              
                                 
                                    H
                                 
                                 
                                    0
                                 
                              
                           
                         hypothesis or consistent case (i.e. filter error). The 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         values are always positive with an L-shaped distribution close to zero (the uncertainty is almost constant for the consistent case) for all considered cases. To compute the mixture parameters ξ, we used an expectation–maximization (EM) approach based on maximizing the log-likelihood of the hypothesized models [29]. However, EM approach does not correctly determine the optimum number of K components as the likelihood can always be increased by adding more components to the mixture [28]. Standard goodness-of-fit tests (e.g., χ
                        2 and Kolmogorov–Smirnov [30] only consider the likelihood without penalizing the number of parameters and therefore they are not valid for optimum mixture modeling.

For choosing K, we modify the Akaike and Bayesian Information criteria [28] (AIC and BIC, respectively) that penalize models with a high number of parameters. AIC minimizes the Kullback–Leibler distance between the true data distribution and the hypothesized distribution. BIC extends AIC by considering the number of data samples. Both criteria include two terms: one depends on the log-likelihood and the other penalizes models with more parameters. However, their variation range is different. The likelihood term depends on the number of samples
                           1
                           The EM results are independent of the sample size as the maximization is performed over the likelihood variations among the hypothesized models.
                        
                        
                           1
                         
                        
                           
                              
                                 
                                    
                                       
                                          
                                             L
                                          
                                          
                                             K
                                          
                                       
                                       =
                                       
                                          
                                             ∑
                                          
                                          
                                             i
                                             =
                                             1
                                          
                                          
                                             n
                                          
                                       
                                       gm
                                       (
                                       
                                          
                                             v
                                          
                                          
                                             i
                                          
                                       
                                       ;
                                       ξ
                                       )
                                    
                                 
                              
                           
                         whereas the penalization term has none (for AIC) or low (for BIC) dependency on the number of samples. Hence, the final decision is completely driven by the log-likelihood as penalization costs do not influence enough for large number of samples. Thus, selecting the hypothesized model with highest likelihood.

In order to make equal the influence of the two terms in the final selection, we introduce a variable penalization cost to produce the modified AIC, dAIC:
                           
                              (14)
                              
                                 
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ^
                                          
                                       
                                    
                                    
                                       dAIC
                                    
                                 
                                 (
                                 d
                                 )
                                 =
                                 
                                    
                                       argmin
                                    
                                    
                                       K
                                    
                                 
                                 
                                    
                                       
                                          -
                                          2
                                          ln
                                          
                                             
                                                
                                                   
                                                      
                                                         L
                                                      
                                                      
                                                         K
                                                      
                                                   
                                                
                                             
                                          
                                          +
                                          d
                                          ·
                                          2
                                          
                                             
                                                v
                                             
                                             
                                                K
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        where d represents the weight of the penalization cost and, for each K–Gamma mixture, 
                           
                              
                                 
                                    v
                                 
                                 
                                    K
                                 
                              
                           
                         is its number of parameters and 
                           
                              
                                 
                                    L
                                 
                                 
                                    K
                                 
                              
                           
                         is its maximized likelihood. The modified BIC, dBIC is defined as follows:
                           
                              (15)
                              
                                 
                                    
                                       
                                          
                                             K
                                          
                                          
                                             ^
                                          
                                       
                                    
                                    
                                       dBIC
                                    
                                 
                                 (
                                 d
                                 )
                                 =
                                 
                                    
                                       argmin
                                    
                                    
                                       K
                                    
                                 
                                 
                                    
                                       
                                          -
                                          2
                                          ln
                                          
                                             
                                                
                                                   
                                                      
                                                         L
                                                      
                                                      
                                                         K
                                                      
                                                   
                                                
                                             
                                          
                                          +
                                          d
                                          ·
                                          
                                             
                                                v
                                             
                                             
                                                K
                                             
                                          
                                          ln
                                          (
                                          n
                                          )
                                       
                                    
                                 
                                 ,
                              
                           
                        where n is the sample size. We do not change the likelihood term, 
                           
                              -
                              2
                              ln
                              
                                 
                                    
                                       
                                          
                                             L
                                          
                                          
                                             K
                                          
                                       
                                    
                                 
                              
                           
                        , as it is the deviance, a measure of lack of fit for a model [28]. Then, the optimum K is selected as the most frequent K when scanning the results obtained for different values of 
                           
                              d
                              =
                              1
                              ,
                              …
                              ,
                              D
                           
                        . Note that 
                           
                              d
                              =
                              1
                           
                         corresponds to the original AIC and BIC. Moreover, at a certain d value, the variable penalization cost is higher than that of the likelihood and the first model 
                           
                              (
                              K
                              =
                              1
                              )
                           
                         is always selected. Hence, these wrong selections should not be considered for K optimum selection. Fig. 5
                         illustrates an example of the modified criteria showing that likelihood and penalization terms are comparable.

In this paper we propose the use of convolution to approximate the upper bound of the cumulative distribution of 
                           
                              
                                 
                                    s
                                 
                                 
                                    t
                                 
                              
                           
                         
                        [31]. Applying the proposed hypothesis test in Section 4 uses the cumulative distribution of 
                           
                              
                                 
                                    s
                                 
                                 
                                    t
                                 
                              
                           
                         (
                           
                              
                                 
                                    P
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        , see Eq. (11)), which requires to estimate the joint distribution of the accumulated and dependent RVs, 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        . This distribution is unknown and its estimation is not straightforward to be analytically solved. Therefore, approximations of this distribution are needed to employ the proposed approach.

One approximation could be to empirically generate this 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         using real data as done for the distribution 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         of the statistic 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                        . However, this option is limited in two aspects. First, a large number of samples is required to provide an accurate distribution estimation, thus requiring a large training set which cannot be always guaranteed. Second, each window length needs a different distribution 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         (see Eq. (8)), thus increasing the complexity of the training process. For example, a PF tracker to be analyzed with window lengths between 1 and 50 frames requires to get 50 different 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        .

On the other hand, we do not need a precise shape estimation for the true distribution of 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         as we are only interested in the rightmost part of 
                           
                              
                                 
                                    P
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         to perform the hypothesis testing. Hence, approximations of the upper bounds for the sum of the 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         statistic are more suitable for the proposed approach. We formulate the accumulation of L 
                        
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         values as the L-sum of 
                           
                              
                                 
                                    Q
                                 
                                 
                                    i
                                 
                              
                           
                         RVs where all 
                           
                              
                                 
                                    Q
                                 
                                 
                                    i
                                 
                              
                           
                         have the same distribution 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                        . Such upper bound can be estimated for finite 
                           
                              (
                              E
                              [
                              
                                 
                                    Q
                                 
                                 
                                    i
                                 
                              
                              ]
                              <
                              ∞
                              )
                           
                        , dependent, non-negative and real-valued RVs [31]: these conditions satisfied by all 
                           
                              
                                 
                                    Q
                                 
                                 
                                    i
                                 
                              
                           
                        . Hence, the distance between the sum of dependent RVs and the sum of their independent duplicates (i.e. assuming independent 
                           
                              
                                 
                                    Q
                                 
                                 
                                    i
                                 
                              
                           
                        ) is upper-bounded by a certain factor which depends on the correlation between 
                           
                              
                                 
                                    Q
                                 
                                 
                                    i
                                 
                              
                           
                        ’s (their dependence) and their mean values [31]. We exploit this conclusion to use convolution as an approximation of the upper bound of 
                           
                              
                                 
                                    P
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        , which allows to estimate the cut value for the hypothesis test (β parameter in Eq. (11)). The use of convolution allows to quickly estimate the cut value for any desired length of the sliding window only requiring the 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         distribution.

After assuming independent 
                           
                              
                                 
                                    Q
                                 
                                 
                                    i
                                 
                              
                           
                         to compute such upper bound, we use the convolution approach [32] to get the pdf of the sum of two random variables, with pdfs 
                           
                              
                                 
                                    m
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         and 
                           
                              
                                 
                                    m
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        , as their convolution 
                           
                              
                                 
                                    m
                                 
                                 
                                    3
                                 
                              
                              =
                              
                                 
                                    m
                                 
                                 
                                    1
                                 
                              
                              *
                              
                                 
                                    m
                                 
                                 
                                    2
                                 
                              
                           
                         given by:
                           
                              (16)
                              
                                 
                                    
                                       m
                                    
                                    
                                       3
                                    
                                 
                                 (
                                 v
                                 )
                                 =
                                 
                                    
                                       
                                          ∑
                                       
                                       
                                          j
                                          =
                                          -
                                          ∞
                                       
                                       
                                          ∞
                                       
                                    
                                 
                                 
                                    
                                       m
                                    
                                    
                                       1
                                    
                                 
                                 (
                                 j
                                 )
                                 ·
                                 
                                    
                                       m
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 v
                                 -
                                 j
                                 )
                                 ,
                              
                           
                        for 
                           
                              v
                              =
                              …
                              ,
                              -
                              2
                              ,
                              -
                              1
                              ,
                              0
                              ,
                              1
                              ,
                              2
                              ,
                              …
                           
                        . Hence, we can exploit such property to compute 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         as a L-fold convolution of 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                        :
                           
                              (17)
                              
                                 
                                    
                                       p
                                    
                                    
                                       2
                                    
                                 
                                 (
                                 v
                                 )
                                 =
                                 
                                    
                                       p
                                    
                                    
                                       1
                                    
                                    
                                       (
                                       L
                                       )
                                    
                                 
                                 (
                                 v
                                 )
                                 =
                                 
                                    
                                       p
                                    
                                    
                                       1
                                    
                                    
                                       (
                                       L
                                       -
                                       1
                                       )
                                    
                                 
                                 (
                                 v
                                 )
                                 *
                                 
                                    
                                       p
                                    
                                    
                                       1
                                    
                                 
                                 (
                                 v
                                 )
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                                 
                                    (
                                    0
                                    )
                                 
                              
                              (
                              v
                              )
                              =
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         and 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                              *
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                                 
                                    (
                                    0
                                    )
                                 
                              
                              (
                              v
                              )
                              =
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                        . Although this recursive convolution can be analytically approached, the existing proposals are based on combinatorial analysis [33] that heavily increases the computational cost of the convolution. According to this, we decide to obtain this convolution by empirically estimating 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         (i.e. generating random samples of 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         for computing its pdf) and then, performing the standard L-fold convolution as described in Eq. (17).

We do not consider the Central Limit Theorem (CLT) [32] to approximate 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         as it depends on the number of added random variables to estimate 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         as 
                           
                              N
                              (
                              L
                              μ
                              ,
                              
                                 
                                    L
                                 
                              
                              
                                 
                                    σ
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         where 
                           
                              μ
                              =
                              E
                              [
                              Q
                              ]
                           
                         and 
                           
                              
                                 
                                    σ
                                 
                                 
                                    2
                                 
                              
                              =
                              var
                              (
                              Q
                              )
                           
                        . The proposed approach may use short windows where CLT accuracy decreases. Fig. 6
                         shows some examples of the empirical cdf 
                           
                              
                                 
                                    P
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         and their approximations assuming independence (convolution and CLT). Although both approximations do not reflect the empirical cdf (consequently the pdf 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        ), they allow to establish an upper bound for 
                           
                              
                                 
                                    P
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        . Moreover, CLT is outperformed by convolution for short window lengths, thus decreasing the accuracy of the upper bound estimation.

We combine AVU into an online method performance evaluation of Particle Filter-based video tracking, ARTE [13]. ARTE determines whether the Particle Filter is successfully estimating the target state without the use of ground-truth. ARTE analyzes the Particle Filter consistency and the time-reversibility property of target motion.

Similarly to Eq. (6), ARTE defines four change signals (
                        
                           
                              
                                 C
                              
                              
                                 t
                              
                              
                                 
                                    
                                       W
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       t
                                    
                                    
                                       ˆ
                                    
                                 
                              
                           
                        
                     , 
                        
                           
                              
                                 C
                              
                              
                                 t
                              
                              
                                 
                                    
                                       W
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       t
                                    
                                    
                                       ˆ
                                    
                                 
                              
                           
                           ,
                           
                              
                                 C
                              
                              
                                 t
                              
                              
                                 
                                    
                                       W
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 t
                              
                           
                        
                      and 
                        
                           
                              
                                 C
                              
                              
                                 t
                              
                              
                                 
                                    
                                       W
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 t
                              
                           
                        
                     ) based on spatial uncertainty (i.e. only considering the center of the target location) that combines different window lengths and considerations of the change reference (first or last sample in the window). In particular, it monitors slow 
                        
                           (
                           
                              
                                 W
                              
                              
                                 1
                              
                           
                           )
                        
                      or sudden 
                        
                           (
                           
                              
                                 W
                              
                              
                                 2
                              
                           
                           )
                        
                      increases 
                        
                           (
                           
                              
                                 t
                              
                              
                                 ˆ
                              
                           
                           )
                        
                      or decreases (t) of the uncertainty. Then, change detection is applied over these four signals by empirical thresholding to detect when the Particle Filter posterior is inconsistent. First, the threshold 
                        
                           
                              
                                 τ
                              
                              
                                 1
                              
                           
                        
                      is applied to 
                        
                           
                              
                                 C
                              
                              
                                 t
                              
                              
                                 
                                    
                                       W
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       t
                                    
                                    
                                       ˆ
                                    
                                 
                              
                           
                        
                      and 
                        
                           
                              
                                 C
                              
                              
                                 t
                              
                              
                                 
                                    
                                       W
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       t
                                    
                                    
                                       ˆ
                                    
                                 
                              
                           
                        
                     , for positive changes (consistent–inconsistent). Negative changes (inconsistent–consistent) are detected by using the threshold 
                        
                           
                              
                                 τ
                              
                              
                                 2
                              
                           
                        
                      on 
                        
                           
                              
                                 C
                              
                              
                                 t
                              
                              
                                 
                                    
                                       W
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 t
                              
                           
                        
                      and 
                        
                           
                              
                                 C
                              
                              
                                 t
                              
                              
                                 
                                    
                                       W
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 t
                              
                           
                        
                     . Then, a third one 
                        
                           
                              
                                 τ
                              
                              
                                 3
                              
                           
                        
                      is applied to 
                        
                           
                              
                                 C
                              
                              
                                 t
                              
                              
                                 
                                    
                                       W
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 t
                              
                           
                        
                      for negative small changes that indicate increases of the Particle Filter consistency (i.e. its posterior is becoming more accurate). For simplifying such tuning, the thresholds were originally defined based on 
                        
                           
                              
                                 τ
                              
                              
                                 1
                              
                           
                           :
                           
                              
                                 τ
                              
                              
                                 2
                              
                           
                           =
                           -
                           
                              
                                 τ
                              
                              
                                 1
                              
                           
                        
                      and 
                        
                           
                              
                                 τ
                              
                              
                                 3
                              
                           
                           =
                           -
                           
                              
                                 τ
                              
                              
                                 1
                              
                           
                           /
                           2
                        
                     .

The proposed modification (hereinafter called ARTE∗) aims to substitute ARTE’s change detectors with our proposal. We calculate 
                        
                           
                              
                                 s
                              
                              
                                 t
                              
                           
                        
                      and detect consistency by uncertainty-based validation over sliding windows, which defines a threshold 
                        
                           
                              
                                 β
                              
                              
                                 1
                              
                           
                        
                      computed as in Section 4.2. Low-to-high (positive) and high-to-low (negative) transitions are detected as, respectively, consistent-to-inconsistent and inconsistent-to-consistent changes of 
                        
                           
                              
                                 s
                              
                              
                                 t
                              
                           
                        
                     . For small negative changes, we include another validation for detecting inconsistent-to-consistent changes of 
                        
                           
                              
                                 c
                              
                              
                                 t
                              
                           
                        
                      with a threshold 
                        
                           
                              
                                 β
                              
                              
                                 2
                              
                           
                           =
                           
                              
                                 β
                              
                              
                                 1
                              
                           
                           /
                           2
                        
                     . Table 2
                      summarizes the modification showing that fewer signal detections are required and the thresholds are automatically computed.

@&#EXPERIMENTAL RESULTS@&#

In this section we first compare the results of the proposed (AVU) and related approaches for analyzing the consistency of Particle Filters and then, we evaluate the use of AVU in the context of online performance evaluation of video tracking.
                        2
                        Additional results, video sequences and software implementations can be found at http://www-vpu.eps.uam.es/publications/PFConsistency.
                     
                     
                        2
                     
                  

Let us consider a color-based Particle Filter for video tracking [18] with 
                           
                              
                                 
                                    x
                                 
                                 
                                    t
                                 
                                 
                                    (
                                    n
                                    )
                                 
                              
                           
                         being a five-component vector composed of the target position, the two main axes and the orientation of the bounding ellipse approximating its area on the image plane. Color histograms are used as target model and are generated in the RGB space for pedestrian (P) and car (C) targets and in the HSV one for face targets (F), using 8×8×8 bins in both cases. The filter parameters are 
                           
                              N
                              =
                              400
                           
                         (particles) and the variances for target center 
                           
                              
                                 
                                    σ
                                 
                                 
                                    x
                                    ,
                                    y
                                 
                              
                              =
                              5
                           
                        , size 
                           
                              
                                 
                                    σ
                                 
                                 
                                    
                                       
                                          H
                                       
                                       
                                          x
                                       
                                    
                                    ,
                                    
                                       
                                          H
                                       
                                       
                                          y
                                       
                                    
                                 
                              
                              =
                              0.75
                           
                        , orientation 
                           
                              
                                 
                                    σ
                                 
                                 
                                    θ
                                 
                              
                              =
                              4
                              °
                           
                         and appearance noise 
                           
                              
                                 
                                    σ
                                 
                                 
                                    c
                                 
                              
                              =
                              0.2
                           
                        . For the proposed approach, we consider the false alarm rate 
                           
                              α
                              =
                              0.005
                           
                         to accept the 
                           
                              
                                 
                                    H
                                 
                                 
                                    0
                                 
                              
                           
                         hypothesis.

We use two evaluation sets (D1 and D2) with sequences selected from the following datasets: CAVIAR,
                           3
                           
                              http://homepages.inf.ed.ac.uk/rbf/CAVIARDATA1/.
                        
                        
                           3
                         PETS2001,
                           4
                           
                              http://www.cvg.rdg.ac.uk/PETS2001/.
                        
                        
                           4
                         PETS2010,
                           5
                           
                              http://www.cvg.rdg.ac.uk/PETS2010/.
                        
                        
                           5
                         CLEMSON,
                           6
                           
                              http://www.ces.clemson.edu/∼stb/research/facetracker.
                        
                        
                           6
                         VISOR,
                           7
                           
                              http://imagelab.ing.unimore.it/visor/.
                        
                        
                           7
                         AVSS2007,
                           8
                           
                              http://www.eecs.qmul.ac.uk/∼andrea/avss2007_d.html.
                        
                        
                           8
                         TRECVID
                           9
                           
                              http://www.itl.nist.gov/iad/mig/tests/trecvid/2011/.
                        
                        
                           9
                         and MIT TRAFFIC.
                           10
                           
                              http://www.ee.cuhk.edu.hk/∼xgwang/MITtraffic.html.
                        
                        
                           10
                         D1 is the same set as in [13], which is composed of 18 sequences (∼3400 annotated frames). D2 contains 51 sequences (∼7500 annotated frames). Both datasets include three target types, namely cars, people and faces, and present challenging situations for tracking such as total or partial occlusions, clutter, and illumination or scale changes. The characteristics of the two sets are summarized in Table 3
                        . Sample frames (and target initialization) for D2 are shown in Fig. 7
                         (for D1, we use the same initialization as shown in [13].

To analyze the accuracy for detecting uncertainty changes, we define the ground-truth changes 
                           
                              
                                 
                                    δ
                                 
                                 
                                    t
                                 
                              
                           
                         as the time instants when the filter error, 
                           
                              
                                 
                                    e
                                 
                                 
                                    t
                                 
                              
                              ∈
                              [
                              0
                              ,
                              1
                              ]
                           
                        , changes from successful 
                           
                              (
                              
                                 
                                    e
                                 
                                 
                                    t
                                 
                              
                              <
                              1
                              )
                           
                         to unsuccessful 
                           
                              (
                              
                                 
                                    e
                                 
                                 
                                    t
                                 
                              
                              =
                              1
                              )
                           
                         or viceversa. For video tracking, we define 
                           
                              
                                 
                                    e
                                 
                                 
                                    t
                                 
                              
                           
                         as the spatial tracking error [11]:
                           
                              (18)
                              
                                 
                                    
                                       e
                                    
                                    
                                       t
                                    
                                 
                                 
                                    
                                       
                                          
                                             
                                                x
                                             
                                             
                                                t
                                             
                                             
                                                E
                                             
                                          
                                          ,
                                          
                                             
                                                x
                                             
                                             
                                                t
                                             
                                             
                                                GT
                                             
                                          
                                       
                                    
                                 
                                 =
                                 1
                                 -
                                 
                                    
                                       2
                                       
                                          
                                             
                                                
                                                   
                                                      A
                                                   
                                                   
                                                      t
                                                   
                                                   
                                                      E
                                                   
                                                
                                                ∩
                                                
                                                   
                                                      A
                                                   
                                                   
                                                      t
                                                   
                                                   
                                                      GT
                                                   
                                                
                                             
                                          
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      A
                                                   
                                                   
                                                      t
                                                   
                                                   
                                                      E
                                                   
                                                
                                             
                                          
                                       
                                       +
                                       
                                          
                                             
                                                
                                                   
                                                      A
                                                   
                                                   
                                                      t
                                                   
                                                   
                                                      GT
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    x
                                 
                                 
                                    t
                                 
                                 
                                    E
                                 
                              
                           
                         and 
                           
                              
                                 
                                    x
                                 
                                 
                                    t
                                 
                                 
                                    GT
                                 
                              
                           
                         are the estimated and ideal target locations at time 
                           
                              t
                              ;
                              
                                 
                                    
                                       
                                          
                                             A
                                          
                                          
                                             t
                                          
                                          
                                             E
                                          
                                       
                                       ∩
                                       
                                          
                                             A
                                          
                                          
                                             t
                                          
                                          
                                             GT
                                          
                                       
                                    
                                 
                              
                           
                         is their spatial overlap (in pixels); and 
                           
                              
                                 
                                    
                                       
                                          
                                             A
                                          
                                          
                                             t
                                          
                                          
                                             E
                                          
                                       
                                    
                                 
                              
                           
                         and 
                           
                              
                                 
                                    
                                       
                                          
                                             A
                                          
                                          
                                             t
                                          
                                          
                                             GT
                                          
                                       
                                    
                                 
                              
                           
                         represent their area (in pixels). For obtaining 
                           
                              
                                 
                                    δ
                                 
                                 
                                    t
                                 
                              
                           
                        , we first identify when the filter is inconsistent by binarizing 
                           
                              
                                 
                                    e
                                 
                                 
                                    t
                                 
                              
                              (
                              
                                 
                                    x
                                 
                                 
                                    t
                                 
                                 
                                    E
                                 
                              
                              ,
                              
                                 
                                    x
                                 
                                 
                                    t
                                 
                                 
                                    GT
                                 
                              
                              )
                           
                         as follows:
                           
                              (19)
                              
                                 
                                    
                                       e
                                    
                                    
                                       t
                                    
                                    
                                       b
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                
                                                   1
                                                
                                                
                                                   if
                                                   
                                                   
                                                      
                                                         e
                                                      
                                                      
                                                         t
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  x
                                                               
                                                               
                                                                  t
                                                               
                                                               
                                                                  E
                                                               
                                                            
                                                            ,
                                                            
                                                               
                                                                  x
                                                               
                                                               
                                                                  t
                                                               
                                                               
                                                                  GT
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   =
                                                   1
                                                
                                             
                                             
                                                
                                                   0
                                                
                                                
                                                   if
                                                   
                                                   
                                                      
                                                         e
                                                      
                                                      
                                                         t
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               
                                                                  x
                                                               
                                                               
                                                                  t
                                                               
                                                               
                                                                  E
                                                               
                                                            
                                                            ,
                                                            
                                                               
                                                                  x
                                                               
                                                               
                                                                  t
                                                               
                                                               
                                                                  GT
                                                               
                                                            
                                                         
                                                      
                                                   
                                                   <
                                                   1
                                                
                                             
                                          
                                       
                                    
                                 
                                 .
                              
                           
                        
                     

Then, we assume a consistent start of the filter 
                           
                              (
                              
                                 
                                    δ
                                 
                                 
                                    0
                                 
                              
                              =
                              0
                              )
                           
                         and obtain each 
                           
                              
                                 
                                    δ
                                 
                                 
                                    t
                                 
                              
                           
                         as the initial and ending instants of the inconsistency operation:
                           
                              (20)
                              
                                 
                                    
                                       δ
                                    
                                    
                                       t
                                    
                                 
                                 =
                                 
                                    
                                       
                                          
                                             
                                                e
                                             
                                             
                                                t
                                             
                                             
                                                b
                                             
                                          
                                          -
                                          
                                             
                                                e
                                             
                                             
                                                t
                                                -
                                                1
                                             
                                             
                                                b
                                             
                                          
                                       
                                    
                                 
                                 ,
                                 
                                 ∀
                                 t
                                 >
                                 0
                                 .
                              
                           
                        
                     

Let TP and FP be the generated changes that match (TP) or not (FP) with ground-truth ones 
                           
                              
                                 
                                    δ
                                 
                                 
                                    t
                                 
                              
                           
                         for each time t. A match is allowed within a tolerance window of ±5 frames. Let FN be the unmatched 
                           
                              
                                 
                                    δ
                                 
                                 
                                    t
                                 
                              
                           
                        . For evaluating detection performance, we compute Precision (P), Recall (R) and F-score (F):
                           
                              (21)
                              
                                 P
                                 =
                                 TP
                                 /
                                 (
                                 TP
                                 +
                                 FP
                                 )
                                 ,
                              
                           
                        
                        
                           
                              (22)
                              
                                 R
                                 =
                                 TP
                                 /
                                 (
                                 TP
                                 +
                                 FN
                                 )
                                 ,
                              
                           
                        
                        
                           
                              (23)
                              
                                 F
                                 =
                                 2
                                 ·
                                 P
                                 ·
                                 R
                                 /
                                 (
                                 P
                                 +
                                 R
                                 )
                                 .
                              
                           
                        
                     

To evaluate the performance of online tracking evaluation, we focus on the temporal segmentation task (i.e. determining whether the tracker is successful) by means of the Receiver Operating Characteristic (ROC) analysis. ROC analysis requires the definition of an ideal (manual) segmentation to compute the similarity between the generated and the ideal segmentation. A successful track is determined when the error 
                           
                              
                                 
                                    e
                                 
                                 
                                    t
                                 
                              
                              
                                 
                                    
                                       
                                          
                                             x
                                          
                                          
                                             t
                                          
                                          
                                             E
                                          
                                       
                                       ,
                                       
                                          
                                             x
                                          
                                          
                                             t
                                          
                                          
                                             GT
                                          
                                       
                                    
                                 
                              
                           
                        , defined as in Eq. (18), is 
                           
                              
                                 
                                    e
                                 
                                 
                                    t
                                 
                              
                              <
                              1
                           
                        . An unsuccessful track is identified by 
                           
                              
                                 
                                    e
                                 
                                 
                                    t
                                 
                              
                              =
                              1
                           
                        .

We use the data of the color-based PF tracker [18] to obtain the pdf 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         of Q, which is then convolved to get 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        . Different subsets of 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         values are employed to estimate the pdfs which are extracted from:
                           
                              (24)
                              
                                 
                                    
                                       
                                          
                                             
                                                X
                                             
                                             
                                                1
                                             
                                          
                                          ,
                                          …
                                          ,
                                          
                                             
                                                X
                                             
                                             
                                                T
                                             
                                          
                                          |
                                          
                                             
                                                e
                                             
                                             
                                                t
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         t
                                                      
                                                      
                                                         E
                                                      
                                                   
                                                   ,
                                                   
                                                      
                                                         x
                                                      
                                                      
                                                         t
                                                      
                                                      
                                                         GT
                                                      
                                                   
                                                
                                             
                                          
                                          <
                                          τ
                                       
                                    
                                 
                                 ,
                              
                           
                        where 
                           
                              
                                 
                                    X
                                 
                                 
                                    1
                                    ,
                                    …
                                    ,
                                    T
                                 
                              
                           
                         are T filter posteriors and τ is a threshold that defines the consistent case.

We first compare the pdfs generated by D1 and D2. Fig. 8
                         depicts the similarity between the pdfs 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         obtained for D1 and D2 using the KS statistic [30]. Multiple 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         are considered depending on the allowed ground-truth error of 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         values (via the threshold τ). For 
                           
                              L
                              =
                              1
                              ,
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         corresponds to 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                        . Low τ values have the lowest similarity (i.e. highest KS values). The tracker rarely has low ground-truth errors and, therefore, a reduced number of samples is used to estimate 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        , which decreases its accuracy. High τ values slightly increase the dissimilarity as 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         values of PF inconsistency are included to model 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         (i.e. before the tracker loses the target). Mid-range τ values get the highest similarity which have a balance between the number of samples and inconsistency of 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         values. Finally, the two-sample KS test [30] determined that the 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         pdfs for D1 and D2 are different distributions. This suggests that empirical thresholding may not efficiently detect changes for both datasets simultaneously.

Nevertheless, we are interested in the upper bound of the 
                           
                              
                                 
                                    P
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         cdf (see Section 4.2) instead of an accurate 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         estimation. Fig. 9
                         shows the difference between the cut values β obtained for D1 and D2 (
                           
                              
                                 
                                    β
                                 
                                 
                                    1
                                 
                              
                           
                         and 
                           
                              
                                 
                                    β
                                 
                                 
                                    2
                                 
                              
                           
                        , respectively). We consider the difference 
                           
                              D
                              =
                              
                                 
                                    
                                       
                                          
                                             β
                                          
                                          
                                             1
                                          
                                       
                                       -
                                       
                                          
                                             β
                                          
                                          
                                             2
                                          
                                       
                                    
                                 
                              
                              /
                              min
                              (
                              
                                 
                                    β
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    β
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         as a similarity measure between the results. We observe that high (low) τ values provide the highest (lowest) similarity as more (less) samples are considered to estimate 
                           
                              
                                 
                                    P
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                        . These results suggest that 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         should be modeled using 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         values with an associated error between 
                           
                              τ
                              ∈
                              
                                 
                                    
                                       0.7
                                       ,
                                       0.9
                                    
                                 
                              
                           
                        .

We compute filter uncertainty data for the consistent status, with a window length 
                           
                              W
                              =
                              25
                           
                        , by running the filter 100 times over D1. Then, we extract the 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         values corresponding to 
                           
                              
                                 
                                    H
                                 
                                 
                                    0
                                 
                              
                           
                         (1,938,032 samples in total) that are represented in Fig. 4 for each τ value (computed as indicated in Eq. (18)). Fig. 10
                         shows the pdfs for the extracted data with 
                           
                              τ
                              =
                              {
                              0.3
                              ,
                              0.6
                              ,
                              0.9
                              }
                           
                         and the fitting results for well-known distributions using the two-sample Kolmogorov–Smirnov (KS) test [30] where Gamma is the best one in all cases. After that, we use the data for 
                           
                              τ
                              =
                              0.9
                           
                         (highest error) for uncertainty modeling. Although its KS values are the lowest ones, the significance level of the KS test indicates that the Gamma fitting is not perfectly accurate and therefore, motivating the proposed modeling with a mixture of K Gamma distributions [28].

To select the optimum K for the mixture, we use dAIC and dBIC (Eqs. (14) and (15), respectively). Fig. 11
                         shows the results for weights d ranging from 1 to 600: dBIC has higher penalization costs than dAIC when evaluating models with high K, quickly converging to 
                           
                              K
                              =
                              1
                           
                        . However, if we exclude 
                           
                              K
                              =
                              1
                           
                         as explained in Section 5.1, both criteria agree on the optimum 
                           
                              K
                              =
                              4
                           
                         for modeling 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                        .


                        Fig. 12
                         compares the results of selected cut values β for the hypothesis testing under different false alarm rates (α) and using the approaches to compute 
                           
                              
                                 
                                    p
                                 
                                 
                                    2
                                 
                              
                              (
                              v
                              )
                           
                         described in Section 5.2. The empirical results represent the optimum β values to be approximated. These values are better estimated by the convolution approach for the various false alarms of the 
                           
                              
                                 
                                    H
                                 
                                 
                                    0
                                 
                              
                           
                         hypothesis. The total accumulated difference in results between empirical and convolution approaches is 34.75 whereas between empirical and CLT is 86.15, thus demonstrating the preferred used of the convolution. Moreover, the error of both approaches increases when decreasing the false alarm rate α which shows the limitations of the upper-bound approximation.

We compare AVU against representative approaches for online change detection without thresholding: the χ
                        2 two-model sliding window 
                           
                              (
                              Two
                              -
                              MChi
                              )
                           
                         
                        [7] that assumes Gaussian-distributed data, the bank of Kalman filters adapted to various change hypothesis (Mmodel) [7] and the empirical thresholding approach (EmpTh) [13], which is tuned using D1. All approaches are applied to the uncertainty change signal 
                           
                              
                                 
                                    c
                                 
                                 
                                    t
                                 
                              
                           
                         obtained as described in Section 4.1. Experiments with different lengths of the sliding window (L) are performed for testing the robustness of AVU and the results are summarized in Fig. 13
                         for the D1 and D2.

Results for D1 are shown on the left column of Fig. 13. In general, F-score results demonstrate that AVU outperforms the selected state-of-the-art approaches for any length L showing stable F-scores around 0.40 (with a performance peak for 
                           
                              L
                              =
                              5
                           
                         and 
                           
                              L
                              =
                              10
                           
                        ). 
                           
                              M
                              -
                              model
                           
                         is able to detect several 
                           
                              
                                 
                                    δ
                                 
                                 
                                    t
                                 
                              
                           
                         (high recall) as it generates many changes in the uncertainty signal (low precision). 
                           
                              Two
                              -
                              MChi
                           
                         get best results for 
                           
                              L
                              =
                              5
                           
                         and 
                           
                              L
                              =
                              10
                           
                         but heavily decreases its performance for large L values because of the unsatisfaction of the data Gaussianity assumption. Compared to optimum thresholding (EmpTh), it can be observed that for most of the values of 
                           
                              L
                              =
                              {
                              1
                              ,
                              20
                              ,
                              30
                              ,
                              40
                              ,
                              50
                              ,
                              60
                              }
                           
                        , AVU detects less 
                           
                              
                                 
                                    δ
                                 
                                 
                                    t
                                 
                              
                           
                         (having lower recall). However, AVU clearly outperforms EmpTh as its precision is higher, resulting in a high F-score compared to EmpTh. Moreover, AVU presents a slight decrease in F-score as L increases. Although larger L values increases AVU precision, its recall decreases as a higher amount of change is required in the sliding window. Additionally, Particle Filter uncertainty is not usually high for long periods of time as for video tracking, Particle Filters tend to estimate the state of the most similar object to the target after inconsistency (thus, becoming consistent). Hence, large L values do not improve the overall performance.

The results for D2 (right column of Fig. 13) present similar conclusions to the ones for D1 where AVU also improves the selected approaches for any window lengths. However, AVU’s results show a different pattern as for D1. Unlike D1, the performance peak (considering F-score) is not centered around 
                           
                              L
                              =
                              {
                              5
                              ,
                              10
                              }
                           
                         being shifted towards 
                           
                              L
                              =
                              {
                              20
                              ,
                              30
                              }
                           
                        . This can be explained because of two reasons. The first one is that the filter data seems to be very stable (47 ground-truth changes in average for each run which contains 51 targets, ∼0.92 errors/target) compared to D1 (∼1.21 errors/target) indicating that D2 is easier to analyze than D1. Hence, filter errors in D2 are more significant helping the change detection task. The second reason regards the duration of the change, D2 sequences are longer and the filter rarely finds similar objects in the image after becoming inconsistent (thus, not changing to the consistent status). On the other hand, the filter estimation changes from consistent to inconsistent (and viceversa) for some targets of D1 (more frequently than in D2), thus making more difficult the change detection task.


                        Fig. 14
                         shows an example of the compared approaches applied over the uncertainty signal (black) with the objective of detecting the ground-truth changes (cyan). On the left column, a ground-truth change is defined 
                           
                              (
                              
                                 
                                    δ
                                 
                                 
                                    89
                                 
                              
                              =
                              1
                              )
                           
                         which is correctly detected by all the approaches. However, 
                           
                              M
                              -
                              model
                           
                         generates additional detections for every small change in the uncertainty signal. Observe that although EmpTh and AVU correctly detect the change, the length is shorter for EmpTh as it does not use any sliding windows. The right column describes a situation when the filter shows a small inconsistency (frames 25–40) that does not produce a ground-truth change. 
                           
                              EmpTh
                              ,
                              Two
                              -
                              MChi
                           
                         and 
                           
                              M
                              -
                              model
                           
                         wrongly detect such change as an uncertainty variation whereas AVU does not due to the use of sliding windows allowing to tolerate a certain amount of change before detecting it.

The results of the method described in Section 6 for online evaluation are presented in Tables 4 and 5
                        
                        .

The left part of Table 4 shows that ARTE∗ has similar accuracy to ARTE for D1. A noticeable improvement in TPR is observed for ARTE∗ with all lengths. However, ARTE∗ slightly increases the false positive rate compared to ARTE because of the use of the sliding window, requiring a higher amount of variation to detect an uncertainty change. This implies in some situations a short delay in the detection of changes. ARTE∗ reaches similar performance to that of the change detector of ARTE whose threshold values were manually tuned on the same dataset (D1). The right part of Table 4 (results on D2) shows a situation where the thresholds of ARTE are not optimal. As it can be observed, shorter windows got higher results than that of ARTE demonstrating that the proposed approach generalizes better than the optimal thresholding of ARTE. However, a performance decrease is observed as the length of the window increases due to the reduction of the number of detected changes. The main advantage of ARTE∗ over ARTE is that it does not require to set any thresholds.

In Table 5, we can observe the effect of the proposed approach in the computational cost of the track quality estimator. The most noticeable difference is the reduction of the mean processing time around 15%, from 4.58ms (ARTE) to 3.9ms (ARTE∗). As ARTE∗ detects a smaller number of (false) changes than ARTE, it avoids the analysis of the stages for checking the origin of such changes, i.e. the tracker has failed, recovered after a failure or focused on a distractor object.


                        Fig. 15
                         illustrates a comparative example for online evaluation of video tracking. A car target is tracked throughout the sequence and as the filter error indicates, the Particle Filter loses the target around frame 150 due to scale changes and similar objects. At this frame, the uncertainty signal change is not noticeable and therefore, no changes are detected. Then, a gradual change appears in the uncertainty around frame 200 due to a shadow. Only ARTE∗ is able to detect it and correctly perform a good segmentation of filter success.

We demonstrate the generality of the proposed approach by evaluating two state-of-the-art trackers [34,35]. The first tracker models targets as fragments adaptively selected over time which are embedded in the PF framework [34]. The second tracker performs multi-hypothesis estimation based on sparse appearance models, presenting a PF-like structure [35]. We employ the code provided by the authors with the default parameter settings. For the proposed approach, we learn 
                           
                              
                                 
                                    p
                                 
                                 
                                    1
                                 
                              
                              (
                              v
                              )
                           
                         for each tracker using D1 dataset and we use 
                           
                              L
                              =
                              20
                           
                         as a compromise between the previously described results for 
                           
                              D
                              1
                           
                         and 
                           
                              D
                              2
                           
                         datasets. The EmpTh approach is tuned to get best results for D1. The presented results are the mean of 10 runs.


                        Table 6
                         summarizes the results of uncertainty change detection for the selected trackers. AVU gets the highest precision and recall scores for all trackers in most of the cases as compared to the selected change detection approaches. The precision increase of AVU is due to the use of the sliding window to filter noise and the modeling of the uncertainty signal. The results also exhibit low precision values for all trackers, indicating that the uncertainty signal is difficult to analyze and many false positives are generated. AVU’s recall is also improved in many sequences as slow changes are also considered within the window. Recent trackers [34,35] often employ mechanisms to gradually adapt the target model over time and, therefore, the uncertainty slowly changes as tracking failures are integrated in the target model. Analysis over sliding windows improves performance proportionally to the adaptation rate (high for [35] and low for [34] as observed in the corresponding results.


                        Table 7
                         compares the results for track quality estimation. The proposed approach has two effects for online performance evaluation of tracking. First, it reduces the FPR due to the improved accuracy for the detected changes in filter consistency. This effect can be observed for ST in D2 dataset and for FT in D1 and D2 datasets. Second, it also improves TPR as less false changes are generated and therefore the online evaluator has to analyze less (possibly) wrong changes which may lead to evaluation errors. This effect is observed for ST in D1 dataset and for PF in D1 and D2 datasets.

@&#CONCLUSIONS@&#

We presented an online estimation of Particle Filter consistency that uses a sliding-window-based hypothesis testing approach and models filter uncertainty as convolutions of mixtures of Gamma distributions. Compared to manual thresholding, the proposed approach increased the precision and maintained the recall values. We applied the proposed approach to online evaluation of video tracking, without the need of ground truth data. Experiments show that the proposed approach generalizes better than the corresponding threshold-based solution. Results also indicate that filter inconsistency does not last long in video tracking, which requires to use short window lengths. The high precision values of the proposed approach allow us to reduce the overall computational time as a smaller number of detections are generated. Finally, the results over recent video trackers demonstrate the flexibility of the proposed approach.

Although our approach was demonstrated on Particle Filter, it can be applied to other multi-hypothesis filters that allow the measurement of the spread of its hypotheses (i.e, representing its posterior target estimation as set of samples and associated weights). As future work, we will explore its application to deterministic filters through appropriate adaptations [15,36], model validation based on multiple detectors and the selection of the optimum window length for a particular Particle Filter setting.

@&#REFERENCES@&#

