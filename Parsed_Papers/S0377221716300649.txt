@&#MAIN-TITLE@&#Joint optimization of condition-based maintenance and production lot-sizing

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           A joint optimization model for condition-based maintenance and economic manufacturing quantity is proposed.


                        
                        
                           
                           The assumption that the degradation process has discrete state space has been relaxed.


                        
                        
                           
                           The average cost rate is relatively more sensitive to the changes of setup cost and inventory holding cost.


                        
                        
                           
                           The cost savings from the joint optimization model are considerable when the costs related to unexpected failures are high.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Condition-based maintenance

Economic manufacturing quantity

@&#ABSTRACT@&#


               
               
                  Due to the development of sensor technologies nowadays, condition-based maintenance (CBM) programs can be established and optimized based on the data collected through condition monitoring. The CBM activities can significantly increase the uptime of a machine. However, they should be conducted in a coordinated way with the production plan to reduce the interruptions. On the other hand, the production lot size should also be optimized by taking the CBM activities into account. Relatively fewer works have been done to investigate the impact of the CBM policy on production lot-sizing and to propose joint optimization models of both the economic manufacturing quantity (EMQ) and CBM policy. In this paper, we evaluate the average long-run cost rate of a degrading manufacturing system using renewal theory. The optimal EMQ and CBM policy can be obtained by minimizing the average long-run cost rate that includes setup cost, inventory holding cost, lost sales cost, predictive maintenance cost and corrective maintenance cost. Unlike previous works on this topic, we allow the use of continuous time and continuous state degradation processes, which broadens the application area of this model. Numerical examples are provided to illustrate the utilization of our model.
               
            

Condition-based Maintenance

Economic Manufacturing Quantity

production time of the manufacturing system

degradation state of the manufacturing system at t
                     

failure threshold of the degradation process X(.)

first passage time of X(.) over H
                     

control limit of X(.)

first passage time of X(.) over C
                     

pdf of TC
                        
                     

pdf of TH
                         under the condition that TC
                        =tc
                        
                     

operational time including production time and idle time

on-hand inventory level at time t’
                     

demand rate

production rate

production quantity/lot size

production time for a lot

number of lots produced

random duration of corrective maintenance

cdf of corrective maintenance time S
                     

pdf of corrective maintenance time S
                     

constant duration of predictive maintenance

cumulative production and maintenance cost until time t’
                     

expected total production and maintenance cost per cycle

expected length of a cycle

setup cost per lot

expected setup cost per cycle

expected inventory holding cost per cycle

holding cost per unit held in inventory per time unit

cost of lost sales per unit

expected lost sales cost per cycle

expected predictive maintenance cost per cycle

cost related to the predictive maintenance activities triggered by the control limit C after the production of a lot

expected corrective maintenance cost per cycle

cost due to the unexpected machine failure, including corrective maintenance cost, scrap costs due to the machine failure, costs of changing staff working schedule or transportation schedule, etc

average long-run total cost rate

@&#INTRODUCTION@&#

Many manufacturing systems are subject to deterioration with usage, e.g., lithography machines in semiconductor industry, wind farms, and boring machines in automotive industry (Francone et al., 2010; Guo, Watson, Tavner, & Xiang, 2009; Rausch & Liao, 2010). Due to the development of sensor technologies nowadays, we can continuously monitor the degradation behavior of systems to facilitate the prediction of system failures. A maintenance program can be established and optimized based on the information collected through condition monitoring, which is called condition-based maintenance (CBM). Research in the CBM area grows rapidly (Jardine, Lin, & Banjevic, 2006; Peng, Dong, & Zuo, 2010). For maintenance optimization in the CBM area, many mathematical models have been proposed to determine the control limits and/or inspection intervals in order to minimize the total cost (including downtime, unexpected failures, replacements, inspections, etc.) or to maximize the reliability or availability of systems (Van Noortwijk, 2009). Relatively fewer works have been done to investigate the impact of the CBM policies on production scheduling and to propose joint optimization models for the economic manufacturing quantity (EMQ) and CBM policy. However, scheduling maintenance activities by only considering costs related to downtime and inspection/maintenance may interrupt the production plan and incur additional costs (e.g., inventory holding costs or lost sales). In this paper, we establish a new model to evaluate the total cost of production lot-sizing and CBM simultaneously, and try to obtain the optimal solution by minimizing the average long-run cost rate of production and maintenance for a degrading manufacturing system.

For real world applications, e.g., a boring process for mechanical parts, the plant manager not only needs to specify the schedule of maintenance in order to guarantee the proper running of boring machines, but also has to determine the lot size of production. Traditionally, these two decisions are made separately for the reasons of minimizing different cost elements. The maintenance schedule is normally optimized to minimize the cost of maintenance, downtime and failure, whereas the production lot size is usually determined to minimize the cost of inventory, setup and lost sales. But the wear-out or sudden failures of boring tools may happen in the middle of the production of a lot. If the failed boring tools cannot be fixed immediately, lost sales may occur due to this period of downtime. The determination of production lot size should therefore consider the failure processes of boring tools. Moreover, the scheduled preventive maintenance are better conducted during the idle periods of boring machines to not interrupt the production of a lot, which requires an integrated approach to decide on maintenance schedule and production lot size.

For deteriorating systems, the optimization models of CBM policies were created to determine the optimal control limits and/or inspection intervals, based on the stochastic degradation processes that are estimated from the condition monitoring data. For instance, by assuming the random coefficient model for degradation processes (Lu & Meeker, 1993), Wang (2000) proposed a model for single-component system to determine the optimal CBM policy in terms of a criterion of interest, which can be cost, downtime or reliability. Gebraeel, Lawley, Li, and Ryan, (2005, 2006) extended the random coefficient model to estimate residual life distributions from sensor signals by Bayesian updating. Using this technique, a single-unit replacement problem is formulated as a Markov decision process to develop a structured replacement policy by Elwany, Gebraeel, and Maillart (2011).

Markovian-based models were also applied to describe cumulative damages (Bogdanoff & Kozin, 1985; Neves, Santiago, & Maia, 2011). Application studies on marine engine cylinder liners were provided for discrete time and state Markov wear processes with both stationary (Giorgio, Guida, & Pulcini, 2010) and non-stationary (Giorgio, Guida, & Pulcini, 2011) transition matrices. A continuous time and state Markov process with non-stationary transition probabilities was also proposed by
Giorgio, Guida, & Pulcini, 2015. Cumulative damages were also explicitly considered in estimating the probability distribution of the tensile strength of materials (Durham & Padgett, 1997). Optimal replacement policies were developed for partially observable Markov processes (Makis & Jiang, 2003). Sequential condition-based maintenance policies were also proposed with a dynamic inspection interval and/or a dynamic control limit using Markovian-based models (Castanier, Bérenguer, & Grall, 2003; Chen & Trivedi, 2005; Chen & Wu, 2007).

For monotonic stochastic deteriorations with independent increments, Gamma processes were used for the purpose of optimizing condition-based maintenance (Van Noortwijk, 2009). The CBM models using Gamma processes were developed to have a single-level control limit or a multi-level control limit (Grall, Berenguer, & Dieulle, 2002) under the scenarios of periodic inspection, aperiodic inspection (Dieulle, Berenguer, Grall, & Roussignol, 2003) or continuous monitoring (Liao, Elsayed, & Chan, 2006). Partial repair was also investigated in previous research using Gamma processes (Newby & Barker, 2006). CBM policies for multi-deteriorating mode systems were also studied (Ponchet, Fouladirad, & Grall, 2010). Inverse Gaussian processes can also be used to model such stochastic deteriorations (Wang & Xu, 2010).

Dynamic environment factors were also considered in the Markov-based degradation processes (Kharoufeh, 2003; Singpurwalla, 1995). Proportional hazards models have been used to relate the system's condition variables and external factors to the failure of a system in replacement optimization (Ghasemi, Yacout, & Ouali, 2007; Golmakani & Fattahipour, 2011; Lin, Banjevic, & Jardine, 2006; Vlok, Coetzee, Banjevic, Jardine, & Makis, 2002; Wu & Ryan, 2011). A CBM policy for multi-component systems was proposed using proportional hazards model (Tian & Liao, 2011).

Reliability and maintenance of manufacturing systems have a direct impact on production capacity, thus many researches on production planning have been done to obtain the economic manufacturing quantity (EMQ) considering the effect of maintenance activities on manufacturing systems. Lee and Rosenblatt (1987) optimized the production cycle and the inspection intervals of maintenance simultaneously for systems with non-self announcing failures. Extensions of this work have been done to relax the assumption of a constant restoration cost and to further specify the costs resulting from producing defective items when the process is out of control (Lee & Park, 1991; Lee & Rosenblatt, 1989). Tseng (1996) reformulated Lee and Rosenblatt's (1987) model by assuming that the process lifetime is arbitrarily distributed with an increasing failure rate, and a preventive maintenance policy with equal intervals during the production run is introduced to improve the reliability of the deteriorating system. Some useful structural results of Tseng's (1996) model have been developed to improve the efficiency of the solution procedure (Wang, 2006; Wang & Sheu, 2000). Boukas and Haurie (1990) combined production and preventive maintenance planning in cases where the machine's failure probability increases with its age, using the hedging point policy concept introduced by Kimemia and Gershwin (1983). Yao, Xie, Fu, and Marcus (2005), formulated a Markov decision process (MDP) model to determine when to perform preventive maintenance as well as how much to produce dynamically based on the system state that is comprised of the system's age and inventory level. Aghezzaf, Jamali, and Ait-Kadi (2007) formulated and solved a multi-item capacitated lot-sizing problem on a system that is periodically renewed and minimally repaired at failure. Integrated lot-sizing and preventive maintenance models were proposed for multi-state systems with multiple components (Nourelfath, Fitouhi, & Machani, 2010). The lot sizing problems for production systems under imperfect maintenance have also been studied (Ben-daya, 2002; El-Ferik, 2008; Liao, Chen, & Sheu, 2009). A hierarchical decision making model has been proposed to determine the production rate and the repair/replacement policy for deteriorating systems under imperfect repair (Nodem, Kenne, & Gharbi, 2009), using a semi-Markov decision model. Multi-objective optimization techniques have also been used for cases that have conflicting objectives in production planning and maintenance scheduling (Jin, Jiang, & Hou, 2008).

Although many integrated lot-sizing and preventive maintenance models have been proposed to optimize the production and maintenance policies of manufacturing systems, relatively fewer works have been devoted to consider the effect of CBM policies on the lot-sizing decisions and to develop optimization models to determine EMQ and CBM policies simultaneously. Markov decision processes are a common technique to tackle this problem. The degradation of a manufacturing system is assumed to follow a Markov chain with a finite (usually very limited) number of states. Boukas and Liu (2001) consider the continuous flow model to optimize the production rate and maintenance rate in order to minimize discounted total costs including inventory holding, backlog, and maintenance costs. The machine has three working states: good, average and bad, and one failure state, whose transitions are governed by a continuous-time Markov chain. Iravani and Duenyas (2002) also considered an integrated maintenance and production control policy using a semi-Markov decision process model to minimize the inventory cost and maintenance cost. Because the joint optimal policy is complex, a heuristic policy with a simple structure is proposed and analyzed. Sloan and Shanthikumar (2000) proposed a MDP model to optimize the CBM policy together with the production dispatching decisions, since the equipment condition can affect the yield of different product types differently. Extensions of this work have been done to characterize multi-stage production systems, to include multiple uncertain maintenance actions and to consider the impact of market demand conditions (Kazaz & Sloan, 2013; Sloan, 2008; Sloan & Shanthikumar, 2002). Batun and Maillart (2012) reassessed the work of Sloan and Shanthikumar (2000) and modified the misspecification of the objective function in the first-come-first-served approach.

In this paper, we proposed an integrated lot-sizing and CBM model using renewal theory. Unlike previous works on this topic, which usually adopt time discrete Markov processes with finite, and often very limited, number of states, the proposed procedure can consider very general degradation processes. In fact, it can be easily implemented in all the cases in which the conditional distribution of the first passage time over a failure threshold can be calculated. As demonstrative example, in the paper the cases in which the degradation process can be described via a Gamma process and the case in which it can be modeled via a random coefficient model are explicitly considered. This form of flexibility of the proposed procedure is useful for manufacturing engineers, since degradations of production systems usually have a sophisticated way of changing, with continuous state and space and unit-to-unit heterogeneity, e.g., lithography machines in the semiconductor industry, and boring machines in the automotive industry (Francone et al., 2010; Rausch & Liao, 2010). Furthermore, in the models proposed by Boukas and Liu (2001) and Iravani and Duenyas (2002) (that are most relevant), they didn't consider the setup costs of each production lot in the cost structure. Our integrated model includes inventory holding cost, maintenance cost, lost sales cost, and setup cost in the objective function. These cost elements need to be considered simultaneously, since there are tradeoffs among them, which makes the lot-sizing decisions and the maintenance decisions dependent on each other. Such a joint optimization model of both production and maintenance that includes the setup cost of each production lot may further optimize the production and maintenance policies proposed before.

On the other hand, there are other features or assumptions of the models proposed in the work of Iravani and Duenyas (2002) and Boukas and Liu (2001), which are not considered in our model. For example, the demand and production process are stochastic processes; the machine under study produces a larger number of defectives as it deteriorates; the product quality depends on the state of the machine.

The remainder of this paper is organized as follows. Section 2 describes the problem and the model assumptions. Section 3 develops an economic model for the joint optimization of EMQ and CBM. Section 4 characterizes the general optimality conditions by assuming a specific degradation process for the model. Section 5 provides a numerical study and sensitivity analysis. Finally, Section 6 contains a summary of the paper and some concluding remarks.

Consider a manufacturing system subject to degradation processes during operation. The degradation state of the manufacturing system, X(t), can be monitored continuously over production time t. The initial degradation value is thus denoted by X(0). X(t) can be described using an increasing stochastic process, e.g., random coefficient model, Wiener process and Gamma process. A machine failure occurs when X(t) first reaches the failure threshold value H, which is shown in Figs. 1
                     a and 2
                     a. Thus, the failure time TH
                      is defined as the first passage time of X(t) over H. There are many manufacturing systems that can be characterized by such degradation models. For example, a boring process in an automotive engine manufacturing plant deteriorates over time due to the wear-out of the boring tool, which decreases the surface quality of finished holes. When the wear volume of the boring tool exceeds a certain threshold value, the surface quality of finished holes is not acceptable anymore and the boring tool needs to be replaced, which is defined as a failure of the boring process (Rausch & Liao, 2010).

The real-time monitoring of degradation processes is in most cases realistic due to the development of advanced sensor technologies. For example, two force transducers are used to monitor the wear-out of boring tools (Rausch & Liao, 2010). A focused ion beam system is effective to evaluate the amount of wear debris by producing cross sections of the precise area of interest in micro structures (Peng, Feng, & Coit, 2009). The degradation of lighting devices can be measured by luminosity sensor probes (Feng, Peng, & Coit, 2010). If the degradation process cannot be monitored continuously, periodic inspection can be an alternative way to obtain degradation data and our model should be modified accordingly.

Suppose this manufacturing system is used to produce one type of products. As in the classical EMQ model, the demand rate d and the production rate u are both constant with u > d. By specifying the production quantity Q, the production time for a lot t
                     0 equals Q/u (shown in Figs. 1b and 2b) if the manufacturing system operates normally, i.e., X(t) < H. After the production of each lot, there's a period of idle time (i.e., (u–d)t
                     0/d) for the manufacturing system. When the on-hand inventory is diminished back to zero, the production of the next lot starts again.

Notice that the horizontal axis t’ in Figs. 1b and 2b represents the total calendar time taken, (including the idle times of the machine) whereas the horizontal axis t in Figs. 1a and 2a represent the total production time (not including the idle times of the machine). If the manufacturing system fails at the production time point TH
                      (not the calendar time) during the production period of the nth lot (i.e., (n–1)t
                     0< TH
                     <nt
                     0 as shown in Fig. 2), the failure is assumed to be detected immediately through quality inspection and the production line stops. Corrective maintenance activities will be conducted right after the failure, and it will take a random time period S+l to overhaul and renew the manufacturing system (l is a constant time period for predictive maintenance action). If the on-hand inventory decreases to zero before the completion of corrective maintenance, i.e., (u–d)(TH
                     -(n–1)t
                     0)/d<S+l, the demand cannot be fulfilled until the renewed manufacturing system produces again, which incurs lost sales. If the on-hand inventory doesn't decrease to zero when the overhaul of the manufacturing system finishes, we assume the renewed manufacturing system produces again when the on-hand inventory is diminished back to zero.

In order to reduce the chance of costly corrective maintenance, we use a control limit policy that determines when to do predictive maintenance given the degradation state of the manufacturing system over time X(t). Meanwhile, to not disturb the production plan, we assume the predictive maintenance activities in this CBM policy can only be carried out during the idle time periods after the production of each lot. This implies when the continuously monitored X(t) crosses the control limit C (C<H) during the production period of the nth lot (i.e., (n–1)t
                     0< TC
                     <nt
                     0 as shown in Figs. 1a and 2a), we will schedule a predictive maintenance for the manufacturing system after the nth lot has been finished (i.e., at production time nt
                     0 as shown in Fig. 1a).

Under this control limit policy, there are two types of events that will happen in the degradation process: (1) TC
                      occurs in the production lot ((n–1)t0,nt0
                     ] as shown in Fig. 2a, so we prepare to perform maintenance after the production of the nth lot; however, the degradation process hits H before the production of the nth lot finishes, so, unfortunately, we have to perform a corrective maintenance at TH
                     ; on the calendar time t’, it takes S+l time units to perform a corrective maintenance action; (2) TC
                      occurs in the production lot ((n–1)t0,nt0
                     ] as shown in Fig. 1a, so we prepare to perform maintenance after the production of the nth lot; the degradation process does not hit H after the production of the nth lot, so we perform a predictive maintenance action at the end of the renewal cycle; the predictive maintenance is assumed to be finished within a constant time period l; the time period of idle time, (u–d)t
                     0/d, should be larger than l to ensure that no lost sales is incurred. In most cases, these assumptions are reasonable because production plans are less flexible than maintenance schedules. Usually production plans are dependent on working schedules of staffs for production, due dates from customers or reservations of transportation services, whereas maintenance schedules are related to working schedules of maintenance staffs that have uneven workloads. Thus the predictive maintenance schedule will adapt to the production plan.

Notice that the model depends on having constant production and demand rates. Without this assumption, a (Q, R) policy can be used to generalize the EMQ analysis to allow for random demand and production rates (Nahmias, 2001). The interaction of the CBM policy and the (Q, R) policy will complicate the evaluation of the expected total cost rate, since both the CBM policy and the (Q, R) policy are dynamic in terms of the time points of maintenance or production. If analytical results cannot be obtained, a simulation approach can be implemented for the analysis. The model can also be adapted to the cases for which the predictive maintenance time is random (see Appendix F for the modifications of the model formulation). After the predictive maintenance or corrective maintenance, the manufacturing system is assumed to be as good as new. We also assume the setup time is small enough to be included in the idle time of a production lot and the manufacturing machine does not degrade in the setup period.

To evaluate and optimize the joint lot-sizing and CBM policy, we use an average long-run cost rate model, in which the production quantity Q (or equivalently the production run length t
                     0) and the control limit C are the decision variables. Let C(t’) denote the cumulative production and maintenance cost until time t’. From the renewal theory (Ross, 1983), the average long-run total cost per unit time, CR(Q,C), can be evaluated by

                        
                           (1)
                           
                              
                                 C
                                 R
                                 
                                    (
                                    Q
                                    ,
                                    C
                                    )
                                 
                                 =
                                 
                                    lim
                                    
                                       
                                          t
                                          ′
                                       
                                       →
                                       ∞
                                    
                                 
                                 
                                    (
                                    C
                                    
                                       (
                                       
                                          t
                                          ′
                                       
                                       )
                                    
                                    /
                                    
                                       t
                                       ′
                                    
                                    )
                                 
                                 =
                                 
                                    
                                       E
                                       [
                                       T
                                       C
                                       ]
                                    
                                    
                                       E
                                       [
                                       K
                                       ]
                                    
                                 
                                 ,
                              
                           
                        
                     where E[TC] is the expected total production and maintenance cost of a renewal cycle, and E[K] is the length of a cycle as shown in Figs. 1 and 2.
                  

Suppose that the degradation state of the manufacturing system X(t) crosses the control limit C during the production period of the nth lot, i.e., the first passage time TC
                      of the degradation process over the control limit falls within the production period of the nth lot, (n–1)t
                     0< TC
                     <nt
                     0. If X(t) doesn't reach the failure threshold H during the production period of the nth lot, i.e., TH
                     >nt
                     0, predictive maintenance will be performed after the production of the nth lot and the length of the renewal cycle is the total time of n lots nut
                     0/d. If the manufacturing system fails before the completion of the nth lot, i.e., TH
                     <nt
                     0, corrective maintenance will be conducted right after the machine failure and the renewal cycle includes the total time of (n–1) lots, the production time of the nth lot and the duration of corrective maintenance S+l. Thus, the expected length of a cycle E[K] can be expressed as

                        
                           (2)
                           
                              
                                 
                                    
                                       
                                          E
                                          [
                                          K
                                          ]
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          [
                                          
                                             
                                                (
                                                
                                                   
                                                      n
                                                      u
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   d
                                                
                                                )
                                             
                                             
                                                ∫
                                                
                                                   
                                                      (
                                                      n
                                                      −
                                                      1
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                
                                                   n
                                                   
                                                      t
                                                      0
                                                   
                                                
                                             
                                             
                                                
                                                   ∫
                                                   
                                                      n
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   ∞
                                                
                                                
                                                   
                                                      f
                                                      
                                                         
                                                            T
                                                            H
                                                         
                                                         
                                                            |
                                                         
                                                         
                                                            T
                                                            C
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         t
                                                         h
                                                      
                                                      |
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                   d
                                                   
                                                      t
                                                      h
                                                   
                                                
                                                
                                                   f
                                                   
                                                      T
                                                      C
                                                   
                                                
                                                
                                                   (
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                d
                                                
                                                   t
                                                   c
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                          
                                             ∫
                                             
                                                
                                                   (
                                                   n
                                                   −
                                                   1
                                                   )
                                                
                                                
                                                   t
                                                   0
                                                
                                             
                                             
                                                n
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                          
                                             ∫
                                             
                                                
                                                   t
                                                   c
                                                
                                             
                                             
                                                n
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                          
                                             (
                                             
                                                
                                                   
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      u
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   d
                                                
                                                +
                                                
                                                   t
                                                   h
                                                
                                                −
                                                
                                                   (
                                                   n
                                                   −
                                                   1
                                                   )
                                                
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             E
                                             
                                                [
                                                
                                                   max
                                                   
                                                      (
                                                      
                                                         S
                                                         +
                                                         l
                                                         ,
                                                         
                                                            
                                                               (
                                                               u
                                                               −
                                                               d
                                                               )
                                                            
                                                            d
                                                         
                                                         
                                                            (
                                                            
                                                               
                                                                  t
                                                                  h
                                                               
                                                               −
                                                               
                                                                  (
                                                                  n
                                                                  −
                                                                  1
                                                                  )
                                                               
                                                               
                                                                  t
                                                                  0
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      )
                                                   
                                                
                                                ]
                                             
                                          
                                          )
                                          
                                             f
                                             
                                                
                                                   T
                                                   H
                                                
                                                
                                                   |
                                                
                                                
                                                   T
                                                   C
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          ×
                                          
                                          
                                             (
                                             
                                                t
                                                h
                                             
                                             |
                                             
                                                t
                                                c
                                             
                                             )
                                          
                                          d
                                          
                                             t
                                             h
                                          
                                          
                                             f
                                             
                                                T
                                                C
                                             
                                          
                                          
                                             (
                                             
                                                t
                                                c
                                             
                                             )
                                          
                                          d
                                          
                                             t
                                             c
                                          
                                          ]
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     where

                        
                           
                              
                                 
                                    
                                    
                                    
                                       
                                          E
                                          
                                             [
                                             
                                                max
                                                
                                                   (
                                                   
                                                      S
                                                      +
                                                      l
                                                      ,
                                                      
                                                         
                                                            (
                                                            u
                                                            −
                                                            d
                                                            )
                                                         
                                                         d
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               t
                                                               h
                                                            
                                                            −
                                                            
                                                               (
                                                               n
                                                               −
                                                               1
                                                               )
                                                            
                                                            
                                                               t
                                                               0
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                          =
                                          
                                             
                                                (
                                                u
                                                −
                                                d
                                                )
                                             
                                             d
                                          
                                          
                                             (
                                             
                                                
                                                   t
                                                   h
                                                
                                                −
                                                
                                                   (
                                                   n
                                                   −
                                                   1
                                                   )
                                                
                                                
                                                   t
                                                   0
                                                
                                             
                                             )
                                          
                                          
                                             F
                                             S
                                          
                                          
                                             (
                                             
                                                
                                                   
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   d
                                                
                                                
                                                   (
                                                   
                                                      
                                                         t
                                                         h
                                                      
                                                      −
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   )
                                                
                                                −
                                                l
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                          +
                                          
                                          
                                          
                                             ∫
                                             
                                                
                                                   
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   d
                                                
                                                
                                                   (
                                                   
                                                      
                                                         t
                                                         h
                                                      
                                                      −
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   )
                                                
                                                −
                                                l
                                             
                                             ∞
                                          
                                          
                                             
                                                (
                                                s
                                                +
                                                l
                                                )
                                             
                                             
                                                f
                                                S
                                             
                                             
                                                (
                                                s
                                                )
                                             
                                          
                                          d
                                          s
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     
                     
                        
                           
                              f
                              
                                 
                                    T
                                    H
                                 
                                 
                                    |
                                 
                                 
                                    T
                                    C
                                 
                              
                           
                           
                              (
                              
                                 t
                                 h
                              
                              |
                              
                                 t
                                 c
                              
                              )
                           
                        
                      denotes the conditional pdf of first passage time TH
                      given that TC
                     =tc
                     , and 
                        
                           f
                           
                              T
                              C
                           
                        
                     , FS, fS
                      denotes the pdf of first passage time TC
                     , the cdf and pdf of additional random time S for corrective maintenance, respectively. Notice that the duration of corrective maintenance after the production of the nth lot is evaluated as the maximum value of S+l and (u–d)(TH
                     –(n–1)t
                     0)/d, because as mentioned in Section 2 we assume the renewed manufacturing system produces again when the on-hand inventory is diminished back to zero. The total production and maintenance cost is composed of setup cost for every lot, inventory holding cost over time, lost sales cost, predictive maintenance cost and corrective maintenance cost. The setup cost per lot CS
                      is assumed to be constant. Hence, the expected setup cost per renewal cycle E[SC] is given as

                        
                           (3)
                           
                              
                                 
                                    
                                       
                                          E
                                          [
                                          S
                                          C
                                          ]
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          
                                             [
                                             
                                                n
                                                
                                                   C
                                                   S
                                                
                                                P
                                                
                                                   (
                                                   
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                      
                                                      <
                                                      
                                                         T
                                                         C
                                                      
                                                      ≤
                                                      n
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          
                                             [
                                             
                                                n
                                                
                                                   C
                                                   S
                                                
                                                
                                                   ∫
                                                   
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   
                                                      n
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                
                                                
                                                   
                                                      f
                                                      
                                                         T
                                                         C
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                   d
                                                   
                                                      t
                                                      c
                                                   
                                                
                                             
                                             ]
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

The expected inventory holding cost per cycle E[HC] is derived from the integration of on-hand inventory level I(t’) over time as shown in Figs. 1 and 2. Thus,

                        
                           (4)
                           
                              
                                 
                                    
                                       
                                          E
                                          [
                                          H
                                          C
                                          ]
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             C
                                             I
                                          
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          
                                             [
                                             
                                             
                                                (
                                                
                                                   
                                                      n
                                                      u
                                                      
                                                         (
                                                         u
                                                         −
                                                         d
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                         2
                                                      
                                                   
                                                   
                                                      2
                                                      d
                                                   
                                                
                                                )
                                             
                                             
                                                ∫
                                                
                                                   
                                                      (
                                                      n
                                                      −
                                                      1
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                
                                                   n
                                                   
                                                      t
                                                      0
                                                   
                                                
                                             
                                             
                                                
                                                   ∫
                                                   
                                                      n
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   ∞
                                                
                                                
                                                   
                                                      f
                                                      
                                                         
                                                            T
                                                            H
                                                         
                                                         
                                                            |
                                                         
                                                         
                                                            T
                                                            C
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         t
                                                         h
                                                      
                                                      |
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                   d
                                                   
                                                      t
                                                      h
                                                   
                                                
                                                
                                                   f
                                                   
                                                      T
                                                      C
                                                   
                                                
                                                
                                                   (
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                d
                                                
                                                   t
                                                   c
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             ∫
                                             
                                                
                                                   (
                                                   n
                                                   −
                                                   1
                                                   )
                                                
                                                
                                                   t
                                                   0
                                                
                                             
                                             
                                                n
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                          
                                             ∫
                                             
                                                
                                                   t
                                                   c
                                                
                                             
                                             
                                                n
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                          
                                             (
                                             
                                                
                                                   
                                                      (
                                                      n
                                                      −
                                                      1
                                                      )
                                                   
                                                   u
                                                   
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                      2
                                                   
                                                
                                                
                                                   2
                                                   d
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             
                                                +
                                                
                                                
                                                   
                                                      u
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   
                                                      2
                                                      d
                                                   
                                                
                                                
                                                   
                                                      
                                                         (
                                                         
                                                            
                                                               t
                                                               h
                                                            
                                                            −
                                                            
                                                               (
                                                               n
                                                               −
                                                               1
                                                               )
                                                            
                                                            
                                                               t
                                                               0
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   2
                                                
                                                )
                                             
                                             
                                                f
                                                
                                                   
                                                      T
                                                      H
                                                   
                                                   
                                                      |
                                                   
                                                   
                                                      T
                                                      C
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   h
                                                
                                                |
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                h
                                             
                                             
                                                f
                                                
                                                   T
                                                   C
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                c
                                             
                                             ]
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     where CI
                      is the holding cost per unit held in inventory per time unit.

Under the model assumptions described in Section 2, lost sales can only occur during the period of corrective maintenance when the on-hand inventory is completely depleted. If every unfulfilled demand incurs a lost sales cost CL
                     , the expected lost sales cost per cycle E[LS] is given by

                        
                           (5)
                           
                              
                                 
                                    
                                       
                                          E
                                          [
                                          L
                                          S
                                          ]
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             C
                                             L
                                          
                                          d
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          
                                             [
                                             
                                                ∫
                                                
                                                   
                                                      (
                                                      n
                                                      −
                                                      1
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                
                                                   n
                                                   
                                                      t
                                                      0
                                                   
                                                
                                             
                                             
                                                ∫
                                                
                                                   
                                                      t
                                                      c
                                                   
                                                
                                                
                                                   n
                                                   
                                                      t
                                                      0
                                                   
                                                
                                             
                                             
                                                ∫
                                                
                                                   
                                                      
                                                         (
                                                         u
                                                         −
                                                         d
                                                         )
                                                      
                                                      d
                                                   
                                                   
                                                      (
                                                      
                                                         
                                                            t
                                                            h
                                                         
                                                         −
                                                         
                                                            (
                                                            n
                                                            −
                                                            1
                                                            )
                                                         
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                      )
                                                   
                                                   −
                                                   l
                                                
                                                ∞
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          ×
                                          
                                          
                                             (
                                             
                                                s
                                                +
                                                l
                                                −
                                                
                                                   
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   d
                                                
                                                
                                                   (
                                                   
                                                      
                                                         t
                                                         h
                                                      
                                                      −
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   )
                                                
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             ×
                                             
                                             
                                                f
                                                S
                                             
                                             
                                                (
                                                s
                                                )
                                             
                                             d
                                             s
                                             
                                                f
                                                
                                                   
                                                      T
                                                      H
                                                   
                                                   
                                                      |
                                                   
                                                   
                                                      T
                                                      C
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   h
                                                
                                                |
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                h
                                             
                                             
                                                f
                                                
                                                   T
                                                   C
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                c
                                             
                                             ]
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

The expected predictive maintenance cost per cycle E[PM] due to the predictive maintenance activities triggered by the control limit before the machine fails can be expressed as

                        
                           (6)
                           
                              
                                 E
                                 
                                    [
                                    P
                                    M
                                    ]
                                 
                                 =
                                 
                                    ∑
                                    
                                       n
                                       =
                                       1
                                    
                                    ∞
                                 
                                 
                                    [
                                    
                                       
                                          C
                                          P
                                       
                                       
                                          ∫
                                          
                                             
                                                (
                                                n
                                                −
                                                1
                                                )
                                             
                                             
                                                t
                                                0
                                             
                                          
                                          
                                             n
                                             
                                                t
                                                0
                                             
                                          
                                       
                                       
                                          
                                             ∫
                                             
                                                n
                                                
                                                   t
                                                   0
                                                
                                             
                                             ∞
                                          
                                          
                                             
                                                f
                                                
                                                   
                                                      T
                                                      H
                                                   
                                                   
                                                      |
                                                   
                                                   
                                                      T
                                                      C
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   h
                                                
                                                |
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                h
                                             
                                          
                                          
                                             f
                                             
                                                T
                                                C
                                             
                                          
                                          
                                             (
                                             
                                                t
                                                c
                                             
                                             )
                                          
                                          d
                                          
                                             t
                                             c
                                          
                                       
                                    
                                    ]
                                 
                                 ,
                              
                           
                        
                     where CP
                      is the cost related to the predictive maintenance activities (e.g., inspection, repair or replacement). The expected corrective maintenance cost per cycle E[CM] due to the unexpected machine failure is given by

                        
                           (7)
                           
                              
                                 E
                                 
                                    [
                                    C
                                    M
                                    ]
                                 
                                 =
                                 
                                    ∑
                                    
                                       n
                                       =
                                       1
                                    
                                    ∞
                                 
                                 
                                    [
                                    
                                       
                                          C
                                          C
                                       
                                       
                                          ∫
                                          
                                             
                                                (
                                                n
                                                −
                                                1
                                                )
                                             
                                             
                                                t
                                                0
                                             
                                          
                                          
                                             n
                                             
                                                t
                                                0
                                             
                                          
                                       
                                       
                                          
                                             ∫
                                             
                                                
                                                   t
                                                   c
                                                
                                             
                                             
                                                n
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                          
                                             
                                                f
                                                
                                                   
                                                      T
                                                      H
                                                   
                                                   
                                                      |
                                                   
                                                   
                                                      T
                                                      C
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   h
                                                
                                                |
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                h
                                             
                                          
                                          
                                             f
                                             
                                                T
                                                C
                                             
                                          
                                          
                                             (
                                             
                                                t
                                                c
                                             
                                             )
                                          
                                          d
                                          
                                             t
                                             c
                                          
                                       
                                    
                                    ]
                                 
                                 ,
                              
                           
                        
                     where CC
                      is the cost including the corrective maintenance cost (e.g., inspection, repair or replacement) after the unexpected machine failure, the downtime cost, and the scrap cost due to the machine failure. Notice that for most cases, the corrective maintenance cost CC
                      is larger than the predictive maintenance cost CP
                     . Hence, the total expected production and maintenance cost per cycle E[TC] is the sum of all the previously-mentioned costs, i.e.,

                        
                           (8)
                           
                              
                                 E
                                 [
                                 T
                                 C
                                 ]
                                 =
                                 E
                                 [
                                 S
                                 C
                                 ]
                                 +
                                 E
                                 [
                                 H
                                 C
                                 ]
                                 +
                                 E
                                 [
                                 L
                                 S
                                 ]
                                 +
                                 E
                                 [
                                 P
                                 M
                                 ]
                                 +
                                 E
                                 [
                                 C
                                 M
                                 ]
                                 .
                              
                           
                        
                     
                  

According to Eq. (1), the optimal production quantity Q*
                      and control limit C*
                      can be obtained by minimizing the average long-run total cost rate CR(Q,C) subject to the constraint that the idle time period between lots (u–d)t
                     0/d is not shorter than the fixed duration of predictive maintenance l, which can be written as

                        
                           
                              
                                 
                                    
                                       
                                          min
                                          
                                             (
                                             Q
                                             ,
                                             C
                                             )
                                          
                                       
                                    
                                    
                                       
                                          
                                             C
                                             R
                                             
                                                (
                                                Q
                                                ,
                                                C
                                                )
                                             
                                             =
                                             
                                                
                                                   E
                                                   [
                                                   T
                                                   C
                                                   ]
                                                
                                                
                                                   E
                                                   [
                                                   K
                                                   ]
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          s
                                          .
                                          t
                                          .
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                d
                                             
                                             =
                                             
                                                
                                                   (
                                                   u
                                                   −
                                                   d
                                                   )
                                                   Q
                                                
                                                
                                                   u
                                                   d
                                                
                                             
                                             ≥
                                             l
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          X
                                          (
                                          0
                                          )
                                          ≤
                                          C
                                          ≤
                                          H
                                       
                                    
                                 
                              
                           
                        
                     or

                        
                           (9)
                           
                              
                                 
                                    
                                       
                                          min
                                          
                                             (
                                             
                                                t
                                                0
                                             
                                             ,
                                             C
                                             )
                                          
                                       
                                    
                                    
                                       
                                          
                                             C
                                             R
                                             
                                                (
                                                
                                                   t
                                                   0
                                                
                                                ,
                                                C
                                                )
                                             
                                             =
                                             
                                                
                                                   E
                                                   [
                                                   T
                                                   C
                                                   ]
                                                
                                                
                                                   E
                                                   [
                                                   K
                                                   ]
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          s
                                          .
                                          t
                                          .
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                d
                                             
                                             =
                                             
                                                
                                                   (
                                                   u
                                                   −
                                                   d
                                                   )
                                                   Q
                                                
                                                
                                                   d
                                                   u
                                                
                                             
                                             ≥
                                             l
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          X
                                          (
                                          0
                                          )
                                          ≤
                                          C
                                          ≤
                                          H
                                       
                                    
                                 
                              
                           
                        
                     
                  

Since t
                     0
                     =
                     Q/u, these two optimization models are equivalent. Notice that in Eqs. (2)–(7), the expected costs are written in terms of t
                     0. We therefore use the second optimization model to obtain the optimal production time for a lot t
                     0
                     * and the optimal control limit C*
                     . Because of complexity in determining the objective function of (9), it is difficult to analyze the model and find its closed form solution. To get more insights of the objective function, we now construct the model with some specific degradation processes.

We first give an example of how to derive the distribution of the first passage time and the conditional first passage time by assuming that the degradation process X(t) follows a Gamma process with parameter α and β (a Gamma process is a continuous time and continuous state Markov process with independent and stationary increments). Then if X(tj
                     ) denotes the degradation level at time tj
                     , the random increments X(tj
                     )–X(tj
                     
                     –
                     1) are s-independent and have a gamma pdf with shape parameter α and inverse scale parameter β (Van Noortwijk, 2009), i.e.,

                        
                           (10)
                           
                              
                                 
                                    f
                                    
                                       X
                                       
                                          (
                                          
                                             t
                                             j
                                          
                                          )
                                       
                                       −
                                       X
                                       
                                          (
                                          
                                             t
                                             
                                                j
                                                −
                                                1
                                             
                                          
                                          )
                                       
                                    
                                 
                                 
                                    (
                                    Δ
                                    
                                       x
                                       j
                                    
                                    )
                                 
                                 =
                                 
                                    
                                       
                                          
                                             (
                                             Δ
                                             
                                                x
                                                j
                                             
                                             )
                                          
                                          
                                             α
                                             (
                                             
                                                t
                                                j
                                             
                                             −
                                             
                                                t
                                                
                                                   j
                                                   −
                                                   1
                                                
                                             
                                             )
                                             −
                                             1
                                          
                                       
                                       exp
                                       
                                          (
                                          
                                             −
                                             β
                                             (
                                             Δ
                                             
                                                x
                                                j
                                             
                                             )
                                          
                                          )
                                       
                                       
                                          β
                                          
                                             α
                                             (
                                             
                                                t
                                                j
                                             
                                             −
                                             
                                                t
                                                
                                                   j
                                                   −
                                                   1
                                                
                                             
                                             )
                                          
                                       
                                    
                                    
                                       Γ
                                       
                                          (
                                          
                                             α
                                             (
                                             
                                                t
                                                j
                                             
                                             −
                                             
                                                t
                                                
                                                   j
                                                   −
                                                   1
                                                
                                             
                                             )
                                          
                                          )
                                       
                                    
                                 
                                 ,
                              
                           
                        
                     Where Γ(x) is the gamma function, 
                        
                           Γ
                           
                              (
                              x
                              )
                           
                           =
                           
                              ∫
                              0
                              ∞
                           
                           
                              
                                 y
                                 
                                    x
                                    −
                                    1
                                 
                              
                              
                                 e
                                 
                                    −
                                    y
                                 
                              
                              d
                              y
                           
                        
                     . The cdf of the passage time TC
                      when X(t) reaches the control limit C is given by

                        
                           (11)
                           
                              
                                 
                                    F
                                    
                                       T
                                       C
                                    
                                 
                                 
                                    (
                                    
                                       t
                                       c
                                    
                                    )
                                 
                                 =
                                 P
                                 
                                    (
                                    X
                                    
                                       (
                                       
                                          t
                                          c
                                       
                                       )
                                    
                                    ≥
                                    C
                                    )
                                 
                                 =
                                 
                                    
                                       Γ
                                       (
                                       α
                                       
                                          t
                                          c
                                       
                                       ,
                                       β
                                       
                                          (
                                          C
                                          −
                                          X
                                          
                                             (
                                             0
                                             )
                                          
                                          )
                                       
                                       )
                                    
                                    
                                       Γ
                                       (
                                       α
                                       
                                          t
                                          c
                                       
                                       )
                                    
                                 
                                 ,
                              
                           
                        
                     where Γ(x,s) is the upper incomplete gamma function, 
                        
                           Γ
                           
                              (
                              x
                              ,
                              s
                              )
                           
                           =
                           
                              ∫
                              s
                              ∞
                           
                           
                              
                                 y
                                 
                                    x
                                    −
                                    1
                                 
                              
                              
                                 e
                                 
                                    −
                                    y
                                 
                              
                              d
                              y
                           
                        
                     . The pdf of the passage time TC
                      can be expressed as (Park & Padgett, 2005)

                        
                           (12)
                           
                              
                                 
                                    
                                       
                                          
                                             f
                                             
                                                T
                                                C
                                             
                                          
                                          
                                             (
                                             
                                                t
                                                c
                                             
                                             )
                                          
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          α
                                          
                                             [
                                             
                                                ψ
                                                
                                                   (
                                                   α
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                −
                                                ln
                                                
                                                   (
                                                   β
                                                   
                                                      (
                                                      C
                                                      −
                                                      X
                                                      
                                                         (
                                                         0
                                                         )
                                                      
                                                      )
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          ×
                                          
                                          
                                             [
                                             
                                                1
                                                −
                                                
                                                   
                                                      Γ
                                                      (
                                                      α
                                                      
                                                         t
                                                         c
                                                      
                                                      ,
                                                      β
                                                      
                                                         (
                                                         C
                                                         −
                                                         X
                                                         
                                                            (
                                                            0
                                                            )
                                                         
                                                         )
                                                      
                                                      )
                                                   
                                                   
                                                      Γ
                                                      (
                                                      α
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             α
                                             
                                                Γ
                                                (
                                                α
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                          
                                          
                                             
                                                
                                                   (
                                                   β
                                                   (
                                                   C
                                                   −
                                                   X
                                                   (
                                                   0
                                                   )
                                                   )
                                                   )
                                                
                                                
                                                   α
                                                   
                                                      t
                                                      c
                                                   
                                                
                                             
                                             
                                                
                                                   (
                                                   α
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                2
                                             
                                          
                                          
                                             
                                             2
                                          
                                          
                                             F
                                             2
                                             
                                                (
                                                C
                                                )
                                             
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     where

                        
                           
                              
                                 
                                    
                                    2
                                 
                                 
                                    F
                                    2
                                    
                                       (
                                       C
                                       )
                                    
                                 
                                 =
                                 1
                                 +
                                 
                                    
                                       ∑
                                       
                                          k
                                          =
                                          1
                                       
                                       ∞
                                    
                                    
                                       
                                          
                                             (
                                             
                                                
                                                   α
                                                   
                                                      t
                                                      c
                                                   
                                                
                                                
                                                   α
                                                   
                                                      t
                                                      c
                                                   
                                                   +
                                                   k
                                                
                                             
                                             )
                                          
                                       
                                       2
                                    
                                 
                                 
                                    (
                                    
                                       
                                          
                                             (
                                             −
                                             β
                                             (
                                             C
                                             −
                                             X
                                             (
                                             0
                                             )
                                             )
                                             )
                                          
                                          k
                                       
                                       
                                          k
                                          !
                                       
                                    
                                    )
                                 
                              
                           
                        
                     represents the generalized hypergeometric function, and ψ(x)=
                     d/dxlnΓ(x) is the digamma function. Similarly, the conditional cdf 
                        
                           
                              F
                              
                                 
                                    T
                                    H
                                 
                                 
                                    |
                                 
                                 
                                    T
                                    C
                                 
                              
                           
                           
                              (
                              
                                 t
                                 h
                              
                              |
                              
                                 t
                                 c
                              
                              )
                           
                        
                      of TH
                      given that TC
                     
                     =
                     tc
                      can be obtained by

                        
                           (13)
                           
                              
                                 
                                    
                                       
                                          
                                             F
                                             
                                                
                                                   T
                                                   H
                                                
                                                
                                                   |
                                                
                                                
                                                   T
                                                   C
                                                
                                             
                                          
                                          
                                             (
                                             
                                                t
                                                h
                                             
                                             |
                                             
                                                t
                                                c
                                             
                                             )
                                          
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          P
                                          (
                                          X
                                          
                                             (
                                             
                                                t
                                                h
                                             
                                             −
                                             
                                                t
                                                c
                                             
                                             )
                                          
                                          ≥
                                          H
                                          −
                                          C
                                          )
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             
                                                Γ
                                                (
                                                α
                                                
                                                   (
                                                   
                                                      t
                                                      h
                                                   
                                                   −
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                ,
                                                β
                                                
                                                   (
                                                   H
                                                   −
                                                   C
                                                   )
                                                
                                                )
                                             
                                             
                                                Γ
                                                (
                                                α
                                                
                                                   (
                                                   
                                                      t
                                                      h
                                                   
                                                   −
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                )
                                             
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

Hence, the conditional pdf of TH
                      given that TC
                     
                     =
                     tc
                      can be derived as

                        
                           (14)
                           
                              
                                 
                                    
                                       
                                          
                                             f
                                             
                                                
                                                   T
                                                   H
                                                
                                                
                                                   |
                                                
                                                
                                                   T
                                                   C
                                                
                                             
                                          
                                          
                                             (
                                             
                                                t
                                                h
                                             
                                             |
                                             
                                                t
                                                c
                                             
                                             )
                                          
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          α
                                          
                                             [
                                             
                                                ψ
                                                
                                                   (
                                                   α
                                                   
                                                      (
                                                      
                                                         t
                                                         h
                                                      
                                                      −
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                   )
                                                
                                                −
                                                ln
                                                
                                                   (
                                                   β
                                                   
                                                      (
                                                      H
                                                      −
                                                      C
                                                      )
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          ×
                                          
                                          
                                             [
                                             
                                                1
                                                −
                                                
                                                   
                                                      Γ
                                                      (
                                                      α
                                                      
                                                         (
                                                         
                                                            t
                                                            h
                                                         
                                                         −
                                                         
                                                            t
                                                            c
                                                         
                                                         )
                                                      
                                                      ,
                                                      β
                                                      
                                                         (
                                                         H
                                                         −
                                                         C
                                                         )
                                                      
                                                      )
                                                   
                                                   
                                                      Γ
                                                      (
                                                      α
                                                      
                                                         (
                                                         
                                                            t
                                                            h
                                                         
                                                         −
                                                         
                                                            t
                                                            c
                                                         
                                                         )
                                                      
                                                   
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             α
                                             
                                                Γ
                                                (
                                                α
                                                
                                                   (
                                                   
                                                      t
                                                      h
                                                   
                                                   −
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                )
                                             
                                          
                                          
                                             
                                                
                                                   (
                                                   β
                                                   (
                                                   H
                                                   −
                                                   C
                                                   )
                                                   )
                                                
                                                
                                                   α
                                                   (
                                                   
                                                      t
                                                      h
                                                   
                                                   −
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                             
                                             
                                                
                                                   (
                                                   α
                                                   
                                                      (
                                                      
                                                         t
                                                         h
                                                      
                                                      −
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                   )
                                                
                                                2
                                             
                                          
                                          
                                             
                                             2
                                          
                                          
                                             F
                                             2
                                             
                                                (
                                                H
                                                −
                                                C
                                                )
                                             
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     where

                        
                           
                              
                                 
                                    
                                    2
                                 
                                 
                                    F
                                    2
                                    
                                       (
                                       H
                                       −
                                       C
                                       )
                                    
                                 
                                 =
                                 1
                                 +
                                 
                                    
                                       ∑
                                       
                                          k
                                          =
                                          1
                                       
                                       ∞
                                    
                                    
                                       
                                          
                                             (
                                             
                                                
                                                   α
                                                   (
                                                   
                                                      t
                                                      h
                                                   
                                                   −
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                
                                                   α
                                                   (
                                                   
                                                      t
                                                      h
                                                   
                                                   −
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                   +
                                                   k
                                                
                                             
                                             )
                                          
                                       
                                       2
                                    
                                 
                                 
                                    (
                                    
                                       
                                          
                                             (
                                             −
                                             β
                                             (
                                             H
                                             −
                                             C
                                             )
                                             )
                                          
                                          k
                                       
                                       
                                          k
                                          !
                                       
                                    
                                    )
                                 
                                 .
                              
                           
                        
                     
                  

If we further assume that S follows a Gamma distribution with shape parameter k and scale parameter θ, then by substituting the pdf and cdf of S into Eqs. (2) and (5), and substituting Eqs. (14) and (12) into Eqs. (2–
7), we can obtain the explicit expressions of E[K], E[SC], E[HC], E[LS], E[PM], E[CM] and CR(t
                     0,C).

Another example is considered for the case in which the degradation process follows a random coefficient model (Lu & Meeker,1993). The degradation path of a unit over time is X(t)=
                     X
                     0+ηt where X
                     0 is the initial condition and η is the degradation rate (X
                     0 and η≥0). Both of them are subject to unit-to-unit variability, under which X
                     0 is assumed to have a probability distribution with pdf f
                     X0(.) and η is assumed to have a probability distribution with pdf fη
                     (.) (X
                     0 and η are independent random variables). Then the cdf of the passage time TC
                      is given by

                        
                           
                              
                                 
                                    F
                                    
                                       T
                                       C
                                    
                                 
                                 
                                    (
                                    
                                       t
                                       c
                                    
                                    )
                                 
                                 =
                                 P
                                 
                                    (
                                    X
                                    
                                       (
                                       
                                          t
                                          c
                                       
                                       )
                                    
                                    ≥
                                    C
                                    )
                                 
                                 =
                                 P
                                 
                                    (
                                    
                                       X
                                       0
                                    
                                    +
                                    η
                                    
                                       t
                                       c
                                    
                                    ≥
                                    C
                                    )
                                 
                                 ,
                              
                           
                        
                     where the distribution of X
                     0
                     +
                     ηt
                     c can be found by using the technique of variable transformation (Walpole, Myers, & Myers, 2002). Similarly, the conditional cdf FTH|TC
                     (th|tc
                     ) of TH
                      given that TC
                     =
                     tc
                      can be obtained by

                        
                           
                              
                                 
                                    
                                       
                                          
                                             F
                                             
                                                
                                                   T
                                                   H
                                                
                                                
                                                   |
                                                
                                                
                                                   T
                                                   C
                                                
                                             
                                          
                                          
                                             (
                                             
                                                t
                                                h
                                             
                                             |
                                             
                                                t
                                                c
                                             
                                             )
                                          
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          P
                                          (
                                          X
                                          
                                             (
                                             
                                                t
                                                h
                                             
                                             )
                                          
                                          ≥
                                          H
                                          |
                                          
                                             T
                                             C
                                          
                                          =
                                          
                                             t
                                             c
                                          
                                          )
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             P
                                             (
                                             
                                                X
                                                0
                                             
                                             +
                                             η
                                             
                                                t
                                                h
                                             
                                             ≥
                                             H
                                             ,
                                             
                                                X
                                                0
                                             
                                             +
                                             η
                                             
                                                t
                                                c
                                             
                                             =
                                             C
                                             )
                                          
                                          
                                             P
                                             (
                                             X
                                             
                                                (
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             =
                                             C
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             
                                                ∫
                                                0
                                                ∞
                                             
                                             
                                                P
                                                
                                                   (
                                                   
                                                      X
                                                      0
                                                   
                                                   +
                                                   v
                                                   
                                                      t
                                                      h
                                                   
                                                   ≥
                                                   H
                                                   ,
                                                   
                                                      X
                                                      0
                                                   
                                                   +
                                                   v
                                                   
                                                      t
                                                      c
                                                   
                                                   =
                                                   C
                                                   )
                                                
                                                
                                                   f
                                                   η
                                                
                                                
                                                   (
                                                   v
                                                   )
                                                
                                                d
                                                v
                                             
                                          
                                          
                                             P
                                             (
                                             
                                                X
                                                0
                                             
                                             +
                                             η
                                             
                                                t
                                                c
                                             
                                             =
                                             C
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             
                                                
                                                   ∫
                                                   0
                                                   ∞
                                                
                                                
                                                   
                                                      f
                                                      
                                                         X
                                                         0
                                                      
                                                   
                                                   
                                                      (
                                                      C
                                                      −
                                                      v
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                   I
                                                   
                                                      (
                                                      C
                                                      −
                                                      v
                                                      
                                                         t
                                                         c
                                                      
                                                      ≥
                                                      H
                                                      −
                                                      v
                                                      
                                                         t
                                                         h
                                                      
                                                      )
                                                   
                                                   
                                                      f
                                                      η
                                                   
                                                   
                                                      (
                                                      v
                                                      )
                                                   
                                                   d
                                                   v
                                                
                                             
                                             
                                                P
                                                (
                                                
                                                   X
                                                   0
                                                
                                                +
                                                η
                                                
                                                   t
                                                   c
                                                
                                                =
                                                C
                                                )
                                             
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     where I(.) is the indicator function. As in the example of Gamma processes, after deriving the first passage times of the degradation paths, we could evaluate CR(t0,C) by using the equations given in Section 3.

Since the objective function CR(t
                     0,C) is differentiable and the constraints are linear, the Kuhn–Tucker conditions for this nonlinear optimization model can be obtained (Winston, 2004). If (t
                     0
                     *, C*
                     ) is an optimal solution to (9), then (t
                     0
                     *, C*
                     ) must satisfy the two constraints in (9), and there must exist multipliers λ
                     1
                     *, λ
                     2
                     *, λ
                     3
                     * satisfying

                        
                           
                              
                                 
                                    
                                    
                                    
                                       
                                          
                                             
                                                ∂
                                                C
                                                R
                                                (
                                                
                                                   
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   *
                                                
                                                ,
                                                
                                                   C
                                                   *
                                                
                                                )
                                             
                                             
                                                ∂
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                          −
                                          
                                             
                                                
                                                   λ
                                                   1
                                                
                                             
                                             *
                                          
                                          
                                             (
                                             
                                                
                                                   u
                                                   −
                                                   d
                                                
                                                d
                                             
                                             )
                                          
                                          =
                                          0
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             
                                                ∂
                                                C
                                                R
                                                (
                                                
                                                   
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   *
                                                
                                                ,
                                                
                                                   C
                                                   *
                                                
                                                )
                                             
                                             
                                                ∂
                                                C
                                             
                                          
                                          +
                                          
                                             
                                                
                                                   λ
                                                   2
                                                
                                             
                                             *
                                          
                                          −
                                          
                                             
                                                
                                                   λ
                                                   3
                                                
                                             
                                             *
                                          
                                          =
                                          0
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             
                                                
                                                   λ
                                                   1
                                                
                                             
                                             *
                                          
                                          
                                             (
                                             
                                                −
                                                l
                                                +
                                                
                                                   
                                                      u
                                                      −
                                                      d
                                                   
                                                   d
                                                
                                                
                                                   
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   *
                                                
                                             
                                             )
                                          
                                          =
                                          0
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             
                                                
                                                   λ
                                                   2
                                                
                                             
                                             *
                                          
                                          
                                             (
                                             
                                                H
                                                −
                                                
                                                   C
                                                   *
                                                
                                             
                                             )
                                          
                                          =
                                          0
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             
                                                
                                                   λ
                                                   3
                                                
                                             
                                             *
                                          
                                          
                                             (
                                             
                                                C
                                                *
                                             
                                             −
                                             X
                                             
                                                (
                                                0
                                                )
                                             
                                             )
                                          
                                          =
                                          0
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             
                                                
                                                   λ
                                                   i
                                                
                                             
                                             *
                                          
                                          ≥
                                          0
                                          
                                          
                                             (
                                             
                                                i
                                                =
                                                1
                                                ,
                                                2
                                                ,
                                                3
                                             
                                             )
                                          
                                       
                                    
                                 
                              
                           
                        
                     
                  

In this section, we will determine numerically a solution for the proposed model (i.e., production runtime and control limit). We will investigate the impact of the lot sizing decisions on the CBM policies. Let us consider the boring process described in (Rausch & Liao, 2010). The boring process is one of the steps in an automotive engine manufacturing plant. The boring tool with cutting edges will wear out during the usage lifetime. The boring tool under investigation is continuously monitored by installed sensors. The degradation of the boring tool can be described by a Gamma process X(t) with parameter α
                     =2.034, and β
                     =13.308. The initial degradation value X(0)=3.84, and the failure threshold H
                     =5.15. With this parameter setting, the failure time distribution TH
                      can be calculated by Eq. (12), as shown in Fig. 6 (Appendix D). The duration S (in hours) follows a Gamma distribution with shape parameter k
                     =1 and scale parameter θ 
                     =0.42, while the duration of predictive maintenance l is set to be 1.39hrs. The production rate u is 2units/hour and the demand rate d is 1 unit/hour. We assume the setup cost CS
                      is $50, the holding cost per unit inventory per hour CI
                      is $5, the lost sales cost per unit CL
                      is $500, the predictive maintenance cost is CP
                     =$202, and the corrective maintenance cost is CC
                      = $550.

Under this parameter setting, we obtain the solution t
                     0
                     *= 2.43hrs, C*
                     = 4.57, CR*
                     = 34.91$/hr, by using sequential quadratic programming algorithm (Zhu, 2006). The 3D plot of CR(t
                     0,C) is given in Fig. 7 (Appendix E). The plot of CR over t
                     0 when C
                     
                     =
                     4.43 is given in Fig. 3
                     , calculated by Eq. (9). We also provide the behavior of the different cost rate elements in Fig. 3. The expected setup cost rate E[SC]/E[K] decreases over t
                     0, whereas the expected holding cost rate E[HC]/E[K] increases over t
                     0. When t
                     0 becomes larger, the expected corrective maintenance cost rate E[CM]/E[K] increases, whereas the expected preventive maintenance cost rate E[PM]/E[K] decreases, due to the increased probability of unexpected failures at the end of each renewal cycle. The expected lost sales cost rate E[LS]/E[K] increases over t
                     0 when t
                     0<5hrs since with a larger t
                     0 the probability of unexpected failure increases and the production of a lot gets interrupted more often; when t
                     0>5hrs, E[LS]/E[K] slightly decreases since a larger production lot can create more inventories to cover the demand during the corrective maintenance period. As a result of the tradeoffs among all the cost elements, the average total cost rate CR is not convex and reaches the local minimum around t
                     0
                     *= 2.43hrs.

Similarly, we plot the changes of CR and all the cost rate elements over C given t
                     0
                     *. When the control limit C of CBM policy increases, the warning signal of replacement will appear at a later stage of the machine lifetime. Hence, as shown in Fig. 4
                     , the expected corrective maintenance cost rate E[CM]/E[K] and the expected lost sales cost rate E[LS]/E[K] increases over C, due to the increased probability of unexpected failures at the end of each renewal cycle. For the same reason, the expected preventive maintenance cost rate E[PM]/E[K] decreases over C. The changes of E[SC]/E[K] and E[HC]/E[K] over C are relatively small under this parameter setting, since E[K] also increases when E[SC] and E[HC] increase (see Fig. 5
                     ). This increasing behavior of E[SC], E[HC] and E[K] is also caused by the later warning when the control limit C is set to be higher. Notice that the increasing rate of E[HC] decreases when C approaches to the failure threshold H. This is a result of the fact that when C becomes very large, the renewal cycle ends with an unexpected failure more often. In this case, the changes of the on-hand inventory of a renewal cycle for different C values will come from the last production lot. For the last production lot in a renewal cycle, the on-hand inventory increases less over C since the increased probability of unexpected failures makes the inventory cycle ends earlier.

To observe the changes of the solutions over different parameter settings, we conduct a sensitivity analysis for the parameters of interest, i.e., CS, CI, CL, CP/CC
                     , and θ. The sensitivity analysis is done by changing the value of one parameter at a time; the rest of the parameters are set at the baseline values (in Appendix A). The results are given in Table 1
                     . When the setup cost per lot CS
                      increases from 10 to 25, the production time for a lot t
                     0
                     * increases from 2.78 to 4.97 in order to avoid the expensive setup costs. On the other hand, due to the increase of t
                     0
                     *, the probability of unexpected failures at the end of each renewal cycle also increases; the control limit C*
                      thus decreases so that the expected lost sales cost and the expected corrective maintenance cost will not increase dramatically. Similarly, for CI, t
                     0
                     * decreases from 2.78 to 1.51 to avoid the higher inventory holding cost; when t
                     0
                     * decreases, there are more opportunities for predictive maintenance in a renewal cycle, which results in a higher C*
                     .

Moreover, t
                     0
                     * increases when CL
                      increases, since there's an intention to have more inventory on hand to cover the demand in the period of corrective maintenance. Also, because the lost sales become more expensive, the control limit C*
                      decreases to reduce the probability of unexpected failures. When the predictive maintenance cost becomes higher, i.e., CP/CC
                      increases, the control limit C*
                      increases, because it is less beneficial to spend effort on preventing corrective maintenance actions; due to the increases of C*, t
                     0
                     * decreases, so that there are more opportunities for predictive maintenance. We also look at the effect of the scale parameter of S. When θ decreases, or when the duration of corrective maintenance increases, t
                     0
                     * increases, so that there will be more inventory on hand to avoid the increasing lost sales cost. Meanwhile, C*
                      decreases to reduce the probability of unexpected failures.

To evaluate the cost reduction potential of our model, we compare our solutions with the solutions obtained from separate decision models. There are two separate decision models: Model 1 determines the production duration 
                        
                           
                              t
                              ˜
                           
                           0
                        
                      by minimizing the average cost rate of setup cost, inventory holding cost and lost sales cost, under the assumption that a corrective maintenance policy will be implemented at the end of a renewal cycle (this is a modification of Groenevelt, Pintelon, & Seidmann, 1992); Model 2 determines the control limit 
                        
                           C
                           ˜
                        
                      by minimizing the average cost rate of predictive maintenance and corrective maintenance without considering the production policies. The detailed descriptions and model formulations of these two policies are given in Appendix B and C. For Model 2, the control limit C is optimized in a way such that there will be enough time for the maintenance team to respond before the machine reaches the failure threshold H (e.g., transportation time to the manufacturing site, waiting time for spare parts, waiting time for repair tools, etc.). We assume this response lead time w is equal to 0.5, which is at the same scale of the time period of predictive maintenance actions. This is a relatively conservative setting (Timmermans, 2012).

The solutions obtained from the separate decision models are provided in the last five columns of Table 1. For parameter CS, CI, CL
                     , and θ, the control limit 
                        
                           C
                           ˜
                        
                      stays the same, since the optimization of the control limit in Model 2 only considers the tradeoff between the predictive maintenance and the corrective maintenance. When increasing the parameters CS, CI, CL
                     , and 1/θ in Model 1, the changes of the production duration 
                        
                           
                              t
                              ˜
                           
                           0
                        
                      follow the same trends as in the joint optimization model, which makes sense. Moreover, under all these different settings for CS, CI, CL
                     , and θ, 
                        
                           
                              t
                              ˜
                           
                           0
                        
                     is always larger than t
                     0
                     *, due to the fact that without considering the huge corrective maintenance cost there's less intention to provide more opportunities of predictive maintenance by reducing t
                     0. For parameter CP/CC
                     , the production duration 
                        
                           
                              t
                              ˜
                           
                           0
                        
                      stays the same, because the determination of 
                        
                           
                              t
                              ˜
                           
                           0
                        
                      does not take the predictive maintenance and corrective maintenance into account. Meanwhile, when CP/CC
                      increases, the changes of 
                        
                           C
                           ˜
                        
                      also follow the same trend as in the joint optimization model.

Regarding the cost reduction, we compute the relative cost savings

                        
                           
                              
                                 
                                    
                                       C
                                       R
                                       
                                          (
                                          
                                             
                                                t
                                                ˜
                                             
                                             0
                                          
                                          ,
                                          
                                             C
                                             ˜
                                          
                                          )
                                       
                                       −
                                       C
                                       R
                                       
                                          (
                                          
                                             t
                                             0
                                             *
                                          
                                          ,
                                          
                                             C
                                             *
                                          
                                          )
                                       
                                    
                                    
                                       C
                                       R
                                       (
                                       
                                          
                                             t
                                             ˜
                                          
                                          0
                                       
                                       ,
                                       
                                          C
                                          ˜
                                       
                                       )
                                    
                                 
                                 .
                              
                           
                        
                     
                  

The results are given in the last column of Table 1. For the 16 instances in our experiment, on average, there's a 38% cost saving, which is large. The cost saving is more sensitive to the variation of CI
                     , compared with other parameters. When parameter CS
                      or CI
                      increases, the cost benefit from the joint maintenance model becomes less, since the setting of t
                     0 becomes more dominant at larger values of CS
                      or CI
                      . Similarly, when parameter CP/CC
                      increases, the cost benefit from the joint maintenance model also becomes less, since the setting of C is more dominant. On the other hand, when CL
                      and 1/θ increases, it is more beneficial to use the joint optimization model, because to prevent the lost sales cost, the two decision variables t
                     0 and C need to be synchronized. The duration of each production lot t
                     0 should be long enough to have enough inventories on hand, so that more lost sales can be covered. At the same time, C needs to be set at a lower value so that the probability of unexpected failures will be decreased, which compensates the effect of increasing t
                     0.

Notice that if we set the parameters at the baseline values (Appendix A) except that CI
                     
                     =5, the joint optimization model (CR=7.96; t
                     0*=1.35, C*=4.62) is not significantly better than the separate optimization model (CR=8.50; 
                        
                           
                              t
                              ˜
                           
                           0
                        
                     =1.75, 
                        
                           C
                           ˜
                        
                     =4.79). This is because the high holding cost makes it beneficial to have more frequent setups of production, and this will generate more opportunities of maintenance which makes it less important to coordinate the CBM policy with the production lot-sizing.

@&#CONCLUSIONS@&#

In this paper, we propose a new joint optimization model to determine the production lot-sizing and CBM policy. The average long-run cost rate, including the setup cost per lot, the inventory holding cost, the lost sales cost, and the predictive/corrective maintenance cost, is minimized by optimizing the two decision variables related to the production lot-sizing and CBM policy. Renewal theory is utilized to evaluate the average long-run cost rate. Notice that in the joint optimization model proposed by us, we allow the use of continuous time and continuous state degradation processes. This is an important relaxation for some engineering systems, since some degradations of production systems do have more sophisticated ways of changing with continuous state spaces. Our model makes it easier to link the optimization of production and maintenance decisions with various engineering systems, e.g., lithography machines and boring machines.

This joint optimization model is a nonlinear optimization problem. By deriving the conditional first passage time distributions from the continuous degradation processes, we also develop the optimality condition of our joint optimization model. By using the sequential quadratic programming algorithm, we solve our joint optimization model under different parameter settings. The results show that the interactions among these cost elements (i.e., setup cost, inventory holding cost, lost sales cost, predictive maintenance cost and corrective maintenance cost) indeed exist while optimizing the two decision variables related to production and maintenance. Hence, a joint optimization model will result in better solutions, compared with the separate decision models. Especially for the cases that have high lost sales costs, the production time for a lot t
                     0 and the control limit C should be determined simultaneously to achieve the lowest cost rate.

The managerial implications from this work are that (1) the determination of production lot size is not only dependent on the tradeoff between setup cost and inventory holding cost, but also the tradeoff between corrective maintenance cost and preventive maintenance cost in the framework of CBM; (2) if the setup cost is high, it is beneficial to have a relatively large lot size and a relatively conservative control limit for maintenance to prevent unexpected failures, whereas if the inventory holding cost is high, it is beneficial to have a relatively small lot size and a relatively progressive control limit due to the increased number of opportunities for maintenance; (3) Similarly, if the lost sales cost is high, the production lot size will turn out to be relatively large to keep inventories for the demands in the repairing periods of corrective maintenance, while the control limit will be conservative to prevent unexpected failures; (4) if the expected corrective maintenance time or the corrective maintenance cost is high, the control limit will be conservative and the production lot size will be relatively large to reduce the lost sales cost. Additionally, compared with the traditional separate optimization method, the optimized production lot size is smaller by using our joint optimization model since there will be more opportunities for preventive maintenance to further reduce the CBM related costs. The cost savings of our joint optimization are especially significant when the lost sales cost and the mean time of corrective maintenance are large, since the coordination of the control limit and the production lot size becomes important in these cases.

In this work, we use a static schedule for production lot-sizing. For future research, it is valuable to consider dynamic schedules for production lot-sizing, given the dynamic demand information. Also we only consider the monitoring of the health status of one critical machine in this paper. It is important to build up a model for multiple machines in a serial production line, since the lot-sizing decisions or maintenance policies are sometimes specified for a series of machines that have interactions.

@&#ACKNOWLEDGMENT@&#

This research is funded by the President Fund of Academy of Mathematics and Systems Science, Chinese Academy of Sciences (2015-hwyxqnrc-ph). The authors would like to thank the four referees and the editor, Immanuel Bomze, for providing valuable comments that improved the original manuscript.

The baseline values of the sensitivity analysis are α
                     =2.034, β
                     =13.308, X(0)=3.84, H
                     =5.15, k
                     =1, l
                     
                     =
                     0.2, u
                     =2, d
                     =1, CS
                     
                     =10, CI
                     
                     =1, CL
                     
                     =50, CP/CC
                     
                     =10/100, and θ
                     
                     =
                     0.5.

Notice that we choose CP/CC
                      as one parameter since the sum of the probabilities of corrective maintenance and predictive maintenance is equal to one for each renewal cycle.

To optimize the production duration 
                        
                           
                              t
                              ˜
                           
                           0
                        
                     , we build up a model to evaluate the average long-run cost rate considering setup costs, inventory holding costs and lost sales costs. We assume that when a breakdown takes place at time point TH
                     , the interrupted lot is aborted and a new lot is to be started only when all available inventory is depleted (Groenevelt et al., 1992). To make this decision model comparable to our model in Sections 2 and 3, we also assume corrective maintenance activities will be conducted right after TH
                     , and will take a random time period S+l to overhaul and renew the manufacturing system. If the on-hand inventory decreases to zero before the corrective maintenance finishes, the demand cannot be fulfilled until the renewed manufacturing system produces again, which incurs lost sales costs. The expected cycle length 
                        
                           E
                           [
                           
                              K
                              ˜
                           
                           ]
                        
                      can be expressed as

                        
                           
                              
                                 
                                    
                                       
                                          E
                                          [
                                          
                                             K
                                             ˜
                                          
                                          ]
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          
                                             [
                                             
                                                ∫
                                                
                                                   
                                                      (
                                                      n
                                                      −
                                                      1
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                
                                                   n
                                                   
                                                      t
                                                      0
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      u
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   d
                                                
                                                +
                                                
                                                   t
                                                   h
                                                
                                                −
                                                
                                                   (
                                                   n
                                                   −
                                                   1
                                                   )
                                                
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             
                                                E
                                                
                                                   [
                                                   
                                                      max
                                                      
                                                         (
                                                         
                                                            S
                                                            +
                                                            l
                                                            ,
                                                            
                                                               
                                                                  (
                                                                  u
                                                                  −
                                                                  d
                                                                  )
                                                               
                                                               d
                                                            
                                                            
                                                               (
                                                               
                                                                  
                                                                     t
                                                                     h
                                                                  
                                                                  −
                                                                  
                                                                     (
                                                                     n
                                                                     −
                                                                     1
                                                                     )
                                                                  
                                                                  
                                                                     t
                                                                     0
                                                                  
                                                               
                                                               )
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                                )
                                             
                                             
                                                f
                                                
                                                   T
                                                   H
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   h
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                h
                                             
                                             ]
                                          
                                          ,
                                       
                                    
                                 
                              
                           
                        
                     where

                        
                           
                              
                                 
                                    
                                    
                                    
                                       
                                          E
                                          
                                             [
                                             
                                                max
                                                
                                                   (
                                                   
                                                      S
                                                      +
                                                      l
                                                      ,
                                                      
                                                         
                                                            (
                                                            u
                                                            −
                                                            d
                                                            )
                                                         
                                                         d
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               t
                                                               h
                                                            
                                                            −
                                                            
                                                               (
                                                               n
                                                               −
                                                               1
                                                               )
                                                            
                                                            
                                                               t
                                                               0
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                          =
                                          
                                             
                                                (
                                                u
                                                −
                                                d
                                                )
                                             
                                             d
                                          
                                          
                                             (
                                             
                                                
                                                   t
                                                   h
                                                
                                                −
                                                
                                                   (
                                                   n
                                                   −
                                                   1
                                                   )
                                                
                                                
                                                   t
                                                   0
                                                
                                             
                                             )
                                          
                                          
                                             F
                                             S
                                          
                                          
                                             (
                                             
                                                
                                                   
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   d
                                                
                                                
                                                   (
                                                   
                                                      
                                                         t
                                                         h
                                                      
                                                      −
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   )
                                                
                                                −
                                                l
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                          +
                                          
                                          
                                             ∫
                                             
                                                
                                                   
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   d
                                                
                                                
                                                   (
                                                   
                                                      
                                                         t
                                                         h
                                                      
                                                      −
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   )
                                                
                                                −
                                                l
                                             
                                             ∞
                                          
                                          
                                             
                                                (
                                                s
                                                +
                                                l
                                                )
                                             
                                             
                                                f
                                                S
                                             
                                             
                                                (
                                                s
                                                )
                                             
                                          
                                          d
                                          s
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

Notice that this is a special case of Eq. (2) when C
                     =
                     H. Similarly, the expected setup cost per renewal cycle is given as

                        
                           
                              
                                 
                                    
                                       
                                          E
                                          [
                                          
                                             S
                                             ˜
                                          
                                          C
                                          ]
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          
                                             [
                                             
                                                n
                                                
                                                   C
                                                   S
                                                
                                                P
                                                
                                                   (
                                                   
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                      
                                                      <
                                                      
                                                         T
                                                         H
                                                      
                                                      ≤
                                                      n
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   )
                                                
                                             
                                             ]
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          
                                             [
                                             
                                                n
                                                
                                                   C
                                                   S
                                                
                                                
                                                   ∫
                                                   
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                   
                                                      n
                                                      
                                                         t
                                                         0
                                                      
                                                   
                                                
                                                
                                                   
                                                      f
                                                      
                                                         T
                                                         H
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         t
                                                         h
                                                      
                                                      )
                                                   
                                                   d
                                                   
                                                      t
                                                      h
                                                   
                                                
                                             
                                             ]
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

The expected inventory holding cost per cycle is

                        
                           
                              
                                 
                                    
                                       
                                          E
                                          [
                                          
                                             H
                                             ˜
                                          
                                          C
                                          ]
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             C
                                             I
                                          
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          
                                             [
                                             
                                                ∫
                                                
                                                   
                                                      (
                                                      n
                                                      −
                                                      1
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                
                                                   n
                                                   
                                                      t
                                                      0
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   
                                                      
                                                         (
                                                         n
                                                         −
                                                         1
                                                         )
                                                      
                                                      u
                                                      
                                                         (
                                                         u
                                                         −
                                                         d
                                                         )
                                                      
                                                      
                                                         t
                                                         0
                                                         2
                                                      
                                                   
                                                   
                                                      2
                                                      d
                                                   
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             
                                                +
                                                
                                                
                                                   
                                                      u
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   
                                                      2
                                                      d
                                                   
                                                
                                                
                                                   
                                                      
                                                         (
                                                         
                                                            
                                                               t
                                                               h
                                                            
                                                            −
                                                            
                                                               (
                                                               n
                                                               −
                                                               1
                                                               )
                                                            
                                                            
                                                               t
                                                               0
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   2
                                                
                                                )
                                             
                                             
                                                f
                                                
                                                   T
                                                   H
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   h
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                h
                                             
                                             ]
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

The expected lost sales cost per cycle is

                        
                           
                              
                                 
                                    
                                       
                                          E
                                          [
                                          
                                             L
                                             ˜
                                          
                                          S
                                          ]
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             C
                                             L
                                          
                                          d
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          
                                             [
                                             
                                                ∫
                                                
                                                   
                                                      (
                                                      n
                                                      −
                                                      1
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                
                                                   n
                                                   
                                                      t
                                                      0
                                                   
                                                
                                             
                                             
                                                ∫
                                                
                                                   
                                                      
                                                         (
                                                         u
                                                         −
                                                         d
                                                         )
                                                      
                                                      d
                                                   
                                                   
                                                      (
                                                      
                                                         
                                                            t
                                                            h
                                                         
                                                         −
                                                         
                                                            (
                                                            n
                                                            −
                                                            1
                                                            )
                                                         
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                      )
                                                   
                                                   −
                                                   l
                                                
                                                ∞
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             ×
                                             
                                             
                                                
                                                   (
                                                   
                                                      s
                                                      +
                                                      l
                                                      −
                                                      
                                                         
                                                            (
                                                            u
                                                            −
                                                            d
                                                            )
                                                         
                                                         d
                                                      
                                                      
                                                         (
                                                         
                                                            
                                                               t
                                                               h
                                                            
                                                            −
                                                            
                                                               (
                                                               n
                                                               −
                                                               1
                                                               )
                                                            
                                                            
                                                               t
                                                               0
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   )
                                                
                                                
                                                   f
                                                   S
                                                
                                                
                                                   (
                                                   s
                                                   )
                                                
                                             
                                             d
                                             s
                                             
                                                f
                                                
                                                   T
                                                   H
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   h
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                h
                                             
                                             ]
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

Hence, the average long-run total cost rate for the first separate decision model is

                        
                           
                              
                                 C
                                 
                                    R
                                    1
                                 
                                 
                                    (
                                    
                                       t
                                       0
                                    
                                    )
                                 
                                 =
                                 
                                    
                                       E
                                       
                                          [
                                          
                                             S
                                             ˜
                                          
                                          C
                                          ]
                                       
                                       +
                                       E
                                       
                                          [
                                          
                                             H
                                             ˜
                                          
                                          C
                                          ]
                                       
                                       +
                                       E
                                       
                                          [
                                          
                                             L
                                             ˜
                                          
                                          S
                                          ]
                                       
                                    
                                    
                                       E
                                       [
                                       
                                          K
                                          ˜
                                       
                                       ]
                                    
                                 
                                 .
                              
                           
                        
                     
                  

By minimizing this average total cost rate over t
                     0, we could obtain the solution
                        
                           
                              t
                              ˜
                           
                           0
                        
                      for the first separate decision model. To make the model comparable with our model in Section 3, the solution should also be subject to the constraint that the idle time period is not shorter than the fixed duration of predictive maintenance.

If we determine the control limit of CBM policy without taking the production decisions into account, the tradeoff is between the expected predictive maintenance cost rate and the expected corrective maintenance cost rate. In practice (Timmermans, 2012), when the degradation level exceeds the control limit, there will be a short lead time for the maintenance crews to respond. Let's denote this short lead time as w. Then if the time period from the first passage time of C to the first passage time of H (i.e., TH
                      – TC
                     ) is larger than the lead time w, preventive maintenance actions will be taken, otherwise the machine will fail before being maintained and a corrective maintenance cost will be incurred. Hence, for this separate decision model, the expected predictive maintenance cost per cycle is

                        
                           
                              
                                 E
                                 
                                    [
                                    
                                       P
                                       ˜
                                    
                                    M
                                    ]
                                 
                                 =
                                 
                                    C
                                    P
                                 
                                 
                                    ∫
                                    0
                                    ∞
                                 
                                 
                                    
                                       ∫
                                       
                                          w
                                          +
                                          
                                             t
                                             c
                                          
                                       
                                       ∞
                                    
                                    
                                       
                                          f
                                          
                                             
                                                T
                                                H
                                             
                                             
                                                |
                                             
                                             
                                                T
                                                C
                                             
                                          
                                       
                                       
                                          (
                                          
                                             t
                                             h
                                          
                                          |
                                          
                                             t
                                             c
                                          
                                          )
                                       
                                       d
                                       
                                          t
                                          h
                                       
                                    
                                    
                                       f
                                       
                                          T
                                          C
                                       
                                    
                                    
                                       (
                                       
                                          t
                                          c
                                       
                                       )
                                    
                                    d
                                    
                                       t
                                       c
                                    
                                 
                                 .
                              
                           
                        
                     
                  

The expected corrective maintenance cost per cycle is

                        
                           
                              
                                 E
                                 
                                    [
                                    
                                       C
                                       ˜
                                    
                                    M
                                    ]
                                 
                                 =
                                 
                                    C
                                    C
                                 
                                 
                                    ∫
                                    0
                                    ∞
                                 
                                 
                                    
                                       ∫
                                       
                                          
                                             t
                                             c
                                          
                                       
                                       
                                          
                                             t
                                             c
                                          
                                          +
                                          w
                                       
                                    
                                    
                                       
                                          f
                                          
                                             
                                                T
                                                H
                                             
                                             
                                                |
                                             
                                             
                                                T
                                                C
                                             
                                          
                                       
                                       
                                          (
                                          
                                             t
                                             h
                                          
                                          |
                                          
                                             t
                                             c
                                          
                                          )
                                       
                                       d
                                       
                                          t
                                          h
                                       
                                    
                                    
                                       f
                                       
                                          T
                                          C
                                       
                                    
                                    
                                       (
                                       
                                          t
                                          c
                                       
                                       )
                                    
                                    d
                                    
                                       t
                                       c
                                    
                                 
                                 .
                              
                           
                        
                     
                  

The expected cycle length in this case should be evaluated as

                        
                           
                              
                                 
                                    
                                       
                                          E
                                          [
                                          
                                             K
                                             ˜
                                          
                                          ]
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∫
                                             0
                                             ∞
                                          
                                          
                                             
                                                ∫
                                                
                                                   
                                                      t
                                                      c
                                                   
                                                   +
                                                   w
                                                
                                                ∞
                                             
                                             
                                                
                                                   (
                                                   
                                                      t
                                                      c
                                                   
                                                   +
                                                   w
                                                   )
                                                
                                                
                                                   f
                                                   
                                                      
                                                         T
                                                         H
                                                      
                                                      
                                                         |
                                                      
                                                      
                                                         T
                                                         C
                                                      
                                                   
                                                
                                                
                                                   (
                                                   
                                                      t
                                                      h
                                                   
                                                   |
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                d
                                                
                                                   t
                                                   h
                                                
                                             
                                             
                                                f
                                                
                                                   T
                                                   C
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                c
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          +
                                          
                                          
                                             ∫
                                             0
                                             ∞
                                          
                                          
                                             
                                                ∫
                                                
                                                   
                                                      t
                                                      c
                                                   
                                                
                                                
                                                   
                                                      t
                                                      c
                                                   
                                                   +
                                                   w
                                                
                                             
                                             
                                                
                                                   t
                                                   h
                                                
                                                
                                                   f
                                                   
                                                      
                                                         T
                                                         H
                                                      
                                                      
                                                         |
                                                      
                                                      
                                                         T
                                                         C
                                                      
                                                   
                                                
                                                
                                                   (
                                                   
                                                      t
                                                      h
                                                   
                                                   |
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                d
                                                
                                                   t
                                                   h
                                                
                                             
                                             
                                                f
                                                
                                                   T
                                                   C
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                c
                                             
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

Notice that the evaluation of the expected cycle length is on the production time t. The predictive maintenance time l and the corrective maintenance time S+l are not included in the evaluation of 
                        
                           E
                           [
                           
                              K
                              ˜
                           
                           ]
                        
                     , since these two time periods are downtimes. Hence, the average long-run total cost rate for the second separate decision model is

                        
                           
                              
                                 C
                                 
                                    R
                                    2
                                 
                                 
                                    (
                                    C
                                    )
                                 
                                 =
                                 
                                    
                                       E
                                       
                                          [
                                          
                                             P
                                             ˜
                                          
                                          M
                                          ]
                                       
                                       +
                                       E
                                       
                                          [
                                          
                                             C
                                             ˜
                                          
                                          M
                                          ]
                                       
                                    
                                    
                                       E
                                       [
                                       
                                          K
                                          ˜
                                       
                                       ]
                                    
                                 
                                 .
                              
                           
                        
                     
                  

By minimizing this average total cost rate over C, we could obtain the solution 
                        
                           C
                           ˜
                        
                      for the second separate decision model.

The mean of TH
                      is 8.8169, and the standard deviation of TH
                      is 2.0479. The coefficient of variation is smaller than one, which is considered low-variance.
                  

The figure shows that when the control limit is set at large values, the average cost rate will be high due to the increased probability of unexpected failures; when the control limit is small and the production lot size is small, the average cost rate will be high due to the increased setup costs and increased frequencies of preventive maintenance.
                  

Suppose that the degradation state of the manufacturing system X(t) crosses the control limit C during the production period of the nth lot, i.e., the first passage time TC
                      of the degradation process over the control limit falls within the production period of the nth lot, (n–1)t
                     0< TC
                     <nt
                     0. If X(t) doesn't reach the failure threshold H during the production period of the nth lot, i.e., TH
                     >nt
                     0, predictive maintenance will be performed after the production of the nth lot and the length of the renewal cycle includes the total time of (n–1) lots, the production time of the nth lot and the duration of predictive maintenance L. If the manufacturing system fails before the completion of the nth lot, i.e., TH
                     <nt
                     0, corrective maintenance will be conducted right after the machine failure and the renewal cycle includes the total time of (n–1) lots, the production time of the nth lot and the duration of corrective maintenance S. Thus, the expected length of a cycle E[K] can be expressed as

                        
                           
                              
                                 
                                    
                                       
                                          E
                                          [
                                          K
                                          ]
                                       
                                    
                                    
                                       =
                                    
                                    
                                       
                                          
                                             ∑
                                             
                                                n
                                                =
                                                1
                                             
                                             ∞
                                          
                                          
                                             [
                                             
                                                (
                                                
                                                   
                                                      
                                                         
                                                            (
                                                            n
                                                            −
                                                            1
                                                            )
                                                         
                                                         u
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                      d
                                                   
                                                   +
                                                   
                                                      t
                                                      0
                                                   
                                                   +
                                                   E
                                                   
                                                      [
                                                      
                                                         max
                                                         
                                                            (
                                                            
                                                               L
                                                               ,
                                                               
                                                                  
                                                                     (
                                                                     u
                                                                     −
                                                                     d
                                                                     )
                                                                  
                                                                  d
                                                               
                                                               
                                                                  t
                                                                  0
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      ]
                                                   
                                                
                                                )
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          ×
                                          
                                          
                                             ∫
                                             
                                                
                                                   (
                                                   n
                                                   −
                                                   1
                                                   )
                                                
                                                
                                                   t
                                                   0
                                                
                                             
                                             
                                                n
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                          
                                             
                                                ∫
                                                
                                                   n
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                ∞
                                             
                                             
                                                
                                                   f
                                                   
                                                      
                                                         T
                                                         H
                                                      
                                                      
                                                         |
                                                      
                                                      
                                                         T
                                                         C
                                                      
                                                   
                                                
                                                
                                                   (
                                                   
                                                      t
                                                      h
                                                   
                                                   |
                                                   
                                                      t
                                                      c
                                                   
                                                   )
                                                
                                                d
                                                
                                                   t
                                                   h
                                                
                                             
                                             
                                                f
                                                
                                                   T
                                                   C
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                c
                                             
                                          
                                          +
                                          
                                             ∫
                                             
                                                
                                                   (
                                                   n
                                                   −
                                                   1
                                                   )
                                                
                                                
                                                   t
                                                   0
                                                
                                             
                                             
                                                n
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                          
                                             ∫
                                             
                                                
                                                   t
                                                   c
                                                
                                             
                                             
                                                n
                                                
                                                   t
                                                   0
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          ×
                                          
                                          
                                             (
                                             
                                                
                                                   
                                                      (
                                                      n
                                                      −
                                                      1
                                                      )
                                                   
                                                   u
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                d
                                             
                                             +
                                             
                                                t
                                                h
                                             
                                             −
                                             
                                                (
                                                n
                                                −
                                                1
                                                )
                                             
                                             
                                                t
                                                0
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             +
                                             
                                             
                                                E
                                                
                                                   [
                                                   
                                                      max
                                                      
                                                         (
                                                         
                                                            S
                                                            ,
                                                            
                                                               
                                                                  (
                                                                  u
                                                                  −
                                                                  d
                                                                  )
                                                               
                                                               d
                                                            
                                                            
                                                               (
                                                               
                                                                  
                                                                     t
                                                                     h
                                                                  
                                                                  −
                                                                  
                                                                     (
                                                                     n
                                                                     −
                                                                     1
                                                                     )
                                                                  
                                                                  
                                                                     t
                                                                     0
                                                                  
                                                               
                                                               )
                                                            
                                                         
                                                         )
                                                      
                                                   
                                                   ]
                                                
                                             
                                             )
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                    
                                       
                                          
                                             ×
                                             
                                             
                                                f
                                                
                                                   
                                                      T
                                                      H
                                                   
                                                   
                                                      |
                                                   
                                                   
                                                      T
                                                      C
                                                   
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   h
                                                
                                                |
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                h
                                             
                                             
                                                f
                                                
                                                   T
                                                   C
                                                
                                             
                                             
                                                (
                                                
                                                   t
                                                   c
                                                
                                                )
                                             
                                             d
                                             
                                                t
                                                c
                                             
                                             ]
                                          
                                          .
                                       
                                    
                                 
                              
                           
                        
                     
                  

Lost sales can occur during the period of predictive maintenance or corrective maintenance when the on-hand inventory is completely depleted. If every unfulfilled demand incurs a lost sales cost CL
                     , the expected lost sales cost per cycle E[LS] is given by

                        
                           
                              
                                 E
                                 
                                    [
                                    L
                                    S
                                    ]
                                 
                                 =
                                 
                                    C
                                    L
                                 
                                 d
                                 
                                    ∑
                                    
                                       n
                                       =
                                       1
                                    
                                    ∞
                                 
                                 
                                    [
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      ∫
                                                      
                                                         
                                                            (
                                                            n
                                                            −
                                                            1
                                                            )
                                                         
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                      
                                                         n
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                   
                                                   
                                                      ∫
                                                      
                                                         
                                                            t
                                                            c
                                                         
                                                      
                                                      
                                                         n
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                   
                                                   
                                                      ∫
                                                      
                                                         
                                                            
                                                               (
                                                               u
                                                               −
                                                               d
                                                               )
                                                            
                                                            d
                                                         
                                                         
                                                            (
                                                            
                                                               
                                                                  t
                                                                  h
                                                               
                                                               −
                                                               
                                                                  (
                                                                  n
                                                                  −
                                                                  1
                                                                  )
                                                               
                                                               
                                                                  t
                                                                  0
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      ∞
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                   ×
                                                   
                                                   
                                                      (
                                                      
                                                         s
                                                         −
                                                         
                                                            
                                                               (
                                                               u
                                                               −
                                                               d
                                                               )
                                                            
                                                            d
                                                         
                                                         
                                                            (
                                                            
                                                               
                                                                  t
                                                                  h
                                                               
                                                               −
                                                               
                                                                  (
                                                                  n
                                                                  −
                                                                  1
                                                                  )
                                                               
                                                               
                                                                  t
                                                                  0
                                                               
                                                            
                                                            )
                                                         
                                                      
                                                      )
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                   ×
                                                   
                                                   
                                                      f
                                                      S
                                                   
                                                   
                                                      (
                                                      s
                                                      )
                                                   
                                                   d
                                                   s
                                                   
                                                      f
                                                      
                                                         
                                                            T
                                                            H
                                                         
                                                         
                                                            |
                                                         
                                                         
                                                            T
                                                            C
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         t
                                                         h
                                                      
                                                      |
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                   d
                                                   
                                                      t
                                                      h
                                                   
                                                   
                                                      f
                                                      
                                                         T
                                                         C
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                   d
                                                   
                                                      t
                                                      c
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                   +
                                                   
                                                   
                                                      ∫
                                                      
                                                         
                                                            (
                                                            n
                                                            −
                                                            1
                                                            )
                                                         
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                      
                                                         n
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                   
                                                   
                                                      ∫
                                                      
                                                         n
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                      ∞
                                                   
                                                   
                                                      ∫
                                                      
                                                         
                                                            
                                                               (
                                                               u
                                                               −
                                                               d
                                                               )
                                                            
                                                            d
                                                         
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                      ∞
                                                   
                                                   
                                                      (
                                                      
                                                         l
                                                         −
                                                         
                                                            
                                                               (
                                                               u
                                                               −
                                                               d
                                                               )
                                                            
                                                            d
                                                         
                                                         
                                                            t
                                                            0
                                                         
                                                      
                                                      )
                                                   
                                                
                                             
                                          
                                       
                                       
                                          
                                             
                                                
                                                   
                                                   ×
                                                   
                                                   
                                                      f
                                                      L
                                                   
                                                   
                                                      (
                                                      l
                                                      )
                                                   
                                                   d
                                                   l
                                                   
                                                   
                                                      f
                                                      
                                                         
                                                            T
                                                            H
                                                         
                                                         
                                                            |
                                                         
                                                         
                                                            T
                                                            C
                                                         
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         t
                                                         h
                                                      
                                                      |
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                   d
                                                   
                                                      t
                                                      h
                                                   
                                                   
                                                   
                                                      f
                                                      
                                                         T
                                                         C
                                                      
                                                   
                                                   
                                                      (
                                                      
                                                         t
                                                         c
                                                      
                                                      )
                                                   
                                                   d
                                                   
                                                      t
                                                      c
                                                   
                                                
                                             
                                          
                                       
                                    
                                    ]
                                 
                                 .
                              
                           
                        
                     
                  

The optimal production quantity Q*
                      and control limit C*
                      can be obtained by minimizing the average long-run total cost rate CR(Q,C) subject to the constraint that the idle time period between lots (u–d)t
                     0/d is not shorter than the duration of predictive maintenance L, which can be written as

                        
                           
                              
                                 
                                    
                                       
                                          min
                                          
                                             (
                                             Q
                                             ,
                                             C
                                             )
                                          
                                       
                                    
                                    
                                       
                                          
                                             C
                                             R
                                             
                                                (
                                                Q
                                                ,
                                                C
                                                )
                                             
                                             =
                                             
                                                
                                                   E
                                                   [
                                                   T
                                                   C
                                                   ]
                                                
                                                
                                                   E
                                                   [
                                                   K
                                                   ]
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          s
                                          .
                                          t
                                          .
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                d
                                             
                                             =
                                             
                                                
                                                   (
                                                   u
                                                   −
                                                   d
                                                   )
                                                   Q
                                                
                                                
                                                   u
                                                   d
                                                
                                             
                                             ≥
                                             L
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          X
                                          (
                                          0
                                          )
                                          ≤
                                          C
                                          ≤
                                          H
                                       
                                    
                                 
                              
                           
                        
                     or

                        
                           
                              
                                 
                                    
                                       
                                          min
                                          
                                             (
                                             
                                                t
                                                0
                                             
                                             ,
                                             C
                                             )
                                          
                                       
                                    
                                    
                                       
                                          
                                             C
                                             R
                                             
                                                (
                                                
                                                   t
                                                   0
                                                
                                                ,
                                                C
                                                )
                                             
                                             =
                                             
                                                
                                                   E
                                                   [
                                                   T
                                                   C
                                                   ]
                                                
                                                
                                                   E
                                                   [
                                                   K
                                                   ]
                                                
                                             
                                          
                                       
                                    
                                 
                                 
                                    
                                       
                                          s
                                          .
                                          t
                                          .
                                       
                                    
                                    
                                       
                                          
                                             
                                                
                                                   
                                                      (
                                                      u
                                                      −
                                                      d
                                                      )
                                                   
                                                   
                                                      t
                                                      0
                                                   
                                                
                                                d
                                             
                                             =
                                             
                                                
                                                   (
                                                   u
                                                   −
                                                   d
                                                   )
                                                   Q
                                                
                                                
                                                   d
                                                   u
                                                
                                             
                                             ≥
                                             L
                                          
                                       
                                    
                                 
                                 
                                    
                                    
                                       
                                          X
                                          (
                                          0
                                          )
                                          ≤
                                          C
                                          ≤
                                          H
                                       
                                    
                                 
                              
                           
                        
                     
                  

Since one parameter in the constraint of the optimization model is stochastic, we need to use the techniques of stochastic programming to solve the problem.

Our optimization model belongs to non-linear constrained optimization, and from the numerical studies we learned that the objective function is not convex. Hence, we focus on finding the local minimums in the feasible region. For local minimums, we need to notice that we cannot obtain the explicit form of solutions. Multiple local minimums can be obtained as long as the solutions satisfy certain conditions (Nocedal & Wright, 1999): (1) First order necessary conditions, (the Kuhn–Tucker condition listed in the paper is often used to find out the local minimums in the numerical optimization algorithms for non-linear problems), (2) Second order sufficient conditions (these conditions may be used in some of the numerical optimization algorithms to conclude that a strict local solution is obtained).

We may try to find out the explicit forms of the conditions for the local solutions. In order to obtain the explicit forms of the conditions of the local solutions, the gradient of the Lagrangian function for the constrained optimization problem and the Lagrangian Hessians at the points where the Kuhn–Tucker conditions are satisfied should be derived or solved. However, these gradients need numerical evaluations, because the objective function of our optimization model involves the normal function or gamma function due to the continuous degradation processes (Wiener processes or Gamma processes). Hence, it is not possible to write out the closed forms of the conditions of the local solutions. Instead, in the non-linear optimization algorithms, the gradients or Hessians are calculated at each potential point by the quasi Newton approximation.

@&#REFERENCES@&#

