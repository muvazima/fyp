@&#MAIN-TITLE@&#On the family of critical section problems

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           A unified framework is proposed for mutual exclusion, mutual inclusion and such what we call critical section problem.


                        
                        
                           
                           Critical section problem is characterized by a pair of integers.


                        
                        
                           
                           The family of critical section problems is closed under complement operation.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

Concurrency

Concurrent system

Concurrent programming

Mutual exclusion

Mutual inclusion

Critical section

@&#ABSTRACT@&#


               
               
                  Mutual exclusion is a fundamental process synchronization problem in concurrent systems. In this paper, we propose a unified framework for mutual exclusion, k-mutual exclusion, mutual inclusion, ℓ-mutual inclusion and such, what we call critical section problem. Then, we show that critical section problem is characterized by a pair of integers.
               
            

@&#INTRODUCTION@&#

Mutual exclusion is a fundamental process synchronization problem in concurrent systems [1], and it has been studied extensively in the last half century. Generalizations of mutual exclusion have been studied extensively as well. Such generalizations include k-mutual exclusion [4], mutual inclusion [2], and ℓ-mutual inclusion [3]. The number of processes that are in critical section simultaneously is at most k by k-mutual exclusion, while that is at least ℓ by ℓ-mutual inclusion. Unfortunately, these generalized problems have been studied individually. Recently, the relationship between k-mutual exclusion and ℓ-mutual inclusion is shown in [3].

In this paper, we propose a unified framework, called the critical section problem, for k-mutual exclusion and ℓ-mutual inclusion and such problems. Then, we show that critical section problem is characterized by a pair of integers. In addition, we show that the family of critical section problems is closed under the operation called complement.

Organization of this paper is as follows. In Section 2, we define critical section problem. In Section 3, we show characterization of critical section problem. In Section 4, we show a closure property of critical section problem under complement. In Section 5, we summarize this paper.

Let n be any integer such that 
                        n
                        ≥
                        2
                     , and a system consists of n processes 
                        
                           
                              P
                           
                           
                              1
                           
                        
                        ,
                        
                           
                              P
                           
                           
                              2
                           
                        
                        ,
                        .
                        .
                        .
                        ,
                        
                           
                              P
                           
                           
                              n
                           
                        
                     . In the following discussion, we fix the value of n. For each 
                        
                           
                              P
                           
                           
                              i
                           
                        
                      (
                        1
                        ≤
                        i
                        ≤
                        n
                     ), a binary state (0 or 1) is associated with 
                        
                           
                              P
                           
                           
                              i
                           
                        
                     , meaning that 
                        
                           
                              P
                           
                           
                              i
                           
                        
                      is in critical section iff its state is 1. A configuration of a system is a vector 
                        (
                        
                           
                              x
                           
                           
                              1
                           
                        
                        ⋯
                        
                           
                              x
                           
                           
                              n
                           
                        
                        )
                        ∈
                        
                           
                              {
                              0
                              ,
                              1
                              }
                           
                           
                              n
                           
                        
                     , where 
                        
                           
                              x
                           
                           
                              i
                           
                        
                      is the state of 
                        
                           
                              P
                           
                           
                              i
                           
                        
                     . For each 
                        x
                        ∈
                        {
                        0
                        ,
                        1
                        }
                     , we denote by 
                        
                           x
                           ¯
                        
                      the inverse of x, namely, 
                        
                           x
                           ¯
                        
                        =
                        1
                        −
                        x
                     . The universal set of configurations is 
                        
                           
                              U
                           
                           
                              n
                           
                        
                        =
                        {
                        (
                        
                           
                              x
                           
                           
                              1
                           
                        
                        ⋯
                        
                           
                              x
                           
                           
                              n
                           
                        
                        )
                        |
                        
                           
                              x
                           
                           
                              i
                           
                        
                        ∈
                        {
                        0
                        ,
                        1
                        }
                        ,
                        1
                        ≤
                        i
                        ≤
                        n
                        }
                     .


                     
                        Definition 1
                        For each 
                              X
                              =
                              (
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                              
                              ⋯
                              
                                 
                                    x
                                 
                                 
                                    n
                                 
                              
                              )
                           , 
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              =
                              (
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                                 
                                    ′
                                 
                              
                              ⋯
                              
                                 
                                    x
                                 
                                 
                                    n
                                 
                                 
                                    ′
                                 
                              
                              )
                              ∈
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                           ,
                              
                                 
                                    
                                       
                                          I
                                       
                                       
                                          11
                                       
                                    
                                    
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                    
                                    
                                       =
                                       def
                                    
                                    
                                       {
                                       i
                                       |
                                       1
                                       ≤
                                       i
                                       ≤
                                       n
                                       ∧
                                       
                                          
                                             x
                                          
                                          
                                             i
                                          
                                       
                                       =
                                       1
                                       ∧
                                       
                                          
                                             x
                                          
                                          
                                             i
                                          
                                          
                                             ′
                                          
                                       
                                       =
                                       1
                                       }
                                    
                                    ,
                                    
                                    
                                       
                                          I
                                       
                                       
                                          01
                                       
                                    
                                    
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                    
                                    
                                       =
                                       def
                                    
                                    
                                       {
                                       i
                                       |
                                       1
                                       ≤
                                       i
                                       ≤
                                       n
                                       ∧
                                       
                                          
                                             x
                                          
                                          
                                             i
                                          
                                       
                                       =
                                       0
                                       ∧
                                       
                                          
                                             x
                                          
                                          
                                             i
                                          
                                          
                                             ′
                                          
                                       
                                       =
                                       1
                                       }
                                    
                                    ,
                                    
                                    
                                       
                                          I
                                       
                                       
                                          10
                                       
                                    
                                    
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                    
                                    
                                       =
                                       def
                                    
                                    
                                       {
                                       i
                                       |
                                       1
                                       ≤
                                       i
                                       ≤
                                       n
                                       ∧
                                       
                                          
                                             x
                                          
                                          
                                             i
                                          
                                       
                                       =
                                       1
                                       ∧
                                       
                                          
                                             x
                                          
                                          
                                             i
                                          
                                          
                                             ′
                                          
                                       
                                       =
                                       0
                                       }
                                    
                                    ,
                                    
                                     and
                                    
                                    d
                                    
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                    
                                    
                                       =
                                       def
                                    
                                    
                                       |
                                       
                                          
                                             I
                                          
                                          
                                             01
                                          
                                       
                                       
                                          (
                                          X
                                          ,
                                          
                                             
                                                X
                                             
                                             
                                                ′
                                             
                                          
                                          )
                                       
                                       |
                                    
                                    +
                                    
                                       |
                                       
                                          
                                             I
                                          
                                          
                                             10
                                          
                                       
                                       
                                          (
                                          X
                                          ,
                                          
                                             
                                                X
                                             
                                             
                                                ′
                                             
                                          
                                          )
                                       
                                       |
                                    
                                    .
                                 
                              
                             □

Notice that 
                        
                           
                              I
                           
                           
                              11
                           
                        
                     , 
                        
                           
                              I
                           
                           
                              01
                           
                        
                      and 
                        
                           
                              I
                           
                           
                              10
                           
                        
                      are mutually disjoint.


                     
                        Definition 2
                        A set of configurations 
                              X
                              ⊆
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                            is a critical section problem for n processes iff the following three conditions are satisfied.
                              
                                 1.
                                 Non-emptiness condition: 
                                       X
                                       ≠
                                       ∅
                                    .

Symmetry condition: For each 
                                       (
                                       
                                          
                                             x
                                          
                                          
                                             1
                                          
                                       
                                       ⋯
                                       
                                          
                                             x
                                          
                                          
                                             n
                                          
                                       
                                       )
                                       ∈
                                       
                                          
                                             U
                                          
                                          
                                             n
                                          
                                       
                                    , a (
                                       1
                                       ≤
                                       a
                                       ≤
                                       n
                                    ) and b (
                                       1
                                       ≤
                                       b
                                       ≤
                                       n
                                    ) such that 
                                       a
                                       ≠
                                       b
                                    , 
                                       (
                                       
                                          
                                             x
                                          
                                          
                                             1
                                          
                                       
                                       ⋯
                                       
                                          
                                             x
                                          
                                          
                                             n
                                          
                                       
                                       )
                                       ∈
                                       X
                                     iff 
                                       (
                                       
                                          
                                             x
                                          
                                          
                                             1
                                          
                                          
                                             ′
                                          
                                       
                                       ⋯
                                       
                                          
                                             x
                                          
                                          
                                             n
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       ∈
                                       X
                                    , where
                                       
                                          
                                             
                                                
                                                   x
                                                
                                                
                                                   i
                                                
                                                
                                                   ′
                                                
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               b
                                                            
                                                         
                                                      
                                                      
                                                         if 
                                                         i
                                                         =
                                                         a
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               a
                                                            
                                                         
                                                      
                                                      
                                                         if 
                                                         i
                                                         =
                                                         b
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                      
                                                      
                                                         otherwise.
                                                      
                                                   
                                                
                                             
                                          
                                       
                                    
                                 

Reachability condition: For each 
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       ∈
                                       X
                                    , there exists a sequence of configurations 
                                       
                                          
                                             Y
                                          
                                          
                                             0
                                          
                                       
                                       ,
                                       
                                          
                                             Y
                                          
                                          
                                             1
                                          
                                       
                                       ,
                                       .
                                       .
                                       .
                                       ,
                                       
                                          
                                             Y
                                          
                                          
                                             m
                                          
                                       
                                     for some 
                                       m
                                       ≥
                                       0
                                     such that
                                       
                                          •
                                          
                                             
                                                
                                                   
                                                      Y
                                                   
                                                   
                                                      0
                                                   
                                                
                                                =
                                                X
                                             ,


                                             
                                                
                                                   
                                                      Y
                                                   
                                                   
                                                      m
                                                   
                                                
                                                =
                                                
                                                   
                                                      X
                                                   
                                                   
                                                      ′
                                                   
                                                
                                             ,


                                             
                                                
                                                   
                                                      Y
                                                   
                                                   
                                                      t
                                                   
                                                
                                                ∈
                                                X
                                              for each 
                                                0
                                                ≤
                                                t
                                                ≤
                                                m
                                             , and


                                             
                                                d
                                                (
                                                
                                                   
                                                      Y
                                                   
                                                   
                                                      t
                                                   
                                                
                                                ,
                                                
                                                   
                                                      Y
                                                   
                                                   
                                                      t
                                                      +
                                                      1
                                                   
                                                
                                                )
                                                =
                                                1
                                              for each 
                                                0
                                                ≤
                                                t
                                                <
                                                m
                                             .  □

Notice that the reachability condition assumes that processes are asynchronous in a sense that no two processes change their states simultaneously. It is assumed that the initial configuration is some configuration in 
                        X
                     .

It is often the case that the mutual exclusion problem imposes requirements such as deadlock-freeness and starvation-freeness, however, in this paper, we do not consider such requirements and focus only on possible sets of processes that are in critical section.


                     
                        Definition 3
                        For each 
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                           ,
                              
                                 •
                                 
                                    
                                       X
                                       =
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                     iff 
                                       
                                          
                                             I
                                          
                                          
                                             01
                                          
                                       
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       
                                          
                                             I
                                          
                                          
                                             10
                                          
                                       
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       ∅
                                    ,


                                    
                                       X
                                       ≤
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                     iff 
                                       
                                          
                                             I
                                          
                                          
                                             10
                                          
                                       
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       ∅
                                    , and

≠ and < are defined as usual.  □


                     
                        Definition 4
                        For each 
                              X
                              =
                              (
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                              
                              ⋯
                              
                                 
                                    x
                                 
                                 
                                    n
                                 
                              
                              )
                              ∈
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                           ,
                              
                                 
                                    S
                                    (
                                    X
                                    )
                                    
                                       =
                                       def
                                    
                                    
                                       ∑
                                       
                                          i
                                          =
                                          1
                                       
                                       n
                                    
                                    
                                       
                                          x
                                       
                                       
                                          i
                                       
                                    
                                    .
                                 
                              
                             □


                     
                        Definition 5
                        For any pair of integers 
                              〈
                              B
                              ,
                              T
                              〉
                            such that 
                              0
                              ≤
                              B
                              ≤
                              n
                            and 
                              0
                              ≤
                              T
                              ≤
                              n
                           ,
                              
                                 
                                    
                                       
                                          X
                                       
                                       
                                          B
                                          ,
                                          T
                                       
                                    
                                    
                                       =
                                       def
                                    
                                    
                                       {
                                       X
                                       ∈
                                       
                                          
                                             U
                                          
                                          
                                             n
                                          
                                       
                                       |
                                       B
                                       ≤
                                       S
                                       (
                                       X
                                       )
                                       ≤
                                       T
                                       }
                                    
                                    .
                                 
                              
                             □


                     
                        Definition 6
                        
                           
                              
                                 
                                    
                                       
                                          W
                                       
                                       
                                          n
                                       
                                    
                                    
                                       =
                                       def
                                    
                                    
                                       {
                                       〈
                                       B
                                       ,
                                       T
                                       〉
                                       |
                                       0
                                       ≤
                                       B
                                       ≤
                                       T
                                       ≤
                                       n
                                       }
                                    
                                    \
                                    
                                       {
                                       〈
                                       B
                                       ,
                                       T
                                       〉
                                       |
                                       0
                                       <
                                       B
                                       =
                                       T
                                       <
                                       n
                                       }
                                    
                                 
                              
                             □

Notice that 
                        
                           
                              W
                           
                           
                              n
                           
                        
                        =
                        {
                        〈
                        B
                        ,
                        T
                        〉
                        |
                        0
                        ≤
                        B
                        <
                        T
                        ≤
                        n
                        }
                        ∪
                        {
                        〈
                        0
                        ,
                        0
                        〉
                        }
                        ∪
                        {
                        〈
                        n
                        ,
                        n
                        〉
                        }
                      holds.


                     
                        Definition 7
                        For each 
                              X
                              ⊆
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                           ,
                              
                                 
                                    Co-
                                    X
                                    
                                       =
                                       def
                                    
                                    
                                       {
                                       (
                                       
                                          
                                             
                                                x
                                             
                                             
                                                1
                                             
                                          
                                          ¯
                                       
                                       ⋯
                                       
                                          
                                             
                                                x
                                             
                                             
                                                n
                                             
                                          
                                          ¯
                                       
                                       )
                                       |
                                       (
                                       
                                          
                                             x
                                          
                                          
                                             1
                                          
                                       
                                       ⋯
                                       
                                          
                                             x
                                          
                                          
                                             n
                                          
                                       
                                       )
                                       ∈
                                       X
                                       }
                                    
                                    .
                                 
                              
                            
                           
                              Co-
                              X
                            is called the complement of 
                              X
                           .  □

In this section, we show characterization of critical section problem. First let us observe properties of S, d, 
                        
                           
                              I
                           
                           
                              01
                           
                        
                     , 
                        
                           
                              I
                           
                           
                              10
                           
                        
                      and 
                        
                           
                              I
                           
                           
                              11
                           
                        
                     .


                     
                        Lemma 1
                        
                           For each 
                           
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                           
                           ,
                           
                              
                                 •
                                 
                                    
                                       S
                                       (
                                       X
                                       )
                                       =
                                       |
                                       
                                          
                                             I
                                          
                                          
                                             10
                                          
                                       
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       |
                                       +
                                       |
                                       
                                          
                                             I
                                          
                                          
                                             11
                                          
                                       
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       |
                                    
                                    , and
                                 


                                    
                                       S
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       |
                                       
                                          
                                             I
                                          
                                          
                                             01
                                          
                                       
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       |
                                       +
                                       |
                                       
                                          
                                             I
                                          
                                          
                                             11
                                          
                                       
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       |
                                    
                                    .
                                 

Obvious from definitions.  □


                     
                        Lemma 2
                        
                           For each 
                           
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                           
                           , 
                           
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            
                           iff 
                           
                              |
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              =
                              |
                              
                                 
                                    I
                                 
                                 
                                    10
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                           
                           .
                        

By Lemma 1, we have 
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            iff 
                              |
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              +
                              |
                              
                                 
                                    I
                                 
                                 
                                    11
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              =
                              |
                              
                                 
                                    I
                                 
                                 
                                    10
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              +
                              |
                              
                                 
                                    I
                                 
                                 
                                    11
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                           . Hence we have 
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            iff 
                              |
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              =
                              |
                              
                                 
                                    I
                                 
                                 
                                    10
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                           .  □


                     
                        Lemma 3
                        
                           For each 
                           
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                            
                           such that 
                           
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                           
                           , 
                           
                              d
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            
                           is even.
                        

By Lemma 2, 
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            implies that 
                              d
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              =
                              |
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              +
                              |
                              
                                 
                                    I
                                 
                                 
                                    10
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              =
                              2
                              |
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                           . Hence 
                              d
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            is even.  □


                     
                        Lemma 4
                        
                           For each 
                           
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                           
                           , 
                           
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              ∧
                              X
                              ≠
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                            
                           iff 
                           
                              |
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              =
                              |
                              
                                 
                                    I
                                 
                                 
                                    10
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              >
                              0
                           
                           .
                        

Suppose that 
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              ∧
                              X
                              ≠
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                            holds. Then, 
                              |
                              
                                 
                                    I
                                 
                                 
                                    11
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              <
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            holds. By Lemma 1, 
                              |
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              −
                              |
                              
                                 
                                    I
                                 
                                 
                                    11
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              >
                              0
                            holds. By Lemma 2, 
                              |
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              =
                              |
                              
                                 
                                    I
                                 
                                 
                                    10
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                            holds. Hence 
                              |
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              =
                              |
                              
                                 
                                    I
                                 
                                 
                                    10
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              >
                              0
                            holds.

Suppose that 
                              |
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              =
                              |
                              
                                 
                                    I
                                 
                                 
                                    10
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              |
                              >
                              0
                            holds. Then, 
                              X
                              ≠
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                            holds. By Lemma 2, 
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            holds. Hence 
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              ∧
                              X
                              ≠
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                            holds.  □

Next, let us observe basic properties of 
                        X
                     .


                     
                        Lemma 5
                        
                           Let 
                           
                              X
                            
                           be any critical section problem for n processes. For each 
                           
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                            
                           such that 
                           
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                           
                           , 
                           
                              X
                              ∈
                              X
                            
                           iff 
                           
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              X
                           
                           .
                        

The proof is by induction on the value of 
                              d
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                           .


                           Base step: When 
                              d
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              =
                              0
                           , we have 
                              X
                              =
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                           , and 
                              X
                              ∈
                              X
                            iff 
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              X
                           .


                           Induction step: When 
                              d
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              >
                              0
                           , 
                              d
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            is even by Lemma 3. Let 
                              (
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                              
                              ⋯
                              
                                 
                                    x
                                 
                                 
                                    n
                                 
                              
                              )
                              =
                              X
                            and 
                              (
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                                 
                                    ′
                                 
                              
                              ⋯
                              
                                 
                                    x
                                 
                                 
                                    n
                                 
                                 
                                    ′
                                 
                              
                              )
                              =
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                           . By Lemma 4, there exists a (
                              1
                              ≤
                              a
                              ≤
                              n
                           ) and b (
                              1
                              ≤
                              b
                              ≤
                              n
                           ) such that 
                              a
                              ∈
                              
                                 
                                    I
                                 
                                 
                                    01
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            and 
                              b
                              ∈
                              
                                 
                                    I
                                 
                                 
                                    10
                                 
                              
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                           . Let 
                              
                                 
                                    X
                                 
                                 
                                    ″
                                 
                              
                              =
                              (
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                                 
                                    ″
                                 
                              
                              ⋯
                              
                                 
                                    x
                                 
                                 
                                    n
                                 
                                 
                                    ″
                                 
                              
                              )
                           , where
                              
                                 
                                    
                                       
                                          x
                                       
                                       
                                          i
                                       
                                       
                                          ″
                                       
                                    
                                    =
                                    
                                       {
                                       
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      b
                                                   
                                                
                                             
                                             
                                                if 
                                                i
                                                =
                                                a
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      a
                                                   
                                                
                                             
                                             
                                                if 
                                                i
                                                =
                                                b
                                             
                                          
                                          
                                             
                                                
                                                   
                                                      x
                                                   
                                                   
                                                      i
                                                   
                                                
                                             
                                             
                                                otherwise.
                                             
                                          
                                       
                                    
                                 
                              
                            Then, 
                              X
                              ∈
                              X
                            iff 
                              
                                 
                                    X
                                 
                                 
                                    ″
                                 
                              
                              ∈
                              X
                            by the symmetry condition, and 
                              d
                              (
                              
                                 
                                    X
                                 
                                 
                                    ″
                                 
                              
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              =
                              d
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              −
                              2
                            holds. The induction hypothesis applies by letting 
                              X
                              =
                              
                                 
                                    X
                                 
                                 
                                    ″
                                 
                              
                           .  □


                     
                        Lemma 6
                        
                           Let 
                           
                              X
                            
                           be any critical section problem for n processes. Suppose that there exists 
                           
                              X
                              ∈
                              X
                            
                           such that 
                           
                              0
                              <
                              S
                              (
                              X
                              )
                              <
                              n
                           
                           . Then, there exists 
                           
                              Y
                              ∈
                              X
                            
                           such that 
                           
                              S
                              (
                              Y
                              )
                              =
                              S
                              (
                              X
                              )
                              −
                              1
                            
                           or 
                           
                              S
                              (
                              Y
                              )
                              =
                              S
                              (
                              X
                              )
                              +
                              1
                           
                           .
                        

Suppose contrary that there exists no such Y in 
                              X
                           . By Lemma 5, the number of configurations 
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              X
                            such that 
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              =
                              S
                              (
                              X
                              )
                            is 
                              (
                              
                                 
                                    
                                       n
                                    
                                 
                                 
                                    
                                       S
                                       (
                                       X
                                       )
                                    
                                 
                              
                              )
                            including X itself. Because 
                              0
                              <
                              S
                              (
                              X
                              )
                              <
                              n
                            and 
                              n
                              ≥
                              2
                            by assumption, we have 
                              
                                 (
                                 
                                    
                                       
                                          n
                                       
                                    
                                    
                                       
                                          S
                                          (
                                          X
                                          )
                                       
                                    
                                 
                                 )
                              
                              >
                              1
                           . By Lemma 3, there exists no 
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              X
                            such that 
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              =
                              S
                              (
                              X
                              )
                            and 
                              d
                              (
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                              =
                              1
                           . Hence 
                              X
                            does not satisfy the reachability condition; a contradiction.  □

Now we are ready to show the main theorem.


                     
                        Theorem 1
                        
                           There exists a one-to-one mapping from the family of critical section problems to 
                           
                              
                                 
                                    W
                                 
                                 
                                    n
                                 
                              
                           
                           .
                        

For any given critical section problem 
                              X
                           , we define B and T as follows.
                              
                                 
                                    B
                                    =
                                    
                                       min
                                       
                                          X
                                          ∈
                                          X
                                       
                                    
                                    ⁡
                                    
                                       {
                                       S
                                       (
                                       X
                                       )
                                       }
                                    
                                    
                                    T
                                    =
                                    
                                       max
                                       
                                          X
                                          ∈
                                          X
                                       
                                    
                                    ⁡
                                    
                                       {
                                       S
                                       (
                                       X
                                       )
                                       }
                                    
                                 
                              
                            Because 
                              X
                              ≠
                              ∅
                            holds by the non-emptiness condition, B and T are well-defined. It is obvious that 
                              0
                              ≤
                              B
                              ≤
                              T
                              ≤
                              n
                           . When 
                              0
                              <
                              B
                            and 
                              T
                              <
                              n
                           , 
                              B
                              =
                              T
                            does not occur by Lemma 6. Hence 
                              〈
                              B
                              ,
                              T
                              〉
                              ∈
                              
                                 
                                    W
                                 
                                 
                                    n
                                 
                              
                            holds.

Next, conversely, for each 
                              〈
                              B
                              ,
                              T
                              〉
                              ∈
                              
                                 
                                    W
                                 
                                 
                                    n
                                 
                              
                           , we show below that 
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                            is a critical section problem.

The non-emptiness condition is satisfied because 
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                            contains at least one configuration, for example, 
                              
                                 
                                    X
                                 
                                 
                                    B
                                 
                              
                              ∈
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                            such that 
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    B
                                 
                              
                              )
                              =
                              B
                           .

The process symmetry condition is satisfied by construction of 
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                            because 
                              X
                              ∈
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                            iff 
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                            for any 
                              X
                              ,
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              ∈
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                            such that 
                              S
                              (
                              X
                              )
                              =
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                           .

The reachability condition is shown below. When 
                              |
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                              |
                              =
                              1
                           , reachability is trivial. We consider the case 
                              |
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                              |
                              >
                              1
                            below. Let 
                              X
                              =
                              (
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                              
                              ⋯
                              
                                 
                                    x
                                 
                                 
                                    n
                                 
                              
                              )
                            and 
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              =
                              (
                              
                                 
                                    x
                                 
                                 
                                    1
                                 
                                 
                                    ′
                                 
                              
                              ⋯
                              
                                 
                                    x
                                 
                                 
                                    n
                                 
                                 
                                    ′
                                 
                              
                              )
                            be any configurations in 
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                           . Because the relation of reachability is reflexive, we assume 
                              S
                              (
                              X
                              )
                              ≤
                              S
                              (
                              
                                 
                                    X
                                 
                                 
                                    ′
                                 
                              
                              )
                            without loss of generality.


                           
                              
                                 •
                                 Case 1: 
                                       S
                                       (
                                       X
                                       )
                                       =
                                       S
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                    .


                                    Base Step: When 
                                       d
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       0
                                    , we have 
                                       X
                                       =
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                    , and we are done.


                                    Induction Step: When 
                                       d
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       >
                                       0
                                     holds, i.e., 
                                       X
                                       ≠
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                    . When this is the case, 
                                       d
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       ≥
                                       2
                                     holds.


                                    Fig. 1
                                    (a) illustrates X, Y, Z and 
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                    . (We will define Y and Z shortly.) A node represents a configuration in 
                                       
                                          
                                             U
                                          
                                          
                                             n
                                          
                                       
                                    . Nodes are placed from bottom to top by the value of S, and nodes with the same S value are placed at the same horizontal level. An edge between two nodes represents the relation that 
                                       d
                                       =
                                       1
                                    . Only nodes on a white background are configurations in 
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                    .

Because 
                                       |
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                       |
                                       >
                                       1
                                     and 
                                       0
                                       ≤
                                       B
                                       ≤
                                       T
                                       ≤
                                       n
                                    , excluding cases 
                                       0
                                       <
                                       B
                                       =
                                       T
                                       <
                                       n
                                    , by assumption, the values of B and T take 
                                       0
                                       ≤
                                       B
                                       <
                                       T
                                       ≤
                                       n
                                    . Hence there exists 
                                       
                                          
                                             Y
                                          
                                          
                                             ′
                                          
                                       
                                       ∈
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                     such that 
                                       S
                                       (
                                       
                                          
                                             Y
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       S
                                       (
                                       X
                                       )
                                       −
                                       1
                                     or 
                                       S
                                       (
                                       
                                          
                                             Y
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       S
                                       (
                                       X
                                       )
                                       +
                                       1
                                    . Below, we assume the case 
                                       S
                                       (
                                       
                                          
                                             Y
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       S
                                       (
                                       X
                                       )
                                       −
                                       1
                                    , however, a similar discussion applies for the case 
                                       S
                                       (
                                       
                                          
                                             Y
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       S
                                       (
                                       X
                                       )
                                       +
                                       1
                                    . By construction of 
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                    , 
                                       
                                          
                                             Y
                                          
                                          
                                             ″
                                          
                                       
                                       ∈
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                     holds for any 
                                       
                                          
                                             Y
                                          
                                          
                                             ″
                                          
                                       
                                     such that 
                                       S
                                       (
                                       
                                          
                                             Y
                                          
                                          
                                             ″
                                          
                                       
                                       )
                                       =
                                       S
                                       (
                                       
                                          
                                             Y
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                    , and 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       ∈
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                     holds for any 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                     such that 
                                       S
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       )
                                       =
                                       S
                                       (
                                       X
                                       )
                                    .

By Lemma 4, there exists a (
                                       1
                                       ≤
                                       a
                                       ≤
                                       n
                                    ) such that 
                                       a
                                       ∈
                                       
                                          
                                             I
                                          
                                          
                                             10
                                          
                                       
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                    . Let 
                                       Y
                                       =
                                       (
                                       
                                          
                                             y
                                          
                                          
                                             1
                                          
                                       
                                       ⋯
                                       
                                          
                                             y
                                          
                                          
                                             n
                                          
                                       
                                       )
                                    , where
                                       
                                          
                                             
                                                
                                                   y
                                                
                                                
                                                   i
                                                
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         0
                                                      
                                                      
                                                         if 
                                                         i
                                                         =
                                                         a
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                      
                                                      
                                                         otherwise.
                                                      
                                                   
                                                
                                             
                                          
                                       
                                     Then, 
                                       S
                                       (
                                       Y
                                       )
                                       =
                                       S
                                       (
                                       X
                                       )
                                       −
                                       1
                                    , 
                                       Y
                                       ∈
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                     and 
                                       d
                                       (
                                       X
                                       ,
                                       Y
                                       )
                                       =
                                       1
                                     hold.

By Lemma 4, there exists b (
                                       1
                                       ≤
                                       b
                                       ≤
                                       n
                                    ) such that 
                                       b
                                       ∈
                                       
                                          
                                             I
                                          
                                          
                                             01
                                          
                                       
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                    . Let 
                                       Z
                                       =
                                       (
                                       
                                          
                                             z
                                          
                                          
                                             1
                                          
                                       
                                       ⋯
                                       
                                          
                                             z
                                          
                                          
                                             n
                                          
                                       
                                       )
                                    , where
                                       
                                          
                                             
                                                
                                                   z
                                                
                                                
                                                   i
                                                
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         0
                                                      
                                                      
                                                         if 
                                                         i
                                                         =
                                                         a
                                                      
                                                   
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         if 
                                                         i
                                                         =
                                                         b
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               i
                                                            
                                                         
                                                      
                                                      
                                                         otherwise.
                                                      
                                                   
                                                
                                             
                                          
                                       
                                     Recall that 
                                       
                                          
                                             x
                                          
                                          
                                             a
                                          
                                       
                                       =
                                       1
                                     and 
                                       
                                          
                                             x
                                          
                                          
                                             b
                                          
                                       
                                       =
                                       0
                                    . Thus, 
                                       S
                                       (
                                       Z
                                       )
                                       =
                                       S
                                       (
                                       X
                                       )
                                    , 
                                       Z
                                       ∈
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                    , 
                                       d
                                       (
                                       Y
                                       ,
                                       Z
                                       )
                                       =
                                       1
                                     and 
                                       d
                                       (
                                       Z
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       d
                                       (
                                       X
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       −
                                       2
                                     hold. The induction hypothesis applies by letting 
                                       X
                                       =
                                       Z
                                    .

Case 2: 
                                       S
                                       (
                                       X
                                       )
                                       <
                                       S
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                    .

Let 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       =
                                       (
                                       
                                          
                                             x
                                          
                                          
                                             1
                                          
                                          
                                             ″
                                          
                                       
                                       ⋯
                                       
                                          
                                             x
                                          
                                          
                                             n
                                          
                                          
                                             ″
                                          
                                       
                                       )
                                     be any configuration such that 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       ≤
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                     and 
                                       S
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       )
                                       =
                                       S
                                       (
                                       X
                                       )
                                    . Then, 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       ∈
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                     holds because 
                                       B
                                       ≤
                                       S
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       )
                                       ≤
                                       T
                                     holds. By the proof of Case 1, 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                     is reachable from X via configurations in 
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                    . Hence we are left to show reachability from 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                     to 
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                    .


                                    Base Step: When 
                                       d
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       0
                                    , we have 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       =
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                    , and we are done.


                                    Induction Step: When 
                                       d
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       >
                                       0
                                    , i.e., 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       <
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                    . Fig. 1(b) illustrates X, 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                    , Y and 
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                    . (We will define Y shortly.)

Because 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       <
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                     holds by assumption, there exists c (
                                       1
                                       ≤
                                       c
                                       ≤
                                       n
                                    ) such that 
                                       
                                          
                                             x
                                          
                                          
                                             c
                                          
                                          
                                             ″
                                          
                                       
                                       =
                                       0
                                       ∧
                                       
                                          
                                             x
                                          
                                          
                                             c
                                          
                                          
                                             ′
                                          
                                       
                                       =
                                       1
                                    . Let 
                                       Y
                                       =
                                       (
                                       
                                          
                                             y
                                          
                                          
                                             1
                                          
                                       
                                       ⋯
                                       
                                          
                                             y
                                          
                                          
                                             n
                                          
                                       
                                       )
                                    , where
                                       
                                          
                                             
                                                
                                                   y
                                                
                                                
                                                   i
                                                
                                             
                                             =
                                             
                                                {
                                                
                                                   
                                                      
                                                         1
                                                      
                                                      
                                                         if 
                                                         i
                                                         =
                                                         c
                                                      
                                                   
                                                   
                                                      
                                                         
                                                            
                                                               x
                                                            
                                                            
                                                               i
                                                            
                                                            
                                                               ″
                                                            
                                                         
                                                      
                                                      
                                                         otherwise.
                                                      
                                                   
                                                
                                             
                                          
                                       
                                     Then, 
                                       Y
                                       ∈
                                       
                                          
                                             X
                                          
                                          
                                             B
                                             ,
                                             T
                                          
                                       
                                     holds because 
                                       B
                                       ≤
                                       S
                                       (
                                       Y
                                       )
                                       ≤
                                       T
                                     holds. Furthermore, 
                                       Y
                                       ≤
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                    , 
                                       d
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       ,
                                       Y
                                       )
                                       =
                                       1
                                     and 
                                       d
                                       (
                                       Y
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       =
                                       d
                                       (
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       ,
                                       
                                          
                                             X
                                          
                                          
                                             ′
                                          
                                       
                                       )
                                       −
                                       1
                                     hold. The induction hypothesis applies by letting 
                                       
                                          
                                             X
                                          
                                          
                                             ″
                                          
                                       
                                       =
                                       Y
                                    .


                     
                        
                           
                              X
                           
                           
                              B
                              ,
                              T
                           
                        
                      (
                        0
                        ≤
                        B
                        ≤
                        n
                        ,
                        0
                        ≤
                        T
                        ≤
                        n
                     ) is categorized as follows.
                        
                           1.
                           Trivial critical section problem
                                 
                                    •
                                    
                                       
                                          
                                             
                                                X
                                             
                                             
                                                0
                                                ,
                                                0
                                             
                                          
                                        is trivial because each process definitely stays the same state 0, i.e., “out-of-critical-section”. We call this problem as the trivially out-bound critical section problem.


                                       
                                          
                                             
                                                X
                                             
                                             
                                                n
                                                ,
                                                n
                                             
                                          
                                        is trivial because each process definitely stays the same state 1, i.e., “in-critical-section”. We call this problem as the trivially in-bound critical section problem.


                                       
                                          
                                             
                                                X
                                             
                                             
                                                0
                                                ,
                                                n
                                             
                                          
                                        is trivial because each process may change its state regardless of the states of other processes. We call this problem as the trivially free critical section problem.

Nontrivial critical section problem
                                 
                                    •
                                    
                                       
                                          
                                             
                                                X
                                             
                                             
                                                0
                                                ,
                                                k
                                             
                                          
                                        is the k-mutual exclusion problem, where 
                                          1
                                          ≤
                                          k
                                          <
                                          n
                                       . When 
                                          k
                                          =
                                          1
                                       , the problem is the mutual exclusion problem.


                                       
                                          
                                             
                                                X
                                             
                                             
                                                ℓ
                                                ,
                                                n
                                             
                                          
                                        is the ℓ-mutual inclusion problem, where 
                                          1
                                          ≤
                                          ℓ
                                          <
                                          n
                                       . When 
                                          ℓ
                                          =
                                          1
                                       , the problem is the mutual inclusion problem.


                                       
                                          
                                             
                                                X
                                             
                                             
                                                ℓ
                                                ,
                                                k
                                             
                                          
                                        is a new problem discovered by this paper, where 
                                          0
                                          <
                                          ℓ
                                          <
                                          k
                                          <
                                          n
                                       . We call this problem as the 
                                          (
                                          ℓ
                                          ,
                                          k
                                          )
                                       -mutual inclusion-exclusion problem.

Non-critical section problem
                                 
                                    •
                                    
                                       
                                          
                                             
                                                X
                                             
                                             
                                                B
                                                ,
                                                T
                                             
                                          
                                       , where 
                                          B
                                          >
                                          T
                                       , is not a critical section problem because it is an empty set, and hence it does not satisfy the non-emptiness condition.


                                       
                                          
                                             
                                                X
                                             
                                             
                                                B
                                                ,
                                                T
                                             
                                          
                                       , where 
                                          0
                                          <
                                          B
                                          =
                                          T
                                          <
                                          n
                                       , is not a critical section problem because, despite it is not an empty set, it does not satisfy the reachability condition by Lemma 6. Notice that 
                                          |
                                          
                                             
                                                X
                                             
                                             
                                                s
                                                ,
                                                s
                                             
                                          
                                          |
                                          >
                                          1
                                        holds for each 
                                          0
                                          <
                                          s
                                          <
                                          n
                                       , however, 
                                          |
                                          
                                             
                                                X
                                             
                                             
                                                0
                                                ,
                                                0
                                             
                                          
                                          |
                                          =
                                          |
                                          
                                             
                                                X
                                             
                                             
                                                n
                                                ,
                                                n
                                             
                                          
                                          |
                                          =
                                          1
                                        holds and hence the reachability condition is trivially satisfied for 
                                          
                                             
                                                X
                                             
                                             
                                                0
                                                ,
                                                0
                                             
                                          
                                        and 
                                          
                                             
                                                X
                                             
                                             
                                                n
                                                ,
                                                n
                                             
                                          
                                       .

The taxonomy of critical section problem is illustrated in Fig. 2
                     , in which each grid point 
                        (
                        B
                        ,
                        T
                        )
                      corresponds to 
                        
                           
                              X
                           
                           
                              B
                              ,
                              T
                           
                        
                     . Each white grid point (there are six categories) is a critical section problem, however, each shaded grid point (there are two categories) is not a critical section problem.

In this section, we show that the family of critical section problems is closed under the complement operation. It is shown in [3] that k-mutual exclusion algorithm and 
                        (
                        n
                        −
                        k
                        )
                     -mutual inclusion algorithm are interchangeable by swapping “in-critical-section” state and “out-of-critical-section” state. This fact is rephrased in our framework below.


                     
                        Proposition 1
                        
                           (See 
                           
                              [3]
                           
                           .) For each 
                           
                              X
                              ⊆
                              
                                 
                                    U
                                 
                                 
                                    n
                                 
                              
                           
                           , 
                           
                              X
                              =
                              
                                 Co-
                              
                              
                                 Co-
                              
                              X
                            
                           holds. For each k (
                           
                              0
                              ≤
                              k
                              ≤
                              n
                           
                           ), 
                           
                              
                                 
                                    X
                                 
                                 
                                    0
                                    ,
                                    k
                                 
                              
                              =
                              
                                 Co-
                              
                              
                                 
                                    X
                                 
                                 
                                    n
                                    −
                                    k
                                    ,
                                    n
                                 
                              
                            
                           holds. For each ℓ (
                           
                              0
                              ≤
                              ℓ
                              ≤
                              n
                           
                           ), 
                           
                              
                                 
                                    X
                                 
                                 
                                    ℓ
                                    ,
                                    n
                                 
                              
                              =
                              
                                 Co-
                              
                              
                                 
                                    X
                                 
                                 
                                    0
                                    ,
                                    n
                                    −
                                    ℓ
                                 
                              
                            
                           holds.  □

Generalized result is shown below.


                     
                        Theorem 2
                        
                           For each B (
                           
                              0
                              ≤
                              B
                              ≤
                              n
                           
                           ) and T (
                           
                              0
                              ≤
                              T
                              ≤
                              n
                           
                           ), 
                           
                              
                                 Co-
                              
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                              =
                              
                                 
                                    X
                                 
                                 
                                    n
                                    −
                                    T
                                    ,
                                    n
                                    −
                                    B
                                 
                              
                            
                           holds.
                        


                           
                              
                                 
                                    Co-
                                    
                                       
                                          X
                                       
                                       
                                          B
                                          ,
                                          T
                                       
                                    
                                    =
                                    
                                       {
                                       (
                                       
                                          
                                             
                                                x
                                             
                                             
                                                1
                                             
                                          
                                          ¯
                                       
                                       ⋯
                                       
                                          
                                             
                                                x
                                             
                                             
                                                n
                                             
                                          
                                          ¯
                                       
                                       )
                                       |
                                       B
                                       ≤
                                       S
                                       (
                                       
                                          
                                             x
                                          
                                          
                                             1
                                          
                                       
                                       ⋯
                                       
                                          
                                             x
                                          
                                          
                                             n
                                          
                                       
                                       )
                                       ≤
                                       T
                                       }
                                    
                                    =
                                    
                                       {
                                       (
                                       
                                          
                                             x
                                          
                                          
                                             1
                                          
                                       
                                       ⋯
                                       
                                          
                                             x
                                          
                                          
                                             n
                                          
                                       
                                       )
                                       |
                                       n
                                       −
                                       B
                                       ≥
                                       S
                                       (
                                       
                                          
                                             x
                                          
                                          
                                             1
                                          
                                       
                                       ⋯
                                       
                                          
                                             x
                                          
                                          
                                             n
                                          
                                       
                                       )
                                       ≥
                                       n
                                       −
                                       T
                                       }
                                    
                                    =
                                    
                                       
                                          X
                                       
                                       
                                          n
                                          −
                                          T
                                          ,
                                          n
                                          −
                                          B
                                       
                                    
                                 
                              
                             □


                     
                        Theorem 3
                        
                           The family of critical section problems is closed under the complement operation.
                        

By Theorem 1, 
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                            is a critical section problem iff 
                              〈
                              B
                              ,
                              T
                              〉
                              ∈
                              
                                 
                                    W
                                 
                                 
                                    n
                                 
                              
                           . We show below that, for each 
                              〈
                              B
                              ,
                              T
                              〉
                              ∈
                              
                                 
                                    W
                                 
                                 
                                    n
                                 
                              
                           , 
                              Co-
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                            is a critical section problem. Because 
                              Co-
                              
                                 
                                    X
                                 
                                 
                                    B
                                    ,
                                    T
                                 
                              
                              =
                              
                                 
                                    X
                                 
                                 
                                    n
                                    −
                                    T
                                    ,
                                    n
                                    −
                                    B
                                 
                              
                            holds by Theorem 2, it is enough to show that 
                              〈
                              n
                              −
                              T
                              ,
                              n
                              −
                              B
                              〉
                              ∈
                              
                                 
                                    W
                                 
                                 
                                    n
                                 
                              
                            holds.

Because 
                              0
                              ≤
                              B
                              ≤
                              T
                              ≤
                              n
                            holds by assumption, 
                              n
                              ≥
                              n
                              −
                              B
                              ≥
                              n
                              −
                              T
                              ≥
                              0
                            holds. Because 
                              0
                              <
                              B
                              =
                              T
                              <
                              n
                            never holds by assumption, 
                              n
                              >
                              n
                              −
                              B
                              =
                              n
                              −
                              T
                              >
                              0
                            never holds. Hence 
                              〈
                              n
                              −
                              T
                              ,
                              n
                              −
                              B
                              〉
                              ∈
                              
                                 
                                    W
                                 
                                 
                                    n
                                 
                              
                            holds.  □

@&#CONCLUSION@&#

In this paper, we introduced a concept of critical section problem which is a unified framework of mutual exclusion, mutual inclusion, and such. Then, we showed that critical section problem is characterized by a pair of integers. We also showed that the family of critical section problems is closed used the complement operation.

By the unified framework, we discovered a new problem called the 
                        (
                        ℓ
                        ,
                        k
                        )
                     -mutual inclusion-exclusion problem. It is interesting not only theoretically but also practically. It is a formulation of the following control problem. An example is the dynamic invocation of servers for load balancing. Minimum number 
                        (
                        =
                        ℓ
                        )
                      of servers are always invoked for quick response to requests. The number of servers is dynamically changed by system load; more the load, more the number of servers. However, total number 
                        (
                        =
                        k
                        )
                      of servers is limited by available resource.

@&#REFERENCES@&#

